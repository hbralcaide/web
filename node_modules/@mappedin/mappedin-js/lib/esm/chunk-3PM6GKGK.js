import{$ as M6,$a as K6,A as b6,Aa as N6,Ab as Vs,B as Gu,Ba as $6,Bb as Gh,C as v6,Cb as Db,D as x6,Da as Lh,Db as hE,E as sb,Ea as Rh,Eb as gE,F as Vi,Fa as j6,Fb as Oc,G as Ph,Ga as U6,Gb as Tb,H as La,Ha as G6,Hb as zh,I as zu,Ia as z6,Ib as yE,J as I6,Ja as V6,Jb as wb,K as E6,Ka as bb,Kb as bE,L as C6,La as H6,Lb as vE,M as S6,Ma as Z6,Mb as xE,N as pm,Na as wc,Nb as IE,O as On,Oa as W6,Ob as EE,P as D6,Pa as X6,Pb as CE,Q as ub,Qa as Nh,Qb as SE,R as Hi,Ra as vb,Rb as Zi,S as T6,Sa as J6,Sb as DE,T as Cc,Ta as hm,Tb as Ht,U as kh,Ua as Fc,Ub as TE,V as Sc,Va as $h,Vb as wE,W as dm,Wa as Mc,Wb as Wi,X as w6,Xa as Ac,Xb as FE,Y as lb,Ya as Y6,Yb as sr,Z as cb,Za as xb,Zb as ei,_ as F6,_b as br,aa as A6,ab as q6,ba as Ra,bb as Q6,c as R,ca as l8,cb as jh,d as Mr,da as pb,db as eE,e as WI,ea as O6,eb as tE,f as nb,fa as Na,fb as rE,g as Gi,ga as B6,gb as nE,h as d6,ha as P6,hb as oE,i as Oh,ia as k6,ib as gm,j as m6,ja as db,jb as Vu,k as zi,ka as _6,kb as iE,l as f6,la as mb,lb as Xn,m as Uu,ma as zs,mb as aE,n as lm,na as ft,nb as sE,o as h6,oa as _h,ob as uE,p as go,pa as mm,pb as Ib,q as ib,qa as fb,qb as lE,r as Ec,ra as yo,rb as Eb,s as It,sa as hb,sb as Cb,t as Bh,ta as gb,tb as Uh,u as Oe,ua as yb,ub as cE,v as _a,va as L6,vb as pE,w as cm,wa as Dc,wb as dE,x as ab,xa as R6,xb as mE,y as g6,ya as Tc,yb as Sb,z as y6,za as fm,zb as fE}from"./chunk-UOCWYBVK.js";import{a as bo}from"./chunk-MLCPE7I2.js";import{$a as Ah,B as yh,D as bh,Da as i6,E as js,Ea as vc,F as vh,Fa as a6,G as xh,Ga as xc,H as Ih,Ha as Ic,I as Eh,Ia as Qo,Ja as Fh,K as KI,Ka as s6,L as Je,La as sm,M as ke,Na as um,Q as qI,R as QI,S as e6,T as Ch,U as ie,V as mr,W as t6,X as Wn,Xa as Mh,Y as bc,Z as ju,_ as ar,a as p,aa as yr,ab as u6,b as y,ba as dn,ca as Sh,d as gh,da as Pe,e as $u,ea as qo,eb as l6,f as om,g as ka,ga as Us,gb as Ui,h as XI,ha as r6,i as im,ia as ob,ib as c6,ja as Dh,ka as Gs,kb as p6,r as JI,sa as ji,t as YI,ta as n6,ua as Th,va as wh,wa as o6,ya as am}from"./chunk-3U5JJXJA.js";import{b as Nu,c as $s,d as rb,e as m,f as a,g as C,h as T,i as z}from"./chunk-ROCNZJLL.js";var BT=Nu((U3,G3)=>{p();(function(e,r){typeof U3=="object"&&typeof G3<"u"?G3.exports=r():typeof define=="function"&&define.amd?define(r):(e=e||self,e.TinyQueue=r())})(U3,function(){"use strict";var e=function(n,o){if(n===void 0&&(n=[]),o===void 0&&(o=r),this.data=n,this.length=this.data.length,this.compare=o,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)};e.prototype.push=function(n){this.data.push(n),this.length++,this._up(this.length-1)},e.prototype.pop=function(){if(this.length!==0){var n=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),n}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(n){for(var o=this,i=o.data,s=o.compare,u=i[n];n>0;){var l=n-1>>1,c=i[l];if(s(u,c)>=0)break;i[n]=c,n=l}i[n]=u},e.prototype._down=function(n){for(var o=this,i=o.data,s=o.compare,u=this.length>>1,l=i[n];n<u;){var c=(n<<1)+1,d=i[c],f=c+1;if(f<this.length&&s(i[f],d)<0&&(c=f,d=i[f]),s(d,l)>=0)break;i[n]=d,n=c}i[n]=l};function r(t,n){return t<n?-1:t>n?1:0}return e})});var kT=Nu((Z1e,z3)=>{"use strict";p();var Ty=BT();Ty.default&&(Ty=Ty.default);z3.exports=PT;z3.exports.default=PT;function PT(e,r,t){r=r||1;for(var n,o,i,s,u=0;u<e[0].length;u++){var l=e[0][u];(!u||l[0]<n)&&(n=l[0]),(!u||l[1]<o)&&(o=l[1]),(!u||l[0]>i)&&(i=l[0]),(!u||l[1]>s)&&(s=l[1])}var c=i-n,d=s-o,f=Math.min(c,d),h=f/2;if(f===0){var b=[n,o];return b.distance=0,b}for(var I=new Ty(void 0,aU),E=n;E<i;E+=f)for(var v=o;v<s;v+=f)I.push(new nu(E+h,v+h,h,e));var x=uU(e),D=new nu(n+c/2,o+d/2,0,e);D.d>x.d&&(x=D);for(var w=I.length;I.length;){var S=I.pop();S.d>x.d&&(x=S,t&&console.log("found best %d after %d probes",Math.round(1e4*S.d)/1e4,w)),!(S.max-x.d<=r)&&(h=S.h/2,I.push(new nu(S.x-h,S.y-h,h,e)),I.push(new nu(S.x+h,S.y-h,h,e)),I.push(new nu(S.x-h,S.y+h,h,e)),I.push(new nu(S.x+h,S.y+h,h,e)),w+=4)}t&&(console.log("num probes: "+w),console.log("best distance: "+x.d));var F=[x.x,x.y];return F.distance=x.d,F}function aU(e,r){return r.max-e.max}function nu(e,r,t,n){this.x=e,this.y=r,this.h=t,this.d=sU(e,r,n),this.max=this.d+this.h*Math.SQRT2}function sU(e,r,t){for(var n=!1,o=1/0,i=0;i<t.length;i++)for(var s=t[i],u=0,l=s.length,c=l-1;u<l;c=u++){var d=s[u],f=s[c];d[1]>r!=f[1]>r&&e<(f[0]-d[0])*(r-d[1])/(f[1]-d[1])+d[0]&&(n=!n),o=Math.min(o,lU(e,r,d,f))}return o===0?0:(n?1:-1)*Math.sqrt(o)}function uU(e){for(var r=0,t=0,n=0,o=e[0],i=0,s=o.length,u=s-1;i<s;u=i++){var l=o[i],c=o[u],d=l[0]*c[1]-c[0]*l[1];t+=(l[0]+c[0])*d,n+=(l[1]+c[1])*d,r+=d*3}return r===0?new nu(o[0][0],o[0][1],0,e):new nu(t/r,n/r,0,e)}function lU(e,r,t,n){var o=t[0],i=t[1],s=n[0]-o,u=n[1]-i;if(s!==0||u!==0){var l=((e-o)*s+(r-i)*u)/(s*s+u*u);l>1?(o=n[0],i=n[1]):l>0&&(o+=s*l,i+=u*l)}return s=e-o,u=r-i,s*s+u*u}});var dw=Nu((sx,ux)=>{p();(function(e,r){typeof sx=="object"&&typeof ux<"u"?ux.exports=r():typeof define=="function"&&define.amd?define(r):(e=e||self).RBush=r()})(sx,function(){"use strict";function e(v,x,D,w,S){(function F(P,L,N,$,W){for(;$>N;){if($-N>600){var V=$-N+1,q=L-N+1,se=Math.log(V),ue=.5*Math.exp(2*se/3),ce=.5*Math.sqrt(se*ue*(V-ue)/V)*(q-V/2<0?-1:1),de=Math.max(N,Math.floor(L-q*ue/V+ce)),Ee=Math.min($,Math.floor(L+(V-q)*ue/V+ce));F(P,L,de,Ee,W)}var he=P[L],ne=N,Ce=$;for(r(P,N,L),W(P[$],he)>0&&r(P,N,$);ne<Ce;){for(r(P,ne,Ce),ne++,Ce--;W(P[ne],he)<0;)ne++;for(;W(P[Ce],he)>0;)Ce--}W(P[N],he)===0?r(P,N,Ce):r(P,++Ce,$),Ce<=L&&(N=Ce+1),L<=Ce&&($=Ce-1)}})(v,x,D||0,w||v.length-1,S||t)}function r(v,x,D){var w=v[x];v[x]=v[D],v[D]=w}function t(v,x){return v<x?-1:v>x?1:0}var n=function(v){v===void 0&&(v=9),this._maxEntries=Math.max(4,v),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(v,x,D){if(!D)return x.indexOf(v);for(var w=0;w<x.length;w++)if(D(v,x[w]))return w;return-1}function i(v,x){s(v,0,v.children.length,x,v)}function s(v,x,D,w,S){S||(S=I(null)),S.minX=1/0,S.minY=1/0,S.maxX=-1/0,S.maxY=-1/0;for(var F=x;F<D;F++){var P=v.children[F];u(S,v.leaf?w(P):P)}return S}function u(v,x){return v.minX=Math.min(v.minX,x.minX),v.minY=Math.min(v.minY,x.minY),v.maxX=Math.max(v.maxX,x.maxX),v.maxY=Math.max(v.maxY,x.maxY),v}function l(v,x){return v.minX-x.minX}function c(v,x){return v.minY-x.minY}function d(v){return(v.maxX-v.minX)*(v.maxY-v.minY)}function f(v){return v.maxX-v.minX+(v.maxY-v.minY)}function h(v,x){return v.minX<=x.minX&&v.minY<=x.minY&&x.maxX<=v.maxX&&x.maxY<=v.maxY}function b(v,x){return x.minX<=v.maxX&&x.minY<=v.maxY&&x.maxX>=v.minX&&x.maxY>=v.minY}function I(v){return{children:v,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(v,x,D,w,S){for(var F=[x,D];F.length;)if(!((D=F.pop())-(x=F.pop())<=w)){var P=x+Math.ceil((D-x)/w/2)*w;e(v,P,x,D,S),F.push(x,P,P,D)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(v){var x=this.data,D=[];if(!b(v,x))return D;for(var w=this.toBBox,S=[];x;){for(var F=0;F<x.children.length;F++){var P=x.children[F],L=x.leaf?w(P):P;b(v,L)&&(x.leaf?D.push(P):h(v,L)?this._all(P,D):S.push(P))}x=S.pop()}return D},n.prototype.collides=function(v){var x=this.data;if(!b(v,x))return!1;for(var D=[];x;){for(var w=0;w<x.children.length;w++){var S=x.children[w],F=x.leaf?this.toBBox(S):S;if(b(v,F)){if(x.leaf||h(v,F))return!0;D.push(S)}}x=D.pop()}return!1},n.prototype.load=function(v){if(!v||!v.length)return this;if(v.length<this._minEntries){for(var x=0;x<v.length;x++)this.insert(v[x]);return this}var D=this._build(v.slice(),0,v.length-1,0);if(this.data.children.length)if(this.data.height===D.height)this._splitRoot(this.data,D);else{if(this.data.height<D.height){var w=this.data;this.data=D,D=w}this._insert(D,this.data.height-D.height-1,!0)}else this.data=D;return this},n.prototype.insert=function(v){return v&&this._insert(v,this.data.height-1),this},n.prototype.clear=function(){return this.data=I([]),this},n.prototype.remove=function(v,x){if(!v)return this;for(var D,w,S,F=this.data,P=this.toBBox(v),L=[],N=[];F||L.length;){if(F||(F=L.pop(),w=L[L.length-1],D=N.pop(),S=!0),F.leaf){var $=o(v,F.children,x);if($!==-1)return F.children.splice($,1),L.push(F),this._condense(L),this}S||F.leaf||!h(F,P)?w?(D++,F=w.children[D],S=!1):F=null:(L.push(F),N.push(D),D=0,w=F,F=F.children[0])}return this},n.prototype.toBBox=function(v){return v},n.prototype.compareMinX=function(v,x){return v.minX-x.minX},n.prototype.compareMinY=function(v,x){return v.minY-x.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(v){return this.data=v,this},n.prototype._all=function(v,x){for(var D=[];v;)v.leaf?x.push.apply(x,v.children):D.push.apply(D,v.children),v=D.pop();return x},n.prototype._build=function(v,x,D,w){var S,F=D-x+1,P=this._maxEntries;if(F<=P)return i(S=I(v.slice(x,D+1)),this.toBBox),S;w||(w=Math.ceil(Math.log(F)/Math.log(P)),P=Math.ceil(F/Math.pow(P,w-1))),(S=I([])).leaf=!1,S.height=w;var L=Math.ceil(F/P),N=L*Math.ceil(Math.sqrt(P));E(v,x,D,N,this.compareMinX);for(var $=x;$<=D;$+=N){var W=Math.min($+N-1,D);E(v,$,W,L,this.compareMinY);for(var V=$;V<=W;V+=L){var q=Math.min(V+L-1,W);S.children.push(this._build(v,V,q,w-1))}}return i(S,this.toBBox),S},n.prototype._chooseSubtree=function(v,x,D,w){for(;w.push(x),!x.leaf&&w.length-1!==D;){for(var S=1/0,F=1/0,P=void 0,L=0;L<x.children.length;L++){var N=x.children[L],$=d(N),W=(V=v,q=N,(Math.max(q.maxX,V.maxX)-Math.min(q.minX,V.minX))*(Math.max(q.maxY,V.maxY)-Math.min(q.minY,V.minY))-$);W<F?(F=W,S=$<S?$:S,P=N):W===F&&$<S&&(S=$,P=N)}x=P||x.children[0]}var V,q;return x},n.prototype._insert=function(v,x,D){var w=D?v:this.toBBox(v),S=[],F=this._chooseSubtree(w,this.data,x,S);for(F.children.push(v),u(F,w);x>=0&&S[x].children.length>this._maxEntries;)this._split(S,x),x--;this._adjustParentBBoxes(w,S,x)},n.prototype._split=function(v,x){var D=v[x],w=D.children.length,S=this._minEntries;this._chooseSplitAxis(D,S,w);var F=this._chooseSplitIndex(D,S,w),P=I(D.children.splice(F,D.children.length-F));P.height=D.height,P.leaf=D.leaf,i(D,this.toBBox),i(P,this.toBBox),x?v[x-1].children.push(P):this._splitRoot(D,P)},n.prototype._splitRoot=function(v,x){this.data=I([v,x]),this.data.height=v.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(v,x,D){for(var w,S,F,P,L,N,$,W=1/0,V=1/0,q=x;q<=D-x;q++){var se=s(v,0,q,this.toBBox),ue=s(v,q,D,this.toBBox),ce=(S=se,F=ue,P=void 0,L=void 0,N=void 0,$=void 0,P=Math.max(S.minX,F.minX),L=Math.max(S.minY,F.minY),N=Math.min(S.maxX,F.maxX),$=Math.min(S.maxY,F.maxY),Math.max(0,N-P)*Math.max(0,$-L)),de=d(se)+d(ue);ce<W?(W=ce,w=q,V=de<V?de:V):ce===W&&de<V&&(V=de,w=q)}return w||D-x},n.prototype._chooseSplitAxis=function(v,x,D){var w=v.leaf?this.compareMinX:l,S=v.leaf?this.compareMinY:c;this._allDistMargin(v,x,D,w)<this._allDistMargin(v,x,D,S)&&v.children.sort(w)},n.prototype._allDistMargin=function(v,x,D,w){v.children.sort(w);for(var S=this.toBBox,F=s(v,0,x,S),P=s(v,D-x,D,S),L=f(F)+f(P),N=x;N<D-x;N++){var $=v.children[N];u(F,v.leaf?S($):$),L+=f(F)}for(var W=D-x-1;W>=x;W--){var V=v.children[W];u(P,v.leaf?S(V):V),L+=f(P)}return L},n.prototype._adjustParentBBoxes=function(v,x,D){for(var w=D;w>=0;w--)u(x[w],v)},n.prototype._condense=function(v){for(var x=v.length-1,D=void 0;x>=0;x--)v[x].children.length===0?x>0?(D=v[x-1].children).splice(D.indexOf(v[x]),1):this.clear():i(v[x],this.toBBox)},n})});var mx=Nu(De=>{"use strict";p();Object.defineProperty(De,"__esModule",{value:!0});De.earthRadius=63710088e-1;De.factors={centimeters:De.earthRadius*100,centimetres:De.earthRadius*100,degrees:De.earthRadius/111325,feet:De.earthRadius*3.28084,inches:De.earthRadius*39.37,kilometers:De.earthRadius/1e3,kilometres:De.earthRadius/1e3,meters:De.earthRadius,metres:De.earthRadius,miles:De.earthRadius/1609.344,millimeters:De.earthRadius*1e3,millimetres:De.earthRadius*1e3,nauticalmiles:De.earthRadius/1852,radians:1,yards:De.earthRadius*1.0936};De.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/De.earthRadius,yards:1.0936133};De.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function au(e,r,t){t===void 0&&(t={});var n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=r||{},n.geometry=e,n}De.feature=au;function hG(e,r,t){switch(t===void 0&&(t={}),e){case"Point":return lx(r).geometry;case"LineString":return px(r).geometry;case"Polygon":return cx(r).geometry;case"MultiPoint":return fw(r).geometry;case"MultiLineString":return mw(r).geometry;case"MultiPolygon":return hw(r).geometry;default:throw new Error(e+" is invalid")}}De.geometry=hG;function lx(e,r,t){if(t===void 0&&(t={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Py(e[0])||!Py(e[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:e};return au(n,r,t)}De.point=lx;function gG(e,r,t){return t===void 0&&(t={}),ky(e.map(function(n){return lx(n,r)}),t)}De.points=gG;function cx(e,r,t){t===void 0&&(t={});for(var n=0,o=e;n<o.length;n++){var i=o[n];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<i[i.length-1].length;s++)if(i[i.length-1][s]!==i[0][s])throw new Error("First and last Position are not equivalent.")}var u={type:"Polygon",coordinates:e};return au(u,r,t)}De.polygon=cx;function yG(e,r,t){return t===void 0&&(t={}),ky(e.map(function(n){return cx(n,r)}),t)}De.polygons=yG;function px(e,r,t){if(t===void 0&&(t={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:e};return au(n,r,t)}De.lineString=px;function bG(e,r,t){return t===void 0&&(t={}),ky(e.map(function(n){return px(n,r)}),t)}De.lineStrings=bG;function ky(e,r){r===void 0&&(r={});var t={type:"FeatureCollection"};return r.id&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.features=e,t}De.featureCollection=ky;function mw(e,r,t){t===void 0&&(t={});var n={type:"MultiLineString",coordinates:e};return au(n,r,t)}De.multiLineString=mw;function fw(e,r,t){t===void 0&&(t={});var n={type:"MultiPoint",coordinates:e};return au(n,r,t)}De.multiPoint=fw;function hw(e,r,t){t===void 0&&(t={});var n={type:"MultiPolygon",coordinates:e};return au(n,r,t)}De.multiPolygon=hw;function vG(e,r,t){t===void 0&&(t={});var n={type:"GeometryCollection",geometries:e};return au(n,r,t)}De.geometryCollection=vG;function xG(e,r){if(r===void 0&&(r=0),r&&!(r>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,r||0);return Math.round(e*t)/t}De.round=xG;function gw(e,r){r===void 0&&(r="kilometers");var t=De.factors[r];if(!t)throw new Error(r+" units is invalid");return e*t}De.radiansToLength=gw;function dx(e,r){r===void 0&&(r="kilometers");var t=De.factors[r];if(!t)throw new Error(r+" units is invalid");return e/t}De.lengthToRadians=dx;function IG(e,r){return yw(dx(e,r))}De.lengthToDegrees=IG;function EG(e){var r=e%360;return r<0&&(r+=360),r}De.bearingToAzimuth=EG;function yw(e){var r=e%(2*Math.PI);return r*180/Math.PI}De.radiansToDegrees=yw;function CG(e){var r=e%360;return r*Math.PI/180}De.degreesToRadians=CG;function SG(e,r,t){if(r===void 0&&(r="kilometers"),t===void 0&&(t="kilometers"),!(e>=0))throw new Error("length must be a positive number");return gw(dx(e,r),t)}De.convertLength=SG;function DG(e,r,t){if(r===void 0&&(r="meters"),t===void 0&&(t="kilometers"),!(e>=0))throw new Error("area must be a positive number");var n=De.areaFactors[r];if(!n)throw new Error("invalid original units");var o=De.areaFactors[t];if(!o)throw new Error("invalid final units");return e/n*o}De.convertArea=DG;function Py(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}De.isNumber=Py;function TG(e){return!!e&&e.constructor===Object}De.isObject=TG;function wG(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(r){if(!Py(r))throw new Error("bbox must only contain numbers")})}De.validateBBox=wG;function FG(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}De.validateId=FG});var hx=Nu(Ir=>{"use strict";p();Object.defineProperty(Ir,"__esModule",{value:!0});var cn=mx();function ff(e,r,t){if(e!==null)for(var n,o,i,s,u,l,c,d=0,f=0,h,b=e.type,I=b==="FeatureCollection",E=b==="Feature",v=I?e.features.length:1,x=0;x<v;x++){c=I?e.features[x].geometry:E?e.geometry:e,h=c?c.type==="GeometryCollection":!1,u=h?c.geometries.length:1;for(var D=0;D<u;D++){var w=0,S=0;if(s=h?c.geometries[D]:c,s!==null){l=s.coordinates;var F=s.type;switch(d=t&&(F==="Polygon"||F==="MultiPolygon")?1:0,F){case null:break;case"Point":if(r(l,f,x,w,S)===!1)return!1;f++,w++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(r(l[n],f,x,w,S)===!1)return!1;f++,F==="MultiPoint"&&w++}F==="LineString"&&w++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(o=0;o<l[n].length-d;o++){if(r(l[n][o],f,x,w,S)===!1)return!1;f++}F==="MultiLineString"&&w++,F==="Polygon"&&S++}F==="Polygon"&&w++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(S=0,o=0;o<l[n].length;o++){for(i=0;i<l[n][o].length-d;i++){if(r(l[n][o][i],f,x,w,S)===!1)return!1;f++}S++}w++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(ff(s.geometries[n],r,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function MG(e,r,t,n){var o=t;return ff(e,function(i,s,u,l,c){s===0&&t===void 0?o=i:o=r(o,i,s,u,l,c)},n),o}function bw(e,r){var t;switch(e.type){case"FeatureCollection":for(t=0;t<e.features.length&&r(e.features[t].properties,t)!==!1;t++);break;case"Feature":r(e.properties,0);break}}function AG(e,r,t){var n=t;return bw(e,function(o,i){i===0&&t===void 0?n=o:n=r(n,o,i)}),n}function vw(e,r){if(e.type==="Feature")r(e,0);else if(e.type==="FeatureCollection")for(var t=0;t<e.features.length&&r(e.features[t],t)!==!1;t++);}function OG(e,r,t){var n=t;return vw(e,function(o,i){i===0&&t===void 0?n=o:n=r(n,o,i)}),n}function BG(e){var r=[];return ff(e,function(t){r.push(t)}),r}function fx(e,r){var t,n,o,i,s,u,l,c,d,f,h=0,b=e.type==="FeatureCollection",I=e.type==="Feature",E=b?e.features.length:1;for(t=0;t<E;t++){for(u=b?e.features[t].geometry:I?e.geometry:e,c=b?e.features[t].properties:I?e.properties:{},d=b?e.features[t].bbox:I?e.bbox:void 0,f=b?e.features[t].id:I?e.id:void 0,l=u?u.type==="GeometryCollection":!1,s=l?u.geometries.length:1,o=0;o<s;o++){if(i=l?u.geometries[o]:u,i===null){if(r(null,h,c,d,f)===!1)return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(i,h,c,d,f)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<i.geometries.length;n++)if(r(i.geometries[n],h,c,d,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function PG(e,r,t){var n=t;return fx(e,function(o,i,s,u,l){i===0&&t===void 0?n=o:n=r(n,o,i,s,u,l)}),n}function _y(e,r){fx(e,function(t,n,o,i,s){var u=t===null?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return r(cn.feature(t,o,{bbox:i,id:s}),n,0)===!1?!1:void 0}var l;switch(u){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var c=0;c<t.coordinates.length;c++){var d=t.coordinates[c],f={type:l,coordinates:d};if(r(cn.feature(f,o),n,c)===!1)return!1}})}function kG(e,r,t){var n=t;return _y(e,function(o,i,s){i===0&&s===0&&t===void 0?n=o:n=r(n,o,i,s)}),n}function xw(e,r){_y(e,function(t,n,o){var i=0;if(t.geometry){var s=t.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var u,l=0,c=0,d=0;if(ff(t,function(f,h,b,I,E){if(u===void 0||n>l||I>c||E>d){u=f,l=n,c=I,d=E,i=0;return}var v=cn.lineString([u,f],t.properties);if(r(v,n,o,E,i)===!1)return!1;i++,u=f})===!1)return!1}}})}function _G(e,r,t){var n=t,o=!1;return xw(e,function(i,s,u,l,c){o===!1&&t===void 0?n=i:n=r(n,i,s,u,l,c),o=!0}),n}function Iw(e,r){if(!e)throw new Error("geojson is required");_y(e,function(t,n,o){if(t.geometry!==null){var i=t.geometry.type,s=t.geometry.coordinates;switch(i){case"LineString":if(r(t,n,o,0,0)===!1)return!1;break;case"Polygon":for(var u=0;u<s.length;u++)if(r(cn.lineString(s[u],t.properties),n,o,u)===!1)return!1;break}}})}function LG(e,r,t){var n=t;return Iw(e,function(o,i,s,u){i===0&&t===void 0?n=o:n=r(n,o,i,s,u)}),n}function RG(e,r){if(r=r||{},!cn.isObject(r))throw new Error("options is invalid");var t=r.featureIndex||0,n=r.multiFeatureIndex||0,o=r.geometryIndex||0,i=r.segmentIndex||0,s=r.properties,u;switch(e.type){case"FeatureCollection":t<0&&(t=e.features.length+t),s=s||e.features[t].properties,u=e.features[t].geometry;break;case"Feature":s=s||e.properties,u=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=e;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":case"MultiPoint":return null;case"LineString":return i<0&&(i=l.length+i-1),cn.lineString([l[i],l[i+1]],s,r);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i-1),cn.lineString([l[o][i],l[o][i+1]],s,r);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i-1),cn.lineString([l[n][i],l[n][i+1]],s,r);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i-1),cn.lineString([l[n][o][i],l[n][o][i+1]],s,r)}throw new Error("geojson is invalid")}function NG(e,r){if(r=r||{},!cn.isObject(r))throw new Error("options is invalid");var t=r.featureIndex||0,n=r.multiFeatureIndex||0,o=r.geometryIndex||0,i=r.coordIndex||0,s=r.properties,u;switch(e.type){case"FeatureCollection":t<0&&(t=e.features.length+t),s=s||e.features[t].properties,u=e.features[t].geometry;break;case"Feature":s=s||e.properties,u=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":u=e;break;default:throw new Error("geojson is invalid")}if(u===null)return null;var l=u.coordinates;switch(u.type){case"Point":return cn.point(l,s,r);case"MultiPoint":return n<0&&(n=l.length+n),cn.point(l[n],s,r);case"LineString":return i<0&&(i=l.length+i),cn.point(l[i],s,r);case"Polygon":return o<0&&(o=l.length+o),i<0&&(i=l[o].length+i),cn.point(l[o][i],s,r);case"MultiLineString":return n<0&&(n=l.length+n),i<0&&(i=l[n].length+i),cn.point(l[n][i],s,r);case"MultiPolygon":return n<0&&(n=l.length+n),o<0&&(o=l[n].length+o),i<0&&(i=l[n][o].length-i),cn.point(l[n][o][i],s,r)}throw new Error("geojson is invalid")}Ir.coordAll=BG;Ir.coordEach=ff;Ir.coordReduce=MG;Ir.featureEach=vw;Ir.featureReduce=OG;Ir.findPoint=NG;Ir.findSegment=RG;Ir.flattenEach=_y;Ir.flattenReduce=kG;Ir.geomEach=fx;Ir.geomReduce=PG;Ir.lineEach=Iw;Ir.lineReduce=LG;Ir.propEach=bw;Ir.propReduce=AG;Ir.segmentEach=xw;Ir.segmentReduce=_G});var Ew=Nu(yx=>{"use strict";p();Object.defineProperty(yx,"__esModule",{value:!0});var $G=hx();function gx(e){var r=[1/0,1/0,-1/0,-1/0];return $G.coordEach(e,function(t){r[0]>t[0]&&(r[0]=t[0]),r[1]>t[1]&&(r[1]=t[1]),r[2]<t[0]&&(r[2]=t[0]),r[3]<t[1]&&(r[3]=t[1])}),r}gx.default=gx;yx.default=gx});var ww=Nu((Cve,bx)=>{p();var ca=dw(),Sw=mx(),Dw=hx(),Mp=Ew().default,jG=Dw.featureEach,Ive=Dw.coordEach,Eve=Sw.polygon,Cw=Sw.featureCollection;function Tw(e){var r=new ca(e);return r.insert=function(t){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Mp(t),ca.prototype.insert.call(this,t)},r.load=function(t){var n=[];return Array.isArray(t)?t.forEach(function(o){if(o.type!=="Feature")throw new Error("invalid features");o.bbox=o.bbox?o.bbox:Mp(o),n.push(o)}):jG(t,function(o){if(o.type!=="Feature")throw new Error("invalid features");o.bbox=o.bbox?o.bbox:Mp(o),n.push(o)}),ca.prototype.load.call(this,n)},r.remove=function(t,n){if(t.type!=="Feature")throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:Mp(t),ca.prototype.remove.call(this,t,n)},r.clear=function(){return ca.prototype.clear.call(this)},r.search=function(t){var n=ca.prototype.search.call(this,this.toBBox(t));return Cw(n)},r.collides=function(t){return ca.prototype.collides.call(this,this.toBBox(t))},r.all=function(){var t=ca.prototype.all.call(this);return Cw(t)},r.toJSON=function(){return ca.prototype.toJSON.call(this)},r.fromJSON=function(t){return ca.prototype.fromJSON.call(this,t)},r.toBBox=function(t){var n;if(t.bbox)n=t.bbox;else if(Array.isArray(t)&&t.length===4)n=t;else if(Array.isArray(t)&&t.length===6)n=[t[0],t[1],t[3],t[4]];else if(t.type==="Feature")n=Mp(t);else if(t.type==="FeatureCollection")n=Mp(t);else throw new Error("invalid geojson");return{minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}},r}bx.exports=Tw;bx.exports.default=Tw});p();p();p();p();p();p();var ym=e=>e!=null;var c8=function(){let r=globalThis.fetch;return{fetch(...t){if(!ym(r))throw new Error("fetch is not available in your environment. Pass your own function into `setFetchFn` (node-fetch, etc)");return r?.(...t)},setFetch(t){r=t}}}(),ME=c8.fetch;var kE=["websdk","web","webv2","kiosk-v2","mobile","iossdk","androidsdk","reactnativesdk","gen7","bespoke","reactsdk"],AE=kE[0],_E="https://api-gateway.mappedin.com/track-analytics/a/",LE="deny-watchposition",RE="load-mapview",NE="load-mapdata",$E="change-language",jE="query-directions";var Xi,vo,$a,Mb,Vh,Bc=class{constructor(){C(this,$a);C(this,Xi,Object.freeze({}));C(this,vo);m(this,"oneTimeEventsSent",new Set);m(this,"sendGetDirectionsEvent",ib((r,t,n)=>{let o={start:r,end:t,type:"location_to_location"};return n!==void 0&&(o.accessible=n),this.sendAnalyticEvent(jE,o)},2500));T(this,vo,z(this,$a,Vh).call(this,a(this,Xi)))}init(r){this.reset(),this.updateStateWithOptions(r)}reset(){T(this,Xi,{}),T(this,vo,z(this,$a,Vh).call(this,{})),this.oneTimeEventsSent.clear()}updateStateWithOptions(r){return T(this,Xi,Object.freeze(Object.assign({},a(this,Xi),r))),T(this,vo,z(this,$a,Vh).call(this,r)),z(this,$a,Mb).call(this,a(this,vo)),a(this,vo)}updateState(r){let t={...r};t.mapId&&(t.analyticsBaseUrl=Fb({...a(this,vo),mapId:t.mapId})),t.context&&(t.context=PE(t.context)),t.baseUri&&(t.analyticsBaseUrl=Fb({baseUri:t.baseUri,mapId:a(this,vo).mapId})),Object.assign(a(this,vo),t),this.handleStateUpdate(r),z(this,$a,Mb).call(this,t)}handleStateUpdate(r){r.userPosition?.floorLevel?this.sendBlueDotEvents("found-floor"):r.userPosition&&this.sendBlueDotEvents("found-position")}get authReady(){let{key:r,secret:t,accessToken:n}=this.getState();return!!(r&&t)||!!n}getState(){return a(this,vo)}getContext(){return this.getState().context||a(this,Xi).context||AE}getSessionId(){return this.getState().sessionId||a(this,Xi).sessionId||BE()}getDeviceId(){return this.getState().deviceId||a(this,Xi).deviceId||OE()}sendAnalyticEvent(r,t={}){let n=this.getState(),o=p8(n.analyticsBaseUrl,r),i={"mi-context":this.getContext(),"mi-session":this.getSessionId(),"mi-device":this.getDeviceId()};if(n.logEvents&&R.log("Analytics.track",o,i),!n.sendEvents)return Promise.resolve();if(!this.authReady)return R.warn("Auth needs to be ready to send analytics.");let s={...t,g:n.geolocationMode,sdk_version:n.version};return n.userPosition&&Object.assign(s,n.userPosition),i["Content-Type"]="application/json",n.accessToken?i.Authorization=`Bearer ${n.accessToken}`:n.noAuth||n.secret&&n.key&&(i["x-mappedin-key"]=btoa(n.key),i["x-mappedin-secret"]=btoa(n.secret)),ME(o,{method:"POST",mode:"cors",headers:i,body:JSON.stringify(s)})}capture(r,t){if(m8.includes(r))return R.warn(`${r} event is sent internally.`),Promise.resolve();let n=d8.includes(r)?r.slice(1):r;return this.sendAnalyticEvent(n,t)}sendGetMapDataEvent(r){return this.sendAnalyticEvent(NE,r)}sendChangeLanguageEvent(r){return this.sendAnalyticEvent($E,r)}sendWatchPositionDenied(){return this.sendAnalyticEvent(LE)}sendMapViewLoadedEvent({firstRenderDuration:r,dimension:t,collisionWorkerDisabled:n,outdoorsWorkerDisabled:o}){return this.sendAnalyticEvent(RE,{type:"3d",firstRenderDuration:r,width:t.width,height:t.height,devicePixelRatio:globalThis.devicePixelRatio||1,collisionWorkerDisabled:n,outdoorsWorkerDisabled:o})}sendBlueDotEvents(r){if(!((r==="found-floor"||r==="found-position")&&this.oneTimeEventsSent.has(r)))return this.oneTimeEventsSent.add(r),this.sendAnalyticEvent(r)}};Xi=new WeakMap,vo=new WeakMap,$a=new WeakSet,Mb=function(r){r.sessionId&&_a.getInstance().saveSessionData("id",r.sessionId),r.deviceId&&_a.getInstance().saveLocalData("deviceId",r.deviceId)},Vh=function(r){let t=r.baseUri??_E;return{baseUri:t,analyticsBaseUrl:Fb({...r,baseUri:t}),version:y?.env?.npm_package_version||"v6",deviceId:r.deviceId||OE(),accessToken:r.accessToken,mapId:r.mapId,sessionId:r.sessionId||BE(),platformString:r.platformString||"",context:PE(r.context)||AE,geolocationMode:!1,sendEvents:r.sendEvents??!0,logEvents:r.logEvents??!1,noAuth:r.noAuth||!1,key:r.key,secret:r.secret}};function Fb({mapId:e,baseUri:r=_E}){return`${r}${e}/`}function OE(){return _a.getInstance().loadLocalData("deviceId")}function BE(){return _a.getInstance().loadSessionData("id")}function p8(e,r){return e+r}function PE(e){return kE.find(r=>r===e)}var d8=["$select-location","$select-category","$query-suggest","$query-search"],m8=[RE,NE,jE,LE,$E],LZ=new Bc,xo,bm=class{constructor(r){C(this,xo);m(this,"capture");m(this,"updateState");T(this,xo,r),this.capture=a(this,xo).capture.bind(a(this,xo)),this.updateState=a(this,xo).updateState.bind(a(this,xo))}getState(){let{sessionId:r,deviceId:t,...n}=a(this,xo).getState();return n}getContext(){return a(this,xo).getContext()}getSessionId(){return a(this,xo).getSessionId()}getDeviceId(){return a(this,xo).getDeviceId()}};xo=new WeakMap;p();p();var xm,Im,Em,vm=class{constructor(r,t,{enabled:n=!1}={}){C(this,xm);m(this,"searchInstance");C(this,Im);C(this,Em);m(this,"enabled",!1);T(this,xm,r),T(this,Im,t),T(this,Em,()=>{this.searchInstance?.then(o=>o.populate())}),n&&this.enable()}async query(r,t={}){if(this.enabled||await this.enable(),!this.searchInstance)return R.error("Search should be enabled by now"),{places:[],enterpriseLocations:[],enterpriseCategories:[]};try{return await(await this.searchInstance).search(r,t)}catch(n){return R.error("Search.query failed due to",n),{places:[],enterpriseLocations:[],enterpriseCategories:[]}}}async suggest(r,t={}){if(this.enabled||await this.enable(),!this.searchInstance)return R.error("Search should be enabled by now"),[];try{return await(await this.searchInstance).suggest(r,t)}catch(n){return R.error("Search.suggest failed due to",n),[]}}async enable(){this.enabled||(this.enabled=!0,this.searchInstance||(this.searchInstance=import("./internal-WJZVXVL6.js").then(({InternalSearch:r})=>new r(a(this,xm)))),a(this,Im).on("language-change",a(this,Em)),await this.searchInstance)}};xm=new WeakMap,Im=new WeakMap,Em=new WeakMap;var UE=new WeakMap,Hu,Nt,Ab=class{constructor(r,{search:t}={}){C(this,Hu);C(this,Nt);m(this,"Analytics");m(this,"Search");m(this,"Query");m(this,"internal");m(this,"on",(r,t)=>{a(this,Hu).on(r,t)});m(this,"off",(r,t)=>{a(this,Hu).off(r,t)});m(this,"__LEGACY_GET_DIRECTIONS_SYNC",(r,t,n)=>a(this,Nt).__LEGACY_GET_DIRECTIONS_SYNC(r,t,n));m(this,"getDirections",(r,t,n)=>a(this,Nt).getDirections(r,t,n));m(this,"__LEGACY_GET_DIRECTIONS_MULTI_DESTINATION_SYNC",(r,t,n)=>a(this,Nt).__LEGACY_GET_DIRECTIONS_MULTI_DESTINATION_SYNC(r,t,n));m(this,"getDirectionsMultiDestination",(r,t,n)=>a(this,Nt).getDirectionsMultiDestination(r,t,n));T(this,Hu,new Oe),T(this,Nt,r),UE.set(this,r),this.Analytics=new bm(r.Analytics),this.Query=r.Query,this.internal=r,this.Search=new vm(this,r,{enabled:t?.enabled}),a(this,Nt).on("language-change",n=>{a(this,Hu).publish("language-change",n)})}getEnv(){return a(this,Nt).getEnv()}getAccessToken(){return a(this,Nt).tokenManager?.getAccessToken().token}get mapName(){return a(this,Nt).mapName}get mapId(){return a(this,Nt).getMapDataOptions?.mapId}get mapCenter(){return a(this,Nt).mapCenter}get organizationId(){return a(this,Nt).organizationId}get outdoorViewToken(){return a(this,Nt).outdoorViewToken}getByType(r){return a(this,Nt).getByType(r)}getById(r,t){return a(this,Nt).getById(r,t)}getByExternalId(r,t){return a(this,Nt).getByExternalId(r,t)}getGeoJSON(r){return r.geoJSON}async changeLanguage(r){return a(this,Nt).changeLanguage(r)}get currentLanguage(){return a(this,Nt).currentLanguage}get naturalBearing(){return a(this,Nt).naturalBearing??0}getDistance(r,t){return a(this,Nt).getDistance(r,t)}toBinaryBundle({downloadLanguagePacks:r=!0}={}){return a(this,Nt).toBinaryBundle({downloadLanguagePacks:r})}toJSONBundle({downloadLanguagePacks:r=!0}={}){return a(this,Nt).toJSONBundle({downloadLanguagePacks:r})}};Hu=new WeakMap,Nt=new WeakMap;var Cm=Ab;function Sm(e){let r=UE.get(e);if(!r)throw new Error("MapDataInternal not found");return r}p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();p();var Hh={accessible:"accessible",outdoors:"outdoors",public:"public"};p();p();p();p();p();p();var Ye={};$s(Ye,{HasPropertyKey:()=>f8,IsArray:()=>rn,IsAsyncIterator:()=>Ob,IsBigInt:()=>Dm,IsBoolean:()=>Hs,IsDate:()=>Zu,IsFunction:()=>Bb,IsIterator:()=>Pb,IsNull:()=>kb,IsNumber:()=>ti,IsObject:()=>Et,IsRegExp:()=>Tm,IsString:()=>Bt,IsSymbol:()=>_b,IsUint8Array:()=>ja,IsUndefined:()=>Zt});p();function f8(e,r){return r in e}function Ob(e){return Et(e)&&!rn(e)&&!ja(e)&&Symbol.asyncIterator in e}function rn(e){return Array.isArray(e)}function Dm(e){return typeof e=="bigint"}function Hs(e){return typeof e=="boolean"}function Zu(e){return e instanceof globalThis.Date}function Bb(e){return typeof e=="function"}function Pb(e){return Et(e)&&!rn(e)&&!ja(e)&&Symbol.iterator in e}function kb(e){return e===null}function ti(e){return typeof e=="number"}function Et(e){return typeof e=="object"&&e!==null}function Tm(e){return e instanceof globalThis.RegExp}function Bt(e){return typeof e=="string"}function _b(e){return typeof e=="symbol"}function ja(e){return e instanceof globalThis.Uint8Array}function Zt(e){return e===void 0}function h8(e){return e.map(r=>Zh(r))}function g8(e){return new Date(e.getTime())}function y8(e){return new Uint8Array(e)}function b8(e){return new RegExp(e.source,e.flags)}function v8(e){let r={};for(let t of Object.getOwnPropertyNames(e))r[t]=Zh(e[t]);for(let t of Object.getOwnPropertySymbols(e))r[t]=Zh(e[t]);return r}function Zh(e){return rn(e)?h8(e):Zu(e)?g8(e):ja(e)?y8(e):Tm(e)?b8(e):Et(e)?v8(e):e}function $t(e){return Zh(e)}function GE(e){return e.map(r=>wm(r))}function wm(e,r){return r===void 0?$t(e):$t({...r,...e})}p();p();p();function Wh(e){return Be(e)&&Symbol.asyncIterator in e}function Xh(e){return Be(e)&&Symbol.iterator in e}function Lb(e){return Be(e)&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Jh(e){return e instanceof Promise}function mn(e){return e instanceof Date&&Number.isFinite(e.getTime())}function zE(e){return e instanceof globalThis.Map}function VE(e){return e instanceof globalThis.Set}function Io(e){return ArrayBuffer.isView(e)}function Pc(e){return e instanceof globalThis.Uint8Array}function Te(e,r){return r in e}function Be(e){return e!==null&&typeof e=="object"}function Me(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}function Wt(e){return e===void 0}function Ua(e){return e===null}function Ji(e){return typeof e=="boolean"}function ye(e){return typeof e=="number"}function Yh(e){return Number.isInteger(e)}function Gr(e){return typeof e=="bigint"}function He(e){return typeof e=="string"}function Zs(e){return typeof e=="function"}function Ga(e){return typeof e=="symbol"}function zr(e){return Gr(e)||Ji(e)||Ua(e)||ye(e)||He(e)||Ga(e)||Wt(e)}var mt;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function r(s,u){return e.ExactOptionalPropertyTypes?u in s:s[u]!==void 0}e.IsExactOptionalProperty=r;function t(s){let u=Be(s);return e.AllowArrayObject?u:u&&!Me(s)}e.IsObjectLike=t;function n(s){return t(s)&&!(s instanceof Date)&&!(s instanceof Uint8Array)}e.IsRecordLike=n;function o(s){return e.AllowNaN?ye(s):Number.isFinite(s)}e.IsNumberLike=o;function i(s){let u=Wt(s);return e.AllowNullVoid?u||s===null:u}e.IsVoidLike=i})(mt||(mt={}));p();function x8(e){return globalThis.Object.freeze(e).map(r=>Fm(r))}function I8(e){let r={};for(let t of Object.getOwnPropertyNames(e))r[t]=Fm(e[t]);for(let t of Object.getOwnPropertySymbols(e))r[t]=Fm(e[t]);return globalThis.Object.freeze(r)}function Fm(e){return rn(e)?x8(e):Zu(e)?e:ja(e)?e:Tm(e)?e:Et(e)?I8(e):e}function H(e,r){let t=r!==void 0?{...r,...e}:e;switch(mt.InstanceMode){case"freeze":return Fm(t);case"clone":return $t(t);default:return t}}p();var Se=class extends Error{constructor(r){super(r)}};p();p();p();var jt=Symbol.for("TypeBox.Transform"),za=Symbol.for("TypeBox.Readonly"),fn=Symbol.for("TypeBox.Optional"),Eo=Symbol.for("TypeBox.Hint"),j=Symbol.for("TypeBox.Kind");function HE(e){return Et(e)&&e[za]==="Readonly"}function Yi(e){return Et(e)&&e[fn]==="Optional"}function Rb(e){return Ke(e,"Any")}function Va(e){return Ke(e,"Array")}function Mm(e){return Ke(e,"AsyncIterator")}function Nb(e){return Ke(e,"BigInt")}function $b(e){return Ke(e,"Boolean")}function Am(e){return Ke(e,"Constructor")}function E8(e){return Ke(e,"Date")}function Om(e){return Ke(e,"Function")}function Wu(e){return Ke(e,"Integer")}function ur(e){return Ke(e,"Intersect")}function Bm(e){return Ke(e,"Iterator")}function Ke(e,r){return Et(e)&&j in e&&e[j]===r}function Ha(e){return Ke(e,"Literal")}function Jn(e){return Ke(e,"MappedKey")}function Ut(e){return Ke(e,"MappedResult")}function Ws(e){return Ke(e,"Never")}function C8(e){return Ke(e,"Not")}function S8(e){return Ke(e,"Null")}function Xu(e){return Ke(e,"Number")}function vr(e){return Ke(e,"Object")}function Ju(e){return Ke(e,"Promise")}function jb(e){return Ke(e,"Record")}function Ub(e){return Ke(e,"Ref")}function Gb(e){return Ke(e,"RegExp")}function Pm(e){return Ke(e,"String")}function D8(e){return Ke(e,"Symbol")}function Yn(e){return Ke(e,"TemplateLiteral")}function T8(e){return Ke(e,"This")}function kc(e){return Et(e)&&jt in e}function ri(e){return Ke(e,"Tuple")}function w8(e){return Ke(e,"Undefined")}function st(e){return Ke(e,"Union")}function F8(e){return Ke(e,"Uint8Array")}function M8(e){return Ke(e,"Unknown")}function A8(e){return Ke(e,"Unsafe")}function O8(e){return Ke(e,"Void")}function Xs(e){return Et(e)&&j in e&&Bt(e[j])}function ni(e){return Rb(e)||Va(e)||$b(e)||Nb(e)||Mm(e)||Am(e)||E8(e)||Om(e)||Wu(e)||ur(e)||Bm(e)||Ha(e)||Jn(e)||Ut(e)||Ws(e)||C8(e)||S8(e)||Xu(e)||vr(e)||Ju(e)||jb(e)||Ub(e)||Gb(e)||Pm(e)||D8(e)||Yn(e)||T8(e)||ri(e)||w8(e)||st(e)||F8(e)||M8(e)||A8(e)||O8(e)||Xs(e)}var M={};$s(M,{IsAny:()=>JE,IsArray:()=>YE,IsAsyncIterator:()=>KE,IsBigInt:()=>qE,IsBoolean:()=>QE,IsConstructor:()=>eC,IsDate:()=>tC,IsFunction:()=>rC,IsInteger:()=>nC,IsIntersect:()=>oC,IsIterator:()=>iC,IsKind:()=>MC,IsKindOf:()=>We,IsLiteral:()=>_m,IsLiteralBoolean:()=>N8,IsLiteralNumber:()=>sC,IsLiteralString:()=>aC,IsLiteralValue:()=>uC,IsMappedKey:()=>lC,IsMappedResult:()=>cC,IsNever:()=>pC,IsNot:()=>dC,IsNull:()=>mC,IsNumber:()=>fC,IsObject:()=>hC,IsOptional:()=>R8,IsPromise:()=>gC,IsProperties:()=>Zb,IsReadonly:()=>L8,IsRecord:()=>yC,IsRecursive:()=>$8,IsRef:()=>bC,IsRegExp:()=>vC,IsSchema:()=>Ze,IsString:()=>xC,IsSymbol:()=>IC,IsTemplateLiteral:()=>EC,IsThis:()=>CC,IsTransform:()=>Pt,IsTuple:()=>SC,IsUint8Array:()=>DC,IsUndefined:()=>_c,IsUnion:()=>Wb,IsUnionLiteral:()=>j8,IsUnknown:()=>TC,IsUnsafe:()=>wC,IsVoid:()=>FC,TypeGuardUnknownTypeError:()=>zb});p();var zb=class extends Se{},P8=["Any","Array","AsyncIterator","BigInt","Boolean","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function ZE(e){try{return new RegExp(e),!0}catch{return!1}}function Vb(e){if(!Bt(e))return!1;for(let r=0;r<e.length;r++){let t=e.charCodeAt(r);if(t>=7&&t<=13||t===27||t===127)return!1}return!0}function WE(e){return Hb(e)||Ze(e)}function km(e){return Zt(e)||Dm(e)}function Ft(e){return Zt(e)||ti(e)}function Hb(e){return Zt(e)||Hs(e)}function ht(e){return Zt(e)||Bt(e)}function k8(e){return Zt(e)||Bt(e)&&Vb(e)&&ZE(e)}function _8(e){return Zt(e)||Bt(e)&&Vb(e)}function XE(e){return Zt(e)||Ze(e)}function L8(e){return Et(e)&&e[za]==="Readonly"}function R8(e){return Et(e)&&e[fn]==="Optional"}function JE(e){return We(e,"Any")&&ht(e.$id)}function YE(e){return We(e,"Array")&&e.type==="array"&&ht(e.$id)&&Ze(e.items)&&Ft(e.minItems)&&Ft(e.maxItems)&&Hb(e.uniqueItems)&&XE(e.contains)&&Ft(e.minContains)&&Ft(e.maxContains)}function KE(e){return We(e,"AsyncIterator")&&e.type==="AsyncIterator"&&ht(e.$id)&&Ze(e.items)}function qE(e){return We(e,"BigInt")&&e.type==="bigint"&&ht(e.$id)&&km(e.exclusiveMaximum)&&km(e.exclusiveMinimum)&&km(e.maximum)&&km(e.minimum)&&km(e.multipleOf)}function QE(e){return We(e,"Boolean")&&e.type==="boolean"&&ht(e.$id)}function eC(e){return We(e,"Constructor")&&e.type==="Constructor"&&ht(e.$id)&&rn(e.parameters)&&e.parameters.every(r=>Ze(r))&&Ze(e.returns)}function tC(e){return We(e,"Date")&&e.type==="Date"&&ht(e.$id)&&Ft(e.exclusiveMaximumTimestamp)&&Ft(e.exclusiveMinimumTimestamp)&&Ft(e.maximumTimestamp)&&Ft(e.minimumTimestamp)&&Ft(e.multipleOfTimestamp)}function rC(e){return We(e,"Function")&&e.type==="Function"&&ht(e.$id)&&rn(e.parameters)&&e.parameters.every(r=>Ze(r))&&Ze(e.returns)}function nC(e){return We(e,"Integer")&&e.type==="integer"&&ht(e.$id)&&Ft(e.exclusiveMaximum)&&Ft(e.exclusiveMinimum)&&Ft(e.maximum)&&Ft(e.minimum)&&Ft(e.multipleOf)}function Zb(e){return Et(e)&&Object.entries(e).every(([r,t])=>Vb(r)&&Ze(t))}function oC(e){return We(e,"Intersect")&&!(Bt(e.type)&&e.type!=="object")&&rn(e.allOf)&&e.allOf.every(r=>Ze(r)&&!Pt(r))&&ht(e.type)&&(Hb(e.unevaluatedProperties)||XE(e.unevaluatedProperties))&&ht(e.$id)}function iC(e){return We(e,"Iterator")&&e.type==="Iterator"&&ht(e.$id)&&Ze(e.items)}function We(e,r){return Et(e)&&j in e&&e[j]===r}function aC(e){return _m(e)&&Bt(e.const)}function sC(e){return _m(e)&&ti(e.const)}function N8(e){return _m(e)&&Hs(e.const)}function _m(e){return We(e,"Literal")&&ht(e.$id)&&uC(e.const)}function uC(e){return Hs(e)||ti(e)||Bt(e)}function lC(e){return We(e,"MappedKey")&&rn(e.keys)&&e.keys.every(r=>ti(r)||Bt(r))}function cC(e){return We(e,"MappedResult")&&Zb(e.properties)}function pC(e){return We(e,"Never")&&Et(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function dC(e){return We(e,"Not")&&Ze(e.not)}function mC(e){return We(e,"Null")&&e.type==="null"&&ht(e.$id)}function fC(e){return We(e,"Number")&&e.type==="number"&&ht(e.$id)&&Ft(e.exclusiveMaximum)&&Ft(e.exclusiveMinimum)&&Ft(e.maximum)&&Ft(e.minimum)&&Ft(e.multipleOf)}function hC(e){return We(e,"Object")&&e.type==="object"&&ht(e.$id)&&Zb(e.properties)&&WE(e.additionalProperties)&&Ft(e.minProperties)&&Ft(e.maxProperties)}function gC(e){return We(e,"Promise")&&e.type==="Promise"&&ht(e.$id)&&Ze(e.item)}function yC(e){return We(e,"Record")&&e.type==="object"&&ht(e.$id)&&WE(e.additionalProperties)&&Et(e.patternProperties)&&(r=>{let t=Object.getOwnPropertyNames(r.patternProperties);return t.length===1&&ZE(t[0])&&Et(r.patternProperties)&&Ze(r.patternProperties[t[0]])})(e)}function $8(e){return Et(e)&&Eo in e&&e[Eo]==="Recursive"}function bC(e){return We(e,"Ref")&&ht(e.$id)&&Bt(e.$ref)}function vC(e){return We(e,"RegExp")&&ht(e.$id)&&Bt(e.source)&&Bt(e.flags)&&Ft(e.maxLength)&&Ft(e.minLength)}function xC(e){return We(e,"String")&&e.type==="string"&&ht(e.$id)&&Ft(e.minLength)&&Ft(e.maxLength)&&k8(e.pattern)&&_8(e.format)}function IC(e){return We(e,"Symbol")&&e.type==="symbol"&&ht(e.$id)}function EC(e){return We(e,"TemplateLiteral")&&e.type==="string"&&Bt(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function CC(e){return We(e,"This")&&ht(e.$id)&&Bt(e.$ref)}function Pt(e){return Et(e)&&jt in e}function SC(e){return We(e,"Tuple")&&e.type==="array"&&ht(e.$id)&&ti(e.minItems)&&ti(e.maxItems)&&e.minItems===e.maxItems&&(Zt(e.items)&&Zt(e.additionalItems)&&e.minItems===0||rn(e.items)&&e.items.every(r=>Ze(r)))}function _c(e){return We(e,"Undefined")&&e.type==="undefined"&&ht(e.$id)}function j8(e){return Wb(e)&&e.anyOf.every(r=>aC(r)||sC(r))}function Wb(e){return We(e,"Union")&&ht(e.$id)&&Et(e)&&rn(e.anyOf)&&e.anyOf.every(r=>Ze(r))}function DC(e){return We(e,"Uint8Array")&&e.type==="Uint8Array"&&ht(e.$id)&&Ft(e.minByteLength)&&Ft(e.maxByteLength)}function TC(e){return We(e,"Unknown")&&ht(e.$id)}function wC(e){return We(e,"Unsafe")}function FC(e){return We(e,"Void")&&e.type==="void"&&ht(e.$id)}function MC(e){return Et(e)&&j in e&&Bt(e[j])&&!P8.includes(e[j])}function Ze(e){return Et(e)&&(JE(e)||YE(e)||QE(e)||qE(e)||KE(e)||eC(e)||tC(e)||rC(e)||nC(e)||oC(e)||iC(e)||_m(e)||lC(e)||cC(e)||pC(e)||dC(e)||mC(e)||fC(e)||hC(e)||gC(e)||yC(e)||bC(e)||vC(e)||xC(e)||IC(e)||EC(e)||CC(e)||SC(e)||_c(e)||Wb(e)||DC(e)||TC(e)||wC(e)||FC(e)||MC(e))}p();var Xb="(true|false)",Lm="(0|[1-9][0-9]*)",Jb="(.*)",U8="(?!.*)",hX=`^${Xb}$`,Za=`^${Lm}$`,Wa=`^${Jb}$`,AC=`^${U8}$`;p();var Bn={};$s(Bn,{Clear:()=>z8,Delete:()=>V8,Entries:()=>G8,Get:()=>W8,Has:()=>H8,Set:()=>Z8});p();var Lc=new Map;function G8(){return new Map(Lc)}function z8(){return Lc.clear()}function V8(e){return Lc.delete(e)}function H8(e){return Lc.has(e)}function Z8(e,r){Lc.set(e,r)}function W8(e){return Lc.get(e)}var Ar={};$s(Ar,{Clear:()=>J8,Delete:()=>Y8,Entries:()=>X8,Get:()=>Q8,Has:()=>K8,Set:()=>q8});p();var Rc=new Map;function X8(){return new Map(Rc)}function J8(){return Rc.clear()}function Y8(e){return Rc.delete(e)}function K8(e){return Rc.has(e)}function q8(e,r){Rc.set(e,r)}function Q8(e){return Rc.get(e)}p();function OC(e,r){return e.includes(r)}function BC(e){return[...new Set(e)]}function e9(e,r){return e.filter(t=>r.includes(t))}function t9(e,r){return e.reduce((t,n)=>e9(t,n),r)}function PC(e){return e.length===1?e[0]:e.length>1?t9(e.slice(1),e[0]):[]}function kC(e){let r=[];for(let t of e)r.push(...t);return r}p();function Js(e){return H({[j]:"Any"},e)}p();function Kh(e,r){return H({[j]:"Array",type:"array",items:e},r)}p();function qh(e,r){return H({[j]:"AsyncIterator",type:"AsyncIterator",items:e},r)}p();p();p();function r9(e,r){let{[r]:t,...n}=e;return n}function er(e,r){return r.reduce((t,n)=>r9(t,n),e)}p();function gt(e){return H({[j]:"Never",not:{}},e)}p();p();function qe(e){return H({[j]:"MappedResult",properties:e})}p();p();function Qh(e,r,t){return H({[j]:"Constructor",type:"Constructor",parameters:e,returns:r},t)}p();function Ys(e,r,t){return H({[j]:"Function",type:"Function",parameters:e,returns:r},t)}p();p();p();p();function Rm(e,r){return H({[j]:"Union",anyOf:e},r)}function n9(e){return e.some(r=>Yi(r))}function _C(e){return e.map(r=>Yi(r)?o9(r):r)}function o9(e){return er(e,[fn])}function i9(e,r){return n9(e)?Pn(Rm(_C(e),r)):Rm(_C(e),r)}function Ki(e,r){return e.length===0?gt(r):e.length===1?H(e[0],r):i9(e,r)}p();function yt(e,r){return e.length===0?gt(r):e.length===1?H(e[0],r):Rm(e,r)}p();p();p();var eg=class extends Se{};function a9(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function Yb(e,r,t){return e[r]===t&&e.charCodeAt(r-1)!==92}function Xa(e,r){return Yb(e,r,"(")}function Nm(e,r){return Yb(e,r,")")}function LC(e,r){return Yb(e,r,"|")}function s9(e){if(!(Xa(e,0)&&Nm(e,e.length-1)))return!1;let r=0;for(let t=0;t<e.length;t++)if(Xa(e,t)&&(r+=1),Nm(e,t)&&(r-=1),r===0&&t!==e.length-1)return!1;return!0}function u9(e){return e.slice(1,e.length-1)}function l9(e){let r=0;for(let t=0;t<e.length;t++)if(Xa(e,t)&&(r+=1),Nm(e,t)&&(r-=1),LC(e,t)&&r===0)return!0;return!1}function c9(e){for(let r=0;r<e.length;r++)if(Xa(e,r))return!0;return!1}function p9(e){let[r,t]=[0,0],n=[];for(let i=0;i<e.length;i++)if(Xa(e,i)&&(r+=1),Nm(e,i)&&(r-=1),LC(e,i)&&r===0){let s=e.slice(t,i);s.length>0&&n.push(Nc(s)),t=i+1}let o=e.slice(t);return o.length>0&&n.push(Nc(o)),n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"or",expr:n}}function d9(e){function r(o,i){if(!Xa(o,i))throw new eg("TemplateLiteralParser: Index must point to open parens");let s=0;for(let u=i;u<o.length;u++)if(Xa(o,u)&&(s+=1),Nm(o,u)&&(s-=1),s===0)return[i,u];throw new eg("TemplateLiteralParser: Unclosed group parens in expression")}function t(o,i){for(let s=i;s<o.length;s++)if(Xa(o,s))return[i,s];return[i,o.length]}let n=[];for(let o=0;o<e.length;o++)if(Xa(e,o)){let[i,s]=r(e,o),u=e.slice(i,s+1);n.push(Nc(u)),o=s}else{let[i,s]=t(e,o),u=e.slice(i,s);u.length>0&&n.push(Nc(u)),o=s-1}return n.length===0?{type:"const",const:""}:n.length===1?n[0]:{type:"and",expr:n}}function Nc(e){return s9(e)?Nc(u9(e)):l9(e)?p9(e):c9(e)?d9(e):{type:"const",const:a9(e)}}function $c(e){return Nc(e.slice(1,e.length-1))}var Kb=class extends Se{};function m9(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function f9(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function h9(e){return e.type==="const"&&e.const===".*"}function Yu(e){return m9(e)||h9(e)?!1:f9(e)?!0:e.type==="and"?e.expr.every(r=>Yu(r)):e.type==="or"?e.expr.every(r=>Yu(r)):e.type==="const"?!0:(()=>{throw new Kb("Unknown expression type")})()}function tg(e){let r=$c(e.pattern);return Yu(r)}p();var qb=class extends Se{};function*RC(e){if(e.length===1)return yield*e[0];for(let r of e[0])for(let t of RC(e.slice(1)))yield`${r}${t}`}function*g9(e){return yield*RC(e.expr.map(r=>[...$m(r)]))}function*y9(e){for(let r of e.expr)yield*$m(r)}function*b9(e){return yield e.const}function*$m(e){return e.type==="and"?yield*g9(e):e.type==="or"?yield*y9(e):e.type==="const"?yield*b9(e):(()=>{throw new qb("Unknown expression")})()}function jc(e){let r=$c(e.pattern);return Yu(r)?[...$m(r)]:[]}p();p();function lt(e,r){return H({[j]:"Literal",const:e,type:typeof e},r)}p();function rg(e){return H({[j]:"Boolean",type:"boolean"},e)}p();function Uc(e){return H({[j]:"BigInt",type:"bigint"},e)}p();function qi(e){return H({[j]:"Number",type:"number"},e)}p();function Co(e){return H({[j]:"String",type:"string"},e)}function*v9(e){let r=e.trim().replace(/"|'/g,"");return r==="boolean"?yield rg():r==="number"?yield qi():r==="bigint"?yield Uc():r==="string"?yield Co():yield(()=>{let t=r.split("|").map(n=>lt(n.trim()));return t.length===0?gt():t.length===1?t[0]:Ki(t)})()}function*x9(e){if(e[1]!=="{"){let r=lt("$"),t=Qb(e.slice(1));return yield*[r,...t]}for(let r=2;r<e.length;r++)if(e[r]==="}"){let t=v9(e.slice(2,r)),n=Qb(e.slice(r+1));return yield*[...t,...n]}yield lt(e)}function*Qb(e){for(let r=0;r<e.length;r++)if(e[r]==="$"){let t=lt(e.slice(0,r)),n=x9(e.slice(r));return yield*[t,...n]}yield lt(e)}function NC(e){return[...Qb(e)]}p();var ev=class extends Se{};function I9(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $C(e,r){return Yn(e)?e.pattern.slice(1,e.pattern.length-1):st(e)?`(${e.anyOf.map(t=>$C(t,r)).join("|")})`:Xu(e)?`${r}${Lm}`:Wu(e)?`${r}${Lm}`:Nb(e)?`${r}${Lm}`:Pm(e)?`${r}${Jb}`:Ha(e)?`${r}${I9(e.const.toString())}`:$b(e)?`${r}${Xb}`:(()=>{throw new ev(`Unexpected Kind '${e[j]}'`)})()}function tv(e){return`^${e.map(r=>$C(r,"")).join("")}$`}p();function Ku(e){let t=jc(e).map(n=>lt(n));return Ki(t)}p();function ng(e,r){let t=Bt(e)?tv(NC(e)):tv(e);return H({[j]:"TemplateLiteral",type:"string",pattern:t},r)}function E9(e){return jc(e).map(t=>t.toString())}function C9(e){let r=[];for(let t of e)r.push(...kn(t));return r}function S9(e){return[e.toString()]}function kn(e){return[...new Set(Yn(e)?E9(e):st(e)?C9(e.anyOf):Ha(e)?S9(e.const):Xu(e)?["[number]"]:Wu(e)?["[number]"]:[])]}p();function D9(e,r,t){let n={};for(let o of Object.getOwnPropertyNames(r))n[o]=Gc(e,kn(r[o]),t);return n}function T9(e,r,t){return D9(e,r.properties,t)}function jC(e,r,t){let n=T9(e,r,t);return qe(n)}function GC(e,r){return e.map(t=>zC(t,r))}function w9(e){return e.filter(r=>!Ws(r))}function F9(e,r){return og(w9(GC(e,r)))}function M9(e){return e.some(r=>Ws(r))?[]:e}function A9(e,r){return Ki(M9(GC(e,r)))}function O9(e,r){return r in e?e[r]:r==="[number]"?Ki(e):gt()}function B9(e,r){return r==="[number]"?e:gt()}function P9(e,r){return r in e?e[r]:gt()}function zC(e,r){return ur(e)?F9(e.allOf,r):st(e)?A9(e.anyOf,r):ri(e)?O9(e.items??[],r):Va(e)?B9(e.items,r):vr(e)?P9(e.properties,r):gt()}function jm(e,r){return r.map(t=>zC(e,t))}function UC(e,r){return Ki(jm(e,r))}function Gc(e,r,t){return Ut(r)?jC(e,r,t):Jn(r)?VC(e,r,t):H(ni(r)?UC(e,kn(r)):UC(e,r),t)}function k9(e,r,t){return{[r]:Gc(e,[r],$t(t))}}function _9(e,r,t){return r.reduce((n,o)=>({...n,...k9(e,o,t)}),{})}function L9(e,r,t){return _9(e,r.keys,t)}function VC(e,r,t){let n=L9(e,r,t);return qe(n)}p();function ig(e,r){return H({[j]:"Iterator",type:"Iterator",items:e},r)}p();function R9(e){let r=[];for(let t in e)Yi(e[t])||r.push(t);return r}function N9(e,r){let t=R9(e),n=t.length>0?{[j]:"Object",type:"object",properties:e,required:t}:{[j]:"Object",type:"object",properties:e};return H(n,r)}var Ct=N9;p();function ag(e,r){return H({[j]:"Promise",type:"Promise",item:e},r)}p();p();function $9(e){return H(er(e,[za]))}function j9(e){return H({...e,[za]:"Readonly"})}function U9(e,r){return r===!1?$9(e):j9(e)}function So(e,r){let t=r??!0;return Ut(e)?HC(e,t):U9(e,t)}function G9(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=So(e[n],r);return t}function z9(e,r){return G9(e.properties,r)}function HC(e,r){let t=z9(e,r);return qe(t)}p();function Qi(e,r){return H(e.length>0?{[j]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[j]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},r)}function ZC(e,r){return e in r?Do(e,r[e]):qe(r)}function V9(e){return{[e]:lt(e)}}function H9(e){let r={};for(let t of e)r[t]=lt(t);return r}function Z9(e,r){return OC(r,e)?V9(e):H9(r)}function W9(e,r){let t=Z9(e,r);return ZC(e,t)}function Um(e,r){return r.map(t=>Do(e,t))}function X9(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(r))t[n]=Do(e,r[n]);return t}function Do(e,r){let t={...r};return Yi(r)?Pn(Do(e,er(r,[fn]))):HE(r)?So(Do(e,er(r,[za]))):Ut(r)?ZC(e,r.properties):Jn(r)?W9(e,r.keys):Am(r)?Qh(Um(e,r.parameters),Do(e,r.returns),t):Om(r)?Ys(Um(e,r.parameters),Do(e,r.returns),t):Mm(r)?qh(Do(e,r.items),t):Bm(r)?ig(Do(e,r.items),t):ur(r)?_n(Um(e,r.allOf),t):st(r)?yt(Um(e,r.anyOf),t):ri(r)?Qi(Um(e,r.items??[]),t):vr(r)?Ct(X9(e,r.properties),t):Va(r)?Kh(Do(e,r.items),t):Ju(r)?ag(Do(e,r.item),t):r}function J9(e,r){let t={};for(let n of e)t[n]=Do(n,r);return t}function WC(e,r,t){let n=ni(e)?kn(e):e,o=r({[j]:"MappedKey",keys:n}),i=J9(n,o);return Ct(i,t)}p();function Y9(e){return H(er(e,[fn]))}function K9(e){return H({...e,[fn]:"Optional"})}function q9(e,r){return r===!1?Y9(e):K9(e)}function Pn(e,r){let t=r??!0;return Ut(e)?XC(e,t):q9(e,t)}function Q9(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Pn(e[n],r);return t}function eB(e,r){return Q9(e.properties,r)}function XC(e,r){let t=eB(e,r);return qe(t)}p();function Gm(e,r={}){let t=e.every(o=>vr(o)),n=ni(r.unevaluatedProperties)?{unevaluatedProperties:r.unevaluatedProperties}:{};return H(r.unevaluatedProperties===!1||ni(r.unevaluatedProperties)||t?{...n,[j]:"Intersect",type:"object",allOf:e}:{...n,[j]:"Intersect",allOf:e},r)}function tB(e){return e.every(r=>Yi(r))}function rB(e){return er(e,[fn])}function JC(e){return e.map(r=>Yi(r)?rB(r):r)}function nB(e,r){return tB(e)?Pn(Gm(JC(e),r)):Gm(JC(e),r)}function og(e,r={}){if(e.length===0)return gt(r);if(e.length===1)return H(e[0],r);if(e.some(t=>kc(t)))throw new Error("Cannot intersect transform types");return nB(e,r)}p();function _n(e,r){if(e.length===0)return gt(r);if(e.length===1)return H(e[0],r);if(e.some(t=>kc(t)))throw new Error("Cannot intersect transform types");return Gm(e,r)}function YC(e){return e.map(r=>rv(r))}function oB(e){return _n(YC(e))}function iB(e){return yt(YC(e))}function aB(e){return rv(e)}function rv(e){return ur(e)?oB(e.allOf):st(e)?iB(e.anyOf):Ju(e)?aB(e.item):e}function KC(e,r){return H(rv(e),r)}p();p();p();p();function qC(e){let r=[];for(let t of e)r.push(Or(t));return r}function sB(e){let r=qC(e);return kC(r)}function uB(e){let r=qC(e);return PC(r)}function lB(e){return e.map((r,t)=>t.toString())}function cB(e){return["[number]"]}function pB(e){return globalThis.Object.getOwnPropertyNames(e)}function dB(e){return nv?globalThis.Object.getOwnPropertyNames(e).map(t=>t[0]==="^"&&t[t.length-1]==="$"?t.slice(1,t.length-1):t):[]}function Or(e){return ur(e)?sB(e.allOf):st(e)?uB(e.anyOf):ri(e)?lB(e.items??[]):Va(e)?cB(e.items):vr(e)?pB(e.properties):jb(e)?dB(e.patternProperties):[]}var nv=!1;function Ja(e){nv=!0;let r=Or(e);return nv=!1,`^(${r.map(n=>`(${n})`).join("|")})$`}function mB(e){return e.map(r=>r==="[number]"?qi():lt(r))}function sg(e,r){if(Ut(e))return QC(e,r);{let t=Or(e),n=mB(t),o=Ki(n);return H(o,r)}}function fB(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=sg(e[n],$t(r));return t}function hB(e,r){return fB(e.properties,r)}function QC(e,r){let t=hB(e,r);return qe(t)}p();function Ks(e){let r=Or(e),t=jm(e,r);return r.map((n,o)=>[r[o],t[o]])}function gB(e){let r=[];for(let t of e)r.push(...Or(t));return BC(r)}function yB(e){return e.filter(r=>!Ws(r))}function bB(e,r){let t=[];for(let n of e)t.push(...jm(n,[r]));return yB(t)}function vB(e,r){let t={};for(let n of r)t[n]=og(bB(e,n));return t}function eS(e,r){let t=gB(e),n=vB(e,t);return Ct(n,r)}p();p();function ug(e){return H({[j]:"Date",type:"Date"},e)}p();function lg(e){return H({[j]:"Null",type:"null"},e)}p();function cg(e){return H({[j]:"Symbol",type:"symbol"},e)}p();function pg(e){return H({[j]:"Undefined",type:"undefined"},e)}p();function dg(e){return H({[j]:"Uint8Array",type:"Uint8Array"},e)}p();function Ya(e){return H({[j]:"Unknown"},e)}function xB(e){return e.map(r=>ov(r,!1))}function IB(e){let r={};for(let t of globalThis.Object.getOwnPropertyNames(e))r[t]=So(ov(e[t],!1));return r}function mg(e,r){return r===!0?e:So(e)}function ov(e,r){return Ob(e)?mg(Js(),r):Pb(e)?mg(Js(),r):rn(e)?So(Qi(xB(e))):ja(e)?dg():Zu(e)?ug():Et(e)?mg(Ct(IB(e)),r):Bb(e)?mg(Ys([],Ya()),r):Zt(e)?pg():kb(e)?lg():_b(e)?cg():Dm(e)?Uc():ti(e)?lt(e):Hs(e)?lt(e):Bt(e)?lt(e):Ct({})}function tS(e,r){return H(ov(e,!0),r)}p();function rS(e,r){return Qi(e.parameters,r)}p();function zm(e,r){return e.map(t=>oi(t,r))}function EB(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=oi(e[n],r);return t}function CB(e,r){return e.parameters=zm(e.parameters,r),e.returns=oi(e.returns,r),e}function SB(e,r){return e.parameters=zm(e.parameters,r),e.returns=oi(e.returns,r),e}function DB(e,r){return e.allOf=zm(e.allOf,r),e}function TB(e,r){return e.anyOf=zm(e.anyOf,r),e}function wB(e,r){return Zt(e.items)||(e.items=zm(e.items,r)),e}function FB(e,r){return e.items=oi(e.items,r),e}function MB(e,r){return e.properties=EB(e.properties,r),e}function AB(e,r){return e.item=oi(e.item,r),e}function OB(e,r){return e.items=oi(e.items,r),e}function BB(e,r){return e.items=oi(e.items,r),e}function PB(e,r){let t=r.find(o=>o.$id===e.$ref);if(t===void 0)throw Error(`Unable to dereference schema with $id ${e.$ref}`);let n=er(t,["$id"]);return oi(n,r)}function kB(e,r){return Am(e)?CB(e,r):Om(e)?SB(e,r):ur(e)?DB(e,r):st(e)?TB(e,r):ri(e)?wB(e,r):Va(e)?FB(e,r):vr(e)?MB(e,r):Ju(e)?AB(e,r):Mm(e)?OB(e,r):Bm(e)?BB(e,r):Ub(e)?PB(e,r):e}function oi(e,r){return kB(wm(e),GE(r))}p();function nS(e,r){if(Zt(e))throw new Error("Enum undefined or empty");let t=globalThis.Object.getOwnPropertyNames(e).filter(i=>isNaN(i)).map(i=>e[i]),o=[...new Set(t)].map(i=>lt(i));return yt(o,{...r,[Eo]:"Enum"})}p();p();p();var av=class extends Se{},G;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(G||(G={}));function To(e){return e===G.False?e:G.True}function zc(e){throw new av(e)}function fr(e){return M.IsNever(e)||M.IsIntersect(e)||M.IsUnion(e)||M.IsUnknown(e)||M.IsAny(e)}function hr(e,r){return M.IsNever(r)?cS(e,r):M.IsIntersect(r)?fg(e,r):M.IsUnion(r)?cv(e,r):M.IsUnknown(r)?fS(e,r):M.IsAny(r)?lv(e,r):zc("StructuralRight")}function lv(e,r){return G.True}function _B(e,r){return M.IsIntersect(r)?fg(e,r):M.IsUnion(r)&&r.anyOf.some(t=>M.IsAny(t)||M.IsUnknown(t))?G.True:M.IsUnion(r)?G.Union:M.IsUnknown(r)||M.IsAny(r)?G.True:G.Union}function LB(e,r){return M.IsUnknown(e)?G.False:M.IsAny(e)?G.Union:M.IsNever(e)?G.True:G.False}function RB(e,r){return M.IsObject(r)&&hg(r)?G.True:fr(r)?hr(e,r):M.IsArray(r)?To(bt(e.items,r.items)):G.False}function NB(e,r){return fr(r)?hr(e,r):M.IsAsyncIterator(r)?To(bt(e.items,r.items)):G.False}function $B(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsBigInt(r)?G.True:G.False}function uS(e,r){return M.IsLiteralBoolean(e)||M.IsBoolean(e)?G.True:G.False}function jB(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsBoolean(r)?G.True:G.False}function UB(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsConstructor(r)?e.parameters.length>r.parameters.length?G.False:e.parameters.every((t,n)=>To(bt(r.parameters[n],t))===G.True)?To(bt(e.returns,r.returns)):G.False:G.False}function GB(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsDate(r)?G.True:G.False}function zB(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsFunction(r)?e.parameters.length>r.parameters.length?G.False:e.parameters.every((t,n)=>To(bt(r.parameters[n],t))===G.True)?To(bt(e.returns,r.returns)):G.False:G.False}function lS(e,r){return M.IsLiteral(e)&&Ye.IsNumber(e.const)||M.IsNumber(e)||M.IsInteger(e)?G.True:G.False}function VB(e,r){return M.IsInteger(r)||M.IsNumber(r)?G.True:fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):G.False}function fg(e,r){return r.allOf.every(t=>bt(e,t)===G.True)?G.True:G.False}function HB(e,r){return e.allOf.some(t=>bt(t,r)===G.True)?G.True:G.False}function ZB(e,r){return fr(r)?hr(e,r):M.IsIterator(r)?To(bt(e.items,r.items)):G.False}function WB(e,r){return M.IsLiteral(r)&&r.const===e.const?G.True:fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsString(r)?mS(e,r):M.IsNumber(r)?pS(e,r):M.IsInteger(r)?lS(e,r):M.IsBoolean(r)?uS(e,r):G.False}function cS(e,r){return G.False}function XB(e,r){return G.True}function oS(e){let[r,t]=[e,0];for(;M.IsNot(r);)r=r.not,t+=1;return t%2===0?r:Ya()}function JB(e,r){return M.IsNot(e)?bt(oS(e),r):M.IsNot(r)?bt(e,oS(r)):zc("Invalid fallthrough for Not")}function YB(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsNull(r)?G.True:G.False}function pS(e,r){return M.IsLiteralNumber(e)||M.IsNumber(e)||M.IsInteger(e)?G.True:G.False}function KB(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsInteger(r)||M.IsNumber(r)?G.True:G.False}function Ln(e,r){return Object.getOwnPropertyNames(e.properties).length===r}function iS(e){return hg(e)}function aS(e){return Ln(e,0)||Ln(e,1)&&"description"in e.properties&&M.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(M.IsString(e.properties.description.anyOf[0])&&M.IsUndefined(e.properties.description.anyOf[1])||M.IsString(e.properties.description.anyOf[1])&&M.IsUndefined(e.properties.description.anyOf[0]))}function iv(e){return Ln(e,0)}function sS(e){return Ln(e,0)}function qB(e){return Ln(e,0)}function QB(e){return Ln(e,0)}function eP(e){return hg(e)}function tP(e){let r=qi();return Ln(e,0)||Ln(e,1)&&"length"in e.properties&&To(bt(e.properties.length,r))===G.True}function rP(e){return Ln(e,0)}function hg(e){let r=qi();return Ln(e,0)||Ln(e,1)&&"length"in e.properties&&To(bt(e.properties.length,r))===G.True}function nP(e){let r=Ys([Js()],Js());return Ln(e,0)||Ln(e,1)&&"then"in e.properties&&To(bt(e.properties.then,r))===G.True}function dS(e,r){return bt(e,r)===G.False||M.IsOptional(e)&&!M.IsOptional(r)?G.False:G.True}function nn(e,r){return M.IsUnknown(e)?G.False:M.IsAny(e)?G.Union:M.IsNever(e)||M.IsLiteralString(e)&&iS(r)||M.IsLiteralNumber(e)&&iv(r)||M.IsLiteralBoolean(e)&&sS(r)||M.IsSymbol(e)&&aS(r)||M.IsBigInt(e)&&qB(r)||M.IsString(e)&&iS(r)||M.IsSymbol(e)&&aS(r)||M.IsNumber(e)&&iv(r)||M.IsInteger(e)&&iv(r)||M.IsBoolean(e)&&sS(r)||M.IsUint8Array(e)&&eP(r)||M.IsDate(e)&&QB(r)||M.IsConstructor(e)&&rP(r)||M.IsFunction(e)&&tP(r)?G.True:M.IsRecord(e)&&M.IsString(sv(e))?r[Eo]==="Record"?G.True:G.False:M.IsRecord(e)&&M.IsNumber(sv(e))?Ln(r,0)?G.True:G.False:G.False}function oP(e,r){return fr(r)?hr(e,r):M.IsRecord(r)?wo(e,r):M.IsObject(r)?(()=>{for(let t of Object.getOwnPropertyNames(r.properties)){if(!(t in e.properties)&&!M.IsOptional(r.properties[t]))return G.False;if(M.IsOptional(r.properties[t]))return G.True;if(dS(e.properties[t],r.properties[t])===G.False)return G.False}return G.True})():G.False}function iP(e,r){return fr(r)?hr(e,r):M.IsObject(r)&&nP(r)?G.True:M.IsPromise(r)?To(bt(e.item,r.item)):G.False}function sv(e){return Za in e.patternProperties?qi():Wa in e.patternProperties?Co():zc("Unknown record key pattern")}function uv(e){return Za in e.patternProperties?e.patternProperties[Za]:Wa in e.patternProperties?e.patternProperties[Wa]:zc("Unable to get record value schema")}function wo(e,r){let[t,n]=[sv(r),uv(r)];return M.IsLiteralString(e)&&M.IsNumber(t)&&To(bt(e,n))===G.True?G.True:M.IsUint8Array(e)&&M.IsNumber(t)||M.IsString(e)&&M.IsNumber(t)||M.IsArray(e)&&M.IsNumber(t)?bt(e,n):M.IsObject(e)?(()=>{for(let o of Object.getOwnPropertyNames(e.properties))if(dS(n,e.properties[o])===G.False)return G.False;return G.True})():G.False}function aP(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?bt(uv(e),uv(r)):G.False}function sP(e,r){let t=M.IsRegExp(e)?Co():e,n=M.IsRegExp(r)?Co():r;return bt(t,n)}function mS(e,r){return M.IsLiteral(e)&&Ye.IsString(e.const)||M.IsString(e)?G.True:G.False}function uP(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsString(r)?G.True:G.False}function lP(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsSymbol(r)?G.True:G.False}function cP(e,r){return M.IsTemplateLiteral(e)?bt(Ku(e),r):M.IsTemplateLiteral(r)?bt(e,Ku(r)):zc("Invalid fallthrough for TemplateLiteral")}function pP(e,r){return M.IsArray(r)&&e.items!==void 0&&e.items.every(t=>bt(t,r.items)===G.True)}function dP(e,r){return M.IsNever(e)?G.True:M.IsUnknown(e)?G.False:M.IsAny(e)?G.Union:G.False}function mP(e,r){return fr(r)?hr(e,r):M.IsObject(r)&&hg(r)||M.IsArray(r)&&pP(e,r)?G.True:M.IsTuple(r)?Ye.IsUndefined(e.items)&&!Ye.IsUndefined(r.items)||!Ye.IsUndefined(e.items)&&Ye.IsUndefined(r.items)?G.False:Ye.IsUndefined(e.items)&&!Ye.IsUndefined(r.items)||e.items.every((t,n)=>bt(t,r.items[n])===G.True)?G.True:G.False:G.False}function fP(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsUint8Array(r)?G.True:G.False}function hP(e,r){return fr(r)?hr(e,r):M.IsObject(r)?nn(e,r):M.IsRecord(r)?wo(e,r):M.IsVoid(r)?bP(e,r):M.IsUndefined(r)?G.True:G.False}function cv(e,r){return r.anyOf.some(t=>bt(e,t)===G.True)?G.True:G.False}function gP(e,r){return e.anyOf.every(t=>bt(t,r)===G.True)?G.True:G.False}function fS(e,r){return G.True}function yP(e,r){return M.IsNever(r)?cS(e,r):M.IsIntersect(r)?fg(e,r):M.IsUnion(r)?cv(e,r):M.IsAny(r)?lv(e,r):M.IsString(r)?mS(e,r):M.IsNumber(r)?pS(e,r):M.IsInteger(r)?lS(e,r):M.IsBoolean(r)?uS(e,r):M.IsArray(r)?LB(e,r):M.IsTuple(r)?dP(e,r):M.IsObject(r)?nn(e,r):M.IsUnknown(r)?G.True:G.False}function bP(e,r){return M.IsUndefined(e)||M.IsUndefined(e)?G.True:G.False}function vP(e,r){return M.IsIntersect(r)?fg(e,r):M.IsUnion(r)?cv(e,r):M.IsUnknown(r)?fS(e,r):M.IsAny(r)?lv(e,r):M.IsObject(r)?nn(e,r):M.IsVoid(r)?G.True:G.False}function bt(e,r){return M.IsTemplateLiteral(e)||M.IsTemplateLiteral(r)?cP(e,r):M.IsRegExp(e)||M.IsRegExp(r)?sP(e,r):M.IsNot(e)||M.IsNot(r)?JB(e,r):M.IsAny(e)?_B(e,r):M.IsArray(e)?RB(e,r):M.IsBigInt(e)?$B(e,r):M.IsBoolean(e)?jB(e,r):M.IsAsyncIterator(e)?NB(e,r):M.IsConstructor(e)?UB(e,r):M.IsDate(e)?GB(e,r):M.IsFunction(e)?zB(e,r):M.IsInteger(e)?VB(e,r):M.IsIntersect(e)?HB(e,r):M.IsIterator(e)?ZB(e,r):M.IsLiteral(e)?WB(e,r):M.IsNever(e)?XB(e,r):M.IsNull(e)?YB(e,r):M.IsNumber(e)?KB(e,r):M.IsObject(e)?oP(e,r):M.IsRecord(e)?aP(e,r):M.IsString(e)?uP(e,r):M.IsSymbol(e)?lP(e,r):M.IsTuple(e)?mP(e,r):M.IsPromise(e)?iP(e,r):M.IsUint8Array(e)?fP(e,r):M.IsUndefined(e)?hP(e,r):M.IsUnion(e)?gP(e,r):M.IsUnknown(e)?yP(e,r):M.IsVoid(e)?vP(e,r):zc(`Unknown left type operand '${e[j]}'`)}function qs(e,r){return bt(e,r)}p();p();p();function xP(e,r,t,n,o){let i={};for(let s of globalThis.Object.getOwnPropertyNames(e))i[s]=Vc(e[s],r,t,n,$t(o));return i}function IP(e,r,t,n,o){return xP(e.properties,r,t,n,o)}function hS(e,r,t,n,o){let i=IP(e,r,t,n,o);return qe(i)}function EP(e,r,t,n){let o=qs(e,r);return o===G.Union?yt([t,n]):o===G.True?t:n}function Vc(e,r,t,n,o){return Ut(e)?hS(e,r,t,n,o):Jn(e)?H(gS(e,r,t,n,o)):H(EP(e,r,t,n),o)}function CP(e,r,t,n,o){return{[e]:Vc(lt(e),r,t,n,$t(o))}}function SP(e,r,t,n,o){return e.reduce((i,s)=>({...i,...CP(s,r,t,n,o)}),{})}function DP(e,r,t,n,o){return SP(e.keys,r,t,n,o)}function gS(e,r,t,n,o){let i=DP(e,r,t,n,o);return qe(i)}p();function TP(e){return e.allOf.every(r=>Ka(r))}function wP(e){return e.anyOf.some(r=>Ka(r))}function FP(e){return!Ka(e.not)}function Ka(e){return e[j]==="Intersect"?TP(e):e[j]==="Union"?wP(e):e[j]==="Not"?FP(e):e[j]==="Undefined"}p();function yS(e,r){return Hc(Ku(e),r)}function MP(e,r){let t=e.filter(n=>qs(n,r)===G.False);return t.length===1?t[0]:yt(t)}function Hc(e,r,t={}){return Yn(e)?H(yS(e,r),t):Ut(e)?H(bS(e,r),t):H(st(e)?MP(e.anyOf,r):qs(e,r)!==G.False?gt():e,t)}function AP(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Hc(e[n],r);return t}function OP(e,r){return AP(e.properties,r)}function bS(e,r){let t=OP(e,r);return qe(t)}p();p();p();function vS(e,r){return Zc(Ku(e),r)}function BP(e,r){let t=e.filter(n=>qs(n,r)!==G.False);return t.length===1?t[0]:yt(t)}function Zc(e,r,t){return Yn(e)?H(vS(e,r),t):Ut(e)?H(xS(e,r),t):H(st(e)?BP(e.anyOf,r):qs(e,r)!==G.False?e:gt(),t)}function PP(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Zc(e[n],r);return t}function kP(e,r){return PP(e.properties,r)}function xS(e,r){let t=kP(e,r);return qe(t)}p();function IS(e,r){return H(e.returns,r)}p();function ES(e){return H({[j]:"Integer",type:"integer"},e)}p();p();p();function _P(e,r,t){return{[e]:ii(lt(e),r,$t(t))}}function LP(e,r,t){return e.reduce((o,i)=>({...o,..._P(i,r,t)}),{})}function RP(e,r,t){return LP(e.keys,r,t)}function CS(e,r,t){let n=RP(e,r,t);return qe(n)}function NP(e){let[r,t]=[e.slice(0,1),e.slice(1)];return[r.toLowerCase(),t].join("")}function $P(e){let[r,t]=[e.slice(0,1),e.slice(1)];return[r.toUpperCase(),t].join("")}function jP(e){return e.toUpperCase()}function UP(e){return e.toLowerCase()}function GP(e,r,t){let n=$c(e.pattern);if(!Yu(n))return{...e,pattern:SS(e.pattern,r)};let s=[...$m(n)].map(c=>lt(c)),u=DS(s,r),l=yt(u);return ng([l],t)}function SS(e,r){return typeof e=="string"?r==="Uncapitalize"?NP(e):r==="Capitalize"?$P(e):r==="Uppercase"?jP(e):r==="Lowercase"?UP(e):e:e.toString()}function DS(e,r){return e.map(t=>ii(t,r))}function ii(e,r,t={}){return Jn(e)?CS(e,r,t):Yn(e)?GP(e,r,t):st(e)?yt(DS(e.anyOf,r),t):Ha(e)?lt(SS(e.const,r),t):H(e,t)}function TS(e,r={}){return ii(e,"Capitalize",r)}p();function wS(e,r={}){return ii(e,"Lowercase",r)}p();function FS(e,r={}){return ii(e,"Uncapitalize",r)}p();function MS(e,r={}){return ii(e,"Uppercase",r)}p();function AS(e,r){return H({[j]:"Not",not:e},r)}p();p();p();function zP(e,r,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Wc(e[o],r,$t(t));return n}function VP(e,r,t){return zP(e.properties,r,t)}function OS(e,r,t){let n=VP(e,r,t);return qe(n)}function HP(e,r){return e.map(t=>pv(t,r))}function ZP(e,r){return e.map(t=>pv(t,r))}function WP(e,r){let{[r]:t,...n}=e;return n}function XP(e,r){return r.reduce((t,n)=>WP(t,n),e)}function JP(e,r){let t=er(e,[jt,"$id","required","properties"]),n=XP(e.properties,r);return Ct(n,t)}function pv(e,r){return ur(e)?_n(HP(e.allOf,r)):st(e)?yt(ZP(e.anyOf,r)):vr(e)?JP(e,r):Ct({})}function Wc(e,r,t){if(Jn(r))return BS(e,r,t);if(Ut(e))return OS(e,r,t);let n=ni(r)?kn(r):r;return H({...pv(e,n),...t})}function YP(e,r,t){return{[r]:Wc(e,[r],$t(t))}}function KP(e,r,t){return r.reduce((n,o)=>({...n,...YP(e,o,t)}),{})}function qP(e,r,t){return KP(e,r.keys,t)}function BS(e,r,t){let n=qP(e,r,t);return qe(n)}p();function PS(e,r){return Qi(e.parameters,r)}p();p();function kS(e){return e.map(r=>_S(r))}function QP(e){let r={};for(let t of globalThis.Object.getOwnPropertyNames(e))r[t]=Pn(e[t]);return r}function ek(e){let r=er(e,[jt,"$id","required","properties"]),t=QP(e.properties);return Ct(t,r)}function _S(e){return ur(e)?_n(kS(e.allOf)):st(e)?yt(kS(e.anyOf)):vr(e)?ek(e):Ct({})}function gg(e,r){return Ut(e)?LS(e,r):H({..._S(e),...r})}function tk(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=gg(e[n],$t(r));return t}function rk(e,r){return tk(e.properties,r)}function LS(e,r){let t=rk(e,r);return qe(t)}p();p();p();function nk(e,r,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Xc(e[o],r,$t(t));return n}function ok(e,r,t){return nk(e.properties,r,t)}function RS(e,r,t){let n=ok(e,r,t);return qe(n)}function ik(e,r){return e.map(t=>dv(t,r))}function ak(e,r){return e.map(t=>dv(t,r))}function sk(e,r){let t={};for(let n of r)n in e&&(t[n]=e[n]);return t}function uk(e,r){let t=er(e,[jt,"$id","required","properties"]),n=sk(e.properties,r);return Ct(n,t)}function dv(e,r){return ur(e)?_n(ik(e.allOf,r)):st(e)?yt(ak(e.anyOf,r)):vr(e)?uk(e,r):Ct({})}function Xc(e,r,t){if(Jn(r))return NS(e,r,t);if(Ut(e))return RS(e,r,t);let n=ni(r)?kn(r):r;return H({...dv(e,n),...t})}function lk(e,r,t){return{[r]:Xc(e,[r],$t(t))}}function ck(e,r,t){return r.reduce((n,o)=>({...n,...lk(e,o,t)}),{})}function pk(e,r,t){return ck(e,r.keys,t)}function NS(e,r,t){let n=pk(e,r,t);return qe(n)}p();function $S(e){return So(Pn(e))}p();function qu(e,r,t){return H({[j]:"Record",type:"object",patternProperties:{[e]:r}},t)}function mv(e,r,t){let n={};for(let o of e)n[o]=r;return Ct(n,{...t,[Eo]:"Record"})}function dk(e,r,t){return tg(e)?mv(kn(e),r,t):qu(e.pattern,r,t)}function mk(e,r,t){return mv(kn(yt(e)),r,t)}function fk(e,r,t){return mv([e.toString()],r,t)}function hk(e,r,t){return qu(e.source,r,t)}function gk(e,r,t){let n=Zt(e.pattern)?Wa:e.pattern;return qu(n,r,t)}function yk(e,r,t){return qu(Wa,r,t)}function bk(e,r,t){return qu(AC,r,t)}function vk(e,r,t){return qu(Za,r,t)}function xk(e,r,t){return qu(Za,r,t)}function jS(e,r,t={}){return st(e)?mk(e.anyOf,r,t):Yn(e)?dk(e,r,t):Ha(e)?fk(e.const,r,t):Wu(e)?vk(e,r,t):Xu(e)?xk(e,r,t):Gb(e)?hk(e,r,t):Pm(e)?gk(e,r,t):Rb(e)?yk(e,r,t):Ws(e)?bk(e,r,t):gt(t)}p();var Ik=0;function US(e,r={}){Zt(r.$id)&&(r.$id=`T${Ik++}`);let t=wm(e({[j]:"This",$ref:`${r.$id}`}));return t.$id=r.$id,H({[Eo]:"Recursive",...t},r)}p();function GS(e,r){if(Bt(e))return H({[j]:"Ref",$ref:e},r);if(Zt(e.$id))throw new Error("Reference target type must specify an $id");return H({[j]:"Ref",$ref:e.$id},r)}p();function zS(e,r){let t=Bt(e)?new globalThis.RegExp(e):e;return H({[j]:"RegExp",type:"RegExp",source:t.source,flags:t.flags},r)}p();p();function VS(e){return e.map(r=>HS(r))}function Ek(e){let r={};for(let t of globalThis.Object.getOwnPropertyNames(e))r[t]=er(e[t],[fn]);return r}function Ck(e){let r=er(e,[jt,"$id","required","properties"]),t=Ek(e.properties);return Ct(t,r)}function HS(e){return ur(e)?_n(VS(e.allOf)):st(e)?yt(VS(e.anyOf)):vr(e)?Ck(e):Ct({})}function yg(e,r){return Ut(e)?ZS(e,r):H({...HS(e),...r})}function Sk(e,r){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=yg(e[n],r);return t}function Dk(e,r){return Sk(e.properties,r)}function ZS(e,r){let t=Dk(e,r);return qe(t)}p();function Tk(e){return ur(e)?e.allOf:st(e)?e.anyOf:ri(e)?e.items??[]:[]}function WS(e){return Tk(e)}p();function XS(e,r){return H(e.returns,r)}p();function JS(e){return JSON.parse(JSON.stringify(e))}p();var fv=class{constructor(r){this.schema=r}Decode(r){return new hv(this.schema,r)}},hv=class{constructor(r,t){this.schema=r,this.decode=t}EncodeTransform(r,t){let i={Encode:s=>t[jt].Encode(r(s)),Decode:s=>this.decode(t[jt].Decode(s))};return{...t,[jt]:i}}EncodeSchema(r,t){let n={Decode:this.decode,Encode:r};return{...t,[jt]:n}}Encode(r){return kc(this.schema)?this.EncodeTransform(r,this.schema):this.EncodeSchema(r,this.schema)}};function YS(e){return new fv(e)}p();function bg(e={}){return H({[j]:e[j]??"Unsafe"},e)}p();function KS(e){return H({[j]:"Void",type:"void"},e)}p();var gv={};$s(gv,{Any:()=>Js,Array:()=>Kh,AsyncIterator:()=>qh,Awaited:()=>KC,BigInt:()=>Uc,Boolean:()=>rg,Capitalize:()=>TS,Composite:()=>eS,Const:()=>tS,Constructor:()=>Qh,ConstructorParameters:()=>rS,Date:()=>ug,Deref:()=>oi,Enum:()=>nS,Exclude:()=>Hc,Extends:()=>Vc,Extract:()=>Zc,Function:()=>Ys,Index:()=>Gc,InstanceType:()=>IS,Integer:()=>ES,Intersect:()=>_n,Iterator:()=>ig,KeyOf:()=>sg,Literal:()=>lt,Lowercase:()=>wS,Mapped:()=>WC,Never:()=>gt,Not:()=>AS,Null:()=>lg,Number:()=>qi,Object:()=>Ct,Omit:()=>Wc,Optional:()=>Pn,Parameters:()=>PS,Partial:()=>gg,Pick:()=>Xc,Promise:()=>ag,Readonly:()=>So,ReadonlyOptional:()=>$S,Record:()=>jS,Recursive:()=>US,Ref:()=>GS,RegExp:()=>zS,Required:()=>yg,Rest:()=>WS,ReturnType:()=>XS,Strict:()=>JS,String:()=>Co,Symbol:()=>cg,TemplateLiteral:()=>ng,Transform:()=>YS,Tuple:()=>Qi,Uint8Array:()=>dg,Uncapitalize:()=>FS,Undefined:()=>pg,Union:()=>yt,Unknown:()=>Ya,Unsafe:()=>bg,Uppercase:()=>MS,Void:()=>KS});p();var g=gv;p();var Vm=g.Object({externalId:g.String({description:"An identifier that can be used to link this entity to data outside of the MVF."}),name:g.String({description:"The name of the entity."}),shortName:g.String({description:"A short name for the entity."}),description:g.String({description:"A description of the entity."}),icon:g.String({format:"uri",description:"A URL to an icon for the entity."})},{$id:"BaseDetails",description:"Additional information about a given entity."}),yv=g.Partial(Vm,{$id:"Details",description:"Additional information about a given entity."}),Kn=g.Object({details:g.Optional(g.Ref(yv))},{$id:"WithDetails"}),Qu=e=>{let r=[...e].sort(),t=g.Pick(Vm,e),n=g.Omit(Vm,e);return g.Object({details:g.Intersect([t,g.Partial(n)])},{$id:`WithRequiredDetails_${r.join("_")}`})},bv=[Vm,yv];p();var Jc=g.Number({$id:"Longitude",minimum:-180,maximum:180,description:"A WGS 84-compatible longitude coordinate value."}),Yc=g.Number({$id:"Latitude",minimum:-90,maximum:90,description:"A WGS 84-compatible latitude coordinate value."}),el=g.Tuple([g.Ref(Jc),g.Ref(Yc)],{$id:"Position",minItems:2,maxItems:2,description:"A valid WGS 84 position consisting of a longitude value, followed by a latitude value."}),on=g.Object({type:g.Literal("Point"),coordinates:g.Ref(el)},{$id:"Point",description:"An RFC-7946 compatible GeoJSON Point geometry."}),vg=g.Object({type:g.Literal("MultiPoint"),coordinates:g.Array(g.Ref(el))},{$id:"MultiPoint",description:"An RFC-7946 compatible GeoJSON MultiPoint geometry."}),xg=g.Object({type:g.Literal("LineString"),coordinates:g.Array(g.Ref(el),{minItems:2,description:"At least two positions are required."})},{$id:"LineString",description:"An RFC-7946 compatible GeoJSON LineString geometry."}),Ig=g.Object({type:g.Literal("MultiLineString"),coordinates:g.Array(g.Array(g.Ref(el),{minItems:2}))},{$id:"MultiLineString",description:"An RFC-7946 compatible GeoJSON MultiLineString geometry."}),qS=g.Array(g.Ref(el),{$id:"LinearRing",minItems:4,description:"A linear ring is a building block of a polygon or multi-polygon."}),vv=g.Array(g.Ref(qS),{$id:"LinearRings",minItems:1,description:"A collection of linear rings, at least one of which is the exterior ring of a polygon."}),Kc=g.Object({type:g.Literal("Polygon"),coordinates:g.Ref(vv)},{$id:"Polygon",description:"An RFC-7946 compatible GeoJSON Polygon geometry."}),qc=g.Object({type:g.Literal("MultiPolygon"),coordinates:g.Array(g.Ref(vv))},{$id:"MultiPolygon",description:"An RFC-7946 compatible GeoJSON MultiPolygon geometry."}),Vr=(e,r,t)=>g.Object({type:g.Literal("Feature"),geometry:e,properties:r},t),hn=(e,r,t)=>g.Object({type:g.Literal("FeatureCollection"),features:g.Array(e,t)},r),xv=[Jc,Yc,el,on,vg,xg,Ig,qS,vv,Kc,qc];p();var tr=(e,r)=>g.Unsafe(g.String({$id:r,pattern:`^${e}_[A-Za-z0-9-]+$`})),an=tr("g","GeometryId"),ze=tr("f","FloorId"),Iv=[an,ze];p();p();p();var Eg=class{constructor(r){m(this,"_value");this._value=r}[Symbol.iterator](){return this}next(){if(this._value==null)return{done:!0,value:void 0};let r=this._value;return this._value=null,{done:!1,value:r}}},Cg=class{constructor(r){m(this,"_tag","Some");m(this,"_value");this._value=r}get value(){return this._value}isSome(){return!0}isSomeAnd(r){return r(this.value)}isNone(){return!1}equals(r){return r.isSome()&&r.value===this.value}expect(r){return this.value}unwrap(){return this.value}unwrapOr(r){return this.value}unwrapOrElse(r){return this.value}inspect(r){return r(this.value),this}inspectNone(r){return this}map(r){return QS(r(this.value))}mapAsync(r){return r(this.value).then(t=>QS(t))}mapOr(r,t){return this.map(r).unwrapOr(t)}mapOrAsync(r,t){return this.mapAsync(r).then(n=>n.unwrapOr(t))}mapOrElse(r,t){return this.map(r).unwrapOrElse(t)}mapOrElseAsync(r,t){return this.mapAsync(r).then(n=>n.unwrapOrElse(t))}and(r){return r}andThen(r){return r(this.value)}andThenAsync(r){return r(this.value)}filter(r){return r(this.value)?this:Qs()}or(r){return this}orElse(r){return this}xor(r){return r.isSome()?Qs():this}toString(){return`Some(${this.value})`}okOr(r){return te(this.value)}okOrElse(r){return te(this.value)}iter(){return new Eg(this.value)}[Symbol.iterator](){return this.iter()}zip(r){return r.isSome()?Qc([this.value,r.value]):Qs()}zipWith(r,t){return r.isSome()?Qc(t(this.value,r.value)):Qs()}get[Symbol.toStringTag](){return"Some"}},Sg=class{constructor(){m(this,"_tag","None")}get value(){return null}isSome(){return!1}isSomeAnd(r){return!1}isNone(){return!0}equals(r){return r.isNone()}expect(r){throw new Error(r)}unwrap(){throw new Error("Tried to unwrap a None value!")}unwrapOr(r){return r}unwrapOrElse(r){return r()}inspect(r){return this}inspectNone(r){return r(),this}map(r){return this}mapAsync(r){return Promise.resolve(this)}mapOr(r,t){return t}mapOrAsync(r,t){return Promise.resolve(t)}mapOrElse(r,t){return t()}mapOrElseAsync(r,t){return t()}and(r){return this}andThen(r){return this}andThenAsync(r){return Promise.resolve(this)}filter(r){return this}or(r){return r}orElse(r){return r()}xor(r){return r}toString(){return"None"}okOr(r){return oe(r)}okOrElse(r){return oe(r())}iter(){return new Eg(null)}[Symbol.iterator](){return this.iter()}zip(r){return this}zipWith(r,t){return this}get[Symbol.toStringTag](){return"None"}},Qc=e=>new Cg(e),Qs=()=>new Sg,QS=e=>e instanceof Cg||e instanceof Sg?e:e==null?Qs():Qc(e);var Dg=class{constructor(r){m(this,"_value");this._value=r}[Symbol.iterator](){return this}next(){if(this._value==null)return{done:!0,value:void 0};let r=this._value;return this._value=null,{done:!1,value:r}}},Ev=class{constructor(r){m(this,"_tag","Ok");m(this,"_value");this._value=r}get value(){return this._value}get error(){return null}isOk(){return!0}isOkAnd(r){return r(this.value)}isErr(){return!1}isErrAnd(r){return!1}ok(){return Qc(this.value)}err(){return Qs()}expect(r){return this.value}expectErr(r){throw new Error(r)}unwrap(){return this.value}unwrapOr(r){return this.value}unwrapOrElse(r){return this.value}inspect(r){return r(this.value),this}inspectErr(){return this}map(r){return te(r(this.value))}async mapAsync(r){return r(this.value).then(te)}mapOr(r,t){return r(this.value)}async mapOrAsync(r,t){return r(this.value)}mapOrElse(r,t){return r(this.value)}async mapOrElseAsync(r,t){return r(this.value)}mapErr(r){return this}iter(){return new Dg(this.value)}[Symbol.iterator](){return this.iter()}and(r){return r}andThen(r){return r(this.value)}or(r){return this}orElse(r){return this}async andThenAsync(r){return r(this.value)}toString(){return`Ok(${this.value})`}get[Symbol.toStringTag](){return"Ok"}},Cv=class e{constructor(r){m(this,"_tag","Err");m(this,"_error");this._error=r}get value(){return null}get error(){return this._error}isOk(){return!1}isOkAnd(r){return!1}isErr(){return!0}isErrAnd(r){return r(this.error)}ok(){return Qs()}err(){return Qc(this.error)}expect(r){throw new Error(r)}expectErr(r){return this.error}unwrap(){throw this.error}unwrapOr(r){return r}unwrapOrElse(r){return r()}inspect(){return this}inspectErr(r){return r(this.error),this}map(r){return this}iter(){return new Dg(null)}[Symbol.iterator](){return this.iter()}async mapAsync(r){return this}mapOr(r,t){return t}async mapOrAsync(r,t){return t}mapOrElse(r,t){return t()}async mapOrElseAsync(r,t){return t()}mapErr(r){return new e(r(this.error))}and(r){return this}andThen(r){return this}async andThenAsync(r){return this}or(r){return r}orElse(r){return r(this.error)}toString(){return`Err(${this.error})`}get[Symbol.toStringTag](){return"Err"}},te=e=>new Ev(e),oe=e=>new Cv(e);p();var Rn;(function(e){e.GeometryMissingError="GeometryMissingError",e.FloorMissingError="FloorMissingError",e.UnknownFloorError="UnknownFloorError",e.UnknownGeometryError="UnknownGeometryError",e.DuplicateIdError="DuplicateIdError"})(Rn||(Rn={}));p();p();p();p();var Sv=class extends Se{constructor(r){super(`Duplicate type kind '${r}' detected`)}},Hm=class extends Se{constructor(r){super(`Duplicate string format '${r}' detected`)}},Tg;(function(e){function r(n,o){if(Ar.Has(n))throw new Sv(n);return Ar.Set(n,o),(i={})=>bg({...i,[j]:n})}e.Type=r;function t(n,o){if(Bn.Has(n))throw new Hm(n);return Bn.Set(n,o),n}e.Format=t})(Tg||(Tg={}));p();function wk(e){switch(e.errorType){case U.ArrayContains:return"Expected array to contain at least one matching value";case U.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case U.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case U.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case U.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case U.ArrayUniqueItems:return"Expected array elements to be unique";case U.Array:return"Expected array";case U.AsyncIterator:return"Expected AsyncIterator";case U.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case U.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case U.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case U.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case U.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case U.BigInt:return"Expected bigint";case U.Boolean:return"Expected boolean";case U.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case U.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case U.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case U.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case U.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case U.Date:return"Expected Date";case U.Function:return"Expected function";case U.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case U.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case U.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case U.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case U.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case U.Integer:return"Expected integer";case U.IntersectUnevaluatedProperties:return"Unexpected property";case U.Intersect:return"Expected all values to match";case U.Iterator:return"Expected Iterator";case U.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case U.Never:return"Never";case U.Not:return"Value should not match";case U.Null:return"Expected null";case U.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case U.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case U.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case U.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case U.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case U.Number:return"Expected number";case U.Object:return"Expected object";case U.ObjectAdditionalProperties:return"Unexpected property";case U.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case U.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case U.ObjectRequiredProperty:return"Expected required property";case U.Promise:return"Expected Promise";case U.RegExp:return"Expected string to match regular expression";case U.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case U.StringFormat:return`Expected string to match '${e.schema.format}' format`;case U.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case U.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case U.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case U.String:return"Expected string";case U.Symbol:return"Expected symbol";case U.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case U.Tuple:return"Expected tuple";case U.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case U.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case U.Uint8Array:return"Expected Uint8Array";case U.Undefined:return"Expected undefined";case U.Union:return"Expected union value";case U.Void:return"Expected void";case U.Kind:return`Expected kind '${e.schema[j]}'`;default:return"Unknown error type"}}var Fk=wk;function e5(){return Fk}p();var Dv=class extends Se{constructor(r){super(`Unable to dereference schema with $id '${r.$ref}'`),this.schema=r}};function Mk(e,r){let t=r.find(n=>n.$id===e.$ref);if(t===void 0)throw new Dv(e);return Qe(t,r)}function Fo(e,r){return!He(e.$id)||r.some(t=>t.$id===e.$id)||r.push(e),r}function Qe(e,r){return e[j]==="This"||e[j]==="Ref"?Mk(e,r):e}p();var Tv=class extends Se{constructor(r){super("Unable to hash value"),this.value=r}},qn;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(qn||(qn={}));var ep=BigInt("14695981039346656037"),[Ak,Ok]=[BigInt("1099511628211"),BigInt("18446744073709551616")],Bk=Array.from({length:256}).map((e,r)=>BigInt(r)),t5=new Float64Array(1),r5=new DataView(t5.buffer),n5=new Uint8Array(t5.buffer);function*Pk(e){let r=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let t=0;t<r;t++)yield e>>8*(r-1-t)&255}function kk(e){sn(qn.Array);for(let r of e)tp(r)}function _k(e){sn(qn.Boolean),sn(e?1:0)}function Lk(e){sn(qn.BigInt),r5.setBigInt64(0,e);for(let r of n5)sn(r)}function Rk(e){sn(qn.Date),tp(e.getTime())}function Nk(e){sn(qn.Null)}function $k(e){sn(qn.Number),r5.setFloat64(0,e);for(let r of n5)sn(r)}function jk(e){sn(qn.Object);for(let r of globalThis.Object.getOwnPropertyNames(e).sort())tp(r),tp(e[r])}function Uk(e){sn(qn.String);for(let r=0;r<e.length;r++)for(let t of Pk(e.charCodeAt(r)))sn(t)}function Gk(e){sn(qn.Symbol),tp(e.description)}function zk(e){sn(qn.Uint8Array);for(let r=0;r<e.length;r++)sn(e[r])}function Vk(e){return sn(qn.Undefined)}function tp(e){if(Me(e))return kk(e);if(Ji(e))return _k(e);if(Gr(e))return Lk(e);if(mn(e))return Rk(e);if(Ua(e))return Nk(e);if(ye(e))return $k(e);if(Be(e))return jk(e);if(He(e))return Uk(e);if(Ga(e))return Gk(e);if(Pc(e))return zk(e);if(Wt(e))return Vk(e);throw new Tv(e)}function sn(e){ep=ep^Bk[e],ep=ep*Ak%Ok}function eu(e){return ep=BigInt("14695981039346656037"),tp(e),ep}p();var wv=class extends Se{constructor(r){super("Unknown type"),this.schema=r}};function Hk(e){return e[j]==="Any"||e[j]==="Unknown"}function je(e){return e!==void 0}function Zk(e,r,t){return!0}function Wk(e,r,t){if(!Me(t)||je(e.minItems)&&!(t.length>=e.minItems)||je(e.maxItems)&&!(t.length<=e.maxItems)||!t.every(i=>Hr(e.items,r,i))||e.uniqueItems===!0&&!function(){let i=new Set;for(let s of t){let u=eu(s);if(i.has(u))return!1;i.add(u)}return!0}())return!1;if(!(je(e.contains)||ye(e.minContains)||ye(e.maxContains)))return!0;let n=je(e.contains)?e.contains:gt(),o=t.reduce((i,s)=>Hr(n,r,s)?i+1:i,0);return!(o===0||ye(e.minContains)&&o<e.minContains||ye(e.maxContains)&&o>e.maxContains)}function Xk(e,r,t){return Wh(t)}function Jk(e,r,t){return!(!Gr(t)||je(e.exclusiveMaximum)&&!(t<e.exclusiveMaximum)||je(e.exclusiveMinimum)&&!(t>e.exclusiveMinimum)||je(e.maximum)&&!(t<=e.maximum)||je(e.minimum)&&!(t>=e.minimum)||je(e.multipleOf)&&t%e.multipleOf!==BigInt(0))}function Yk(e,r,t){return Ji(t)}function Kk(e,r,t){return Hr(e.returns,r,t.prototype)}function qk(e,r,t){return!(!mn(t)||je(e.exclusiveMaximumTimestamp)&&!(t.getTime()<e.exclusiveMaximumTimestamp)||je(e.exclusiveMinimumTimestamp)&&!(t.getTime()>e.exclusiveMinimumTimestamp)||je(e.maximumTimestamp)&&!(t.getTime()<=e.maximumTimestamp)||je(e.minimumTimestamp)&&!(t.getTime()>=e.minimumTimestamp)||je(e.multipleOfTimestamp)&&t.getTime()%e.multipleOfTimestamp!==0)}function Qk(e,r,t){return Zs(t)}function e_(e,r,t){return!(!Yh(t)||je(e.exclusiveMaximum)&&!(t<e.exclusiveMaximum)||je(e.exclusiveMinimum)&&!(t>e.exclusiveMinimum)||je(e.maximum)&&!(t<=e.maximum)||je(e.minimum)&&!(t>=e.minimum)||je(e.multipleOf)&&t%e.multipleOf!==0)}function t_(e,r,t){let n=e.allOf.every(o=>Hr(o,r,t));if(e.unevaluatedProperties===!1){let o=new RegExp(Ja(e)),i=Object.getOwnPropertyNames(t).every(s=>o.test(s));return n&&i}else if(Ze(e.unevaluatedProperties)){let o=new RegExp(Ja(e)),i=Object.getOwnPropertyNames(t).every(s=>o.test(s)||Hr(e.unevaluatedProperties,r,t[s]));return n&&i}else return n}function r_(e,r,t){return Xh(t)}function n_(e,r,t){return t===e.const}function o_(e,r,t){return!1}function i_(e,r,t){return!Hr(e.not,r,t)}function a_(e,r,t){return Ua(t)}function s_(e,r,t){return!(!mt.IsNumberLike(t)||je(e.exclusiveMaximum)&&!(t<e.exclusiveMaximum)||je(e.exclusiveMinimum)&&!(t>e.exclusiveMinimum)||je(e.minimum)&&!(t>=e.minimum)||je(e.maximum)&&!(t<=e.maximum)||je(e.multipleOf)&&t%e.multipleOf!==0)}function u_(e,r,t){if(!mt.IsObjectLike(t)||je(e.minProperties)&&!(Object.getOwnPropertyNames(t).length>=e.minProperties)||je(e.maxProperties)&&!(Object.getOwnPropertyNames(t).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let o of n){let i=e.properties[o];if(e.required&&e.required.includes(o)){if(!Hr(i,r,t[o])||(Ka(i)||Hk(i))&&!(o in t))return!1}else if(mt.IsExactOptionalProperty(t,o)&&!Hr(i,r,t[o]))return!1}if(e.additionalProperties===!1){let o=Object.getOwnPropertyNames(t);return e.required&&e.required.length===n.length&&o.length===n.length?!0:o.every(i=>n.includes(i))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(t).every(i=>n.includes(i)||Hr(e.additionalProperties,r,t[i])):!0}function l_(e,r,t){return Jh(t)}function c_(e,r,t){if(!mt.IsRecordLike(t)||je(e.minProperties)&&!(Object.getOwnPropertyNames(t).length>=e.minProperties)||je(e.maxProperties)&&!(Object.getOwnPropertyNames(t).length<=e.maxProperties))return!1;let[n,o]=Object.entries(e.patternProperties)[0],i=new RegExp(n),s=Object.entries(t).every(([c,d])=>i.test(c)?Hr(o,r,d):!0),u=typeof e.additionalProperties=="object"?Object.entries(t).every(([c,d])=>i.test(c)?!0:Hr(e.additionalProperties,r,d)):!0,l=e.additionalProperties===!1?Object.getOwnPropertyNames(t).every(c=>i.test(c)):!0;return s&&u&&l}function p_(e,r,t){return Hr(Qe(e,r),r,t)}function d_(e,r,t){let n=new RegExp(e.source,e.flags);return je(e.minLength)&&!(t.length>=e.minLength)||je(e.maxLength)&&!(t.length<=e.maxLength)?!1:n.test(t)}function m_(e,r,t){return!He(t)||je(e.minLength)&&!(t.length>=e.minLength)||je(e.maxLength)&&!(t.length<=e.maxLength)||je(e.pattern)&&!new RegExp(e.pattern).test(t)?!1:je(e.format)?Bn.Has(e.format)?Bn.Get(e.format)(t):!1:!0}function f_(e,r,t){return Ga(t)}function h_(e,r,t){return He(t)&&new RegExp(e.pattern).test(t)}function g_(e,r,t){return Hr(Qe(e,r),r,t)}function y_(e,r,t){if(!Me(t)||e.items===void 0&&t.length!==0||t.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!Hr(e.items[n],r,t[n]))return!1;return!0}function b_(e,r,t){return Wt(t)}function v_(e,r,t){return e.anyOf.some(n=>Hr(n,r,t))}function x_(e,r,t){return!(!Pc(t)||je(e.maxByteLength)&&!(t.length<=e.maxByteLength)||je(e.minByteLength)&&!(t.length>=e.minByteLength))}function I_(e,r,t){return!0}function E_(e,r,t){return mt.IsVoidLike(t)}function C_(e,r,t){return Ar.Has(e[j])?Ar.Get(e[j])(e,t):!1}function Hr(e,r,t){let n=je(e.$id)?[...r,e]:r,o=e;switch(o[j]){case"Any":return Zk(o,n,t);case"Array":return Wk(o,n,t);case"AsyncIterator":return Xk(o,n,t);case"BigInt":return Jk(o,n,t);case"Boolean":return Yk(o,n,t);case"Constructor":return Kk(o,n,t);case"Date":return qk(o,n,t);case"Function":return Qk(o,n,t);case"Integer":return e_(o,n,t);case"Intersect":return t_(o,n,t);case"Iterator":return r_(o,n,t);case"Literal":return n_(o,n,t);case"Never":return o_(o,n,t);case"Not":return i_(o,n,t);case"Null":return a_(o,n,t);case"Number":return s_(o,n,t);case"Object":return u_(o,n,t);case"Promise":return l_(o,n,t);case"Record":return c_(o,n,t);case"Ref":return p_(o,n,t);case"RegExp":return d_(o,n,t);case"String":return m_(o,n,t);case"Symbol":return f_(o,n,t);case"TemplateLiteral":return h_(o,n,t);case"This":return g_(o,n,t);case"Tuple":return y_(o,n,t);case"Undefined":return b_(o,n,t);case"Union":return v_(o,n,t);case"Uint8Array":return x_(o,n,t);case"Unknown":return I_(o,n,t);case"Void":return E_(o,n,t);default:if(!Ar.Has(o[j]))throw new wv(o);return C_(o,n,t)}}function Le(...e){return e.length===3?Hr(e[0],e[1],e[2]):Hr(e[0],[],e[1])}var U;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(U||(U={}));var Fv=class extends Se{constructor(r){super("Unknown type"),this.schema=r}};function qa(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function Ue(e){return e!==void 0}var Mo=class{constructor(r){this.iterator=r}[Symbol.iterator](){return this.iterator}First(){let r=this.iterator.next();return r.done?void 0:r.value}};function ee(e,r,t,n,o=[]){return{type:e,schema:r,path:t,value:n,message:e5()({errorType:e,path:t,schema:r,value:n,errors:o}),errors:o}}function*S_(e,r,t,n){}function*D_(e,r,t,n){if(!Me(n))return yield ee(U.Array,e,t,n);Ue(e.minItems)&&!(n.length>=e.minItems)&&(yield ee(U.ArrayMinItems,e,t,n)),Ue(e.maxItems)&&!(n.length<=e.maxItems)&&(yield ee(U.ArrayMaxItems,e,t,n));for(let s=0;s<n.length;s++)yield*Zr(e.items,r,`${t}/${s}`,n[s]);if(e.uniqueItems===!0&&!function(){let s=new Set;for(let u of n){let l=eu(u);if(s.has(l))return!1;s.add(l)}return!0}()&&(yield ee(U.ArrayUniqueItems,e,t,n)),!(Ue(e.contains)||Ue(e.minContains)||Ue(e.maxContains)))return;let o=Ue(e.contains)?e.contains:gt(),i=n.reduce((s,u,l)=>Zr(o,r,`${t}${l}`,u).next().done===!0?s+1:s,0);i===0&&(yield ee(U.ArrayContains,e,t,n)),ye(e.minContains)&&i<e.minContains&&(yield ee(U.ArrayMinContains,e,t,n)),ye(e.maxContains)&&i>e.maxContains&&(yield ee(U.ArrayMaxContains,e,t,n))}function*T_(e,r,t,n){Wh(n)||(yield ee(U.AsyncIterator,e,t,n))}function*w_(e,r,t,n){if(!Gr(n))return yield ee(U.BigInt,e,t,n);Ue(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield ee(U.BigIntExclusiveMaximum,e,t,n)),Ue(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield ee(U.BigIntExclusiveMinimum,e,t,n)),Ue(e.maximum)&&!(n<=e.maximum)&&(yield ee(U.BigIntMaximum,e,t,n)),Ue(e.minimum)&&!(n>=e.minimum)&&(yield ee(U.BigIntMinimum,e,t,n)),Ue(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield ee(U.BigIntMultipleOf,e,t,n))}function*F_(e,r,t,n){Ji(n)||(yield ee(U.Boolean,e,t,n))}function*M_(e,r,t,n){yield*Zr(e.returns,r,t,n.prototype)}function*A_(e,r,t,n){if(!mn(n))return yield ee(U.Date,e,t,n);Ue(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield ee(U.DateExclusiveMaximumTimestamp,e,t,n)),Ue(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield ee(U.DateExclusiveMinimumTimestamp,e,t,n)),Ue(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield ee(U.DateMaximumTimestamp,e,t,n)),Ue(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield ee(U.DateMinimumTimestamp,e,t,n)),Ue(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield ee(U.DateMultipleOfTimestamp,e,t,n))}function*O_(e,r,t,n){Zs(n)||(yield ee(U.Function,e,t,n))}function*B_(e,r,t,n){if(!Yh(n))return yield ee(U.Integer,e,t,n);Ue(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield ee(U.IntegerExclusiveMaximum,e,t,n)),Ue(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield ee(U.IntegerExclusiveMinimum,e,t,n)),Ue(e.maximum)&&!(n<=e.maximum)&&(yield ee(U.IntegerMaximum,e,t,n)),Ue(e.minimum)&&!(n>=e.minimum)&&(yield ee(U.IntegerMinimum,e,t,n)),Ue(e.multipleOf)&&n%e.multipleOf!==0&&(yield ee(U.IntegerMultipleOf,e,t,n))}function*P_(e,r,t,n){let o=!1;for(let i of e.allOf)for(let s of Zr(i,r,t,n))o=!0,yield s;if(o)return yield ee(U.Intersect,e,t,n);if(e.unevaluatedProperties===!1){let i=new RegExp(Ja(e));for(let s of Object.getOwnPropertyNames(n))i.test(s)||(yield ee(U.IntersectUnevaluatedProperties,e,`${t}/${s}`,n))}if(typeof e.unevaluatedProperties=="object"){let i=new RegExp(Ja(e));for(let s of Object.getOwnPropertyNames(n))if(!i.test(s)){let u=Zr(e.unevaluatedProperties,r,`${t}/${s}`,n[s]).next();u.done||(yield u.value)}}}function*k_(e,r,t,n){Xh(n)||(yield ee(U.Iterator,e,t,n))}function*__(e,r,t,n){n!==e.const&&(yield ee(U.Literal,e,t,n))}function*L_(e,r,t,n){yield ee(U.Never,e,t,n)}function*R_(e,r,t,n){Zr(e.not,r,t,n).next().done===!0&&(yield ee(U.Not,e,t,n))}function*N_(e,r,t,n){Ua(n)||(yield ee(U.Null,e,t,n))}function*$_(e,r,t,n){if(!mt.IsNumberLike(n))return yield ee(U.Number,e,t,n);Ue(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield ee(U.NumberExclusiveMaximum,e,t,n)),Ue(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield ee(U.NumberExclusiveMinimum,e,t,n)),Ue(e.maximum)&&!(n<=e.maximum)&&(yield ee(U.NumberMaximum,e,t,n)),Ue(e.minimum)&&!(n>=e.minimum)&&(yield ee(U.NumberMinimum,e,t,n)),Ue(e.multipleOf)&&n%e.multipleOf!==0&&(yield ee(U.NumberMultipleOf,e,t,n))}function*j_(e,r,t,n){if(!mt.IsObjectLike(n))return yield ee(U.Object,e,t,n);Ue(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield ee(U.ObjectMinProperties,e,t,n)),Ue(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield ee(U.ObjectMaxProperties,e,t,n));let o=Array.isArray(e.required)?e.required:[],i=Object.getOwnPropertyNames(e.properties),s=Object.getOwnPropertyNames(n);for(let u of o)s.includes(u)||(yield ee(U.ObjectRequiredProperty,e.properties[u],`${t}/${qa(u)}`,void 0));if(e.additionalProperties===!1)for(let u of s)i.includes(u)||(yield ee(U.ObjectAdditionalProperties,e,`${t}/${qa(u)}`,n[u]));if(typeof e.additionalProperties=="object")for(let u of s)i.includes(u)||(yield*Zr(e.additionalProperties,r,`${t}/${qa(u)}`,n[u]));for(let u of i){let l=e.properties[u];e.required&&e.required.includes(u)?(yield*Zr(l,r,`${t}/${qa(u)}`,n[u]),Ka(e)&&!(u in n)&&(yield ee(U.ObjectRequiredProperty,l,`${t}/${qa(u)}`,void 0))):mt.IsExactOptionalProperty(n,u)&&(yield*Zr(l,r,`${t}/${qa(u)}`,n[u]))}}function*U_(e,r,t,n){Jh(n)||(yield ee(U.Promise,e,t,n))}function*G_(e,r,t,n){if(!mt.IsRecordLike(n))return yield ee(U.Object,e,t,n);Ue(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield ee(U.ObjectMinProperties,e,t,n)),Ue(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield ee(U.ObjectMaxProperties,e,t,n));let[o,i]=Object.entries(e.patternProperties)[0],s=new RegExp(o);for(let[u,l]of Object.entries(n))s.test(u)&&(yield*Zr(i,r,`${t}/${qa(u)}`,l));if(typeof e.additionalProperties=="object")for(let[u,l]of Object.entries(n))s.test(u)||(yield*Zr(e.additionalProperties,r,`${t}/${qa(u)}`,l));if(e.additionalProperties===!1){for(let[u,l]of Object.entries(n))if(!s.test(u))return yield ee(U.ObjectAdditionalProperties,e,`${t}/${qa(u)}`,l)}}function*z_(e,r,t,n){yield*Zr(Qe(e,r),r,t,n)}function*V_(e,r,t,n){if(!He(n))return yield ee(U.String,e,t,n);if(Ue(e.minLength)&&!(n.length>=e.minLength)&&(yield ee(U.StringMinLength,e,t,n)),Ue(e.maxLength)&&!(n.length<=e.maxLength)&&(yield ee(U.StringMaxLength,e,t,n)),!new RegExp(e.source,e.flags).test(n))return yield ee(U.RegExp,e,t,n)}function*H_(e,r,t,n){if(!He(n))return yield ee(U.String,e,t,n);Ue(e.minLength)&&!(n.length>=e.minLength)&&(yield ee(U.StringMinLength,e,t,n)),Ue(e.maxLength)&&!(n.length<=e.maxLength)&&(yield ee(U.StringMaxLength,e,t,n)),He(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield ee(U.StringPattern,e,t,n))),He(e.format)&&(Bn.Has(e.format)?Bn.Get(e.format)(n)||(yield ee(U.StringFormat,e,t,n)):yield ee(U.StringFormatUnknown,e,t,n))}function*Z_(e,r,t,n){Ga(n)||(yield ee(U.Symbol,e,t,n))}function*W_(e,r,t,n){if(!He(n))return yield ee(U.String,e,t,n);new RegExp(e.pattern).test(n)||(yield ee(U.StringPattern,e,t,n))}function*X_(e,r,t,n){yield*Zr(Qe(e,r),r,t,n)}function*J_(e,r,t,n){if(!Me(n))return yield ee(U.Tuple,e,t,n);if(e.items===void 0&&n.length!==0)return yield ee(U.TupleLength,e,t,n);if(n.length!==e.maxItems)return yield ee(U.TupleLength,e,t,n);if(e.items)for(let o=0;o<e.items.length;o++)yield*Zr(e.items[o],r,`${t}/${o}`,n[o])}function*Y_(e,r,t,n){Wt(n)||(yield ee(U.Undefined,e,t,n))}function*K_(e,r,t,n){if(Le(e,r,n))return;let o=e.anyOf.map(i=>new Mo(Zr(i,r,t,n)));yield ee(U.Union,e,t,n,o)}function*q_(e,r,t,n){if(!Pc(n))return yield ee(U.Uint8Array,e,t,n);Ue(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield ee(U.Uint8ArrayMaxByteLength,e,t,n)),Ue(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield ee(U.Uint8ArrayMinByteLength,e,t,n))}function*Q_(e,r,t,n){}function*eL(e,r,t,n){mt.IsVoidLike(n)||(yield ee(U.Void,e,t,n))}function*tL(e,r,t,n){Ar.Get(e[j])(e,n)||(yield ee(U.Kind,e,t,n))}function*Zr(e,r,t,n){let o=Ue(e.$id)?[...r,e]:r,i=e;switch(i[j]){case"Any":return yield*S_(i,o,t,n);case"Array":return yield*D_(i,o,t,n);case"AsyncIterator":return yield*T_(i,o,t,n);case"BigInt":return yield*w_(i,o,t,n);case"Boolean":return yield*F_(i,o,t,n);case"Constructor":return yield*M_(i,o,t,n);case"Date":return yield*A_(i,o,t,n);case"Function":return yield*O_(i,o,t,n);case"Integer":return yield*B_(i,o,t,n);case"Intersect":return yield*P_(i,o,t,n);case"Iterator":return yield*k_(i,o,t,n);case"Literal":return yield*__(i,o,t,n);case"Never":return yield*L_(i,o,t,n);case"Not":return yield*R_(i,o,t,n);case"Null":return yield*N_(i,o,t,n);case"Number":return yield*$_(i,o,t,n);case"Object":return yield*j_(i,o,t,n);case"Promise":return yield*U_(i,o,t,n);case"Record":return yield*G_(i,o,t,n);case"Ref":return yield*z_(i,o,t,n);case"RegExp":return yield*V_(i,o,t,n);case"String":return yield*H_(i,o,t,n);case"Symbol":return yield*Z_(i,o,t,n);case"TemplateLiteral":return yield*W_(i,o,t,n);case"This":return yield*X_(i,o,t,n);case"Tuple":return yield*J_(i,o,t,n);case"Undefined":return yield*Y_(i,o,t,n);case"Union":return yield*K_(i,o,t,n);case"Uint8Array":return yield*q_(i,o,t,n);case"Unknown":return yield*Q_(i,o,t,n);case"Void":return yield*eL(i,o,t,n);default:if(!Ar.Has(i[j]))throw new Fv(e);return yield*tL(i,o,t,n)}}function ea(...e){let r=e.length===3?Zr(e[0],e[1],"",e[2]):Zr(e[0],[],"",e[1]);return new Mo(r)}p();p();var rL=function(e,r,t,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!o:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,t):o?o.value=t:r.set(e,t),t},i5=function(e,r,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!n:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:r.get(e)},Mv,wg,a5,Av=class extends Se{constructor(r){let t=r.First();super(t===void 0?"Invalid Value":t.message),Mv.add(this),wg.set(this,void 0),rL(this,wg,r,"f"),this.error=t}Errors(){return new Mo(i5(this,Mv,"m",a5).call(this))}};wg=new WeakMap,Mv=new WeakSet,a5=function*(){this.error&&(yield this.error),yield*i5(this,wg,"f")};function o5(e,r,t){if(!Le(e,r,t))throw new Av(ea(e,r,t))}function Fg(...e){return e.length===3?o5(e[0],e[1],e[2]):o5(e[0],[],e[1])}p();p();p();function nL(e){let r={};for(let t of Object.getOwnPropertyNames(e))r[t]=et(e[t]);for(let t of Object.getOwnPropertySymbols(e))r[t]=et(e[t]);return r}function oL(e){return e.map(r=>et(r))}function iL(e){return e.slice()}function aL(e){return new Map(et([...e.entries()]))}function sL(e){return new Set(et([...e.entries()]))}function uL(e){return new Date(e.toISOString())}function et(e){if(Me(e))return oL(e);if(mn(e))return uL(e);if(Io(e))return iL(e);if(zE(e))return aL(e);if(VE(e))return sL(e);if(Be(e))return nL(e);if(zr(e))return e;throw new Error("ValueClone: Unable to clone value")}var Qn=class extends Se{constructor(r,t){super(t),this.schema=r}};function tt(e){return Zs(e)?e():et(e)}function lL(e,r){return Te(e,"default")?tt(e.default):{}}function cL(e,r){if(e.uniqueItems===!0&&!Te(e,"default"))throw new Qn(e,"Array with the uniqueItems constraint requires a default value");if("contains"in e&&!Te(e,"default"))throw new Qn(e,"Array with the contains constraint requires a default value");return"default"in e?tt(e.default):e.minItems!==void 0?Array.from({length:e.minItems}).map(t=>eo(e.items,r)):[]}function pL(e,r){return Te(e,"default")?tt(e.default):async function*(){}()}function dL(e,r){return Te(e,"default")?tt(e.default):BigInt(0)}function mL(e,r){return Te(e,"default")?tt(e.default):!1}function fL(e,r){if(Te(e,"default"))return tt(e.default);{let t=eo(e.returns,r);return typeof t=="object"&&!Array.isArray(t)?class{constructor(){for(let[n,o]of Object.entries(t)){let i=this;i[n]=o}}}:class{}}}function hL(e,r){return Te(e,"default")?tt(e.default):e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}function gL(e,r){return Te(e,"default")?tt(e.default):()=>eo(e.returns,r)}function yL(e,r){return Te(e,"default")?tt(e.default):e.minimum!==void 0?e.minimum:0}function bL(e,r){if(Te(e,"default"))return tt(e.default);{let t=e.allOf.reduce((n,o)=>{let i=eo(o,r);return typeof i=="object"?{...n,...i}:i},{});if(!Le(e,r,t))throw new Qn(e,"Intersect produced invalid value. Consider using a default value.");return t}}function vL(e,r){return Te(e,"default")?tt(e.default):function*(){}()}function xL(e,r){return Te(e,"default")?tt(e.default):e.const}function IL(e,r){if(Te(e,"default"))return tt(e.default);throw new Qn(e,"Never types cannot be created. Consider using a default value.")}function EL(e,r){if(Te(e,"default"))return tt(e.default);throw new Qn(e,"Not types must have a default value")}function CL(e,r){return Te(e,"default")?tt(e.default):null}function SL(e,r){return Te(e,"default")?tt(e.default):e.minimum!==void 0?e.minimum:0}function DL(e,r){if(Te(e,"default"))return tt(e.default);{let t=new Set(e.required),n={};for(let[o,i]of Object.entries(e.properties))t.has(o)&&(n[o]=eo(i,r));return n}}function TL(e,r){return Te(e,"default")?tt(e.default):Promise.resolve(eo(e.item,r))}function wL(e,r){let[t,n]=Object.entries(e.patternProperties)[0];if(Te(e,"default"))return tt(e.default);if(t===Wa||t===Za)return{};{let o=t.slice(1,t.length-1).split("|"),i={};for(let s of o)i[s]=eo(n,r);return i}}function FL(e,r){return Te(e,"default")?tt(e.default):eo(Qe(e,r),r)}function ML(e,r){if(Te(e,"default"))return tt(e.default);throw new Qn(e,"RegExp types cannot be created. Consider using a default value.")}function AL(e,r){if(e.pattern!==void 0){if(Te(e,"default"))return tt(e.default);throw new Qn(e,"String types with patterns must specify a default value")}else if(e.format!==void 0){if(Te(e,"default"))return tt(e.default);throw new Qn(e,"String types with formats must specify a default value")}else return Te(e,"default")?tt(e.default):e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>" ").join(""):""}function OL(e,r){return Te(e,"default")?tt(e.default):"value"in e?Symbol.for(e.value):Symbol()}function BL(e,r){if(Te(e,"default"))return tt(e.default);if(!tg(e))throw new Qn(e,"Can only create template literals that produce a finite variants. Consider using a default value.");return jc(e)[0]}function PL(e,r){if(s5++>UL)throw new Qn(e,"Cannot create recursive type as it appears possibly infinite. Consider using a default.");return Te(e,"default")?tt(e.default):eo(Qe(e,r),r)}function kL(e,r){return Te(e,"default")?tt(e.default):e.items===void 0?[]:Array.from({length:e.minItems}).map((t,n)=>eo(e.items[n],r))}function _L(e,r){if(Te(e,"default"))return tt(e.default)}function LL(e,r){if(Te(e,"default"))return tt(e.default);if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return eo(e.anyOf[0],r)}function RL(e,r){return Te(e,"default")?tt(e.default):e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}function NL(e,r){return Te(e,"default")?tt(e.default):{}}function $L(e,r){if(Te(e,"default"))return tt(e.default)}function jL(e,r){if(Te(e,"default"))return tt(e.default);throw new Error("User defined types must specify a default value")}function eo(e,r){let t=Fo(e,r),n=e;switch(n[j]){case"Any":return lL(n,t);case"Array":return cL(n,t);case"AsyncIterator":return pL(n,t);case"BigInt":return dL(n,t);case"Boolean":return mL(n,t);case"Constructor":return fL(n,t);case"Date":return hL(n,t);case"Function":return gL(n,t);case"Integer":return yL(n,t);case"Intersect":return bL(n,t);case"Iterator":return vL(n,t);case"Literal":return xL(n,t);case"Never":return IL(n,t);case"Not":return EL(n,t);case"Null":return CL(n,t);case"Number":return SL(n,t);case"Object":return DL(n,t);case"Promise":return TL(n,t);case"Record":return wL(n,t);case"Ref":return FL(n,t);case"RegExp":return ML(n,t);case"String":return AL(n,t);case"Symbol":return OL(n,t);case"TemplateLiteral":return BL(n,t);case"This":return PL(n,t);case"Tuple":return kL(n,t);case"Undefined":return _L(n,t);case"Union":return LL(n,t);case"Uint8Array":return RL(n,t);case"Unknown":return NL(n,t);case"Void":return $L(n,t);default:if(!Ar.Has(n[j]))throw new Qn(n,"Unknown type");return jL(n,t)}}var UL=512,s5=0;function Ao(...e){return s5=0,e.length===2?eo(e[0],e[1]):eo(e[0],[])}var Mg=class extends Se{constructor(r,t){super(t),this.schema=r}};function GL(e,r,t){if(e[j]==="Object"&&typeof t=="object"&&!Ua(t)){let n=e,o=Object.getOwnPropertyNames(t),i=Object.entries(n.properties),[s,u]=[1/i.length,i.length];return i.reduce((l,[c,d])=>{let f=d[j]==="Literal"&&d.const===t[c]?u:0,h=Le(d,r,t[c])?s:0,b=o.includes(c)?s:0;return l+(f+h+b)},0)}else return Le(e,r,t)?1:0}function zL(e,r,t){let n=e.anyOf.map(s=>Qe(s,r)),[o,i]=[n[0],0];for(let s of n){let u=GL(s,r,t);u>i&&(o=s,i=u)}return o}function VL(e,r,t){if("default"in e)return typeof t=="function"?e.default:et(e.default);{let n=zL(e,r,t);return Ov(n,r,t)}}function HL(e,r,t){return Le(e,r,t)?et(t):Ao(e,r)}function ZL(e,r,t){return Le(e,r,t)?t:Ao(e,r)}function WL(e,r,t){if(Le(e,r,t))return et(t);let n=Me(t)?et(t):Ao(e,r),o=ye(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,s=(ye(e.maxItems)&&o.length>e.maxItems?o.slice(0,e.maxItems):o).map(l=>ta(e.items,r,l));if(e.uniqueItems!==!0)return s;let u=[...new Set(s)];if(!Le(e,r,u))throw new Mg(e,"Array cast produced invalid data due to uniqueItems constraint");return u}function XL(e,r,t){if(Le(e,r,t))return Ao(e,r);let n=new Set(e.returns.required||[]),o=function(){};for(let[i,s]of Object.entries(e.returns.properties))!n.has(i)&&t.prototype[i]===void 0||(o.prototype[i]=ta(s,r,t.prototype[i]));return o}function JL(e,r,t){let n=Ao(e,r),o=Be(n)&&Be(t)?{...n,...t}:t;return Le(e,r,o)?o:Ao(e,r)}function YL(e,r,t){throw new Mg(e,"Never types cannot be cast")}function KL(e,r,t){if(Le(e,r,t))return t;if(t===null||typeof t!="object")return Ao(e,r);let n=new Set(e.required||[]),o={};for(let[i,s]of Object.entries(e.properties))!n.has(i)&&t[i]===void 0||(o[i]=ta(s,r,t[i]));if(typeof e.additionalProperties=="object"){let i=Object.getOwnPropertyNames(e.properties);for(let s of Object.getOwnPropertyNames(t))i.includes(s)||(o[s]=ta(e.additionalProperties,r,t[s]))}return o}function qL(e,r,t){if(Le(e,r,t))return et(t);if(t===null||typeof t!="object"||Array.isArray(t)||t instanceof Date)return Ao(e,r);let n=Object.getOwnPropertyNames(e.patternProperties)[0],o=e.patternProperties[n],i={};for(let[s,u]of Object.entries(t))i[s]=ta(o,r,u);return i}function QL(e,r,t){return ta(Qe(e,r),r,t)}function eR(e,r,t){return ta(Qe(e,r),r,t)}function tR(e,r,t){return Le(e,r,t)?et(t):Me(t)?e.items===void 0?[]:e.items.map((n,o)=>ta(n,r,t[o])):Ao(e,r)}function rR(e,r,t){return Le(e,r,t)?et(t):VL(e,r,t)}function ta(e,r,t){let n=He(e.$id)?[...r,e]:r,o=e;switch(e[j]){case"Array":return WL(o,n,t);case"Constructor":return XL(o,n,t);case"Intersect":return JL(o,n,t);case"Never":return YL(o,n,t);case"Object":return KL(o,n,t);case"Record":return qL(o,n,t);case"Ref":return QL(o,n,t);case"This":return eR(o,n,t);case"Tuple":return tR(o,n,t);case"Union":return rR(o,n,t);case"Date":case"Symbol":case"Uint8Array":return HL(e,r,t);default:return ZL(o,n,t)}}function Ov(...e){return e.length===3?ta(e[0],e[1],e[2]):ta(e[0],[],e[1])}p();function nR(e){return Xs(e)&&e[j]!=="Unsafe"}function oR(e,r,t){return Me(t)?t.map(n=>to(e.items,r,n)):t}function iR(e,r,t){let n=e.unevaluatedProperties,i=e.allOf.map(u=>to(u,r,et(t))).reduce((u,l)=>Be(l)?{...u,...l}:l,{});if(!Be(t)||!Be(i)||!Xs(n))return i;let s=Or(e);for(let u of Object.getOwnPropertyNames(t))s.includes(u)||Le(n,r,t[u])&&(i[u]=to(n,r,t[u]));return i}function aR(e,r,t){if(!Be(t)||Me(t))return t;let n=e.additionalProperties;for(let o of Object.getOwnPropertyNames(t)){if(Te(e.properties,o)){t[o]=to(e.properties[o],r,t[o]);continue}if(Xs(n)&&Le(n,r,t[o])){t[o]=to(n,r,t[o]);continue}delete t[o]}return t}function sR(e,r,t){if(!Be(t))return t;let n=e.additionalProperties,o=Object.getOwnPropertyNames(t),[i,s]=Object.entries(e.patternProperties)[0],u=new RegExp(i);for(let l of o){if(u.test(l)){t[l]=to(s,r,t[l]);continue}if(Xs(n)&&Le(n,r,t[l])){t[l]=to(n,r,t[l]);continue}delete t[l]}return t}function uR(e,r,t){return to(Qe(e,r),r,t)}function lR(e,r,t){return to(Qe(e,r),r,t)}function cR(e,r,t){if(!Me(t))return t;if(Wt(e.items))return[];let n=Math.min(t.length,e.items.length);for(let o=0;o<n;o++)t[o]=to(e.items[o],r,t[o]);return t.length>n?t.slice(0,n):t}function pR(e,r,t){for(let n of e.anyOf)if(nR(n)&&Le(n,r,t))return to(n,r,t);return t}function to(e,r,t){let n=He(e.$id)?[...r,e]:r,o=e;switch(o[j]){case"Array":return oR(o,n,t);case"Intersect":return iR(o,n,t);case"Object":return aR(o,n,t);case"Record":return sR(o,n,t);case"Ref":return uR(o,n,t);case"This":return lR(o,n,t);case"Tuple":return cR(o,n,t);case"Union":return pR(o,n,t);default:return t}}function Ag(...e){return e.length===3?to(e[0],e[1],e[2]):to(e[0],[],e[1])}p();function Og(e){return He(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}function dR(e){return Gr(e)||Ji(e)||ye(e)}function Zm(e){return e===!0||ye(e)&&e===1||Gr(e)&&e===BigInt("1")||He(e)&&(e.toLowerCase()==="true"||e==="1")}function Wm(e){return e===!1||ye(e)&&(e===0||Object.is(e,-0))||Gr(e)&&e===BigInt("0")||He(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}function mR(e){return He(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}function fR(e){return He(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}function hR(e){return He(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}function gR(e){return He(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}function yR(e){return He(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}function bR(e,r){let t=l5(e);return t===r?t:e}function vR(e,r){let t=c5(e);return t===r?t:e}function xR(e,r){let t=u5(e);return t===r?t:e}function IR(e,r){return He(e.const)?bR(r,e.const):ye(e.const)?vR(r,e.const):Ji(e.const)?xR(r,e.const):r}function u5(e){return Zm(e)?!0:Wm(e)?!1:e}function ER(e){let r=t=>t.split(".")[0];return Og(e)?BigInt(r(e)):ye(e)?BigInt(Math.trunc(e)):Wm(e)?BigInt(0):Zm(e)?BigInt(1):e}function l5(e){return dR(e)?e.toString():Ga(e)&&e.description!==void 0?e.description.toString():e}function c5(e){return Og(e)?parseFloat(e):Zm(e)?1:Wm(e)?0:e}function CR(e){return Og(e)?parseInt(e):ye(e)?e|0:Zm(e)?1:Wm(e)?0:e}function SR(e){return He(e)&&e.toLowerCase()==="null"?null:e}function DR(e){return He(e)&&e==="undefined"?void 0:e}function TR(e){return mn(e)?e:ye(e)?new Date(e):Zm(e)?new Date(1):Wm(e)?new Date(0):Og(e)?new Date(parseInt(e)):fR(e)?new Date(`1970-01-01T${e}.000Z`):mR(e)?new Date(`1970-01-01T${e}`):gR(e)?new Date(`${e}.000Z`):hR(e)?new Date(e):yR(e)?new Date(`${e}T00:00:00.000Z`):e}function wR(e,r,t){return(Me(t)?t:[t]).map(o=>ra(e.items,r,o))}function FR(e,r,t){return ER(t)}function MR(e,r,t){return u5(t)}function AR(e,r,t){return TR(t)}function OR(e,r,t){return CR(t)}function BR(e,r,t){return e.allOf.reduce((n,o)=>ra(o,r,n),t)}function PR(e,r,t){return IR(e,t)}function kR(e,r,t){return SR(t)}function _R(e,r,t){return c5(t)}function LR(e,r,t){if(!Be(t))return t;for(let n of Object.getOwnPropertyNames(e.properties))Te(t,n)&&(t[n]=ra(e.properties[n],r,t[n]));return t}function RR(e,r,t){if(!Be(t))return t;let o=Object.getOwnPropertyNames(e.patternProperties)[0],i=e.patternProperties[o];for(let[s,u]of Object.entries(t))t[s]=ra(i,r,u);return t}function NR(e,r,t){return ra(Qe(e,r),r,t)}function $R(e,r,t){return l5(t)}function jR(e,r,t){return He(t)||ye(t)?Symbol(t):t}function UR(e,r,t){return ra(Qe(e,r),r,t)}function GR(e,r,t){return Me(t)&&!Wt(e.items)?t.map((o,i)=>i<e.items.length?ra(e.items[i],r,o):o):t}function zR(e,r,t){return DR(t)}function VR(e,r,t){for(let n of e.anyOf){let o=ra(n,r,et(t));if(Le(n,r,o))return o}return t}function ra(e,r,t){let n=Fo(e,r),o=e;switch(e[j]){case"Array":return wR(o,n,t);case"BigInt":return FR(o,n,t);case"Boolean":return MR(o,n,t);case"Date":return AR(o,n,t);case"Integer":return OR(o,n,t);case"Intersect":return BR(o,n,t);case"Literal":return PR(o,n,t);case"Null":return kR(o,n,t);case"Number":return _R(o,n,t);case"Object":return LR(o,n,t);case"Record":return RR(o,n,t);case"Ref":return NR(o,n,t);case"String":return $R(o,n,t);case"Symbol":return jR(o,n,t);case"This":return UR(o,n,t);case"Tuple":return GR(o,n,t);case"Undefined":return zR(o,n,t);case"Union":return VR(o,n,t);default:return t}}function Bg(...e){return e.length===3?ra(e[0],e[1],e[2]):ra(e[0],[],e[1])}p();p();var rp=class extends Se{constructor(r,t,n){super("Unable to decode value as it does not match the expected schema"),this.schema=r,this.value=t,this.error=n}},tl=class extends Se{constructor(r,t,n,o){super(o instanceof Error?o.message:"Unknown error"),this.schema=r,this.path=t,this.value=n,this.error=o}};function Xt(e,r,t){try{return Pt(e)?e[jt].Decode(t):t}catch(n){throw new tl(e,r,t,n)}}function HR(e,r,t,n){return Me(n)?Xt(e,t,n.map((o,i)=>na(e.items,r,`${t}/${i}`,o))):Xt(e,t,n)}function ZR(e,r,t,n){if(!Be(n)||zr(n))return Xt(e,t,n);let o=Ks(e),i=o.map(d=>d[0]),s={...n};for(let[d,f]of o)d in s&&(s[d]=na(f,r,`${t}/${d}`,s[d]));if(!Pt(e.unevaluatedProperties))return Xt(e,t,s);let u=Object.getOwnPropertyNames(s),l=e.unevaluatedProperties,c={...s};for(let d of u)i.includes(d)||(c[d]=Xt(l,`${t}/${d}`,c[d]));return Xt(e,t,c)}function WR(e,r,t,n){return Xt(e,t,na(e.not,r,t,n))}function XR(e,r,t,n){if(!Be(n))return Xt(e,t,n);let o=Or(e),i={...n};for(let c of o)Te(i,c)&&(Wt(i[c])&&(!_c(e.properties[c])||mt.IsExactOptionalProperty(i,c))||(i[c]=na(e.properties[c],r,`${t}/${c}`,i[c])));if(!Ze(e.additionalProperties))return Xt(e,t,i);let s=Object.getOwnPropertyNames(i),u=e.additionalProperties,l={...i};for(let c of s)o.includes(c)||(l[c]=Xt(u,`${t}/${c}`,l[c]));return Xt(e,t,l)}function JR(e,r,t,n){if(!Be(n))return Xt(e,t,n);let o=Object.getOwnPropertyNames(e.patternProperties)[0],i=new RegExp(o),s={...n};for(let d of Object.getOwnPropertyNames(n))i.test(d)&&(s[d]=na(e.patternProperties[o],r,`${t}/${d}`,s[d]));if(!Ze(e.additionalProperties))return Xt(e,t,s);let u=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let d of u)i.test(d)||(c[d]=Xt(l,`${t}/${d}`,c[d]));return Xt(e,t,c)}function YR(e,r,t,n){let o=Qe(e,r);return Xt(e,t,na(o,r,t,n))}function KR(e,r,t,n){let o=Qe(e,r);return Xt(e,t,na(o,r,t,n))}function qR(e,r,t,n){return Me(n)&&Me(e.items)?Xt(e,t,e.items.map((o,i)=>na(o,r,`${t}/${i}`,n[i]))):Xt(e,t,n)}function QR(e,r,t,n){for(let o of e.anyOf){if(!Le(o,r,n))continue;let i=na(o,r,t,n);return Xt(e,t,i)}return Xt(e,t,n)}function na(e,r,t,n){let o=Fo(e,r),i=e;switch(e[j]){case"Array":return HR(i,o,t,n);case"Intersect":return ZR(i,o,t,n);case"Not":return WR(i,o,t,n);case"Object":return XR(i,o,t,n);case"Record":return JR(i,o,t,n);case"Ref":return YR(i,o,t,n);case"Symbol":return Xt(i,t,n);case"This":return KR(i,o,t,n);case"Tuple":return qR(i,o,t,n);case"Union":return QR(i,o,t,n);default:return Xt(i,t,n)}}function np(e,r,t){return na(e,r,"",t)}p();var op=class extends Se{constructor(r,t,n){super("The encoded value does not match the expected schema"),this.schema=r,this.value=t,this.error=n}},rl=class extends Se{constructor(r,t,n,o){super(`${o instanceof Error?o.message:"Unknown error"}`),this.schema=r,this.path=t,this.value=n,this.error=o}};function un(e,r,t){try{return Pt(e)?e[jt].Encode(t):t}catch(n){throw new rl(e,r,t,n)}}function eN(e,r,t,n){let o=un(e,t,n);return Me(o)?o.map((i,s)=>oa(e.items,r,`${t}/${s}`,i)):o}function tN(e,r,t,n){let o=un(e,t,n);if(!Be(n)||zr(n))return o;let i=Ks(e),s=i.map(f=>f[0]),u={...o};for(let[f,h]of i)f in u&&(u[f]=oa(h,r,`${t}/${f}`,u[f]));if(!Pt(e.unevaluatedProperties))return u;let l=Object.getOwnPropertyNames(u),c=e.unevaluatedProperties,d={...u};for(let f of l)s.includes(f)||(d[f]=un(c,`${t}/${f}`,d[f]));return d}function rN(e,r,t,n){return un(e.not,t,un(e,t,n))}function nN(e,r,t,n){let o=un(e,t,n);if(!Be(o))return o;let i=Or(e),s={...o};for(let d of i)Te(s,d)&&(Wt(s[d])&&(!_c(e.properties[d])||mt.IsExactOptionalProperty(s,d))||(s[d]=oa(e.properties[d],r,`${t}/${d}`,s[d])));if(!Ze(e.additionalProperties))return s;let u=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let d of u)i.includes(d)||(c[d]=un(l,`${t}/${d}`,c[d]));return c}function oN(e,r,t,n){let o=un(e,t,n);if(!Be(n))return o;let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),u={...o};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(u[f]=oa(e.patternProperties[i],r,`${t}/${f}`,u[f]));if(!Ze(e.additionalProperties))return u;let l=Object.getOwnPropertyNames(u),c=e.additionalProperties,d={...u};for(let f of l)s.test(f)||(d[f]=un(c,`${t}/${f}`,d[f]));return d}function iN(e,r,t,n){let o=Qe(e,r),i=oa(o,r,t,n);return un(e,t,i)}function aN(e,r,t,n){let o=Qe(e,r),i=oa(o,r,t,n);return un(e,t,i)}function sN(e,r,t,n){let o=un(e,t,n);return Me(e.items)?e.items.map((i,s)=>oa(i,r,`${t}/${s}`,o[s])):[]}function uN(e,r,t,n){for(let o of e.anyOf){if(!Le(o,r,n))continue;let i=oa(o,r,t,n);return un(e,t,i)}for(let o of e.anyOf){let i=oa(o,r,t,n);if(Le(e,r,i))return un(e,t,i)}return un(e,t,n)}function oa(e,r,t,n){let o=Fo(e,r),i=e;switch(e[j]){case"Array":return eN(i,o,t,n);case"Intersect":return tN(i,o,t,n);case"Not":return rN(i,o,t,n);case"Object":return nN(i,o,t,n);case"Record":return oN(i,o,t,n);case"Ref":return iN(i,o,t,n);case"This":return aN(i,o,t,n);case"Tuple":return sN(i,o,t,n);case"Union":return uN(i,o,t,n);default:return un(i,t,n)}}function Pg(e,r,t){return oa(e,r,"",t)}p();function lN(e,r){return Pt(e)||Br(e.items,r)}function cN(e,r){return Pt(e)||Br(e.items,r)}function pN(e,r){return Pt(e)||Br(e.returns,r)||e.parameters.some(t=>Br(t,r))}function dN(e,r){return Pt(e)||Br(e.returns,r)||e.parameters.some(t=>Br(t,r))}function mN(e,r){return Pt(e)||Pt(e.unevaluatedProperties)||e.allOf.some(t=>Br(t,r))}function fN(e,r){return Pt(e)||Br(e.items,r)}function hN(e,r){return Pt(e)||Br(e.not,r)}function gN(e,r){return Pt(e)||Object.values(e.properties).some(t=>Br(t,r))||Ze(e.additionalProperties)&&Br(e.additionalProperties,r)}function yN(e,r){return Pt(e)||Br(e.item,r)}function bN(e,r){let t=Object.getOwnPropertyNames(e.patternProperties)[0],n=e.patternProperties[t];return Pt(e)||Br(n,r)||Ze(e.additionalProperties)&&Pt(e.additionalProperties)}function vN(e,r){return Pt(e)?!0:Br(Qe(e,r),r)}function xN(e,r){return Pt(e)?!0:Br(Qe(e,r),r)}function IN(e,r){return Pt(e)||!Wt(e.items)&&e.items.some(t=>Br(t,r))}function EN(e,r){return Pt(e)||e.anyOf.some(t=>Br(t,r))}function Br(e,r){let t=Fo(e,r),n=e;if(e.$id&&Bv.has(e.$id))return!1;switch(e.$id&&Bv.add(e.$id),e[j]){case"Array":return lN(n,t);case"AsyncIterator":return cN(n,t);case"Constructor":return pN(n,t);case"Function":return dN(n,t);case"Intersect":return mN(n,t);case"Iterator":return fN(n,t);case"Not":return hN(n,t);case"Object":return gN(n,t);case"Promise":return yN(n,t);case"Record":return bN(n,t);case"Ref":return vN(n,t);case"This":return xN(n,t);case"Tuple":return IN(n,t);case"Union":return EN(n,t);default:return Pt(e)}}var Bv=new Set;function ia(e,r){return Bv.clear(),Br(e,r)}function p5(...e){let[r,t,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!Le(r,t,n))throw new rp(r,n,ea(r,t,n).First());return ia(r,t)?np(r,t,n):n}p();function Qa(e,r){let t=Te(e,"default")?e.default:void 0,n=Zs(t)?t():et(t);return Wt(r)?n:Be(r)&&Be(n)?Object.assign(n,r):r}function Pv(e){return Xs(e)&&"default"in e}function CN(e,r,t){let n=Qa(e,t);if(!Me(n))return n;for(let o=0;o<n.length;o++)n[o]=ro(e.items,r,n[o]);return n}function SN(e,r,t){return mn(t)?t:Qa(e,t)}function DN(e,r,t){let n=Qa(e,t);return e.allOf.reduce((o,i)=>{let s=ro(i,r,n);return Be(s)?{...o,...s}:s},{})}function TN(e,r,t){let n=Qa(e,t);if(!Be(n))return n;let o=Object.getOwnPropertyNames(e.properties);for(let i of o){let s=ro(e.properties[i],r,n[i]);Wt(s)||(n[i]=ro(e.properties[i],r,n[i]))}if(!Pv(e.additionalProperties))return n;for(let i of Object.getOwnPropertyNames(n))o.includes(i)||(n[i]=ro(e.additionalProperties,r,n[i]));return n}function wN(e,r,t){let n=Qa(e,t);if(!Be(n))return n;let o=e.additionalProperties,[i,s]=Object.entries(e.patternProperties)[0],u=new RegExp(i);for(let l of Object.getOwnPropertyNames(n))u.test(l)&&Pv(s)&&(n[l]=ro(s,r,n[l]));if(!Pv(o))return n;for(let l of Object.getOwnPropertyNames(n))u.test(l)||(n[l]=ro(o,r,n[l]));return n}function FN(e,r,t){return ro(Qe(e,r),r,Qa(e,t))}function MN(e,r,t){return ro(Qe(e,r),r,t)}function AN(e,r,t){let n=Qa(e,t);if(!Me(n)||Wt(e.items))return n;let[o,i]=[e.items,Math.max(e.items.length,n.length)];for(let s=0;s<i;s++)s<o.length&&(n[s]=ro(o[s],r,n[s]));return n}function ON(e,r,t){let n=Qa(e,t);for(let o of e.anyOf){let i=ro(o,r,et(n));if(Le(o,r,i))return i}return n}function ro(e,r,t){let n=Fo(e,r),o=e;switch(o[j]){case"Array":return CN(o,n,t);case"Date":return SN(o,n,t);case"Intersect":return DN(o,n,t);case"Object":return TN(o,n,t);case"Record":return wN(o,n,t);case"Ref":return FN(o,n,t);case"This":return MN(o,n,t);case"Tuple":return AN(o,n,t);case"Union":return ON(o,n,t);default:return Qa(o,t)}}function kg(...e){return e.length===3?ro(e[0],e[1],e[2]):ro(e[0],[],e[1])}p();p();var ai={};$s(ai,{Delete:()=>PN,Format:()=>Xm,Get:()=>_N,Has:()=>kN,Set:()=>BN,ValuePointerRootDeleteError:()=>Lg,ValuePointerRootSetError:()=>_g});p();var _g=class extends Se{constructor(r,t,n){super("Cannot set root value"),this.value=r,this.path=t,this.update=n}},Lg=class extends Se{constructor(r,t){super("Cannot delete root value"),this.value=r,this.path=t}};function d5(e){return e.indexOf("~")===-1?e:e.replace(/~1/g,"/").replace(/~0/g,"~")}function*Xm(e){if(e==="")return;let[r,t]=[0,0];for(let n=0;n<e.length;n++)e.charAt(n)==="/"?(n===0||(t=n,yield d5(e.slice(r,t))),r=n+1):t=n;yield d5(e.slice(r))}function BN(e,r,t){if(r==="")throw new _g(e,r,t);let[n,o,i]=[null,e,""];for(let s of Xm(r))o[s]===void 0&&(o[s]={}),n=o,o=o[s],i=s;n[i]=t}function PN(e,r){if(r==="")throw new Lg(e,r);let[t,n,o]=[null,e,""];for(let i of Xm(r)){if(n[i]===void 0||n[i]===null)return;t=n,n=n[i],o=i}if(Array.isArray(t)){let i=parseInt(o);t.splice(i,1)}else delete t[o]}function kN(e,r){if(r==="")return!0;let[t,n,o]=[null,e,""];for(let i of Xm(r)){if(n[i]===void 0)return!1;t=n,n=n[i],o=i}return Object.getOwnPropertyNames(t).includes(o)}function _N(e,r){if(r==="")return e;let t=e;for(let n of Xm(r)){if(t[n]===void 0)return;t=t[n]}return t}p();function LN(e,r){if(!Be(r))return!1;let t=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];return t.length!==n.length?!1:t.every(o=>nl(e[o],r[o]))}function RN(e,r){return mn(r)&&e.getTime()===r.getTime()}function NN(e,r){return!Me(r)||e.length!==r.length?!1:e.every((t,n)=>nl(t,r[n]))}function $N(e,r){return!Io(r)||e.length!==r.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(r).constructor.name?!1:e.every((t,n)=>nl(t,r[n]))}function jN(e,r){return e===r}function nl(e,r){if(mn(e))return RN(e,r);if(Io(e))return $N(e,r);if(Me(e))return NN(e,r);if(Be(e))return LN(e,r);if(zr(e))return jN(e,r);throw new Error("ValueEquals: Unable to compare value")}var UN=Ct({type:lt("insert"),path:Co(),value:Ya()}),GN=Ct({type:lt("update"),path:Co(),value:Ya()}),zN=Ct({type:lt("delete"),path:Co()}),f5=yt([UN,GN,zN]),Rg=class extends Se{constructor(r,t){super(t),this.value=r}};function Ng(e,r){return{type:"update",path:e,value:r}}function h5(e,r){return{type:"insert",path:e,value:r}}function g5(e){return{type:"delete",path:e}}function m5(e){if(globalThis.Object.getOwnPropertySymbols(e).length>0)throw new Rg(e,"Cannot diff objects with symbols")}function*VN(e,r,t){if(m5(r),m5(t),!Lb(t))return yield Ng(e,t);let n=globalThis.Object.getOwnPropertyNames(r),o=globalThis.Object.getOwnPropertyNames(t);for(let i of o)Te(r,i)||(yield h5(`${e}/${i}`,t[i]));for(let i of n)Te(t,i)&&(nl(r,t)||(yield*$g(`${e}/${i}`,r[i],t[i])));for(let i of n)Te(t,i)||(yield g5(`${e}/${i}`))}function*HN(e,r,t){if(!Me(t))return yield Ng(e,t);for(let n=0;n<Math.min(r.length,t.length);n++)yield*$g(`${e}/${n}`,r[n],t[n]);for(let n=0;n<t.length;n++)n<r.length||(yield h5(`${e}/${n}`,t[n]));for(let n=r.length-1;n>=0;n--)n<t.length||(yield g5(`${e}/${n}`))}function*ZN(e,r,t){if(!Io(t)||r.length!==t.length||globalThis.Object.getPrototypeOf(r).constructor.name!==globalThis.Object.getPrototypeOf(t).constructor.name)return yield Ng(e,t);for(let n=0;n<Math.min(r.length,t.length);n++)yield*$g(`${e}/${n}`,r[n],t[n])}function*WN(e,r,t){r!==t&&(yield Ng(e,t))}function*$g(e,r,t){if(Lb(r))return yield*VN(e,r,t);if(Me(r))return yield*HN(e,r,t);if(Io(r))return yield*ZN(e,r,t);if(zr(r))return yield*WN(e,r,t);throw new Rg(r,"Unable to diff value")}function y5(e,r){return[...$g("",e,r)]}function XN(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}function JN(e){return e.length===0}function b5(e,r){if(XN(r))return et(r[0].value);if(JN(r))return et(e);let t=et(e);for(let n of r)switch(n.type){case"insert":{ai.Set(t,n.path,n.value);break}case"update":{ai.Set(t,n.path,n.value);break}case"delete":{ai.Delete(t,n.path);break}}return t}p();function v5(...e){let[r,t,n]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]],o=ia(r,t)?Pg(r,t,n):n;if(!Le(r,t,o))throw new op(r,o,ea(r,t,o).First());return o}p();var jg=class extends Se{constructor(r){super(r)}};function YN(e,r,t,n){if(!Be(t))ai.Set(e,r,et(n));else{let o=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(n);for(let s of o)i.includes(s)||delete t[s];for(let s of i)o.includes(s)||(t[s]=null);for(let s of i)kv(e,`${r}/${s}`,t[s],n[s])}}function KN(e,r,t,n){if(!Me(t))ai.Set(e,r,et(n));else{for(let o=0;o<n.length;o++)kv(e,`${r}/${o}`,t[o],n[o]);t.splice(n.length)}}function qN(e,r,t,n){if(Io(t)&&t.length===n.length)for(let o=0;o<t.length;o++)t[o]=n[o];else ai.Set(e,r,et(n))}function QN(e,r,t,n){t!==n&&ai.Set(e,r,n)}function kv(e,r,t,n){if(Me(n))return KN(e,r,t,n);if(Io(n))return qN(e,r,t,n);if(Be(n))return YN(e,r,t,n);if(zr(n))return QN(e,r,t,n)}function x5(e){return Io(e)||zr(e)}function e$(e,r){return Be(e)&&Me(r)||Me(e)&&Be(r)}function I5(e,r){if(x5(e)||x5(r))throw new jg("Only object and array types can be mutated at the root level");if(e$(e,r))throw new jg("Cannot assign due type mismatch of assignable values");kv(e,"",e,r)}p();var t$=[(e,r,t)=>et(t),(e,r,t)=>kg(e,r,t),(e,r,t)=>Ag(e,r,t),(e,r,t)=>Bg(e,r,t),(e,r,t)=>(Fg(e,r,t),t),(e,r,t)=>ia(e,r)?np(e,r,t):t];function E5(e,r,t){return t$.reduce((n,o)=>o(e,r,n),t)}function C5(...e){return e.length===3?E5(e[0],e[1],e[2]):E5(e[0],[],e[1])}p();var si={};$s(si,{Assert:()=>Fg,Cast:()=>Ov,Check:()=>Le,Clean:()=>Ag,Clone:()=>et,Convert:()=>Bg,Create:()=>Ao,Decode:()=>p5,Default:()=>kg,Diff:()=>y5,Edit:()=>f5,Encode:()=>v5,Equal:()=>nl,Errors:()=>ea,Hash:()=>eu,Mutate:()=>I5,Parse:()=>C5,Patch:()=>b5,ValueErrorIterator:()=>Mo});p();p();var S5={},r$=function(e,r,t,n,o){var i=new Worker(S5[r]||(S5[r]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return i.onmessage=function(s){var u=s.data,l=u.$e$;if(l){var c=new Error(l[0]);c.code=l[1],c.stack=l[2],o(c,null)}else o(null,u)},i.postMessage(t,n),i},St=Uint8Array,gn=Uint16Array,qm=Int32Array,lp=new St([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cp=new St([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Jm=new St([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w5=function(e,r){for(var t=new gn(31),n=0;n<31;++n)t[n]=r+=1<<e[n-1];for(var o=new qm(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)o[i]=i-t[n]<<5|n;return{b:t,r:o}},F5=w5(lp,2),jv=F5.b,Hg=F5.r;jv[28]=258,Hg[258]=28;var M5=w5(cp,0),A5=M5.b,Lv=M5.r,Ym=new gn(32768);for(ct=0;ct<32768;++ct)es=(ct&43690)>>1|(ct&21845)<<1,es=(es&52428)>>2|(es&13107)<<2,es=(es&61680)>>4|(es&3855)<<4,Ym[ct]=((es&65280)>>8|(es&255)<<8)>>1;var es,ct,Bo=function(e,r,t){for(var n=e.length,o=0,i=new gn(r);o<n;++o)e[o]&&++i[e[o]-1];var s=new gn(r);for(o=1;o<r;++o)s[o]=s[o-1]+i[o-1]<<1;var u;if(t){u=new gn(1<<r);var l=15-r;for(o=0;o<n;++o)if(e[o])for(var c=o<<4|e[o],d=r-e[o],f=s[e[o]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)u[Ym[f]>>l]=c}else for(u=new gn(n),o=0;o<n;++o)e[o]&&(u[o]=Ym[s[e[o]-1]++]>>15-e[o]);return u},ts=new St(288);for(ct=0;ct<144;++ct)ts[ct]=8;var ct;for(ct=144;ct<256;++ct)ts[ct]=9;var ct;for(ct=256;ct<280;++ct)ts[ct]=7;var ct;for(ct=280;ct<288;++ct)ts[ct]=8;var ct,sp=new St(32);for(ct=0;ct<32;++ct)sp[ct]=5;var ct,O5=Bo(ts,9,0),B5=Bo(ts,9,1),P5=Bo(sp,5,0),k5=Bo(sp,5,1),Gg=function(e){for(var r=e[0],t=1;t<e.length;++t)e[t]>r&&(r=e[t]);return r},Oo=function(e,r,t){var n=r/8|0;return(e[n]|e[n+1]<<8)>>(r&7)&t},zg=function(e,r){var t=r/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(r&7)},Qm=function(e){return(e+7)/8|0},tu=function(e,r,t){return(r==null||r<0)&&(r=0),(t==null||t>e.length)&&(t=e.length),new St(e.subarray(r,t))},Jg={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},_5=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jt=function(e,r,t){var n=new Error(r||_5[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Jt),!t)throw n;return n},L5=function(e,r,t,n){var o=e.length,i=n?n.length:0;if(!o||r.f&&!r.l)return t||new St(0);var s=!t,u=s||r.i!=2,l=r.i;s&&(t=new St(o*3));var c=function(O){var Q=t.length;if(O>Q){var X=new St(Math.max(Q*2,O));X.set(t),t=X}},d=r.f||0,f=r.p||0,h=r.b||0,b=r.l,I=r.d,E=r.m,v=r.n,x=o*8;do{if(!b){d=Oo(e,f,1);var D=Oo(e,f+1,3);if(f+=3,D)if(D==1)b=B5,I=k5,E=9,v=5;else if(D==2){var P=Oo(e,f,31)+257,L=Oo(e,f+10,15)+4,N=P+Oo(e,f+5,31)+1;f+=14;for(var $=new St(N),W=new St(19),V=0;V<L;++V)W[Jm[V]]=Oo(e,f+V*3,7);f+=L*3;for(var q=Gg(W),se=(1<<q)-1,ue=Bo(W,q,1),V=0;V<N;){var ce=ue[Oo(e,f,se)];f+=ce&15;var w=ce>>4;if(w<16)$[V++]=w;else{var de=0,Ee=0;for(w==16?(Ee=3+Oo(e,f,3),f+=2,de=$[V-1]):w==17?(Ee=3+Oo(e,f,7),f+=3):w==18&&(Ee=11+Oo(e,f,127),f+=7);Ee--;)$[V++]=de}}var he=$.subarray(0,P),ne=$.subarray(P);E=Gg(he),v=Gg(ne),b=Bo(he,E,1),I=Bo(ne,v,1)}else Jt(1);else{var w=Qm(f)+4,S=e[w-4]|e[w-3]<<8,F=w+S;if(F>o){l&&Jt(0);break}u&&c(h+S),t.set(e.subarray(w,F),h),r.b=h+=S,r.p=f=F*8,r.f=d;continue}if(f>x){l&&Jt(0);break}}u&&c(h+131072);for(var Ce=(1<<E)-1,xe=(1<<v)-1,Re=f;;Re=f){var de=b[zg(e,f)&Ce],we=de>>4;if(f+=de&15,f>x){l&&Jt(0);break}if(de||Jt(2),we<256)t[h++]=we;else if(we==256){Re=f,b=null;break}else{var Ve=we-254;if(we>264){var V=we-257,me=lp[V];Ve=Oo(e,f,(1<<me)-1)+jv[V],f+=me}var at=I[zg(e,f)&xe],xt=at>>4;at||Jt(3),f+=at&15;var ne=A5[xt];if(xt>3){var me=cp[xt];ne+=zg(e,f)&(1<<me)-1,f+=me}if(f>x){l&&Jt(0);break}u&&c(h+131072);var Ot=h+Ve;if(h<ne){var A=i-ne,Z=Math.min(ne,Ot);for(A+h<0&&Jt(3);h<Z;++h)t[h]=n[A+h]}for(;h<Ot;++h)t[h]=t[h-ne]}}r.l=b,r.p=Re,r.b=h,r.f=d,b&&(d=1,r.m=E,r.d=I,r.n=v)}while(!d);return h!=t.length&&s?tu(t,0,h):t.subarray(0,h)},aa=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8},ip=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8,e[n+2]|=t>>16},Vg=function(e,r){for(var t=[],n=0;n<e.length;++n)e[n]&&t.push({s:n,f:e[n]});var o=t.length,i=t.slice();if(!o)return{t:Gv,l:0};if(o==1){var s=new St(t[0].s+1);return s[t[0].s]=1,{t:s,l:1}}t.sort(function(F,P){return F.f-P.f}),t.push({s:-1,f:25001});var u=t[0],l=t[1],c=0,d=1,f=2;for(t[0]={s:-1,f:u.f+l.f,l:u,r:l};d!=o-1;)u=t[t[c].f<t[f].f?c++:f++],l=t[c!=d&&t[c].f<t[f].f?c++:f++],t[d++]={s:-1,f:u.f+l.f,l:u,r:l};for(var h=i[0].s,n=1;n<o;++n)i[n].s>h&&(h=i[n].s);var b=new gn(h+1),I=Zg(t[d-1],b,0);if(I>r){var n=0,E=0,v=I-r,x=1<<v;for(i.sort(function(P,L){return b[L.s]-b[P.s]||P.f-L.f});n<o;++n){var D=i[n].s;if(b[D]>r)E+=x-(1<<I-b[D]),b[D]=r;else break}for(E>>=v;E>0;){var w=i[n].s;b[w]<r?E-=1<<r-b[w]++-1:++n}for(;n>=0&&E;--n){var S=i[n].s;b[S]==r&&(--b[S],++E)}I=r}return{t:new St(b),l:I}},Zg=function(e,r,t){return e.s==-1?Math.max(Zg(e.l,r,t+1),Zg(e.r,r,t+1)):r[e.s]=t},Rv=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new gn(++r),n=0,o=e[0],i=1,s=function(l){t[n++]=l},u=1;u<=r;++u)if(e[u]==o&&u!=r)++i;else{if(!o&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(o),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(o);i=1,o=e[u]}return{c:t.subarray(0,n),n:r}},ap=function(e,r){for(var t=0,n=0;n<r.length;++n)t+=e[n]*r[n];return t},Uv=function(e,r,t){var n=t.length,o=Qm(r+2);e[o]=n&255,e[o+1]=n>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var i=0;i<n;++i)e[o+i+4]=t[i];return(o+4+n)*8},Nv=function(e,r,t,n,o,i,s,u,l,c,d){aa(r,d++,t),++o[256];for(var f=Vg(o,15),h=f.t,b=f.l,I=Vg(i,15),E=I.t,v=I.l,x=Rv(h),D=x.c,w=x.n,S=Rv(E),F=S.c,P=S.n,L=new gn(19),N=0;N<D.length;++N)++L[D[N]&31];for(var N=0;N<F.length;++N)++L[F[N]&31];for(var $=Vg(L,7),W=$.t,V=$.l,q=19;q>4&&!W[Jm[q-1]];--q);var se=c+5<<3,ue=ap(o,ts)+ap(i,sp)+s,ce=ap(o,h)+ap(i,E)+s+14+3*q+ap(L,W)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&se<=ue&&se<=ce)return Uv(r,d,e.subarray(l,l+c));var de,Ee,he,ne;if(aa(r,d,1+(ce<ue)),d+=2,ce<ue){de=Bo(h,b,0),Ee=h,he=Bo(E,v,0),ne=E;var Ce=Bo(W,V,0);aa(r,d,w-257),aa(r,d+5,P-1),aa(r,d+10,q-4),d+=14;for(var N=0;N<q;++N)aa(r,d+3*N,W[Jm[N]]);d+=3*q;for(var xe=[D,F],Re=0;Re<2;++Re)for(var we=xe[Re],N=0;N<we.length;++N){var Ve=we[N]&31;aa(r,d,Ce[Ve]),d+=W[Ve],Ve>15&&(aa(r,d,we[N]>>5&127),d+=we[N]>>12)}}else de=O5,Ee=ts,he=P5,ne=sp;for(var N=0;N<u;++N){var me=n[N];if(me>255){var Ve=me>>18&31;ip(r,d,de[Ve+257]),d+=Ee[Ve+257],Ve>7&&(aa(r,d,me>>23&31),d+=lp[Ve]);var at=me&31;ip(r,d,he[at]),d+=ne[at],at>3&&(ip(r,d,me>>5&8191),d+=cp[at])}else ip(r,d,de[me]),d+=Ee[me]}return ip(r,d,de[256]),d+Ee[256]},R5=new qm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Gv=new St(0),N5=function(e,r,t,n,o,i){var s=i.z||e.length,u=new St(n+s+5*(1+Math.ceil(s/7e3))+o),l=u.subarray(n,u.length-o),c=i.l,d=(i.r||0)&7;if(r){d&&(l[0]=i.r>>3);for(var f=R5[r-1],h=f>>13,b=f&8191,I=(1<<t)-1,E=i.p||new gn(32768),v=i.h||new gn(I+1),x=Math.ceil(t/3),D=2*x,w=function(Y){return(e[Y]^e[Y+1]<<x^e[Y+2]<<D)&I},S=new qm(25e3),F=new gn(288),P=new gn(32),L=0,N=0,$=i.i||0,W=0,V=i.w||0,q=0;$+2<s;++$){var se=w($),ue=$&32767,ce=v[se];if(E[ue]=ce,v[se]=ue,V<=$){var de=s-$;if((L>7e3||W>24576)&&(de>423||!c)){d=Nv(e,l,0,S,F,P,N,W,q,$-q,d),W=L=N=0,q=$;for(var Ee=0;Ee<286;++Ee)F[Ee]=0;for(var Ee=0;Ee<30;++Ee)P[Ee]=0}var he=2,ne=0,Ce=b,xe=ue-ce&32767;if(de>2&&se==w($-xe))for(var Re=Math.min(h,de)-1,we=Math.min(32767,$),Ve=Math.min(258,de);xe<=we&&--Ce&&ue!=ce;){if(e[$+he]==e[$+he-xe]){for(var me=0;me<Ve&&e[$+me]==e[$+me-xe];++me);if(me>he){if(he=me,ne=xe,me>Re)break;for(var at=Math.min(xe,me-2),xt=0,Ee=0;Ee<at;++Ee){var Ot=$-xe+Ee&32767,A=E[Ot],Z=Ot-A&32767;Z>xt&&(xt=Z,ce=Ot)}}}ue=ce,ce=E[ue],xe+=ue-ce&32767}if(ne){S[W++]=268435456|Hg[he]<<18|Lv[ne];var O=Hg[he]&31,Q=Lv[ne]&31;N+=lp[O]+cp[Q],++F[257+O],++P[Q],V=$+he,++L}else S[W++]=e[$],++F[e[$]]}}for($=Math.max($,V);$<s;++$)S[W++]=e[$],++F[e[$]];d=Nv(e,l,c,S,F,P,N,W,q,$-q,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=v,i.p=E,i.i=$,i.w=V)}else{for(var $=i.w||0;$<s+c;$+=65535){var X=$+65535;X>=s&&(l[d/8|0]=c,X=s),d=Uv(l,d+1,e.subarray($,X))}i.i=s}return tu(u,0,n+Qm(d)+o)},n$=function(){for(var e=new Int32Array(256),r=0;r<256;++r){for(var t=r,n=9;--n;)t=(t&1&&-306674912)^t>>>1;e[r]=t}return e}(),$5=function(){var e=-1;return{p:function(r){for(var t=e,n=0;n<r.length;++n)t=n$[t&255^r[n]]^t>>>8;e=t},d:function(){return~e}}};var j5=function(e,r,t,n,o){if(!o&&(o={l:1},r.dictionary)){var i=r.dictionary.subarray(-32768),s=new St(i.length+e.length);s.set(i),s.set(e,i.length),e=s,o.w=i.length}return N5(e,r.level==null?6:r.level,r.mem==null?o.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,n,o)},Yg=function(e,r){var t={};for(var n in e)t[n]=e[n];for(var n in r)t[n]=r[n];return t},D5=function(e,r,t){for(var n=e(),o=e.toString(),i=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<n.length;++s){var u=n[s],l=i[s];if(typeof u=="function"){r+=";"+l+"=";var c=u.toString();if(u.prototype)if(c.indexOf("[native code]")!=-1){var d=c.indexOf(" ",8)+1;r+=c.slice(d,c.indexOf("(",d))}else{r+=c;for(var f in u.prototype)r+=";"+l+".prototype."+f+"="+u.prototype[f].toString()}else r+=c}else t[l]=u}return r},Ug=[],o$=function(e){var r=[];for(var t in e)e[t].buffer&&r.push((e[t]=new e[t].constructor(e[t])).buffer);return r},i$=function(e,r,t,n){if(!Ug[t]){for(var o="",i={},s=e.length-1,u=0;u<s;++u)o=D5(e[u],o,i);Ug[t]={c:D5(e[s],o,i),e:i}}var l=Yg({},Ug[t].e);return r$(Ug[t].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+r.toString()+"}",t,l,o$(l),n)},a$=function(){return[St,gn,qm,lp,cp,Jm,jv,A5,B5,k5,Ym,_5,Bo,Gg,Oo,zg,Qm,tu,Jt,L5,Qg,Kg,U5]},s$=function(){return[St,gn,qm,lp,cp,Jm,Hg,Lv,O5,ts,P5,sp,Ym,R5,Gv,Bo,aa,ip,Vg,Zg,Rv,ap,Uv,Nv,Qm,tu,N5,j5,qg,Kg]};var Kg=function(e){return postMessage(e,[e.buffer])},U5=function(e){return e&&{out:e.size&&new St(e.size),dictionary:e.dictionary}},G5=function(e,r,t,n,o,i){var s=i$(t,n,o,function(u,l){s.terminate(),i(u,l)});return s.postMessage([e,r],r.consume?[e.buffer]:[]),function(){s.terminate()}};var ui=function(e,r){return e[r]|e[r+1]<<8},Xr=function(e,r){return(e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24)>>>0},_v=function(e,r){return Xr(e,r)+Xr(e,r+4)*4294967296},Wr=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8};function u$(e,r,t){return t||(t=r,r={}),typeof t!="function"&&Jt(7),G5(e,r,[s$],function(n){return Kg(qg(n.data[0],n.data[1]))},0,t)}function qg(e,r){return j5(e,r||{},0,0)}function l$(e,r,t){return t||(t=r,r={}),typeof t!="function"&&Jt(7),G5(e,r,[a$],function(n){return Kg(Qg(n.data[0],U5(n.data[1])))},1,t)}function Qg(e,r){return L5(e,{i:2},r&&r.out,r&&r.dictionary)}var zv=function(e,r,t,n){for(var o in e){var i=e[o],s=r+o,u=n;Array.isArray(i)&&(u=Yg(n,i[1]),i=i[0]),i instanceof St?t[s]=[i,u]:(t[s+="/"]=[new St(0),u],zv(i,s,t,n))}},T5=typeof TextEncoder<"u"&&new TextEncoder,$v=typeof TextDecoder<"u"&&new TextDecoder,c$=0;try{$v.decode(Gv,{stream:!0}),c$=1}catch{}var p$=function(e){for(var r="",t=0;;){var n=e[t++],o=(n>127)+(n>223)+(n>239);if(t+o>e.length)return{s:r,r:tu(e,t-1)};o?o==3?(n=((n&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,r+=String.fromCharCode(55296|n>>10,56320|n&1023)):o&1?r+=String.fromCharCode((n&31)<<6|e[t++]&63):r+=String.fromCharCode((n&15)<<12|(e[t++]&63)<<6|e[t++]&63):r+=String.fromCharCode(n)}};function up(e,r){if(r){for(var t=new St(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}if(T5)return T5.encode(e);for(var o=e.length,i=new St(e.length+(e.length>>1)),s=0,u=function(d){i[s++]=d},n=0;n<o;++n){if(s+5>i.length){var l=new St(s+8+(o-n<<1));l.set(i),i=l}var c=e.charCodeAt(n);c<128||r?u(c):c<2048?(u(192|c>>6),u(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|e.charCodeAt(++n)&1023,u(240|c>>18),u(128|c>>12&63),u(128|c>>6&63),u(128|c&63)):(u(224|c>>12),u(128|c>>6&63),u(128|c&63))}return tu(i,0,s)}function Vv(e,r){if(r){for(var t="",n=0;n<e.length;n+=16384)t+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return t}else{if($v)return $v.decode(e);var o=p$(e),i=o.s,t=o.r;return t.length&&Jt(8),i}}var z5=function(e,r){return r+30+ui(e,r+26)+ui(e,r+28)},V5=function(e,r,t){var n=ui(e,r+28),o=Vv(e.subarray(r+46,r+46+n),!(ui(e,r+8)&2048)),i=r+46+n,s=Xr(e,r+20),u=t&&s==4294967295?d$(e,i):[s,Xr(e,r+24),Xr(e,r+42)],l=u[0],c=u[1],d=u[2];return[ui(e,r+10),l,c,o,i+ui(e,r+30)+ui(e,r+32),d]},d$=function(e,r){for(;ui(e,r)!=1;r+=4+ui(e,r+2));return[_v(e,r+12),_v(e,r+4),_v(e,r+20)]},Km=function(e){var r=0;if(e)for(var t in e){var n=e[t].length;n>65535&&Jt(9),r+=n+4}return r},Wg=function(e,r,t,n,o,i,s,u){var l=n.length,c=t.extra,d=u&&u.length,f=Km(c);Wr(e,r,s!=null?33639248:67324752),r+=4,s!=null&&(e[r++]=20,e[r++]=t.os),e[r]=20,r+=2,e[r++]=t.flag<<1|(i<0&&8),e[r++]=o&&8,e[r++]=t.compression&255,e[r++]=t.compression>>8;var h=new Date(t.mtime==null?Date.now():t.mtime),b=h.getFullYear()-1980;if((b<0||b>119)&&Jt(10),Wr(e,r,b<<25|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>1),r+=4,i!=-1&&(Wr(e,r,t.crc),Wr(e,r+4,i<0?-i-2:i),Wr(e,r+8,t.size)),Wr(e,r+12,l),Wr(e,r+14,f),r+=16,s!=null&&(Wr(e,r,d),Wr(e,r+6,t.attrs),Wr(e,r+10,s),r+=14),e.set(n,r),r+=l,f)for(var I in c){var E=c[I],v=E.length;Wr(e,r,+I),Wr(e,r+2,v),e.set(E,r+4),r+=4+v}return d&&(e.set(u,r),r+=d),r},H5=function(e,r,t,n,o){Wr(e,r,101010256),Wr(e,r+8,t),Wr(e,r+10,t),Wr(e,r+12,n),Wr(e,r+16,o)};function Z5(e,r,t){t||(t=r,r={}),typeof t!="function"&&Jt(7);var n={};zv(e,"",n,r);var o=Object.keys(n),i=o.length,s=0,u=0,l=i,c=new Array(i),d=[],f=function(){for(var v=0;v<d.length;++v)d[v]()},h=function(v,x){Xg(function(){t(v,x)})};Xg(function(){h=t});var b=function(){var v=new St(u+22),x=s,D=u-s;u=0;for(var w=0;w<l;++w){var S=c[w];try{var F=S.c.length;Wg(v,u,S,S.f,S.u,F);var P=30+S.f.length+Km(S.extra),L=u+P;v.set(S.c,L),Wg(v,s,S,S.f,S.u,F,u,S.m),s+=16+P+(S.m?S.m.length:0),u=L+F}catch(N){return h(N,null)}}H5(v,s,c.length,D,x),h(null,v)};i||b();for(var I=function(v){var x=o[v],D=n[x],w=D[0],S=D[1],F=$5(),P=w.length;F.p(w);var L=up(x),N=L.length,$=S.comment,W=$&&up($),V=W&&W.length,q=Km(S.extra),se=S.level==0?0:8,ue=function(ce,de){if(ce)f(),h(ce,null);else{var Ee=de.length;c[v]=Yg(S,{size:P,crc:F.d(),c:de,f:L,m:W,u:N!=x.length||W&&$.length!=V,compression:se}),s+=30+N+q+Ee,u+=76+2*(N+q)+(V||0)+Ee,--i||b()}};if(N>65535&&ue(Jt(11,0,1),null),!se)ue(null,w);else if(P<16e4)try{ue(null,qg(w,S))}catch(ce){ue(ce,null)}else d.push(u$(w,S,ue))},E=0;E<l;++E)I(E);return f}function W5(e,r){r||(r={});var t={},n=[];zv(e,"",t,r);var o=0,i=0;for(var s in t){var u=t[s],l=u[0],c=u[1],d=c.level==0?0:8,f=up(s),h=f.length,b=c.comment,I=b&&up(b),E=I&&I.length,v=Km(c.extra);h>65535&&Jt(11);var x=d?qg(l,c):l,D=x.length,w=$5();w.p(l),n.push(Yg(c,{size:l.length,crc:w.d(),c:x,f,m:I,u:h!=s.length||I&&b.length!=E,o,compression:d})),o+=30+h+v+D,i+=76+2*(h+v)+(E||0)+D}for(var S=new St(i+22),F=o,P=i-o,L=0;L<n.length;++L){var f=n[L];Wg(S,f.o,f,f.f,f.u,f.c.length);var N=30+f.f.length+Km(f.extra);S.set(f.c,f.o+N),Wg(S,o,f,f.f,f.u,f.c.length,f.o,f.m),o+=16+N+(f.m?f.m.length:0)}return H5(S,o,n.length,P,F),S}var Xg=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(e){e()};function X5(e,r,t){t||(t=r,r={}),typeof t!="function"&&Jt(7);var n=[],o=function(){for(var v=0;v<n.length;++v)n[v]()},i={},s=function(v,x){Xg(function(){t(v,x)})};Xg(function(){s=t});for(var u=e.length-22;Xr(e,u)!=101010256;--u)if(!u||e.length-u>65558)return s(Jt(13,0,1),null),o;var l=ui(e,u+8);if(l){var c=l,d=Xr(e,u+16),f=d==4294967295||c==65535;if(f){var h=Xr(e,u-12);f=Xr(e,h)==101075792,f&&(c=l=Xr(e,h+32),d=Xr(e,h+48))}for(var b=r&&r.filter,I=function(v){var x=V5(e,d,f),D=x[0],w=x[1],S=x[2],F=x[3],P=x[4],L=x[5],N=z5(e,L);d=P;var $=function(V,q){V?(o(),s(V,null)):(q&&(i[F]=q),--l||s(null,i))};if(!b||b({name:F,size:w,originalSize:S,compression:D}))if(!D)$(null,tu(e,N,N+w));else if(D==8){var W=e.subarray(N,N+w);if(S<524288||w>.8*S)try{$(null,Qg(W,{out:new St(S)}))}catch(V){$(V,null)}else n.push(l$(W,{size:S},$))}else $(Jt(14,"unknown compression type "+D,1),null);else $(null,null)},E=0;E<c;++E)I(E)}else s(null,{});return o}function J5(e,r){for(var t={},n=e.length-22;Xr(e,n)!=101010256;--n)(!n||e.length-n>65558)&&Jt(13);var o=ui(e,n+8);if(!o)return{};var i=Xr(e,n+16),s=i==4294967295||o==65535;if(s){var u=Xr(e,n-12);s=Xr(e,u)==101075792,s&&(o=Xr(e,u+32),i=Xr(e,u+48))}for(var l=r&&r.filter,c=0;c<o;++c){var d=V5(e,i,s),f=d[0],h=d[1],b=d[2],I=d[3],E=d[4],v=d[5],x=z5(e,v);i=E,(!l||l({name:I,size:h,originalSize:b,compression:f}))&&(f?f==8?t[I]=Qg(e.subarray(x,x+h),{out:new St(b)}):Jt(14,"unknown compression type "+f):t[I]=tu(e,x,x+h))}return t}p();var m$=e=>{if(e!=null)return e.trim()===""?void 0:e},f$=e=>e!=null,ey=(e,r,t=0)=>{if(M.IsNull(e))return"null";if(M.IsUndefined(e))return"undefined";if(M.IsString(e))return"<string>";if(M.IsNumber(e))return"<number>";if(M.IsBoolean(e))return"<boolean>";if(M.IsLiteral(e))return typeof e.const=="string"?`'${e.const}'`:`${e.const}`;if(M.IsRef(e)){let n=r.find(o=>o.$id===e.$ref);return n==null?e.$ref:ey(n,r,t)}if(M.IsArray(e))return`${ey(e.items,r,t+1)}[]`;if(M.IsUnion(e)&&(!(e.anyOf.length>5)||e.$id==null)){let o=`${e.anyOf.map(i=>ey(i,r,t+1)).filter(f$).join(" | ")}`;return t>0?`(${o})`:o}return e.$id??""},h$=(e,r,t)=>{let n=r.message;return M.IsUnion(r.schema)&&(n=`Expected one of: ${ey(r.schema,t)}`),`${`#/definitions/${e}${m$(r.path)??""}`}: ${n}`},ty=(e,r,t)=>{let n=r.First();if(n!=null)return h$(e,n,t)};var pp;(function(e){e.Archive="Archive",e.Validate="Validate",e.Encode="Encode",e.Unknown="Unknown"})(pp||(pp={}));var dp=class extends Error{constructor(t,n){super(n);m(this,"name");m(this,"kind");this.name="CompressError",this.kind=t}},g$=e=>new dp(pp.Archive,e.message),y$=e=>{let r=Object.values(Jg);return e instanceof Error&&"code"in e&&typeof e.code=="number"&&r.includes(e.code)},b$=(e,r,t)=>new dp(pp.Validate,ty(e,r,t)??"Unknown validate error"),v$=e=>new dp(pp.Encode,e.message),x$=e=>new dp(pp.Unknown,e instanceof Error?e.message:String(e)),ef=(e,r,t)=>r instanceof rl?v$(r):r instanceof Mo?b$(e,r,t):y$(r)?g$(r):x$(r);p();var mp;(function(e){e.Unarchive="Unarchive",e.Validate="Validate",e.Decode="Decode",e.Unknown="Unknown"})(mp||(mp={}));var fp=class extends Error{constructor(t,n){super(n);m(this,"name");m(this,"kind");this.name="DecompressError",this.kind=t}},I$=e=>new fp(mp.Unarchive,e.message),E$=e=>{let r=Object.values(Jg);return e instanceof Error&&"code"in e&&typeof e.code=="number"&&r.includes(e.code)},C$=(e,r,t)=>new fp(mp.Validate,ty(e,r,t)??"Unknown validate error"),S$=e=>new fp(mp.Decode,e.message),D$=e=>new fp(mp.Unknown,e instanceof Error?e.message:String(e)),tf=(e,r,t)=>r instanceof tl?S$(r):r instanceof Mo?C$(e,r,t):E$(r)?I$(r):D$(r);var Y5=function*(e,r=""){if(e!=null){if(Array.isArray(e)){for(let t=0;t<e.length;t++)yield[r+`[${t}]`,e[t]];return}if("features"in e){for(let t=0;t<e.features.length;t++)yield[r===""?`features[${t}]`:`${r}.features[${t}]`,e.features[t]];return}for(let[t,n]of Object.entries(e)){let o=r===""?t:`${r}.${t}`;yield*Y5(n,o)}}},T$=(e,r)=>e===""?r:r.startsWith("[")?`${e}${r}`:`${e}.${r}`,rr=(e,r,t)=>{let n=new Set;for(let[o,i]of Y5(e)){let s=r(i);if(n.has(s))return oe({kind:Rn.DuplicateIdError,properties:{id:s,path:T$(t,o)}});n.add(s)}return te(!0)};var K5=e=>e.floors==null?oe({kind:Rn.FloorMissingError,properties:null}):rr(e.floors.features,r=>r.properties.id,"floors");var q5=g.Intersect([g.Object({id:g.Ref(ze),elevation:g.Integer({description:"An ordinal representing the elevation of this map relative to other maps in the stack."}),subtitle:g.Optional(g.String({description:"The subtitle of the floor."})),maxHeight:g.Optional(g.Number({description:"The maximum height of the floor in meters. This includes the thickness of the floor itself, up to the tallest point on any wall. If the floor does not have a consistent height (eg, one room on the floor has a vaulted ceiling, the rest do not), this value represents the highest point anywhere on the floor. Must be a positive number, or undefined.",minimum:0}))}),Kn],{$id:"FloorProperties"}),Q5=Vr(g.Union([g.Ref(Kc),g.Ref(qc),g.Null()]),g.Ref(q5),{$id:"FloorFeature"}),eD=hn(g.Ref(Q5),{$id:"FloorCollection"}),w$=g.Object({floors:g.Ref(eD)}),tD={name:"core:floors",intoBundle:function*(e){e.floors!=null&&(yield{path:"floors.geojson",contents:e.floors})},fromBundle:(e,r,t)=>{if(e==="floors.geojson")return{floors:t(r)}},integrityCheck:K5,schema:w$,references:[q5,Q5,eD]};p();p();var nr=e=>g.Unsafe(e);p();var Xe=e=>Object.keys(e);p();p();var F$=e=>new Map(e.floors?.features.map(r=>[r.properties.id,r])??[]),li=e=>{let r=F$(e);return n=>{let o=r.get(n);return o==null?oe({kind:Rn.UnknownFloorError,properties:{floorId:n}}):te(o)}};var rD=e=>{if(e.floors==null)return oe({kind:Rn.FloorMissingError,properties:null});if(e.geometry==null)return oe({kind:Rn.GeometryMissingError,properties:null});let r=rr(e.geometry,n=>n.properties.id,"geometry");if(r.isErr())return r;let t=li(e);for(let n of Xe(e.geometry)){let o=t(n);if(o.isErr())return o}return te(!0)};var nD=g.Intersect([g.Object({id:g.Ref(an)}),Kn],{$id:"GeometryProperties"}),oD=Vr(g.Union([g.Ref(on),g.Ref(vg),g.Ref(xg),g.Ref(Ig),g.Ref(Kc),g.Ref(qc)]),g.Ref(nD),{$id:"GeometryFeature"}),iD=hn(g.Ref(oD),{$id:"GeometryCollection"}),M$=g.Object({geometry:nr(g.Record(ze,g.Ref(iD),{additionalProperties:!1}))},{$id:"GeometrySchema"}),A$=/^geometry\/(.*)\.geojson$/,aD={name:"core:geometry",schema:M$,intoBundle:function*(e){if(e.geometry!=null)for(let r of Xe(e.geometry))yield{path:`geometry/${r}.geojson`,contents:e.geometry[r]}},fromBundle:(e,r,t)=>{let n=e.match(A$)?.[1];if(n)return{geometry:{[n]:t(r)}}},references:[nD,oD,iD],integrityCheck:rD};p();var Hv=g.Object({type:g.Literal("file"),name:g.String({description:"The name of the file."})},{$id:"ManifestFile"}),sD=g.Recursive(e=>g.Object({type:g.Literal("folder"),name:g.String({description:"The name of the folder."}),children:g.Array(g.Union([e,g.Ref(Hv)]),{minItems:1,description:"The children of the folder."})}),{$id:"ManifestFolder"}),uD=g.Object({name:g.String({description:"The name of the map."}),version:g.Literal("3.0.0",{description:"The version of the manifest."}),orgId:g.Optional(g.String({description:"The identifier of the organization that the map this MVF is for belongs to."})),mapId:g.Optional(g.String({description:"The identifier of the map that this MVF is for."})),contents:g.Array(g.Union([g.Ref(sD),g.Ref(Hv)]),{minItems:1,description:"The contents of the MVF bundle."}),time:g.String({format:"date-time",description:"An ISO 8601 date-time string, including timezone offset."}),tzid:g.Optional(g.Unsafe(g.String({description:"A valid IANA timezone identifier.",pattern:"^[A-Za-z0-9_-]+/[A-Za-z0-9_-]+$"}))),naturalBearing:g.Optional(g.Number({minimum:0,maximum:360,description:'The angle, in degrees, the map is considered to be "naturally oriented" as, rather than facing directly north. 90 degrees means East is "up"'})),defaultFloor:g.Optional(g.Ref(ze,{description:"The default floor ID of the map."})),language:g.Optional(g.String({description:"The language code of the map."}))},{$id:"ManifestProperties"}),lD=hn(Vr(on,g.Ref(uD)),{$id:"ManifestCollection"},{minItems:1,maxItems:1}),O$=g.Object({manifest:g.Ref(lD)}),cD={name:"core:manifest",intoBundle:function*(e){e.manifest!=null&&(yield{path:"manifest.geojson",contents:e.manifest})},fromBundle:(e,r,t)=>{if(e==="manifest.geojson")return{manifest:t(r)}},schema:O$,references:[Hv,sD,uD,lD]};p();p();p();p();var Zv=class extends Se{constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`);m(this,"schema");this.schema=t}};function B$(e,r){let t=r.find(n=>n.$id===e.$ref);if(t===void 0)throw new Zv(e);return ol(t,r)}function ry(e,r){return!Ye.IsString(e.$id)||r.some(t=>t.$id===e.$id)||r.push(e),r}function ol(e,r){return e[j]==="This"||e[j]==="Ref"?B$(e,r):e}p();function P$(e,r,t){let n=e.get(r);if(n!==void 0)return n;let o=ia(r,t);return e.set(r,o),o}function ny(){let e=new WeakMap;return{HasTransform:(r,t)=>P$(e,r,t)}}function Yt(e,r,t){try{return M.IsTransform(e)?e[jt].Decode(t):t}catch(n){throw new tl(e,r,t,n)}}function k$(e,r,t,n,o){return Ye.IsArray(n)?Yt(e,t,n.map((i,s)=>sa(e.items,r,`${t}/${s}`,i,o))):Yt(e,t,n)}function _$(e,r,t,n,o){if(!Ye.IsObject(n)||zr(n))return Yt(e,t,n);let i=Ks(e),s=i.map(f=>f[0]),u={...n};for(let[f,h]of i)f in u&&(u[f]=sa(h,r,`${t}/${f}`,u[f],o));if(!M.IsTransform(e.unevaluatedProperties))return Yt(e,t,u);let l=Object.getOwnPropertyNames(u),c=e.unevaluatedProperties,d={...u};for(let f of l)s.includes(f)||(d[f]=Yt(c,`${t}/${f}`,d[f]));return Yt(e,t,d)}function L$(e,r,t,n,o){return Yt(e,t,sa(e.not,r,t,n,o))}function R$(e,r,t,n,o){if(!Ye.IsObject(n))return Yt(e,t,n);let i=Or(e),s={...n};for(let d of i)Ye.HasPropertyKey(s,d)&&(Ye.IsUndefined(s[d])&&(!M.IsUndefined(e.properties[d])||mt.IsExactOptionalProperty(s,d))||(s[d]=sa(e.properties[d],r,`${t}/${d}`,s[d],o)));if(!M.IsSchema(e.additionalProperties))return Yt(e,t,s);let u=Object.getOwnPropertyNames(s),l=e.additionalProperties,c={...s};for(let d of u)i.includes(d)||(c[d]=Yt(l,`${t}/${d}`,c[d]));return Yt(e,t,c)}function N$(e,r,t,n,o){if(!Ye.IsObject(n))return Yt(e,t,n);let i=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(i),u={...n};for(let f of Object.getOwnPropertyNames(n))s.test(f)&&(u[f]=sa(e.patternProperties[i],r,`${t}/${f}`,u[f],o));if(!M.IsSchema(e.additionalProperties))return Yt(e,t,u);let l=Object.getOwnPropertyNames(u),c=e.additionalProperties,d={...u};for(let f of l)s.test(f)||(d[f]=Yt(c,`${t}/${f}`,d[f]));return Yt(e,t,d)}function $$(e,r,t,n,o){let i=ol(e,r);return Yt(e,t,sa(i,r,t,n,o))}function j$(e,r,t,n,o){let i=ol(e,r);return Yt(e,t,sa(i,r,t,n,o))}function U$(e,r,t,n,o){return Ye.IsArray(n)&&Ye.IsArray(e.items)?Yt(e,t,e.items.map((i,s)=>sa(i,r,`${t}/${s}`,n[s],o))):Yt(e,t,n)}function G$(e,r,t,n,o){for(let i of e.anyOf){if(!si.Check(i,r,n))continue;let s=sa(i,r,t,n,o);return Yt(e,t,s)}return Yt(e,t,n)}function sa(e,r,t,n,o){if(!o.HasTransform(e,r))return n;let i=ry(e,r),s=e;switch(e[j]){case"Array":return k$(s,i,t,n,o);case"Intersect":return _$(s,i,t,n,o);case"Not":return L$(s,i,t,n,o);case"Object":return R$(s,i,t,n,o);case"Record":return N$(s,i,t,n,o);case"Ref":return $$(s,i,t,n,o);case"Symbol":return Yt(s,t,n);case"This":return j$(s,i,t,n,o);case"Tuple":return U$(s,i,t,n,o);case"Union":return G$(s,i,t,n,o);default:return Yt(s,t,n)}}function pD(e,r,t){let n=ny();return sa(e,r,"",t,n)}p();function ln(e,r,t){try{return M.IsTransform(e)?e[jt].Encode(t):t}catch(n){throw new rl(e,r,t,n)}}function z$(e,r,t,n,o){let i=ln(e,t,n);return Ye.IsArray(i)?i.map((s,u)=>ua(e.items,r,`${t}/${u}`,s,o)):i}function V$(e,r,t,n,o){let i=ln(e,t,n);if(!Ye.IsObject(n)||zr(n))return i;let s=Ks(e),u=s.map(h=>h[0]),l={...i};for(let[h,b]of s)h in l&&(l[h]=ua(b,r,`${t}/${h}`,l[h],o));if(!M.IsTransform(e.unevaluatedProperties))return l;let c=Object.getOwnPropertyNames(l),d=e.unevaluatedProperties,f={...l};for(let h of c)u.includes(h)||(f[h]=ln(d,`${t}/${h}`,f[h]));return f}function H$(e,r,t,n){return ln(e.not,t,ln(e,t,n))}function Z$(e,r,t,n,o){let i=ln(e,t,n);if(!Ye.IsObject(i))return i;let s=Or(e),u={...i};for(let f of s)Ye.HasPropertyKey(u,f)&&(Ye.IsUndefined(u[f])&&(!M.IsUndefined(e.properties[f])||mt.IsExactOptionalProperty(u,f))||(u[f]=ua(e.properties[f],r,`${t}/${f}`,u[f],o)));if(!M.IsSchema(e.additionalProperties))return u;let l=Object.getOwnPropertyNames(u),c=e.additionalProperties,d={...u};for(let f of l)s.includes(f)||(d[f]=ln(c,`${t}/${f}`,d[f]));return d}function W$(e,r,t,n,o){let i=ln(e,t,n);if(!Ye.IsObject(n))return i;let s=Object.getOwnPropertyNames(e.patternProperties)[0],u=new RegExp(s),l={...i};for(let h of Object.getOwnPropertyNames(n))u.test(h)&&(l[h]=ua(e.patternProperties[s],r,`${t}/${h}`,l[h],o));if(!M.IsSchema(e.additionalProperties))return l;let c=Object.getOwnPropertyNames(l),d=e.additionalProperties,f={...l};for(let h of c)u.test(h)||(f[h]=ln(d,`${t}/${h}`,f[h]));return f}function X$(e,r,t,n,o){let i=ol(e,r),s=ua(i,r,t,n,o);return ln(e,t,s)}function J$(e,r,t,n,o){let i=ol(e,r),s=ua(i,r,t,n,o);return ln(e,t,s)}function Y$(e,r,t,n,o){let i=ln(e,t,n);return Ye.IsArray(e.items)?e.items.map((s,u)=>ua(s,r,`${t}/${u}`,i[u],o)):[]}function K$(e,r,t,n,o){for(let i of e.anyOf){if(!si.Check(i,r,n))continue;let s=ua(i,r,t,n,o);return ln(e,t,s)}for(let i of e.anyOf){let s=ua(i,r,t,n,o);if(si.Check(e,r,s))return ln(e,t,s)}return ln(e,t,n)}function ua(e,r,t,n,o){if(!o.HasTransform(e,r))return n;let i=ry(e,r),s=e;switch(e[j]){case"Array":return z$(s,i,t,n,o);case"Intersect":return V$(s,i,t,n,o);case"Not":return H$(s,i,t,n);case"Object":return Z$(s,i,t,n,o);case"Record":return W$(s,i,t,n,o);case"Ref":return X$(s,i,t,n,o);case"This":return J$(s,i,t,n,o);case"Tuple":return Y$(s,i,t,n,o);case"Union":return K$(s,i,t,n,o);default:return ln(s,t,n)}}function dD(e,r,t){let n=ny();return ua(e,r,"",t,n)}p();var Wv=class{constructor(r,t,n,o){this.schema=r,this.references=t,this.checkFunc=n,this.code=o,this.hasTransform=ia(r,t)}Code(){return this.code}Errors(r){return ea(this.schema,this.references,r)}Check(r){return this.checkFunc(r)}Decode(r){if(!this.checkFunc(r))throw new rp(this.schema,r,this.Errors(r).First());return this.hasTransform?np(this.schema,this.references,r):r}Encode(r){let t=this.hasTransform?Pg(this.schema,this.references,r):r;if(!this.checkFunc(t))throw new op(this.schema,r,this.Errors(r).First());return t}},rs;(function(e){function r(i){return i===36}e.DollarSign=r;function t(i){return i===95}e.IsUnderscore=t;function n(i){return i>=65&&i<=90||i>=97&&i<=122}e.IsAlpha=n;function o(i){return i>=48&&i<=57}e.IsNumeric=o})(rs||(rs={}));var oy;(function(e){function r(i){return i.length===0?!1:rs.IsNumeric(i.charCodeAt(0))}function t(i){if(r(i))return!1;for(let s=0;s<i.length;s++){let u=i.charCodeAt(s);if(!(rs.IsAlpha(u)||rs.IsNumeric(u)||rs.DollarSign(u)||rs.IsUnderscore(u)))return!1}return!0}function n(i){return i.replace(/'/g,"\\'")}function o(i,s){return t(s)?`${i}.${s}`:`${i}['${n(s)}']`}e.Encode=o})(oy||(oy={}));var Xv;(function(e){function r(t){let n=[];for(let o=0;o<t.length;o++){let i=t.charCodeAt(o);rs.IsNumeric(i)||rs.IsAlpha(i)?n.push(t.charAt(o)):n.push(`_${i}_`)}return n.join("").replace(/__/g,"_")}e.Encode=r})(Xv||(Xv={}));var Jv;(function(e){function r(t){return t.replace(/'/g,"\\'")}e.Escape=r})(Jv||(Jv={}));var Yv=class extends Se{constructor(r){super("Unknown type"),this.schema=r}},iy=class extends Se{constructor(r){super("Preflight validation check failed to guard for the given schema"),this.schema=r}},il;(function(e){function r(s,u,l){return mt.ExactOptionalPropertyTypes?`('${u}' in ${s} ? ${l} : true)`:`(${oy.Encode(s,u)} !== undefined ? ${l} : true)`}e.IsExactOptionalProperty=r;function t(s){return mt.AllowArrayObject?`(typeof ${s} === 'object' && ${s} !== null)`:`(typeof ${s} === 'object' && ${s} !== null && !Array.isArray(${s}))`}e.IsObjectLike=t;function n(s){return mt.AllowArrayObject?`(typeof ${s} === 'object' && ${s} !== null && !(${s} instanceof Date) && !(${s} instanceof Uint8Array))`:`(typeof ${s} === 'object' && ${s} !== null && !Array.isArray(${s}) && !(${s} instanceof Date) && !(${s} instanceof Uint8Array))`}e.IsRecordLike=n;function o(s){return mt.AllowNaN?`typeof ${s} === 'number'`:`Number.isFinite(${s})`}e.IsNumberLike=o;function i(s){return mt.AllowNullVoid?`(${s} === undefined || ${s} === null)`:`${s} === undefined`}e.IsVoidLike=i})(il||(il={}));var ay;(function(e){function r(A){return A[j]==="Any"||A[j]==="Unknown"}function*t(A,Z,O){yield"true"}function*n(A,Z,O){yield`Array.isArray(${O})`;let[Q,X]=[Ve("value","any"),Ve("acc","number")];ye(A.maxItems)&&(yield`${O}.length <= ${A.maxItems}`),ye(A.minItems)&&(yield`${O}.length >= ${A.minItems}`);let Y=Ce(A.items,Z,"value");if(yield`${O}.every((${Q}) => ${Y})`,Ze(A.contains)||ye(A.minContains)||ye(A.maxContains)){let K=Ze(A.contains)?A.contains:gt(),ae=Ce(K,Z,"value"),$e=ye(A.minContains)?[`(count >= ${A.minContains})`]:[],Rt=ye(A.maxContains)?[`(count <= ${A.maxContains})`]:[],ir=`const count = value.reduce((${X}, ${Q}) => ${ae} ? acc + 1 : acc, 0)`,ho=["(count > 0)",...$e,...Rt].join(" && ");yield`((${Q}) => { ${ir}; return ${ho}})(${O})`}A.uniqueItems===!0&&(yield`((${Q}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${O})`)}function*o(A,Z,O){yield`(typeof value === 'object' && Symbol.asyncIterator in ${O})`}function*i(A,Z,O){yield`(typeof ${O} === 'bigint')`,Gr(A.exclusiveMaximum)&&(yield`${O} < BigInt(${A.exclusiveMaximum})`),Gr(A.exclusiveMinimum)&&(yield`${O} > BigInt(${A.exclusiveMinimum})`),Gr(A.maximum)&&(yield`${O} <= BigInt(${A.maximum})`),Gr(A.minimum)&&(yield`${O} >= BigInt(${A.minimum})`),Gr(A.multipleOf)&&(yield`(${O} % BigInt(${A.multipleOf})) === 0`)}function*s(A,Z,O){yield`(typeof ${O} === 'boolean')`}function*u(A,Z,O){yield*he(A.returns,Z,`${O}.prototype`)}function*l(A,Z,O){yield`(${O} instanceof Date) && Number.isFinite(${O}.getTime())`,ye(A.exclusiveMaximumTimestamp)&&(yield`${O}.getTime() < ${A.exclusiveMaximumTimestamp}`),ye(A.exclusiveMinimumTimestamp)&&(yield`${O}.getTime() > ${A.exclusiveMinimumTimestamp}`),ye(A.maximumTimestamp)&&(yield`${O}.getTime() <= ${A.maximumTimestamp}`),ye(A.minimumTimestamp)&&(yield`${O}.getTime() >= ${A.minimumTimestamp}`),ye(A.multipleOfTimestamp)&&(yield`(${O}.getTime() % ${A.multipleOfTimestamp}) === 0`)}function*c(A,Z,O){yield`(typeof ${O} === 'function')`}function*d(A,Z,O){yield`Number.isInteger(${O})`,ye(A.exclusiveMaximum)&&(yield`${O} < ${A.exclusiveMaximum}`),ye(A.exclusiveMinimum)&&(yield`${O} > ${A.exclusiveMinimum}`),ye(A.maximum)&&(yield`${O} <= ${A.maximum}`),ye(A.minimum)&&(yield`${O} >= ${A.minimum}`),ye(A.multipleOf)&&(yield`(${O} % ${A.multipleOf}) === 0`)}function*f(A,Z,O){let Q=A.allOf.map(X=>Ce(X,Z,O)).join(" && ");if(A.unevaluatedProperties===!1){let X=Re(`${new RegExp(Ja(A))};`),Y=`Object.getOwnPropertyNames(${O}).every(key => ${X}.test(key))`;yield`(${Q} && ${Y})`}else if(Ze(A.unevaluatedProperties)){let X=Re(`${new RegExp(Ja(A))};`),Y=`Object.getOwnPropertyNames(${O}).every(key => ${X}.test(key) || ${Ce(A.unevaluatedProperties,Z,`${O}[key]`)})`;yield`(${Q} && ${Y})`}else yield`(${Q})`}function*h(A,Z,O){yield`(typeof value === 'object' && Symbol.iterator in ${O})`}function*b(A,Z,O){typeof A.const=="number"||typeof A.const=="boolean"?yield`(${O} === ${A.const})`:yield`(${O} === '${Jv.Escape(A.const)}')`}function*I(A,Z,O){yield"false"}function*E(A,Z,O){yield`(!${Ce(A.not,Z,O)})`}function*v(A,Z,O){yield`(${O} === null)`}function*x(A,Z,O){yield il.IsNumberLike(O),ye(A.exclusiveMaximum)&&(yield`${O} < ${A.exclusiveMaximum}`),ye(A.exclusiveMinimum)&&(yield`${O} > ${A.exclusiveMinimum}`),ye(A.maximum)&&(yield`${O} <= ${A.maximum}`),ye(A.minimum)&&(yield`${O} >= ${A.minimum}`),ye(A.multipleOf)&&(yield`(${O} % ${A.multipleOf}) === 0`)}function*D(A,Z,O){yield il.IsObjectLike(O),ye(A.minProperties)&&(yield`Object.getOwnPropertyNames(${O}).length >= ${A.minProperties}`),ye(A.maxProperties)&&(yield`Object.getOwnPropertyNames(${O}).length <= ${A.maxProperties}`);let Q=Object.getOwnPropertyNames(A.properties);for(let X of Q){let Y=oy.Encode(O,X),K=A.properties[X];if(A.required&&A.required.includes(X))yield*he(K,Z,Y),(Ka(K)||r(K))&&(yield`('${X}' in ${O})`);else{let ae=Ce(K,Z,Y);yield il.IsExactOptionalProperty(O,X,ae)}}if(A.additionalProperties===!1)if(A.required&&A.required.length===Q.length)yield`Object.getOwnPropertyNames(${O}).length === ${Q.length}`;else{let X=`[${Q.map(Y=>`'${Y}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${O}).every(key => ${X}.includes(key))`}if(typeof A.additionalProperties=="object"){let X=Ce(A.additionalProperties,Z,`${O}[key]`),Y=`[${Q.map(K=>`'${K}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${O}).every(key => ${Y}.includes(key) || ${X}))`}}function*w(A,Z,O){yield`(typeof value === 'object' && typeof ${O}.then === 'function')`}function*S(A,Z,O){yield il.IsRecordLike(O),ye(A.minProperties)&&(yield`Object.getOwnPropertyNames(${O}).length >= ${A.minProperties}`),ye(A.maxProperties)&&(yield`Object.getOwnPropertyNames(${O}).length <= ${A.maxProperties}`);let[Q,X]=Object.entries(A.patternProperties)[0],Y=Re(`${new RegExp(Q)}`),K=Ce(X,Z,"value"),ae=Ze(A.additionalProperties)?Ce(A.additionalProperties,Z,O):A.additionalProperties===!1?"false":"true",$e=`(${Y}.test(key) ? ${K} : ${ae})`;yield`(Object.entries(${O}).every(([key, value]) => ${$e}))`}function*F(A,Z,O){let Q=Qe(A,Z);if(ne.functions.has(A.$ref))return yield`${xe(A.$ref)}(${O})`;yield*he(Q,Z,O)}function*P(A,Z,O){let Q=Re(`${new RegExp(A.source,A.flags)};`);yield`(typeof ${O} === 'string')`,ye(A.maxLength)&&(yield`${O}.length <= ${A.maxLength}`),ye(A.minLength)&&(yield`${O}.length >= ${A.minLength}`),yield`${Q}.test(${O})`}function*L(A,Z,O){yield`(typeof ${O} === 'string')`,ye(A.maxLength)&&(yield`${O}.length <= ${A.maxLength}`),ye(A.minLength)&&(yield`${O}.length >= ${A.minLength}`),A.pattern!==void 0&&(yield`${Re(`${new RegExp(A.pattern)};`)}.test(${O})`),A.format!==void 0&&(yield`format('${A.format}', ${O})`)}function*N(A,Z,O){yield`(typeof ${O} === 'symbol')`}function*$(A,Z,O){yield`(typeof ${O} === 'string')`,yield`${Re(`${new RegExp(A.pattern)};`)}.test(${O})`}function*W(A,Z,O){yield`${xe(A.$ref)}(${O})`}function*V(A,Z,O){if(yield`Array.isArray(${O})`,A.items===void 0)return yield`${O}.length === 0`;yield`(${O}.length === ${A.maxItems})`;for(let Q=0;Q<A.items.length;Q++)yield`${Ce(A.items[Q],Z,`${O}[${Q}]`)}`}function*q(A,Z,O){yield`${O} === undefined`}function*se(A,Z,O){yield`(${A.anyOf.map(X=>Ce(X,Z,O)).join(" || ")})`}function*ue(A,Z,O){yield`${O} instanceof Uint8Array`,ye(A.maxByteLength)&&(yield`(${O}.length <= ${A.maxByteLength})`),ye(A.minByteLength)&&(yield`(${O}.length >= ${A.minByteLength})`)}function*ce(A,Z,O){yield"true"}function*de(A,Z,O){yield il.IsVoidLike(O)}function*Ee(A,Z,O){let Q=ne.instances.size;ne.instances.set(Q,A),yield`kind('${A[j]}', ${Q}, ${O})`}function*he(A,Z,O,Q=!0){let X=He(A.$id)?[...Z,A]:Z,Y=A;if(Q&&He(A.$id)){let K=xe(A.$id);if(ne.functions.has(K))return yield`${K}(${O})`;{let ae=we(K,A,Z,"value",!1);return ne.functions.set(K,ae),yield`${K}(${O})`}}switch(Y[j]){case"Any":return yield*t(Y,X,O);case"Array":return yield*n(Y,X,O);case"AsyncIterator":return yield*o(Y,X,O);case"BigInt":return yield*i(Y,X,O);case"Boolean":return yield*s(Y,X,O);case"Constructor":return yield*u(Y,X,O);case"Date":return yield*l(Y,X,O);case"Function":return yield*c(Y,X,O);case"Integer":return yield*d(Y,X,O);case"Intersect":return yield*f(Y,X,O);case"Iterator":return yield*h(Y,X,O);case"Literal":return yield*b(Y,X,O);case"Never":return yield*I(Y,X,O);case"Not":return yield*E(Y,X,O);case"Null":return yield*v(Y,X,O);case"Number":return yield*x(Y,X,O);case"Object":return yield*D(Y,X,O);case"Promise":return yield*w(Y,X,O);case"Record":return yield*S(Y,X,O);case"Ref":return yield*F(Y,X,O);case"RegExp":return yield*P(Y,X,O);case"String":return yield*L(Y,X,O);case"Symbol":return yield*N(Y,X,O);case"TemplateLiteral":return yield*$(Y,X,O);case"This":return yield*W(Y,X,O);case"Tuple":return yield*V(Y,X,O);case"Undefined":return yield*q(Y,X,O);case"Union":return yield*se(Y,X,O);case"Uint8Array":return yield*ue(Y,X,O);case"Unknown":return yield*ce(Y,X,O);case"Void":return yield*de(Y,X,O);default:if(!Ar.Has(Y[j]))throw new Yv(A);return yield*Ee(Y,X,O)}}let ne={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function Ce(A,Z,O,Q=!0){return`(${[...he(A,Z,O,Q)].join(" && ")})`}function xe(A){return`check_${Xv.Encode(A)}`}function Re(A){let Z=`local_${ne.variables.size}`;return ne.variables.set(Z,`const ${Z} = ${A}`),Z}function we(A,Z,O,Q,X=!0){let[Y,K]=[`
`,ir=>"".padStart(ir," ")],ae=Ve("value","any"),$e=me("boolean"),Rt=[...he(Z,O,Q,X)].map(ir=>`${K(4)}${ir}`).join(` &&${Y}`);return`function ${A}(${ae})${$e} {${Y}${K(2)}return (${Y}${Rt}${Y}${K(2)})
}`}function Ve(A,Z){let O=ne.language==="typescript"?`: ${Z}`:"";return`${A}${O}`}function me(A){return ne.language==="typescript"?`: ${A}`:""}function at(A,Z,O){let Q=we("check",A,Z,"value"),X=Ve("value","any"),Y=me("boolean"),K=[...ne.functions.values()],ae=[...ne.variables.values()],$e=He(A.$id)?`return function check(${X})${Y} {
  return ${xe(A.$id)}(value)
}`:`return ${Q}`;return[...ae,...K,$e].join(`
`)}function xt(...A){let Z={language:"javascript"},[O,Q,X]=A.length===2&&Me(A[1])?[A[0],A[1],Z]:A.length===2&&!Me(A[1])?[A[0],[],A[1]]:A.length===3?[A[0],A[1],A[2]]:A.length===1?[A[0],[],Z]:[null,[],Z];if(ne.language=X.language,ne.variables.clear(),ne.functions.clear(),ne.instances.clear(),!Ze(O))throw new iy(O);for(let Y of Q)if(!Ze(Y))throw new iy(Y);return at(O,Q,X)}e.Code=xt;function Ot(A,Z=[]){let O=xt(A,Z,{language:"javascript"}),Q=globalThis.Function("kind","format","hash",O),X=new Map(ne.instances);function Y(Rt,ir,ho){if(!Ar.Has(Rt)||!X.has(ir))return!1;let Ni=Ar.Get(Rt),em=X.get(ir);return Ni(em,ho)}function K(Rt,ir){return Bn.Has(Rt)?Bn.Get(Rt)(ir):!1}function ae(Rt){return eu(Rt)}let $e=Q(Y,K,ae);return new Wv(A,Z,$e,O)}e.Compile=Ot})(ay||(ay={}));p();p();p();var q$=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Q$=[0,31,28,31,30,31,30,31,31,30,31,30,31],ej=e=>e%4===0&&(e%100!==0||e%400===0),sy=e=>{let r=q$.exec(e);if(!r)return!1;let t=+r[1],n=+r[2],o=+r[3];return n>=1&&n<=12&&o>=1&&o<=(n===2&&ej(t)?29:Q$[n])};p();var tj=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i,uy=e=>{let r=tj.exec(e);if(!r)return!1;let t=+r[1],n=+r[2],o=+r[3],i=r[4],s=r[5]==="-"?-1:1,u=+(r[6]||0),l=+(r[7]||0);if(u>23||l>59||!i)return!1;if(t<=23&&n<=59&&o<60)return!0;let c=n-l*s,d=t-u*s-(c<0?1:0);return(d===23||d===-1)&&(c===59||c===-1)&&o<61};var rj=/t|\s/i,mD=e=>{let r=e.split(rj);return r.length===2&&sy(r[0])&&uy(r[1])};p();var nj=/\/|:/,oj=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,fD=e=>nj.test(e)&&oj.test(e);var ij=[["date",sy],["time",uy],["date-time",mD],["uri",fD]],hD=()=>{for(let[e,r]of ij)try{Tg.Format(e,r)}catch(t){if(t instanceof Hm)continue;throw t}};p();var Kv=g.Record(g.String(),g.Unknown(),{$id:"Extra"}),ci=g.Object({extra:g.Optional(g.Ref(Kv))}),qv=[Kv];p();p();p();p();p();p();var rt=e=>Object.entries(e);var aj=e=>{let r=new Map;for(let[t,n]of rt(e.geometry??{}))r.set(t,new Map(n?.features.map(o=>[o.properties.id,o])));return r},xr=e=>{let r=aj(e);return(n,o)=>{let i=r.get(n);if(i==null)return oe({kind:Rn.UnknownFloorError,properties:{floorId:n}});let s=i.get(o);return s==null?oe({kind:Rn.UnknownGeometryError,properties:{floorId:n,geometryId:o}}):te(s)}};p();var Po=g.Object({geometryId:g.Ref(an)},{$id:"WithGeometryId"}),hp=g.Object({geometryIds:g.Array(g.Ref(an))},{$id:"WithGeometryIds"}),Qv=[Po,hp];p();p();p();var gD=e=>e instanceof Error?e:new Error(String(e));var gp=e=>(...r)=>{try{return te(e(...r))}catch(t){return oe(gD(t))}};var yD=gp((e,r)=>{let t={};for(let n of r)for(let o of n.intoBundle(e))t[o.path]=up(JSON.stringify(o.contents));return t}),e3=async(e,r,t)=>yD(e,r).andThenAsync(n=>new Promise(o=>{Z5(n,{...t,consume:!0},(i,s)=>{o(i?oe(i):te(s))})})),sj=gp(W5),t3=(e,r,t)=>yD(e,r).andThen(n=>sj(n,t));p();p();function ly(e,r,t=[]){let n={...e};for(let[o,i]of Object.entries(r))if(i!==void 0)if(o in n){let s=o;if(Array.isArray(i)&&i.length>0){let u=uj(i[0],t);if(u){let l=n[s];if(!Array.isArray(l))throw new Error(`Expected array at ${o}, got ${typeof l}`);let c=new Map(i.map(h=>[bD(h,u),h])),f=l.map(h=>{let b=c.get(bD(h,u));return b?ly(h,b,t):h});n[s]=f}else n[s]=i}else{let u=n[s];typeof u=="object"&&u!==null&&typeof i=="object"&&i!==null?Object.keys(i).length===0?n[s]=i:n[s]=ly(u,i,t):n[o]=i}}else n[o]=i;return n}function uj(e,r){function t(n){if(typeof n!="object"||n===null)return null;for(let o of r)if(o in n&&typeof n[o]<"u")return[o];if(Array.isArray(n))return null;for(let[o,i]of Object.entries(n)){let s=t(i);if(s)return[o,...s]}return null}return t(e)}function bD(e,r){return r.reduce((t,n)=>{if(t&&typeof t=="object")return t[n]},e)}var lj=e=>e,cj=e=>JSON.parse(Vv(e)),vD=(e,r)=>r.some(t=>t.fromBundle(e.name,new Uint8Array,lj)!==void 0),xD=gp((e,r)=>{let t={};for(let n of Object.keys(e)){let o=e[n];for(let i of r){let s=i.fromBundle(n,o,cj);if(s){t=ly(t,s,[]);break}}}return t}),r3=async(e,r)=>new Promise(t=>X5(e,{filter:n=>vD(n,r)},(n,o)=>{t(n?oe(n):te(o))})).then(t=>t.andThen(n=>xD(n,r))),pj=gp(J5),n3=(e,r)=>pj(e,{filter:t=>vD(t,r)}).andThen(t=>xD(t,r));p();var dj=e=>typeof e=="object"&&e!=null&&"$ref"in e&&typeof e.$ref=="string",mj=e=>{if(e.length<2)return!1;let r=e.filter(dj);if(r.length!==e.length)return!1;let t=r[0].$ref;return r.slice(1).every(n=>n.$ref===t)},cy=e=>typeof e=="object"&&e!=null&&"allOf"in e&&Array.isArray(e.allOf)&&mj(e.allOf)?e.allOf[0]:typeof e=="object"&&e!=null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).map(([r,t])=>[r,cy(t)])):Array.isArray(e)?e.map(cy):e;p();var py=e=>typeof e=="object"&&e!=null&&"$ref"in e?{...e,$ref:`#/definitions/${e.$ref}`}:typeof e=="object"&&e!=null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).map(([r,t])=>[r,py(t)])):Array.isArray(e)?e.map(py):e;var yp;(function(e){e.InvalidTypeboxSchema="InvalidTypeboxSchema",e.MissingReferenceId="MissingReferenceId",e.DuplicateReferenceId="DuplicateReferenceId",e.TypeboxError="TypeboxError",e.UnknownError="UnknownError"})(yp||(yp={}));var fj=e=>({next(){for(let t of e){let n=t.next();if(!n.done)return n}return{done:!0,value:void 0}},[Symbol.iterator](){return this}}),hj=(...e)=>{let r=new Map;for(let t of fj(e)){if(!t.$id)continue;let n=r.get(t.$id);if(n!=null&&n!==t)return oe({kind:yp.DuplicateReferenceId,message:"Failed to register a reference for a schema with an $id that has already been used",schema:t});r.set(t.$id,t)}return te(r)},Pr,bp,no,Jr,o3=class o3{constructor(r,t,n,o){C(this,Pr);C(this,bp);C(this,no,[]);C(this,Jr);T(this,Pr,r),T(this,bp,t),T(this,no,n),T(this,Jr,o),this.is=this.is.bind(this),this.parse=this.parse.bind(this),this.verify=this.verify.bind(this),this.jsonSchema=this.jsonSchema.bind(this),this.compress=this.compress.bind(this),this.decompress=this.decompress.bind(this)}static create(r,t="CoreMVF",n=!1){let o=g.Composite(r.extensions.map(s=>s.schema),{$id:t});if(!M.IsSchema(o))return oe({kind:yp.InvalidTypeboxSchema,message:"Attempting to merge schemas produced an invalid schema",schema:o});let i=hj(xv.values(),Iv.values(),bv.values(),qv.values(),i3.values(),Qv.values(),r.extensions.flatMap(s=>s.references??[]).values());if(!i.isOk())return i;try{hD();let s=n?null:ay.Compile(o,[...i.value.values()]);return te(new o3(o,s,r.extensions,i.value))}catch(s){return s instanceof Se?oe({kind:yp.TypeboxError,message:s.message,original:s}):oe({kind:yp.UnknownError,message:"An unknown error occurred while compiling the schema",original:s})}}is(r){return a(this,bp)?.Check(r)??si.Check(a(this,Pr),[...a(this,Jr).values()],r)}parse(r){return this.is(r)?te(r):oe(a(this,bp)?.Errors(r)??si.Errors(a(this,Pr),[...a(this,Jr).values()],r))}decode(r){try{return te(pD(a(this,Pr),[...a(this,Jr).values()],r))}catch(t){return oe(t)}}encode(r){try{return te(dD(a(this,Pr),[...a(this,Jr).values()],r))}catch(t){return oe(t)}}verify(r){for(let t of a(this,no))if(t.integrityCheck){let n=t.integrityCheck(r);if(n.isErr())return oe(n.error)}return te(!0)}jsonSchema(){let r=JSON.parse(JSON.stringify([a(this,Pr),...a(this,Jr).values()])),t=cy(py({$id:`#/definitions/${a(this,Pr).$id??"CoreMVF"}`,$schema:"http://json-schema.org/draft-07/schema#",references:r}));return JSON.stringify(t,null,2)}async compress(r){return this.encode(r).andThen(t=>this.parse(t)).andThenAsync(t=>e3(t,a(this,no))).then(t=>t.mapErr(n=>ef(a(this,Pr).$id??"CoreMVF",n,[...a(this,Jr).values()])))}async compressUnsafe(r){return this.encode(r).andThenAsync(t=>e3(t,a(this,no))).then(t=>t.mapErr(n=>ef(a(this,Pr).$id??"CoreMVF",n,[...a(this,Jr).values()])))}compressSync(r){return this.encode(r).andThen(t=>this.parse(t)).andThen(t=>t3(t,a(this,no))).mapErr(t=>ef(a(this,Pr).$id??"CoreMVF",t,[...a(this,Jr).values()]))}compressUnsafeSync(r){return this.encode(r).andThen(t=>t3(t,a(this,no))).mapErr(t=>ef(a(this,Pr).$id??"CoreMVF",t,[...a(this,Jr).values()]))}async decompress(r){return r3(r,a(this,no)).then(t=>t.andThen(n=>this.parse(n)).andThen(n=>this.decode(n)).mapErr(n=>tf(a(this,Pr).$id??"CoreMVF",n,[...a(this,Jr).values()])))}async decompressUnsafe(r){return r3(r,a(this,no)).then(t=>t.andThen(n=>this.decode(n)).mapErr(n=>tf(a(this,Pr).$id??"CoreMVF",n,[...a(this,Jr).values()])))}decompressSync(r){return n3(r,a(this,no)).andThen(t=>this.parse(t)).andThen(t=>this.decode(t)).mapErr(t=>tf(a(this,Pr).$id??"CoreMVF",t,[...a(this,Jr).values()]))}decompressUnsafeSync(r){return n3(r,a(this,no)).andThen(t=>this.decode(t)).mapErr(t=>tf(a(this,Pr).$id??"CoreMVF",t,[...a(this,Jr).values()]))}};Pr=new WeakMap,bp=new WeakMap,no=new WeakMap,Jr=new WeakMap;var dy=o3;var vp,my=class{constructor(){C(this,vp,[]);this.extend=this.extend.bind(this)}extend(r){return a(this,vp).push(r),this}extendOptional(r){let t={...r,schema:g.Partial(r.schema)};return a(this,vp).push(t),this}build(r){return dy.create(this,void 0,r?.cspSafe)}get extensions(){return a(this,vp)}};vp=new WeakMap;p();p();p();p();var xp=g.Object({geometryId:g.Ref(an),floorId:g.Ref(ze)},{$id:"GeometryAnchor"}),gj=g.Object({geometryAnchor:g.Ref(xp)}),rf=(e,r)=>g.Object({geometryAnchors:g.Array(g.Ref(xp),e)},r),i3=[xp];p();p();p();var ID=(e,r)=>g.Unsafe(g.Transform(g.String(r)).Decode(t=>e.includes(t)?t:"unknown").Encode(t=>t)),Nn=(e,r)=>{let t=ID(e,r),n=[...e,"unknown"],o=Object.freeze(Object.fromEntries([...e,"unknown"].map(i=>[i,i])));return{schema:t,values:n,record:o}};var ED=()=>new my().extend(tD).extend(aD).extend(cD);p();p();p();p();p();p();var nf;(function(e){e.AnnotationNonPointGeometryError="AnnotationNonPointGeometryError",e.AnnotationUnknownSymbolError="AnnotationUnknownSymbolError"})(nf||(nf={}));var CD=e=>{if(e.annotations==null)return te(!0);let r=rr(e.annotations,o=>o.id,"annotations");if(r.isErr())return r;let t=xr(e),n=new Set(Xe(e.annotationSymbols??{}));for(let o of Xe(e.annotations)){let i=e.annotations[o];if(i!=null)for(let s of i){if(!n.has(s.symbolKey))return oe({kind:nf.AnnotationUnknownSymbolError,properties:{annotationId:s.id,symbolKey:s.symbolKey}});let u=t(o,s.geometryId);if(u.isErr())return u;if(u.value.geometry.type!=="Point")return oe({kind:nf.AnnotationNonPointGeometryError,properties:{annotationId:s.id,floorId:o,geometryId:s.geometryId}})}}return te(!0)};var SD=tr("a","AnnotationId"),a3=g.Intersect([Po,g.Object({id:g.Ref(SD,{description:"The unique identifier for the annotation."}),externalId:g.Optional(g.String({description:"The external identifier for the annotation."})),symbolKey:g.String({description:"The symbol identifier for the annotation."})})],{$id:"AnnotationProperties"}),DD=g.Object({url:g.String({format:"uri",description:"The URL for the symbol."}),name:g.String({description:"The name of the symbol."})},{$id:"AnnotationSymbol"}),yj=g.Object({annotations:nr(g.Record(ze,g.Array(g.Ref(a3)),{additionalProperties:!1})),annotationSymbols:nr(g.Record(g.Index(a3,["symbolKey"]),g.Ref(DD)))},{$id:"AnnotationsSchema"}),bj=/^annotations\/(.*)\.json$/,TD={name:"ext:mvf-annotations",schema:yj,intoBundle:function*(e){if(e.annotations!=null)for(let r of Xe(e.annotations))yield{path:`annotations/${r}.json`,contents:e.annotations[r]};e.annotationSymbols!=null&&(yield{path:"annotation-symbols.json",contents:e.annotationSymbols})},fromBundle:(e,r,t)=>{if(e==="annotation-symbols.json")return{annotationSymbols:t(r)};let n=e.match(bj)?.[1];if(n)return{annotations:{[n]:t(r)}}},references:[SD,a3,DD],integrityCheck:CD};p();p();p();var ns=tr("lcat","LocationCategoryId"),s3=g.Intersect([g.Object({id:g.Ref(ns),parent:g.Optional(g.Ref(ns))}),Qu(["name"]),ci],{$id:"LocationCategory"}),wD=[ns,s3];p();p();var al;(function(e){e.UnknownCategoryError="UnknownCategoryError",e.UnknownParentCategoryError="UnknownParentCategoryError",e.UnknownParentLocationError="UnknownParentLocationError"})(al||(al={}));var FD=e=>{if(e.locationCategories==null&&e.locations==null)return te(!0);if(e.locationCategories!=null){let o=rr(e.locationCategories,i=>i.id,"locationCategories");if(o.isErr())return o}if(e.locations!=null){let o=rr(e.locations,i=>i.id,"locations");if(o.isErr())return o}if(e.locationInstances!=null){let o=rr(e.locationInstances,i=>i.id,"locationInstances");if(o.isErr())return o}let r=new Set(e.locationCategories?.map(o=>o.id)??[]);for(let o of e.locationCategories??[])if(o.parent!=null&&!r.has(o.parent))return oe({kind:al.UnknownParentCategoryError,properties:{categoryId:o.id,parentCategoryId:o.parent}});let t=xr(e);for(let o of e.locations??[]){for(let i of o.categories)if(!r.has(i))return oe({kind:al.UnknownCategoryError,properties:{locationId:o.id,categoryId:i}});for(let i of o.geometryAnchors){let s=t(i.floorId,i.geometryId);if(s.isErr())return s}}let n=new Set(e.locations?.map(o=>o.id)??[]);for(let o of e.locationInstances??[]){if(!n.has(o.parentId))return oe({kind:al.UnknownParentLocationError,properties:{locationInstanceId:o.id,parentLocationId:o.parentId}});for(let i of o.categories??[])if(!r.has(i))return oe({kind:al.UnknownCategoryError,properties:{locationId:o.id,categoryId:i}});for(let i of o.geometryAnchors??[]){let s=t(i.floorId,i.geometryId);if(s.isErr())return s}}return te(!0)};p();var os=tr("loc","LocationId"),fy=tr("loci","LocationInstanceId"),MD=g.Object({name:g.String(),url:g.String({format:"uri"})},{$id:"LocationSocial"}),AD=g.Object({url:g.String({format:"uri"})},{$id:"LocationImage"}),u3=g.Object({label:g.String(),url:g.String({format:"uri"})},{$id:"LocationLink"}),l3=g.String({pattern:"^[0-2][0-9]:[0-6][0-9](:[0-6][0-9])?$",$id:"OpeningHoursTime"}),OD=g.Union([g.Literal("Sunday"),g.Literal("Monday"),g.Literal("Tuesday"),g.Literal("Wednesday"),g.Literal("Thursday"),g.Literal("Friday"),g.Literal("Saturday")],{$id:"OpeningHoursDay"}),vj="PublicHolidays",c3=g.Union([OD,g.Literal(vj)],{$id:"OpeningHoursDayOrPublicHoliday"}),hy=g.Object({"@type":g.Optional(g.Literal("OpeningHoursSpecification",{description:"The type of opening hours"})),opens:g.Optional(g.Ref(l3,{description:"The time the opening hours start"})),closes:g.Optional(g.Ref(l3,{description:"The time the opening hours end"})),dayOfWeek:g.Optional(g.Union([g.Ref(c3),g.Array(g.Ref(c3))],{description:"The days of the week the opening hours apply to"})),validFrom:g.Optional(g.String({format:"date",description:"The date the opening hours start, in ISO 8601 format"})),validThrough:g.Optional(g.String({format:"date",description:"The date the opening hours end, in ISO 8601 format"}))},{$id:"OpeningHoursSpecification"}),gy=g.Intersect([g.Object({id:g.Ref(os),categories:g.Array(g.Ref(ns)),logo:g.Optional(g.String({format:"uri"})),phone:g.Optional(g.String()),social:g.Array(g.Ref(MD)),images:g.Array(g.Ref(AD)),links:g.Array(g.Ref(u3)),website:g.Optional(g.Ref(u3)),openingHours:g.Optional(g.Array(g.Ref(hy)))}),Qu(["name"]),rf(),ci],{$id:"Location"}),p3=g.Intersect([g.Object({id:g.Ref(fy),parentId:g.Ref(os)}),g.Partial(g.Omit(gy,["id","parentId","details"])),Kn],{$id:"LocationInstance",description:"A location instance is a particular instance of an location that has some properties different from the parent."}),yy=[os,fy,MD,AD,u3,l3,OD,c3,hy,gy,p3];var xj=g.Object({locations:g.Array(g.Ref(gy)),locationCategories:g.Array(g.Ref(s3)),locationInstances:g.Optional(g.Array(g.Ref(p3)))},{$id:"LocationsExtensionSchema"}),BD="locations.json",PD="location-categories.json",kD="location-instances.json",_D={name:"ext:locations",schema:xj,intoBundle:function*(e){e.locations!=null&&(yield{path:BD,contents:e.locations}),e.locationCategories!=null&&(yield{path:PD,contents:e.locationCategories}),e.locationInstances!=null&&(yield{path:kD,contents:e.locationInstances})},fromBundle:(e,r,t)=>{if(e===BD)return{locations:t(r)};if(e===PD)return{locationCategories:t(r)};if(e===kD)return{locationInstances:t(r)}},references:[...wD,...yy],integrityCheck:FD};p();p();var pi;(function(e){e.EnterpriseLocationWithUnknownLocationError="EnterpriseLocationWithUnknownLocationError",e.EnterpriseCategoryWithUnknownLocationCategoryError="EnterpriseCategoryWithUnknownLocationCategoryError",e.InstanceWithUnknownLocationInstanceError="InstanceWithUnknownLocationInstanceError",e.InstanceWithUnknownEnterpriseLocationError="InstanceWithUnknownEnterpriseLocationError",e.EnterpriseLocationWithUnknownSibling="EnterpriseLocationWithUnknownSibling",e.EnterpriseLocationInstanceWithUnknownSibling="EnterpriseLocationInstanceWithUnknownSibling",e.EnterpriseVenueWithUnknownTopLocationError="EnterpriseVenueWithUnknownTopLocationError",e.EnterpriseLocationWithInvalidPrimaryCategory="EnterpriseLocationWithInvalidPrimaryCategory"})(pi||(pi={}));var LD=e=>{if(e.cms==null)return te(!0);let r=e.cms,t=rr(e.cms.categories,h=>h.id,"cms.categories");if(t.isErr())return t;let n=new Set(e.locationCategories?.map(h=>h.id)??[]);for(let h of r.categories??[])if(!n.has(h.categoryId))return oe({kind:pi.EnterpriseCategoryWithUnknownLocationCategoryError,properties:{enterpriseCategoryId:h.id,locationCategoryId:h.categoryId}});let o=rr(e.cms.locations,h=>h.id,"cms.locations");if(o.isErr())return o;let i=new Map(e.locations?.map(h=>[h.id,h])??[]);for(let h of r.locations??[]){if(!i.has(h.locationId))return oe({kind:pi.EnterpriseLocationWithUnknownLocationError,properties:{enterpriseLocationId:h.id,locationId:h.locationId}});for(let b of h.siblingGroups??[])for(let I of b.siblings??[])if(!i.has(I))return oe({kind:pi.EnterpriseLocationWithUnknownSibling,properties:{enterpriseLocationId:h.id,siblingLocationId:I,label:b.label}});if(h.primaryCategory!=null){let b=i.get(h.locationId);if(b!=null&&!b.categories.includes(h.primaryCategory))return oe({kind:pi.EnterpriseLocationWithInvalidPrimaryCategory,properties:{enterpriseLocationId:h.id,locationId:h.locationId,primaryCategory:h.primaryCategory}})}}if(r.venue?.topLocations!=null){for(let h of r.venue.topLocations)if(!i.has(h))return oe({kind:pi.EnterpriseVenueWithUnknownTopLocationError,properties:{locationId:h}})}let s=new Set(e.cms.locations?.map(h=>h.id)??[]),u=rr(e.cms.locationInstances,h=>h.id,"cms.locationInstances");if(u.isErr())return u;let l=new Set(e.locationInstances?.map(h=>h.id)??[]);for(let h of r.locationInstances??[]){if(!s.has(h.parentId))return oe({kind:pi.InstanceWithUnknownEnterpriseLocationError,properties:{enterpriseLocationInstanceId:h.id,enterpriseLocationId:h.parentId}});if(!l.has(h.locationInstanceId))return oe({kind:pi.InstanceWithUnknownLocationInstanceError,properties:{enterpriseLocationInstanceId:h.id,locationInstanceId:h.locationInstanceId}});for(let b of h.siblingGroups??[])for(let I of b.siblings??[])if(!i.has(I))return oe({kind:pi.EnterpriseLocationInstanceWithUnknownSibling,properties:{enterpriseLocationInstanceId:h.id,siblingLocationId:I,label:b.label}})}let c=li(e),d=xr(e),f=rr(e.cms.floorText,h=>h.properties.id,"cms.floorText");if(f.isErr())return f;for(let[h,b]of rt(r.floorText??{})){let I=c(h);if(I.isErr())return I;for(let E of b.features){if(!("geometryId"in E.properties))continue;let v=d(h,E.properties.geometryId);if(v.isErr())return v}}for(let[h,b]of rt(r.textures??{})){let I=c(h);if(I.isErr())return I;for(let E of b){let v=d(h,E.geometryId);if(v.isErr())return v}}for(let[h,b]of rt(r.layers??{})){let I=c(h);if(I.isErr())return I;for(let E of Xe(b??{})){let v=d(h,E);if(v.isErr())return v}}for(let[h,b]of rt(r.textAreas??{})){let I=c(h);if(I.isErr())return I;for(let E of b.features)if("geometryId"in E.properties){let v=d(h,E.properties.geometryId);if(v.isErr())return v}}return te(!0)};p();p();var of=tr("el","EnterpriseLocationId"),d3=tr("ec","EnterpriseCategoryId"),m3=tr("eli","EnterpriseLocationInstanceId"),f3=tr("ev","EnterpriseVenueId"),h3=tr("eft","EnterpriseFloorTextId"),RD=[of,d3,m3,f3,h3];var ND=g.Object({id:g.Ref(d3),categoryId:g.Ref(ns),color:g.Optional(g.String()),sortOrder:g.Number(),iconFromDefaultList:g.Optional(g.Union([g.String(),g.Null()])),picture:g.Optional(g.String({format:"uri",description:"The category's picture"}))},{$id:"EnterpriseCategory"}),g3=g.Object({categories:g.Optional(g.Array(g.Ref(ND)))},{$id:"EnterpriseCategoriesSchema"}),$D=[ND,g3];p();var jD=Nn(["left","center","right"]),Ij=jD.schema,v0e=jD.values,y3=g.Object({id:g.Ref(h3),text:g.String(),visible:g.Boolean({default:!0}),fontSize:g.Number({default:12,exclusiveMinimum:0}),fontFamily:g.String({default:"Droid Sans"}),color:g.String({default:"black"}),rotation:g.Number({minimum:0,maximum:360}),align:Ij},{$id:"FloorTextCommonProperties"}),b3=g.Intersect([g.Ref(y3),Po],{$id:"AnchoredFloorTextProperties"}),v3=g.Intersect([g.Ref(y3),g.Object({verticalOffset:g.Number()})],{$id:"FloatingFloorTextProperties"}),UD=g.Union([g.Ref(b3),g.Ref(v3)],{$id:"FloorTextProperties"}),GD=Vr(on,g.Ref(UD),{$id:"FloorTextFeature"}),Ej=Vr(on,g.Ref(b3),{$id:"AnchoredFloorTextFeature"}),Cj=Vr(on,g.Ref(v3),{$id:"FloatingFloorTextFeature"}),zD=hn(g.Ref(GD),{$id:"EnterpriseFloorTextFeatureCollection"}),VD=g.Record(ze,g.Ref(zD),{$id:"EnterpriseFloorTextCollectionsByFloor",additionalProperties:!1}),x3=g.Object({floorText:g.Optional(g.Ref(VD))},{$id:"EnterpriseFloorTextSchema"}),HD=[y3,b3,v3,UD,GD,Ej,Cj,zD,VD,x3];p();var ZD=nr(g.Record(an,g.String({minLength:1}),{additionalProperties:!1,$id:"EnterpriseLayers"})),WD=nr(g.Record(ze,g.Ref(ZD),{additionalProperties:!1,$id:"EnterpriseLayersByFloor"})),I3=g.Object({layers:g.Optional(g.Ref(WD))},{$id:"EnterpriseLayersSchema"}),XD=[ZD,WD,I3];p();p();p();var E3=Nn(["closed-temporarily","new","pop-up","coming-soon","relocated"]),Sj=E3.schema,A0e=E3.values,O0e=E3.record,C3=g.Object({type:Sj,start:g.Optional(g.String({format:"date",description:"The start date of the state"})),end:g.Optional(g.String({format:"date",description:"The end date of the state"}))},{$id:"LocationState",description:"The state of a location. Start and end dates are optional."}),S3=g.Object({label:g.String(),siblings:g.Array(g.Ref(os))},{$id:"SiblingGroup"}),by=g.Object({name:g.String(),code:g.String()},{$id:"Language"}),JD=[C3,S3,by];var vy=g.Object({id:g.Ref(of),locationId:g.Ref(os),cmsId:g.String(),type:g.String(),sortOrder:g.Number(),tags:g.Optional(g.Array(g.String())),picture:g.Optional(g.String({format:"uri",description:"The picture of the location"})),states:g.Optional(g.Array(g.Ref(C3),{description:"The location's state. No more than one state should be active at a time, and all but at most one should have dates set"})),siblingGroups:g.Optional(g.Array(g.Ref(S3))),gallery:g.Optional(g.Array(g.Object({caption:g.Optional(g.String()),image:g.String({format:"uri"}),embeddedUrl:g.Optional(g.String({format:"uri",description:"The URL to link from the image"}))},{description:"The location's image gallery"}),{description:"The location's image gallery"})),showFloatingLabelWhenImagePresent:g.Optional(g.Boolean({description:"Whether to show the flat label when an image is present"})),amenity:g.Optional(g.String({description:"The location's amenity type. Only set if the location is an amenity"})),showLogo:g.Optional(g.Boolean({description:"Whether to show the logo of the location"})),primaryCategory:g.Optional(g.Ref(ns))},{$id:"EnterpriseLocation"}),D3=g.Object({locations:g.Optional(g.Array(g.Ref(vy)))},{$id:"EnterpriseLocationsSchema"}),YD=[vy,D3];var KD=g.Intersect([g.Object({id:g.Ref(m3),parentId:g.Ref(of),locationInstanceId:g.Ref(fy)}),g.Partial(g.Omit(vy,["id","parentId","locationId"]))],{$id:"EnterpriseLocationInstance",description:"A locationInstance is a particular instance of an Enterprise Location that has some properties different from the parent."}),T3=g.Object({locationInstances:g.Optional(g.Array(g.Ref(KD)))},{$id:"EnterpriseLocationInstancesSchema"}),qD=[KD,T3];p();var w3=Nn(["near","center"],{$id:"EnterpriseTextAreaAlignment"}),QD=w3.schema,Y0e=w3.values,K0e=w3.record,F3=g.Object({maxWidth:g.Number({exclusiveMinimum:0,description:"The maximum width of the label, in meters."}),maxHeight:g.Number({exclusiveMinimum:0,description:"The maximum height of the label, in meters."}),align:g.Ref(QD),rotation:g.Number({minimum:0,maximum:360,description:"Rotation in degrees, about the center of the image. North is 0, east is 90."})},{$id:"EnterpriseBaseTextAreaProperties"}),e7=g.Intersect([g.Ref(F3),Po],{$id:"EnterpriseAnchoredTextAreaProperties"}),t7=g.Intersect([g.Ref(F3),g.Object({verticalOffset:g.Number({minimum:0,description:"How high to position the image, in meters, relative to the ground plane."})})],{$id:"EnterpriseFloatingTextAreaProperties"}),r7=g.Union([e7,t7],{$id:"EnterpriseTextAreaProperties"}),n7=Vr(g.Ref(on),r7,{$id:"EnterpriseTextAreaFeature"}),o7=hn(g.Ref(n7),{$id:"EnterpriseTextAreaCollection"}),i7=g.Record(ze,g.Ref(o7),{$id:"EnterpriseTextAreasByFloor",additionalProperties:!1}),a7=g.Object({textAreas:g.Optional(g.Ref(i7))},{$id:"EnterpriseTextAreasSchema"}),s7=[QD,F3,e7,t7,r7,n7,o7,i7];p();var M3=g.Object({u:g.Number(),v:g.Number()},{$id:"EnterpriseTextureUV"}),A3=Nn(["top","side"],{$id:"EnterpriseTextureFace"}),u7=A3.schema,rhe=A3.values,nhe=A3.record,O3=Nn(["inside","outside","both"],{$id:"EnterpriseTextureSurface"}),l7=O3.schema,ohe=O3.values,ihe=O3.record,c7=g.Tuple([Jc,Yc,Jc,Yc],{$id:"EnterpriseTextureBounds"}),p7=g.Intersect([g.Object({repeat:g.Ref(M3),offset:g.Ref(M3),rotation:g.Number({minimum:0,maximum:360}),path:g.String({format:"uri"}),face:g.Ref(u7),surface:g.Ref(l7),bounds:g.Ref(c7)},{$id:"EnterpriseTextureProperties"}),Po],{$id:"EnterpriseTexture"}),d7=g.Array(g.Ref(p7),{$id:"EnterpriseTextures"}),m7=g.Record(ze,g.Ref(d7),{$id:"EnterpriseTexturesByFloor",additionalProperties:!1}),B3=g.Object({textures:g.Optional(g.Ref(m7))},{$id:"EnterpriseTexturesSchema"}),f7=[p7,d7,B3,M3,u7,l7,c7,m7];p();var h7=g.Intersect([g.Object({id:g.Ref(f3),slug:g.String(),defaultLanguage:g.Ref(by),languages:g.Array(g.Ref(by)),countrycode:g.Optional(g.String()),logo:g.Optional(g.String({format:"uri"})),mappedinWebUrl:g.Optional(g.String({format:"uri"})),topLocations:g.Optional(g.Array(g.Ref(os))),operationHours:g.Optional(g.Array(g.Ref(hy))),coverImage:g.Optional(g.String({format:"uri"}))}),Qu(["name"]),ci],{$id:"EnterpriseVenue"}),P3=g.Object({venue:g.Optional(g.Ref(h7))},{$id:"EnterpriseVenueSchema"}),g7=[h7,P3];var b7=g.Intersect([P3,D3,T3,g3,B3,x3,I3,a7],{$id:"CMSProperties"}),y7=g.Object({cms:g.Optional(g.Ref(b7))},{$id:"CMSExtensionSchema"}),Dj=/^cms\/(?:([^/]+)\/)?([^/]+)\.(?:json|geojson)$/,v7={name:"ext:cms",schema:y7,intoBundle:function*(e){if(e.cms==null)return;let r=e.cms;for(let t of Xe(r))switch(t){case"floorText":for(let n of Xe(r.floorText??{}))yield{path:`cms/floorText/${n}.geojson`,contents:(r.floorText??{})[n]};continue;case"textures":for(let n of Xe(r.textures??{}))yield{path:`cms/textures/${n}.json`,contents:(r.textures??{})[n]};continue;case"textAreas":for(let n of Xe(r.textAreas??{}))yield{path:`cms/textAreas/${n}.geojson`,contents:(r.textAreas??{})[n]};continue;default:yield{path:`cms/${t}.json`,contents:r[t]};continue}},fromBundle:(e,r,t)=>{let n=e.match(Dj);if(!n)return;let[,o,i]=n,s=t(r);switch(o){case"floorText":case"textures":case"textAreas":return{cms:{[o]:{[i]:s}}};default:return{cms:{[i]:s}}}},references:[b7,y7,...g7,...YD,...qD,...$D,...f7,...XD,...HD,...s7,...RD,...JD,...yy],integrityCheck:LD};p();p();p();p();var di;(function(e){e.NavigationFlagMissingDeclaration="NavigationFlagMissingDeclaration",e.NavigationFlagDuplicateBit="NavigationFlagDuplicateBit",e.NavigationFlagIncorrectFlagsLength="NavigationFlagIncorrectFlagsLength",e.NavigationFlagValueTooBig="NavigationFlagValueTooBig"})(di||(di={}));var x7=e=>{let{navigationFlags:r}=e;if(!r||Object.keys(r).length===0)return te(!0);let t=Object.entries(r).map(([i,s])=>({key:i,...s})).sort((i,s)=>i.index!==s.index?i.index-s.index:i.bit-s.bit),n=0,o=-1;for(let i of t){if(i.bit===o)return oe({kind:di.NavigationFlagDuplicateBit,properties:{index:i.index,bit:i.bit,path:`navigationFlags.${i.key}`}});if(i.index!=n){if(o!=31)return oe({kind:di.NavigationFlagMissingDeclaration,properties:{index:n,bit:o+1,path:"navigationFlags"}});if(i.index!=n+1||i.bit!=0)return oe({kind:di.NavigationFlagMissingDeclaration,properties:{index:n+1,bit:0,path:"navigationFlags"}});n=i.index,o=0}else{if(i.bit!==o+1)return oe({kind:di.NavigationFlagMissingDeclaration,properties:{index:i.index,bit:o+1,path:"navigationFlags"}});o=i.bit}}return te(!0)};p();function ru(e,r){return r&&(e.flags[r.index]&1<<r.bit)!==0}p();var I7=2**32-1,af=e=>{let r=Object.keys(e.navigationFlags??{}).length;if(r===0)return{index:-1,flag:0};let t=Math.floor(r/32),n=r%32;return{index:t,flag:2**n-1}},Ip=(e,r,t)=>{if(r.index==-1&&e.length===0)return te(!0);let n=r.flag>0||r.index===-1?r.index+1:r.index;if(e.length!==n)return oe({kind:di.NavigationFlagIncorrectFlagsLength,properties:{expected:n,actual:e.length,path:t}});for(let o=0;o<e.length;o++){let i=e[o];if(o<r.index){if(i>I7)return oe({kind:di.NavigationFlagValueTooBig,properties:{index:o,flagValue:i,expectedMaxFlagValue:I7,path:t}});continue}else if(i>r.flag)return oe({kind:di.NavigationFlagValueTooBig,properties:{index:o,flagValue:i,expectedMaxFlagValue:r.flag,path:t}})}return te(!0)};var Tj=g.Object({index:g.Integer({description:"The index of the flag in a flags array.",minimum:0}),bit:g.Integer({description:"The bit position of the flag in a flag's bitfield.",minimum:0,maximum:31})},{$id:"NavigationFlagDeclarationCore"}),E7=g.Intersect([Tj,Kn],{$id:"NavigationFlagDeclaration",description:'A NavigationFlagDeclaration describes the relationship between a "key" that a developer might use to wayfind using that flag, and the index and bit position in an object\'s `flags` array.'}),k3={accessible:"accessible",outdoors:"outdoors",public:"public"},C7=g.Record(g.String(),E7,{$id:"NavigationFlagDeclarations",description:"Any well known and custom flags present in the MVF"}),wj=g.Object({navigationFlags:g.Ref(C7)},{$id:"NavigationFlagsSchema"}),xy=g.Array(g.Integer({minimum:0,maximum:Math.pow(2,32)-1}),{$id:"Flags"}),_3=g.Object({flags:g.Ref(xy)},{$id:"WithFlags"}),sl=g.Intersect([xp,_3],{$id:"FlaggedGeometryAnchor"}),Fj=g.Object({geometryAnchor:sl},{$id:"WithFlaggedGeometryAnchor"}),Mj=g.Object({geometryAnchors:g.Array(sl)},{$id:"WithFlaggedGeometryAnchors"}),S7={name:"ext:mvf-navigation-flags",schema:wj,intoBundle:function*(e){e.navigationFlags!=null&&(yield{path:"navigationFlags.json",contents:e.navigationFlags})},fromBundle:(e,r,t)=>e!=="navigationFlags.json"?void 0:{navigationFlags:t(r)},references:[E7,C7,xy,sl,Fj,Mj],integrityCheck:x7};p();var D7=e=>{if(e.connections==null)return te(!0);let r=rr(e.connections,o=>o.id,"connections");if(r.isErr())return r;let t=xr(e),n=af(e);for(let[o,i]of e.connections.entries()){for(let[s,u]of i.entrances.entries()){let l=t(u.floorId,u.geometryId);if(l.isErr())return l;let c=Ip(u.flags,n,`connections[${o}].entrances[${s}]`);if(c.isErr())return c}for(let[s,u]of i.exits.entries()){let l=t(u.floorId,u.geometryId);if(l.isErr())return l;let c=Ip(u.flags,n,`connections[${o}].exits[${s}]`);if(c.isErr())return c}}return te(!0)};var w7=tr("c","ConnectionId"),{schema:Aj,values:uge,record:Oj}=Nn(["elevator","escalator","travelator","stairs","door","ramp","ladder"],{$id:"ConnectionType"}),F7=Aj;var L3=Oj,M7=g.Intersect([g.Object({id:g.Ref(w7,{description:"The unique identifier for the connection."}),entrances:g.Array(g.Ref(sl)),exits:g.Array(g.Ref(sl)),entryCost:g.Number({description:"The cost to enter the connection.",minimum:0}),floorCostMultiplier:g.Number({description:"The cost multiplier for each floor transitioned.",minimum:1}),type:g.Ref(F7,{description:"The type of connection."})}),Kn,ci],{$id:"ConnectionsProperties"}),A7=g.Array(g.Ref(M7),{$id:"ConnectionsCollection"}),Bj=g.Object({connections:g.Ref(A7)},{$id:"ConnectionsExtensionSchema"}),T7="connections.json",O7={name:"ext:connections",schema:Bj,intoBundle:function*(e){e.connections!=null&&(yield{path:T7,contents:e.connections})},fromBundle:(e,r,t)=>{if(e===T7)return{connections:t(r)}},references:[M7,A7,F7,w7,sl,xy],integrityCheck:D7};p();p();var B7=e=>{if(e.defaultStyle==null)return te(!0);let r=xr(e);for(let t of Object.values(e.defaultStyle))if(t!=null)for(let n of t.geometryAnchors){let o=r(n.floorId,n.geometryId);if(o.isErr())return o}return te(!0)};var P7=g.Intersect([rf(),ci,g.Object({altitude:g.Number({description:"How far off the bottom of the floor the objects with this style should be drawn, in meters."}),color:g.String({pattern:"^#[0-9a-fA-F]{6}$",description:"Color should be represented with a hash (#), followed by 6 hexadecimal digits. ex: #RRGGBB"}),height:g.Number({minimum:0,description:"The height of the objects belonging to this layer, in meters."}),opacity:g.Number({minimum:0,maximum:1,description:"The opacity of the objects belonging to this layer, from 0 to 1."}),buffer:g.Number({description:"The buffer amount to apply to the geometry, in meters. This can be used to inflate line string geometry for walls, but might also be applicable as a way to grow or shrink polygon geometry for aesthetic purposes. Can be negative."}),hidden:g.Optional(g.Boolean({description:"Whether or not the objects with this style should be hidden."}))})],{$id:"DefaultStyle"}),k7=g.Record(g.String(),g.Ref(P7),{$id:"DefaultStyleCollection",additionalProperties:!1}),Pj=g.Object({defaultStyle:g.Ref(k7)},{$id:"DefaultStyleSchema"}),_7={name:"ext:mvf-default-style",schema:Pj,intoBundle:function*(e){e.defaultStyle!=null&&(yield{path:"default-style.json",contents:e.defaultStyle})},fromBundle:(e,r,t)=>{if(e==="default-style.json")return{defaultStyle:t(r)}},references:[P7,k7],integrityCheck:B7};p();p();p();p();var Iy;(function(e){e.InvalidDefaultFloorError="InvalidDefaultFloorError"})(Iy||(Iy={}));var L7=e=>{if(e.floorStacks==null)return te(!0);let r=rr(e.floorStacks,n=>n.id,"floorStacks");if(r.isErr())return r;let t=li(e);for(let n of e.floorStacks){for(let o of n.floors){let i=t(o);if(i.isErr())return i}if(n.defaultFloor!=null&&!n.floors.includes(n.defaultFloor))return oe({kind:Iy.InvalidDefaultFloorError,properties:{floorStackId:n.id,floorId:n.defaultFloor}})}return te(!0)};var sf=tr("fs","FloorStackId"),N7=g.Intersect([g.Object({id:g.Ref(sf,{description:"The unique identifier for the floor stack."}),floors:g.Array(g.Ref(ze),{uniqueItems:!0,minItems:1,description:"The floors that are part of this floor stack."}),defaultFloor:g.Optional(g.Ref(ze,{description:"The default floor for the floor stack."}))}),Kn],{$id:"FloorStacksProperties"}),$7=g.Array(g.Ref(N7),{$id:"FloorStackCollection"}),kj=g.Object({floorStacks:g.Ref($7)},{$id:"FloorStackExtensionSchema"}),R7="floor-stacks.json",j7={name:"ext:floor-stacks",schema:kj,intoBundle:function*(e){e.floorStacks!=null&&(yield{path:R7,contents:e.floorStacks})},fromBundle:(e,r,t)=>{if(e===R7)return{floorStacks:t(r)}},references:[sf,N7,$7],integrityCheck:L7};p();p();var uf;(function(e){e.MissingFloorStackError="MissingFloorStackError",e.UnknownFloorStackError="UnknownFloorStackError"})(uf||(uf={}));var U7=e=>{if(e.facade==null)return te(!0);if(e.floorStacks==null)return oe({kind:uf.MissingFloorStackError,properties:null});let r=new Set(e.floorStacks.map(o=>o.id)),t=xr(e),n=li(e);for(let[o,i]of rt(e.facade)){if(i==null)continue;let s=n(o);if(s.isErr())return s;for(let u of i){let{floorStackId:l,geometryIds:c}=u;if(!r.has(l))return oe({kind:uf.UnknownFloorStackError,properties:{floorStackId:l}});for(let d of c){let f=t(o,d);if(f.isErr())return f}}}return te(!0)};var G7=g.Intersect([g.Object({floorStackId:g.Ref(sf)}),hp],{$id:"Facade"}),_j=g.Object({facade:nr(g.Record(ze,g.Array(g.Ref(G7)),{additionalProperties:!1}))},{$id:"FacadeExtensionSchema"}),Lj=/^facade\/(.*)\.json$/,z7={name:"ext:facade",schema:_j,intoBundle:function*(e){if(e.facade!=null)for(let r of Xe(e.facade))yield{path:`facade/${r}.json`,contents:e.facade[r]}},fromBundle:(e,r,t)=>{let n=e.match(Lj)?.[1];if(n)return{facade:{[n]:t(r)}}},references:[sf,G7],integrityCheck:U7};p();p();var V7=e=>{if(e.floorImages==null)return te(!0);let r=xr(e);for(let[t,n]of rt(e.floorImages))if(n!=null)for(let o of n.features){if(!("geometryId"in o.properties))continue;let i=o.properties.geometryId,s=r(t,i);if(s.isErr())return s}return te(!0)};var R3=g.Object({path:g.String({format:"uri",description:"The path to the image. This will be a remote URL."}),width:g.Number({minimum:0,description:"The width of the image when represented on the map, in meters."}),height:g.Number({minimum:0,description:"The height of the image when represented on the map, in meters."}),rotation:g.Number({minimum:0,maximum:360,description:"Rotation in degrees, about the center of the image. North is 0, east is 90."})},{$id:"BaseFloorImageProperties"}),H7=g.Intersect([g.Ref(R3),Po],{$id:"AnchoredFloorImageProperties"}),Z7=g.Intersect([g.Ref(R3),g.Object({verticalOffset:g.Number({minimum:0,description:"How high to position the image, in meters, relative to the ground plane."})})],{$id:"FloatingFloorImageProperties"}),W7=g.Union([H7,Z7],{$id:"FloorImageProperties"}),X7=Vr(g.Ref(on),W7,{$id:"FloorImageFeature"}),J7=hn(g.Ref(X7),{$id:"FloorImageCollection"}),Rj=g.Object({floorImages:nr(g.Record(ze,g.Ref(J7),{additionalProperties:!1}))},{$id:"FloorImagesExtensionSchema"}),Nj=/^floorImages\/(.*)\.geojson$/,Y7={name:"ext:floor-images",schema:Rj,intoBundle:function*(e){if(e.floorImages!=null)for(let r of Xe(e.floorImages))yield{path:`floorImages/${r}.geojson`,contents:e.floorImages[r]}},fromBundle:(e,r,t)=>{let n=e.match(Nj)?.[1];if(n)return{floorImages:{[n]:t(r)}}},references:[R3,H7,Z7,W7,X7,J7],integrityCheck:V7};p();p();var K7=e=>{if(e.kinds==null)return te(!0);let r=xr(e);for(let[t,n]of rt(e.kinds))if(n!=null)for(let o of Xe(n)){let i=r(t,o);if(i.isErr())return i}return te(!0)};var{values:xye,schema:$j,record:Iye}=Nn(["room","hallway","wall","object","poi","area","window"],{$id:"Kind"}),q7=$j;var Q7=nr(g.Record(an,g.Ref(q7),{additionalProperties:!1,$id:"GeometryKinds"})),jj=g.Object({kinds:nr(g.Record(ze,g.Ref(Q7),{additionalProperties:!1}))},{$id:"KindsExtensionSchema"}),Uj=/^kinds\/(.*)\.json$/,eT={name:"ext:kinds",schema:jj,intoBundle:function*(e){if(e.kinds!=null)for(let r of Xe(e.kinds))yield{path:`kinds/${r}.json`,contents:e.kinds[r]}},fromBundle:(e,r,t)=>{let n=e.match(Uj)?.[1];if(n)return{kinds:{[n]:t(r)}}},references:[q7,Q7],integrityCheck:K7};p();p();p();var lf;(function(e){e.UnknownNeighbor="UnknownNeighbor",e.SelfReference="SelfReference"})(lf||(lf={}));var tT=e=>{if(e.nodes==null)return te(!0);let r=rr(e.nodes,o=>o.properties.id,"nodes");if(r.isErr())return r;let t=xr(e),n=af(e);for(let[o,i]of rt(e.nodes)){if(i==null)continue;let s=new Set(i.features.map(u=>u.properties.id));for(let[u,l]of i.features.entries()){for(let c of l.properties.geometryIds){let d=t(o,c);if(d.isErr())return d}for(let[c,d]of l.properties.neighbors.entries()){if(!s.has(d.id))return oe({kind:lf.UnknownNeighbor,properties:{floorId:o,nodeId:l.properties.id,neighborId:d.id}});if(d.id===l.properties.id)return oe({kind:lf.SelfReference,properties:{floorId:o,nodeId:l.properties.id}});let f=Ip(d.flags,n,`nodes["${o}"].features[${u}].properties.neighbors[${c}]`);if(f.isErr())return f}}}return te(!0)};var N3=tr("n","NodeId"),rT=g.Intersect([g.Object({id:g.Ref(N3,{description:"The unique identifier for the node."}),extraCost:g.Number({minimum:0,description:"The extra cost to traverse to the node, above the straight-line distance."})}),_3],{$id:"NodeNeighbor"}),nT=g.Intersect([g.Object({id:g.Ref(N3,{description:"The unique identifier for the node."}),neighbors:g.Array(g.Ref(rT),{description:"The neighbors of the node."})}),hp],{$id:"NodeProperties"}),oT=Vr(g.Ref(on),nT,{$id:"NodeFeature"}),iT=hn(g.Ref(oT),{$id:"NodeCollection"}),Gj=g.Object({nodes:nr(g.Record(ze,g.Ref(iT),{additionalProperties:!1}))},{$id:"NodesExtensionSchema"}),zj=/^nodes\/(.*)\.(geo)?json$/,aT={name:"ext:nodes",schema:Gj,intoBundle:function*(e){if(e.nodes!=null)for(let r of Xe(e.nodes))yield{path:`nodes/${r}.geojson`,contents:e.nodes[r]}},fromBundle:(e,r,t)=>{let n=e.match(zj)?.[1];if(n)return{nodes:{[n]:t(r)}}},references:[N3,rT,nT,oT,iT],integrityCheck:tT};p();p();p();var Ey;(function(e){e.FloorInFloorStackError="FloorInFloorStackError"})(Ey||(Ey={}));var sT=e=>{if(e.outdoors==null)return te(!0);let r=li(e);for(let t of e.outdoors.floors){let n=r(t);if(n.isErr())return n;if(e.floorStacks!=null){for(let o of e.floorStacks)if(o.floors.includes(t))return oe({kind:Ey.FloorInFloorStackError,properties:{floorId:t,floorStackId:o.id}})}}return te(!0)};var lT=g.Object({floors:g.Array(g.Ref(ze),{uniqueItems:!0,description:"A list of floor IDs that should be considered to contain outdoor features."})},{$id:"Outdoors"}),Vj=g.Object({outdoors:g.Ref(lT)},{$id:"OutdoorsExtensionSchema"}),uT="outdoors.json",cT={name:"ext:outdoors",schema:Vj,intoBundle:function*(e){e.outdoors!=null&&(yield{path:uT,contents:e.outdoors})},fromBundle:(e,r,t)=>{if(e===uT)return{outdoors:t(r)}},references:[lT],integrityCheck:sT};p();p();p();var Cy;(function(e){e.TilesetDuplicateKeyError="TilesetDuplicateKeyError"})(Cy||(Cy={}));var pT=e=>{if(e.tileset==null)return te(!0);let r=new Set;if(r.add(e.tileset.default.key),e.tileset.others)for(let t of e.tileset.others){if(r.has(t.key))return oe({kind:Cy.TilesetDuplicateKeyError,properties:{key:t.key}});r.add(t.key)}return te(!0)};var $3=g.Object({key:g.String({minLength:1,description:"Unique identifier for the tileset style."}),name:g.String({minLength:1,description:"Display name of the tileset style."}),url:g.String({format:"uri",description:"URL of the tileset style."})},{$id:"TilesetStyle",description:"A tileset style definition."}),dT=g.Object({default:g.Ref($3,{description:"The default tileset style, which should be used."}),others:g.Optional(g.Array(g.Ref($3,{description:"Additional tileset styles that can be used."})))},{$id:"TilesetCollection"}),Hj=g.Object({tileset:g.Ref(dT)},{$id:"TilesetExtensionSchema"}),mT={name:"ext:mvf-tileset",schema:Hj,intoBundle:function*(e){e.tileset!=null&&(yield{path:"tileset.json",contents:e.tileset})},fromBundle:(e,r,t)=>{if(e==="tileset.json")return{tileset:t(r)}},references:[$3,dT],integrityCheck:pT};p();var fT=g.Object({},{$id:"WalkableProperties"}),hT=g.Object({},{$id:"NonWalkableProperties"}),gT=nr(g.Record(an,g.Ref(fT),{$id:"WalkableGeometries",additionalProperties:!1})),yT=nr(g.Record(an,g.Ref(hT),{$id:"NonWalkableGeometries",additionalProperties:!1})),Zj=g.Object({walkable:nr(g.Record(ze,g.Ref(gT),{additionalProperties:!1})),nonwalkable:nr(g.Record(ze,g.Ref(yT),{additionalProperties:!1}))},{$id:"TraversabilitySchema"}),Wj=/^walkable\/(.*)\.json$/,Xj=/^nonwalkable\/(.*)\.json$/,bT={name:"ext:mvf-traversability",schema:Zj,intoBundle:function*(e){if(e.walkable!=null)for(let r of Xe(e.walkable))yield{path:`walkable/${r}.json`,contents:e.walkable[r]};if(e.nonwalkable!=null)for(let r of Xe(e.nonwalkable))yield{path:`nonwalkable/${r}.json`,contents:e.nonwalkable[r]}},fromBundle:(e,r,t)=>{let n=e.match(Wj)?.[1];if(n!=null)return{walkable:{[n]:t(r)}};let o=e.match(Xj)?.[1];if(o!=null)return{nonwalkable:{[o]:t(r)}}},references:[fT,hT,gT,yT]};p();p();function vT(e){return e.replace(/^g_/,"s_")}function Sy(e){return e.replace(/^g_/,"o_")}function Jj(e){return e.replace(/^g_/,"w_")}function xT(e){return e.replace(/^loci_/,"eli_")}function cf(e){return e.replace(/^loc_/,"el_")}function Dy(e){return e.replace(/^lcat_/,"ec_")}function Yj(e){return e.replace(/^g_/,"ar_")}function IT(e){return e.replace(/^n_/,"s_")}function Kj(e,r,t){switch(e.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":{let n=[],o=0,i=e.geometry.type.replace("Multi","");for(let s of e.geometry.coordinates)n.push({...e,geometry:{type:i,coordinates:s},properties:{...e.properties,id:`${r}-${o++}`,kind:t}});return n}default:return[{...e,properties:{...e.properties,id:r,kind:t}}]}}function Ep(e,r,t,n){let o=new Map;for(let{feature:i,floorId:s}of e){let u=i.properties.id,l=n.get(u);if(r.has(u)){let c=Kj(i,t(u),l),d=c.map(h=>h.properties.id),f=d.map(h=>({geometryId:h,floorId:s}));o.set(u,{ids:d,features:c,anchors:f})}}return o}function ET(e){let r={space:new Map,obstruction:new Map,area:new Map,window:new Map,object:new Map};if(!e.geometry)return r;let t=qj(e),n=rt(e.geometry).flatMap(([c,d])=>(d?.features??[]).map(f=>({feature:f,floorId:c}))).flat(),o=new Set(Object.values(e.walkable??{}).filter(c=>c!==void 0).flatMap(Xe)),i=new Set(Object.values(e.nonwalkable??{}).filter(c=>c!==void 0).flatMap(Xe)),s=new Set(Array.from(t.entries()).filter(([c,d])=>d==="area").map(([c])=>c)),u=new Set(Array.from(t.entries()).filter(([c,d])=>d==="object").map(([c])=>c)),l=new Set(Array.from(t.entries()).filter(([c,d])=>d==="window").map(([c])=>c));return o.size>0&&(r.space=Ep(n,o,vT,t)),i.size>0&&(r.obstruction=Ep(n,i,Sy,t)),s.size>0&&(r.area=Ep(n,s,Yj,t)),u.size>0&&(r.object=Ep(n,u,Sy,t)),l.size>0&&(r.window=Ep(n,l,Jj,t)),o.size===0&&i.size===0&&s.size===0&&(r.space=Ep(n,new Set(n.map(c=>c.feature.properties.id)),vT,t)),r}function qj(e){let r=new Map(Object.values(e.kinds??{}).filter(t=>t!==void 0).flatMap(rt));for(let t of e.connections?.filter(n=>n.type!=="door")??[]){for(let n of t.entrances)r.set(n.geometryId,`connection.${t.type}`);for(let n of t.exits)r.set(n.geometryId,`connection.${t.type}`)}return r}function CT(e){let{nodesByGeometryId:r,incomingEdgesByNodeId:t,nodesById:n}=Qj(e),o=ET(e),i=eU(e),s=e.navigationFlags??{};return{geometryMaps:o,nodesByGeometryId:r,geometryFeatureById:i,navigationFlags:s,incomingEdgesByNodeId:t,nodesById:n}}function Qj(e){let r=new Map,t=new Map,n=new Map;for(let o of Object.values(e.nodes??{}))for(let i of o?.features??[]){if(n.set(i.properties.id,i),i.properties.geometryIds.length>0)for(let s of i.properties.geometryIds){let u=r.get(s)??[];u.push(i.properties.id),r.set(s,u)}if(i.properties.neighbors.length>0)for(let s of i.properties.neighbors){let u=t.get(s.id);u!=null?u.push(s):t.set(s.id,[s])}}return{nodesByGeometryId:r,incomingEdgesByNodeId:t,nodesById:n}}function eU(e){let r=new Map;for(let t of Object.values(e.geometry??{}))for(let n of t?.features??[])r.set(n.properties.id,n);return r}p();function ST(e,r){if(!e.annotations||!e.annotationSymbols||!e.geometry)return{};let t={};for(let[n,o]of rt(e.annotations)){if(!o||o.length===0||!e.geometry[n]||e.geometry[n].features.length===0)continue;let i=new Map(e.geometry[n].features.map(u=>[u.properties.id,u])),s={type:"FeatureCollection",features:[]};for(let u of o){let l=i.get(u.geometryId);if(!l||l.geometry.type!=="Point")continue;let c={id:u.id,externalId:u.externalId,symbolId:u.symbolKey};s.features.push({type:"Feature",geometry:l.geometry,properties:c})}t[n]=s}return{annotation:t}}p();function DT(e,{nodesByGeometryId:r}){let t={"connection.json":[],entrance:{}},n=e.navigationFlags?.[k3.accessible],o=e.navigationFlags?.[k3.outdoors],i=new Map(Object.values(e.geometry??{}).flatMap(s=>s?.features??[]).map(s=>[s.properties.id,s]));for(let s of e.connections??[]){if(j3(s,i)&&!tU(s)){let d=rU(s,i,r,o);for(let[f,h]of d)t.entrance[f]||(t.entrance[f]={type:"FeatureCollection",features:[]}),t.entrance[f].features.push(h);continue}let u=n!=null&&s.entrances.some(d=>ru(d,n))&&s.exits.some(d=>ru(d,n)),l=Array.from(new Set([...s.entrances.map(d=>r.get(d.geometryId)),...s.exits.map(d=>r.get(d.geometryId))].flat().filter(d=>d!=null))),c={id:s.id,externalId:s.details?.externalId??"",type:s.type,accessible:u,nodes:l};s.details?.name&&(c.details={name:s.details.name}),s.extra&&(c.extra=s.extra),t["connection.json"].push(c)}return t}function j3(e,r){return e.type==L3.door&&e.entrances.every(t=>r.get(t.geometryId)?.geometry.type==="LineString")}function tU(e){return e.entrances.length===0||e.exits.length===0?!1:new Set([...e.entrances.map(t=>t.floorId),...e.exits.map(t=>t.floorId)]).size>=2}function rU(e,r,t,n){if(e.type!==L3.door)return[];let o=[];for(let i of e.entrances){let s=r.get(i.geometryId);if(s?.geometry.type==="LineString"){let u={type:"Feature",geometry:s.geometry,properties:{id:e.id,externalId:e.details?.externalId??"",isExterior:nU(e,n)}},l=e.details;l&&(u.properties.details={name:l.name,description:l.description},l.icon&&(u.properties.details.images=[{url:l.icon,altText:`${l.name} icon`}]));let c=t.get(i.geometryId);c&&c.length>0&&(u.properties.node=c[0]),o.push([i.floorId,u])}}return o}function nU(e,r){return e.entrances.some(t=>ru(t,r))||e.exits.some(t=>ru(t,r))}p();function wT(e,{geometryMaps:r,nodesByGeometryId:t}){let n={categories:[],locations:[],locationInstances:[],layers:[],venue:{slug:"",name:"",externalId:"",defaultLanguage:{name:"English",code:"en"},languages:[]}},o=e.manifest?.features[0];o&&(n.venue.defaultFloor=o.properties.defaultFloor,n.venue.tzid=o.properties.tzid,n.venue.name=o.properties.name,n.venue.defaultLanguage={name:o.properties.language??"English",code:o.properties.language??"en"});let i=e.cms?.venue;i&&(n.venue={...n.venue,slug:i.slug,name:i.details?.name??n.venue.name??o.properties.name,externalId:i.details?.externalId??"",defaultLanguage:i.defaultLanguage,languages:i.languages??[],countrycode:i.countrycode,coverImage:i.coverImage,logo:i.logo,icon:i.details?.icon,extra:i.extra,mappedinWebUrl:i.mappedinWebUrl,operationHours:i.operationHours,topLocations:i.topLocations});let s=new Map,u=e.locations??[],l=e.cms?.locations??[],c=e.cms?.categories??[],d=new Map((c??[]).map(w=>[w.categoryId,w]));if(u.length>0){let w=new Map(l.map(S=>[S.locationId,S]));for(let S of u){let F=w.get(S.id)??{};if(S){let P=S.details,L={id:F?.cmsId!==void 0?`el_${F?.cmsId}`:cf(S.id),name:P.name,externalId:P.externalId??"",type:F.type??"location",sortOrder:F.sortOrder??0,amenity:F.amenity,description:P.description,extra:S.extra,links:S.links,operationHours:S.openingHours,gallery:F.gallery,logo:S.logo,shortName:P.shortName,picture:F.picture,showFloatingLabelWhenImagePresent:F.showFloatingLabelWhenImagePresent,showLogo:F.showLogo,siblingGroups:F.siblingGroups,states:F.states,tags:F.tags,spaces:[],nodes:[],polygons:[]};if(S.phone&&(L.phone={number:S.phone}),F.primaryCategory){let $=d.get(F.primaryCategory);$&&(L.primaryCategory=$.id)}let N=TT(S.social);S.website&&(N.website=S.website.url),L.social=N;for(let $ of S.geometryAnchors){let W=r.space.get($.geometryId),V=r.obstruction.get($.geometryId),q=W??V;if(q){let ue=new Set(q.features.filter(ce=>ce.geometry.type==="Polygon").map(ce=>ce.properties.id));for(let ce of q.anchors)W!=null&&q===W&&L.spaces.push({floor:ce.floorId,id:ce.geometryId}),ue.has(ce.geometryId)&&L.polygons.push({map:ce.floorId,id:ce.geometryId})}let se=t.get($.geometryId);for(let ue of se??[])L.nodes.push({map:$.floorId,id:ue})}n.locations.push(L);for(let $ of S.categories)s.set($,[...s.get($)??[],S.id])}}}let f=e.cms?.locationInstances??[],h=e.locationInstances;if(h){let w=new Map(f.map(F=>[F.locationInstanceId,F])),S=[];for(let F of h){let P=w.get(F.id)??{};if(F){let L={id:xT(F.id),parent:P.parentId??cf(F.parentId),name:F.details?.name,externalId:F.details?.externalId,type:P.type,sortOrder:P.sortOrder,amenity:P.amenity,description:F.details?.description,extra:F.extra,links:F.links,operationHours:F.openingHours,gallery:P.gallery,picture:P.picture,showFloatingLabelWhenImagePresent:P.showFloatingLabelWhenImagePresent,showLogo:P.showLogo,siblingGroups:P.siblingGroups,states:P.states,tags:P.tags,logo:F.logo,shortName:F.details?.shortName};F.phone&&(L.phone={number:F.phone});let N=TT(F.social??[]);if(F.website&&(N.website=F.website.url),Object.keys(N).length>0&&(L.social=N),F.geometryAnchors?.length){let $=F.geometryAnchors.flatMap(W=>r.space.get(W.geometryId)?.anchors??[]);$.length>0&&(L.spaces=$.map(W=>({floor:W.floorId,id:W.geometryId})))}if(F.geometryAnchors){L.spaces=[],L.polygons=[],L.nodes=[];for(let $ of F.geometryAnchors){let W=r.space.get($.geometryId);if(W){let q=new Set(W.features.filter(se=>se.geometry.type==="Polygon").map(se=>se.properties.id));for(let se of W.anchors)L.spaces.push({floor:se.floorId,id:se.geometryId}),q.has(se.geometryId)&&L.polygons.push({map:se.floorId,id:se.geometryId})}let V=t.get($.geometryId);for(let q of V??[])L.nodes.push({map:$.floorId,id:q})}}S.push(L)}}S.length>0&&(n.locationInstances=S)}let b=e.locationCategories;if(b){let w=[],S=new Map(b.map(N=>[N.id,N])),F=new Map((c??[]).map(N=>[N.categoryId,N])),P=new Map;for(let N of b){let $=S.get(N.parent);if($){let W=P.get($.id)??[];W.push(N.id),P.set($.id,W)}}for(let N of b){let $=F.get(N.id);if(N){let W=(P.get(N.id)??[]).map(Dy),V={id:Dy(N.id),name:N.details.name,externalId:N.details.externalId??"",sortOrder:$?.sortOrder??0,children:W,locations:(s.get(N.id)??[]).map(cf),icon:N.details.icon,picture:$?.picture,color:$?.color,extra:N.extra,iconFromDefaultList:$?.iconFromDefaultList};w.push(V)}}n.categories=w;let L={};for(let N of u)L[cf(N.id)]=N.categories.map(Dy).filter($=>$!==void 0);n.categoryPriorities=L}let I={};for(let[w,S]of Object.entries(e.defaultStyle??{}))if(S.buffer){let F=S.geometryAnchors.flatMap(P=>r.space.get(P.geometryId)?.anchors??[]);I[w]={edgeOffset:S.buffer,geometryAnchors:F}}Object.keys(I).length>0&&(n.enterpriseStyles=I);let E=new Map;for(let w of Object.values(e.cms?.layers??{}))if(w)for(let[S,F]of rt(w)){if(typeof F!="string")continue;let P=E.get(F)??{name:F,id:`ely_${F}`,spaces:[]};P.spaces.push(...r.space.get(S)?.anchors.map(L=>({floorId:L.floorId,spaceId:L.geometryId}))??[]),E.set(F,P)}E.size>0&&(n.layers=Array.from(E.values()));let v=[];for(let w of Object.values(e.cms?.textures??{}))for(let S of w){let F=r.space.get(S.geometryId)?.anchors;!F||F.length<1||S.face==="unknown"||S.surface==="unknown"||v.push({repeat:S.repeat,offset:S.offset,rotation:S.rotation,path:S.path,face:S.face,surface:S.surface,bounds:S.bounds,geometryAnchors:F})}v.length>0&&(n.textures=v);let x={};for(let[w,S]of Object.entries(e.cms?.floorText??{})){let F={type:"FeatureCollection",features:[]};for(let P of S.features){if(P.properties.align==="unknown")continue;let L={align:P.properties.align,color:P.properties.color,fontFamily:P.properties.fontFamily,fontSize:P.properties.fontSize,rotation:P.properties.rotation,text:P.properties.text,visible:P.properties.visible};"geometryId"in P.properties?L.geometryId=P.properties.geometryId:L.verticalOffset=P.properties.verticalOffset,F.features.push({type:"Feature",geometry:P.geometry,properties:L})}F.features.length>0&&(x[w]=F)}Object.keys(x).length>0&&(n.floorText=x);let D={enterprise:n};if(e.cms?.textAreas){let w={};for(let[S,F]of rt(e.cms.textAreas)){let P={type:"FeatureCollection",features:[]};for(let L of F.features){if(L.properties.align==="unknown")continue;let N={align:L.properties.align,maxWidth:L.properties.maxWidth,maxHeight:L.properties.maxHeight,rotation:L.properties.rotation};"geometryId"in L.properties?N.anchorId=L.properties.geometryId:N.verticalOffset=L.properties.verticalOffset;let $={type:"Feature",geometry:L.geometry,properties:N};P.features.push($)}w[S]=P}D.textAreas=w}return D}var oU=["facebook","instagram","twitter"];function TT(e){let r={};for(let{name:t,url:n}of e){let o=t.toLowerCase();oU.includes(o)&&(r[o]=n)}return r}p();var iU=e=>`fc_${e.slice(3)}`;function FT(e,{geometryMaps:r}){if(!e.facade)return{};let t={},n={};for(let[o,i]of rt(e.facade))if(i)for(let s of Object.values(i)){let{floorStackId:u,geometryIds:l}=s,c=iU(u);n[u]??(n[u]={id:c,spaces:[]}),n[u].spaces.push(...l.map(d=>({floorId:o,spaceId:r.space.get(d)?.ids[0]??""})))}return Object.keys(n).length>0&&(t.facade=n),t}p();function MT(e,r={}){let t={type:"FeatureCollection",features:[]},n=[];for(let o of e.floors.features)n.push({id:o.properties.id,externalId:o.properties.details?.externalId??"",elevation:o.properties.elevation,name:o.properties.details?.name??"",shortName:o.properties.details?.shortName??"",subtitle:o.properties.subtitle,maxHeight:o.properties.maxHeight}),t.features.push({type:"Feature",geometry:o.geometry,properties:{id:o.properties.id,externalId:o.properties.details?.externalId??"",elevation:o.properties.elevation,name:o.properties.details?.name??"",shortName:o.properties.details?.shortName??"",subtitle:o.properties.subtitle,maxHeight:o.properties.maxHeight}});return{"floor.geojson":t,"map.geojson":n}}p();function AT(e,{geometryMaps:r}){let t={},n={};for(let[o,i]of rt(e.floorImages??{})){let s={features:[],type:"FeatureCollection"};for(let u of i?.features??[])if("verticalOffset"in u.properties)s.features.push(u);else{let{geometryId:l,...c}=u.properties,d=r.space.get(l)?.ids[0]??r.obstruction.get(l)?.ids[0];if(!d)continue;let f={geometry:u.geometry,properties:{...c,anchorId:d},type:u.type};s.features.push(f)}n[o]=s}return Object.keys(n).length>0&&(t.floorImages=n),t}p();function OT(e,r={}){let t=[];for(let o of e?.floorStacks??[]){let i={id:o.id,floors:o.floors,maps:o.floors,externalId:o.details?.externalId??"",name:o.details?.name??"",shortName:o.details?.shortName??"",type:"Building"};o.defaultFloor&&(i.defaultFloor=o.defaultFloor),t.push(i)}if(e.outdoors&&e.outdoors.floors.length>0){let o={id:"outdoors",floors:e.outdoors.floors,maps:e.outdoors.floors,type:"Outdoor",name:"Outdoors",externalId:"outdoors"};t.push(o)}return{"floorstack.json":t,"mapstack.geojson":t}}p();p();var _T=rb(kT(),1),cU=e=>{let r=e.geometry.coordinates[0],t=0;for(let n=0;n<r.length-1;n++)t+=r[n][0]*r[n+1][1]-r[n+1][0]*r[n][1];return Math.abs(t/2)},pU=(e,r)=>{let[t,n]=e,o=r.geometry.coordinates[0],i=!1;for(let s=0,u=o.length-1;s<o.length;u=s++){let[l,c]=o[s],[d,f]=o[u];c>n!=f>n&&t<(d-l)*(n-c)/(f-c)+l&&(i=!i)}return i},dU=e=>{let r=e.geometry.coordinates[0],t=0,n=0;for(let o=0;o<r.length-1;o++)t+=r[o][0],n+=r[o][1];return{geometry:{coordinates:[t/(r.length-1),n/(r.length-1)]}}},mU=e=>{let r=cU(e),t=Number.isFinite(r)?Math.max(r,1):1;return Math.sqrt(t)*1e-6},wy=e=>{try{let t=dU(e).geometry.coordinates;if(!pU(t,e)){let o=(0,_T.default)(e.geometry.coordinates,mU(e));return te([o[0],o[1]])}return te(t)}catch{return oe(new Error("Unable to calculate center of polygon"))}};function V3(e){return e?.geometry?.type==="Polygon"}function RT(e,{geometryMaps:r,nodesByGeometryId:t,nodesById:n}){let o=yU(e.defaultStyle),i={},s={},u={},l={};for(let d of Xe(e.geometry)){let f=e.geometry[d];if(!f)continue;let h=[],b=[],I=[],E=[];for(let v of f.features){let x=v.properties.id,D=o.has(x),w=t.get(x)??[];for(let S of r.space.get(x)?.features??[])h.push(LT(S,w));for(let S of r.obstruction.get(x)?.features??[])if(b.push(fU(S,D)),r.object.get(x)){let P=t.get(x)??[],L=P.map(N=>n.get(N)).filter(N=>N!=null);for(let N of L){let $=LT({type:"Feature",geometry:N.geometry,properties:{id:IT(N.properties.id),kind:"desk-entrance",details:{externalId:Sy(x)}}},P);h.push($)}}for(let S of r.area.get(x)?.features??[])I.push(hU(S,w));for(let S of r.window.get(x)?.features??[])E.push(gU(S))}h.length>0&&(i[d]={type:"FeatureCollection",features:h.filter(v=>v!==null)}),b.length>0&&(s[d]={type:"FeatureCollection",features:b.filter(v=>v!==null)}),I.length>0&&(u[d]={type:"FeatureCollection",features:I.filter(v=>v!==null)}),E.length>0&&(l[d]={type:"FeatureCollection",features:E.filter(v=>v!==null)})}let c={space:i,obstruction:s};return Object.keys(u).length>0&&(c.area=u),Object.keys(l).length>0&&(c.window=l),c}function LT(e,r){switch(e.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":return null}let t={type:"Feature",geometry:e.geometry,properties:{destinationNodes:r,id:e.properties.id,externalId:e.properties.details?.externalId??"",kind:e.properties.kind}};return e.properties.details&&(t.properties.details={name:e.properties.details.name,description:e.properties.details.description,images:e.properties.details.icon?[{url:e.properties.details.icon,altText:e.properties.details.name?`${e.properties.details.name} icon`:"icon"}]:void 0}),V3(t)&&(t.properties.center=wy(t).unwrapOr(void 0)),t}function fU(e,r){switch(e.geometry.type){case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"Point":return null}let t=e.properties,n={type:"Feature",geometry:e.geometry,properties:{id:t.id,externalId:t.details?.externalId??"",entrances:[],kind:t.kind,footprintComponent:r}};return V3(n)&&(n.properties.center=wy(n).unwrapOr(void 0)),t.details&&(n.properties.details={name:t.details.name,description:t.details.description,images:t.details.icon?[{url:t.details.icon,altText:t.details.name?`${t.details.name} icon`:"icon"}]:void 0}),n}function hU(e,r){if(e.geometry.type!=="Polygon")return null;let t=e.properties,n={type:"Feature",geometry:e.geometry,properties:{id:t.id,externalId:t.details?.externalId??"",destinationNodes:r}};return V3(n)&&(n.properties.center=wy(n).unwrapOr(void 0)),t.details&&(n.properties.details={name:t.details.name,description:t.details.description,images:t.details.icon?[{url:t.details.icon,altText:t.details.name?`${t.details.name} icon`:"icon"}]:void 0}),n}function gU(e){return e.geometry.type!=="LineString"?null:{type:"Feature",geometry:e.geometry,properties:{id:e.properties.id}}}function yU(e){return new Set((e?.ExteriorWalls?.geometryAnchors??[]).map(t=>t.geometryId))}p();function NT(e,{geometryMaps:r,geometryFeatureById:t}){if(!e.locationCategories&&!e.locations)return{};let n={};if(e.locationCategories?.length){let o=[];for(let i of e.locationCategories){let s={id:i.id,name:i.details.name,icon:i.details.icon??""};i.parent&&(s.parent=i.parent),o.push(s)}n["category.json"]=o}if(e.locations?.length){let o=bU(e,{geometryFeatureById:t}),i=[];for(let s of e.locations){let u={id:s.id,name:s.details.name,categories:s.categories,spaces:[],obstructions:[],areas:[],annotations:[],connections:[],entrances:[],links:s.links,openingHoursSpecification:s.openingHours??[],pictures:s.images,social:s.social,description:s.details.description,externalId:s.details.externalId,icon:s.details.icon,logo:s.logo,phone:s.phone,website:s.website};i.push(u);for(let{geometryId:l,floorId:c}of s.geometryAnchors)u.spaces.push(...r.space.get(l)?.ids.map(d=>({id:d,floor:c}))??[]),u.obstructions.push(...r.obstruction.get(l)?.ids.map(d=>({id:d,floor:c}))??[]),u.areas.push(...r.area.get(l)?.ids.map(d=>({id:d,floor:c}))??[]),u.entrances.push(...o.entrancesByGeometryId.get(l)??[]),u.connections.push(...o.connectionsByGeometryId.get(l)??[]),u.annotations.push(...o.annotationsByGeometryId.get(l)??[])}n["location.json"]=i}return n}function bU(e,{geometryFeatureById:r}){let t={annotationsByGeometryId:new Map,connectionsByGeometryId:new Map,entrancesByGeometryId:new Map};if(e.annotations)for(let[n,o]of rt(e.annotations))for(let i of o??[]){let s=i.geometryId,u=i.id,l=t.annotationsByGeometryId.get(s)??[];l.push({floor:n,id:u}),t.annotationsByGeometryId.set(s,l)}if(e.connections)for(let n of e.connections){let o=j3(n,r),i=Array.from(new Map([...n.entrances,...n.exits].map(s=>[`${s.geometryId}_${s.floorId}`,s])).values());for(let s of i){let u=s.geometryId;if(o){let l=t.entrancesByGeometryId.get(u)??[];l.push({floor:s.floorId,id:n.id}),t.entrancesByGeometryId.set(u,l)}else{let l=t.connectionsByGeometryId.get(u)??[];l.push(n.id),t.connectionsByGeometryId.set(u,l)}}}return t}p();function $T(e,r){let t={features:[],type:"FeatureCollection"},n={"manifest.geojson":t},o=e.manifest;if(o.features.length>0){let i=o.features[0],s=i.properties,u={type:"Feature",geometry:i.geometry,properties:{folder_struct:[],version:"2.0.0",time:s.time,name:s.name,naturalBearing:s.naturalBearing,tzid:s.tzid,map:s.mapId,org_id:s.orgId,language:s.language}};t.features.push(u)}return n}p();function jT(e,{geometryMaps:r,navigationFlags:t,incomingEdgesByNodeId:n}){let o={"node.geojson":{type:"FeatureCollection",features:[]}},i=o["node.geojson"].features,s=vU(e),u=xU(e),l=IU(e,u,s);for(let[c,d]of rt(e.nodes??{}))for(let f of d?.features??[]){let h=r.space.get(f.properties.geometryIds[0])?.features[0],b=h?.geometry.type==="Point"&&h?.properties.details?.externalId?h.properties.details.externalId:"",I=n.get(f.properties.id)??[],E=Object.keys(t??{}),v=[];for(let D of I)for(let w of E)ru(D,t[w])&&v.push(t[w]);let x={type:"Feature",geometry:f.geometry,properties:{id:f.properties.id,floor:c,space:f.properties.geometryIds.map(D=>r.space.get(D)?.ids).flat().filter(D=>D!==void 0),neighbors:[...f.properties.neighbors.map(D=>({id:D.id,weight:D.extraCost})),...l.get(f.properties.id)??[]],map:c,externalId:b,flags:v.length>0?EU(v):void 0}};i.push(x)}return o}function vU(e){let r=new Map;for(let t of e.floors?.features??[])r.set(t.properties.id,t.properties.elevation);return r}function xU(e){let r=new Map;for(let t of Object.values(e.nodes??{}))for(let n of t?.features??[])if(n.properties.geometryIds.length!==0)for(let o of n.properties.geometryIds){let i=r.get(o)??[];i.includes(n.properties.id)||(i.push(n.properties.id),r.set(o,i))}return r}function IU(e,r,t){let n=new Map;for(let o of e.connections??[]){let i=o.exits.map(s=>({...s,nodes:r.get(s.geometryId)??[]}));for(let s of o.entrances){let u=r.get(s.geometryId)??[];for(let l of u)for(let c of i){let d=Math.abs((t.get(s.floorId)??0)-(t.get(c.floorId)??0))*o.floorCostMultiplier,f=n.get(l)??[];f.push(...c.nodes.filter(h=>h!==l).map(h=>({id:h,weight:d+o.entryCost}))),n.set(l,f)}}}return n}function EU(e){if(e==null||e.length===0)return;let r=new Array(Math.max(...e.map(t=>t.index))+1).fill(0);for(let t of e)r[t.index]|=1<<t.bit;return r}p();function CU(e,r){let t={};for(let n of e){let o=r.get(n);o&&(t[o]??(t[o]=[]),t[o].push(n))}return t}function UT(e,{geometryMaps:r}){if(!e.defaultStyle)return{};let t={},n={};t["styles.json"]=n;let o=[...Array.from(r.space.values()).map(s=>s.features),...Array.from(r.obstruction.values()).map(s=>s.features)],i=new Map(o.flatMap(s=>s.map(u=>[u.properties.id,u.geometry.type])));for(let[s,u]of rt(e.defaultStyle)){let l=CU(u.geometryAnchors.flatMap(c=>[...r.space.get(c.geometryId)?.ids??[],...r.obstruction.get(c.geometryId)?.ids??[]]),i);if(l.Point&&l.Point.length>0){let c={points:Array.from(l.Point.values()),showImage:u.extra?.showImage!==void 0?u.extra?.showImage===!0:u.opacity!==0};n[`${s}.Point`]=c}if(l.LineString&&l.LineString.length>0){let c={lineStrings:Array.from(l.LineString.values()),altitude:u.altitude,color:u.color,height:u.height,opacity:u.opacity,width:u.buffer};n[`${s}.LineString`]=c}if(l.Polygon&&l.Polygon.length>0){let c={polygons:Array.from(l.Polygon.values()),altitude:u.altitude,color:u.color,height:u.height,opacity:u.opacity};u.extra?.showImage!==void 0&&(c.showImage=u.extra.showImage===!0),n[`${s}.Polygon`]=c}}return t}var SU=ED().extendOptional(S7).extendOptional(aT).extendOptional(O7).extendOptional(eT).extendOptional(bT).extendOptional(_7).extendOptional(j7).extendOptional(cT).extendOptional(mT).extendOptional(Y7).extendOptional(z7).extendOptional(TD).extendOptional(_D).extendOptional(v7).build({cspSafe:!0}).expect("Invalid parser, this should never happen. Likely a bug in the MVFv2 library, or one of the extensions.");function GT(e){let r=CT(e),t=MT(e,r),n=RT(e,r),o=jT(e,r),i=DT(e,r),s=UT(e,r),u=OT(e,r),l=AT(e,r),c=FT(e,r),d=ST(e,r),f=NT(e,r),h=wT(e,r),b=$T(e,r);return{...e.tileset?{"tileset.json":e.tileset}:{},...e.navigationFlags?{"navigationFlags.json":e.navigationFlags}:{},...t,...n,...o,...i,...s,...u,...l,...c,...d,...f,...h,...b}}function H3(e){let r=SU.decompressUnsafeSync(e);return r.isOk()?te(GT(r.value)):oe(r.error)}p();function Cp(e){return e.endsWith("/")?e:`${e}/`}p();var Sp="https://app.mappedin.com/",zT="https://auth.mappedin.com/",VT=Object.freeze({baseUri:"https://app.mappedin.com/",baseAuthUri:"https://app.mappedin.com/",analyticsBaseUri:"https://api-gateway.mappedin.com/track-analytics/a/",tileServerUri:"https://tiles-cdn.mappedin.com/styles/mappedin/style.json"}),DU=Object.freeze({...VT,baseUri:"https://api-gateway.mappedin.com/",baseAuthUri:"https://auth.mappedin.com/"}),TU=Object.freeze({baseUri:"https://api-gateway.eu.mappedin.com/",baseAuthUri:"https://auth.eu.mappedin.com/",analyticsBaseUri:"https://api-gateway.eu.mappedin.com/track-analytics/a/",tileServerUri:"https://tiles-cdn.eu.mappedin.com/styles/mappedin/style.json"}),wU=Object.freeze({baseUri:"https://api-gateway-staging.mappedin.net/",baseAuthUri:"https://auth-staging.mappedin.net/",analyticsBaseUri:"https://api-gateway-staging.mappedin.net/track-analytics/a/",tileServerUri:"https://tiles-cdn.mappedin.com/styles/mappedin/style.json"}),FU=Object.freeze({baseUri:"https://app-staging.mappedin.net/",baseAuthUri:"https://app-staging.mappedin.net/",analyticsBaseUri:"https://api-gateway-staging.mappedin.net/track-analytics/a/",tileServerUri:"https://tiles-cdn.mappedin.com/styles/mappedin/style.json"}),MU={eu:TU,us:VT,"us-enterprise":DU,"us-staging-enterprise":wU,"us-staging-self-serve":FU};function HT(e){return MU[e]}p();p();var AU=e=>{let r=Date.now();return e-r},Fy=(e,r)=>AU(e)<=r*60*1e3;var WT=60,XT=WT*60*1e3,ZT="accessTokens";async function pf(e,r=!1){let t=`${e.key}`,n=_a.getInstance(),o=n?.loadSessionData(ZT)||{},i=Math.floor(Date.now()/1e3);if(o[t]&&!Fy(o[t].expiresTimestamp*1e3,WT))return o[t];let s=r?await OU(e,i):await BU(e,i),u={...o,[t]:s};return n?.saveSessionData(ZT,u),s}async function OU(e,r){let t;e.customAuthUri?t=e.customAuthUri:t=`${e.baseAuthUri??zT}oauth2/token`;let n;try{n=await oo()(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({grant_type:"client_credentials",client_id:e.key,client_secret:e.secret})})}catch(i){let s=i instanceof Error?i.message:String(i);throw new Error(`Failed to fetch enterprise access token from ${t}: ${s}`)}if(!n.ok)throw new Error(`${n.status} ${n.statusText}: ${await n.text()}`);let o=await n.json();return{accessToken:o.access_token,expiresTimestamp:r+o.expires_in}}async function BU(e,r){let t;e.customAuthUri?t=e.customAuthUri:t=`${e.baseAuthUri?Cp(e.baseAuthUri):Sp}api/v1/api-key/token`;let n;try{n=await oo()(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e.key,secret:e.secret})})}catch(i){let s=i instanceof Error?i.message:String(i);throw new Error(`Failed to fetch access token from ${t}: ${s}`)}if(!n.ok)throw new Error(`${n.status} ${n.statusText}: ${await n.text()}`);let o=await n.json();return{accessToken:o.access_token,expiresTimestamp:r+o.expires_in}}p();var YT=60,KT=YT*60*1e3,JT="miSasTokens";async function Z3(e,r){let t=`${r}__${e.mapId}`,n=_a.getInstance(),o=n?.loadSessionData(JT)||{};if(o[t]&&!Fy(o[t].expires,YT))return o[t];let i=await PU(e,r),s={...o,[t]:{token:i.token,expires:new Date(i.expires).getTime()}};return n?.saveSessionData(JT,s),i}async function PU(e,r){let t=`${e.baseUri?Cp(e.baseUri):Sp}api/v1/venue/${e.mapId}/sas-token`,n=await oo()(t,{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`${n.status} ${n.statusText}: ${await n.text()}`);let o=await n.json();return{token:o.token,expires:new Date(o.expires).getTime()}}p();var io=Uint8Array,ul=Uint16Array,qT=Uint32Array,QT=new io([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ew=new io([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kU=new io([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tw=function(e,r){for(var t=new ul(31),n=0;n<31;++n)t[n]=r+=1<<e[n-1];for(var o=new qT(t[30]),n=1;n<30;++n)for(var i=t[n];i<t[n+1];++i)o[i]=i-t[n]<<5|n;return[t,o]},rw=tw(QT,2),nw=rw[0],_U=rw[1];nw[28]=258,_U[258]=28;var ow=tw(ew,0),LU=ow[0],Tbe=ow[1],Y3=new ul(32768);for(pt=0;pt<32768;++pt)is=(pt&43690)>>>1|(pt&21845)<<1,is=(is&52428)>>>2|(is&13107)<<2,is=(is&61680)>>>4|(is&3855)<<4,Y3[pt]=((is&65280)>>>8|(is&255)<<8)>>>1;var is,pt,df=function(e,r,t){for(var n=e.length,o=0,i=new ul(r);o<n;++o)e[o]&&++i[e[o]-1];var s=new ul(r);for(o=0;o<r;++o)s[o]=s[o-1]+i[o-1]<<1;var u;if(t){u=new ul(1<<r);var l=15-r;for(o=0;o<n;++o)if(e[o])for(var c=o<<4|e[o],d=r-e[o],f=s[e[o]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)u[Y3[f]>>>l]=c}else for(u=new ul(n),o=0;o<n;++o)e[o]&&(u[o]=Y3[s[e[o]-1]++]>>>15-e[o]);return u},mf=new io(288);for(pt=0;pt<144;++pt)mf[pt]=8;var pt;for(pt=144;pt<256;++pt)mf[pt]=9;var pt;for(pt=256;pt<280;++pt)mf[pt]=7;var pt;for(pt=280;pt<288;++pt)mf[pt]=8;var pt,iw=new io(32);for(pt=0;pt<32;++pt)iw[pt]=5;var pt;var RU=df(mf,9,1);var NU=df(iw,5,1),W3=function(e){for(var r=e[0],t=1;t<e.length;++t)e[t]>r&&(r=e[t]);return r},mi=function(e,r,t){var n=r/8|0;return(e[n]|e[n+1]<<8)>>(r&7)&t},X3=function(e,r){var t=r/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(r&7)},$U=function(e){return(e+7)/8|0},q3=function(e,r,t){(r==null||r<0)&&(r=0),(t==null||t>e.length)&&(t=e.length);var n=new(e.BYTES_PER_ELEMENT==2?ul:e.BYTES_PER_ELEMENT==4?qT:io)(t-r);return n.set(e.subarray(r,t)),n};var jU=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fi=function(e,r,t){var n=new Error(r||jU[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,fi),!t)throw n;return n},UU=function(e,r,t){var n=e.length;if(!n||t&&t.f&&!t.l)return r||new io(0);var o=!r||t,i=!t||t.i;t||(t={}),r||(r=new io(n*3));var s=function(at){var xt=r.length;if(at>xt){var Ot=new io(Math.max(xt*2,at));Ot.set(r),r=Ot}},u=t.f||0,l=t.p||0,c=t.b||0,d=t.l,f=t.d,h=t.m,b=t.n,I=n*8;do{if(!d){u=mi(e,l,1);var E=mi(e,l+1,3);if(l+=3,E)if(E==1)d=RU,f=NU,h=9,b=5;else if(E==2){var w=mi(e,l,31)+257,S=mi(e,l+10,15)+4,F=w+mi(e,l+5,31)+1;l+=14;for(var P=new io(F),L=new io(19),N=0;N<S;++N)L[kU[N]]=mi(e,l+N*3,7);l+=S*3;for(var $=W3(L),W=(1<<$)-1,V=df(L,$,1),N=0;N<F;){var q=V[mi(e,l,W)];l+=q&15;var v=q>>>4;if(v<16)P[N++]=v;else{var se=0,ue=0;for(v==16?(ue=3+mi(e,l,3),l+=2,se=P[N-1]):v==17?(ue=3+mi(e,l,7),l+=3):v==18&&(ue=11+mi(e,l,127),l+=7);ue--;)P[N++]=se}}var ce=P.subarray(0,w),de=P.subarray(w);h=W3(ce),b=W3(de),d=df(ce,h,1),f=df(de,b,1)}else fi(1);else{var v=$U(l)+4,x=e[v-4]|e[v-3]<<8,D=v+x;if(D>n){i&&fi(0);break}o&&s(c+x),r.set(e.subarray(v,D),c),t.b=c+=x,t.p=l=D*8,t.f=u;continue}if(l>I){i&&fi(0);break}}o&&s(c+131072);for(var Ee=(1<<h)-1,he=(1<<b)-1,ne=l;;ne=l){var se=d[X3(e,l)&Ee],Ce=se>>>4;if(l+=se&15,l>I){i&&fi(0);break}if(se||fi(2),Ce<256)r[c++]=Ce;else if(Ce==256){ne=l,d=null;break}else{var xe=Ce-254;if(Ce>264){var N=Ce-257,Re=QT[N];xe=mi(e,l,(1<<Re)-1)+nw[N],l+=Re}var we=f[X3(e,l)&he],Ve=we>>>4;we||fi(3),l+=we&15;var de=LU[Ve];if(Ve>3){var Re=ew[Ve];de+=X3(e,l)&(1<<Re)-1,l+=Re}if(l>I){i&&fi(0);break}o&&s(c+131072);for(var me=c+xe;c<me;c+=4)r[c]=r[c-de],r[c+1]=r[c+1-de],r[c+2]=r[c+2-de],r[c+3]=r[c+3-de];c=me}}t.l=d,t.p=ne,t.b=c,t.f=u,d&&(u=1,t.m=h,t.d=f,t.n=b)}while(!u);return c==r.length?r:q3(r,0,c)};var GU=new io(0);var la=function(e,r){return e[r]|e[r+1]<<8},hi=function(e,r){return(e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24)>>>0},J3=function(e,r){return hi(e,r)+hi(e,r+4)*4294967296};function zU(e,r){return UU(e,r)}var K3=typeof TextDecoder<"u"&&new TextDecoder,VU=0;try{K3.decode(GU,{stream:!0}),VU=1}catch{}var HU=function(e){for(var r="",t=0;;){var n=e[t++],o=(n>127)+(n>223)+(n>239);if(t+o>e.length)return[r,q3(e,t-1)];o?o==3?(n=((n&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,r+=String.fromCharCode(55296|n>>10,56320|n&1023)):o&1?r+=String.fromCharCode((n&31)<<6|e[t++]&63):r+=String.fromCharCode((n&15)<<12|(e[t++]&63)<<6|e[t++]&63):r+=String.fromCharCode(n)}};function ZU(e,r){if(r){for(var t="",n=0;n<e.length;n+=16384)t+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return t}else{if(K3)return K3.decode(e);var o=HU(e),i=o[0],s=o[1];return s.length&&fi(8),i}}var WU=function(e,r){return r+30+la(e,r+26)+la(e,r+28)},XU=function(e,r,t){var n=la(e,r+28),o=ZU(e.subarray(r+46,r+46+n),!(la(e,r+8)&2048)),i=r+46+n,s=hi(e,r+20),u=t&&s==4294967295?JU(e,i):[s,hi(e,r+24),hi(e,r+42)],l=u[0],c=u[1],d=u[2];return[la(e,r+10),l,c,o,i+la(e,r+30)+la(e,r+32),d]},JU=function(e,r){for(;la(e,r)!=1;r+=4+la(e,r+2));return[J3(e,r+12),J3(e,r+4),J3(e,r+20)]};function Q3(e,r){for(var t={},n=e.length-22;hi(e,n)!=101010256;--n)(!n||e.length-n>65558)&&fi(13);var o=la(e,n+8);if(!o)return{};var i=hi(e,n+16),s=i==4294967295||o==65535;if(s){var u=hi(e,n-12);s=hi(e,u)==101075792,s&&(o=hi(e,u+32),i=hi(e,u+48))}for(var l=r&&r.filter,c=0;c<o;++c){var d=XU(e,i,s),f=d[0],h=d[1],b=d[2],I=d[3],E=d[4],v=d[5],x=WU(e,v);i=E,(!l||l({name:I,size:h,originalSize:b,compression:f}))&&(f?f==8?t[I]=zU(e.subarray(x,x+h),new io(b)):fi(14,"unknown compression type "+f):t[I]=q3(e,x,x+h))}return t}var aw=globalThis.fetch,KU=y?.env?.npm_package_version;function oo(){if(aw==null)throw new Error("fetch is not available in your environment. Pass your own function into `setFetchFn` (node-fetch, etc)");return aw}var ex={supplementaryUrl:"https://api-gateway.mappedin.com/analytics/",headers:{},accessToken:"",clientId:"",noAuth:!1,includeHidden:!0,clientSecret:"",apiGateway:"",authorization:"",perspective:"Website",language:"",venue:""};function uw(e){let r={...ex,...e};return r.headers={...r.headers,"mappedin-sdk-version":KU},r.things=[],"platformString"in e&&(r.headers={...r.headers,"mappedin-platform-version":e.platformString}),r.noAuth||(r.accessToken?r.authorization=`Bearer ${r.accessToken}`:r.clientId&&r.clientSecret&&(r.authorization=`Basic ${globalThis.btoa(`${r.clientId}:${r.clientSecret}`)}`)),r.language=r.language?.toLowerCase(),r}function qU(e,r,t=!1){let n={language:e.language,clientId:e.clientId,clientSecret:e.clientSecret};t&&delete n.language;let{headers:o}=e;o["Content-Type"]=o["Content-Type"]||"text/json",e.accessToken?o.Authorization=`Bearer ${e.accessToken}`:e.noAuth||e.clientId&&e.clientSecret&&(o["x-mappedin-key"]=btoa(e.clientId),o["x-mappedin-secret"]=btoa(e.clientSecret));let i={method:"GET",headers:o};return e.secure&&(r+="&withcdntoken"),{req:i,url:r}}async function QU(e,r,t=!1){let n=qU(e,r,t),o=await oo()(n.url,n.req);if(!o.ok)throw new Error(`${o.status} ${o.statusText}`);return o.json()}var eG=e=>{let r=e!=null&&typeof e=="object"&&"perspectives"in e&&e.perspectives!=null&&typeof e.perspectives=="object"?e.perspectives:null;if(r==null||Object.keys(r).length===0)return R.warn("No perspectives available in response!"),null;let t={};for(let[n,o]of Object.entries(r)){let i="url"in o&&typeof o.url=="string"?o.url:null,s="locale_packs"in o&&typeof o.locale_packs=="object"?o.locale_packs:null;if(i==null||s==null){R.warn(`Perspective ${n} is missing url or locale_packs!`);continue}t[n]={url:i,locale_packs:s}}return t};async function tG(e,r="exports/mvf/1/bundle"){let t=uw({baseUri:"https://api-gateway.mappedin.com/",...ex,...e}),n=`${t.baseUri+r}?venue=${t.venue}&version=${t.version??"2.0.0"}`;t.headers["Content-Type"]="application/zip";let o=await QU(t,n),i=o.url,s=o.locale_packs,u=t.perspective??ex.perspective,l=eG(o);if(u!=null&&u!==""&&l!=null){let c=l[u];c==null?R.warn(`Perspective ${u} not found in response! Loading default perspective instead.`):(R.log(`Loading perspective "${u}"`),i=c.url,s=c.locale_packs)}return{url:i,localePacks:s,updated_at:o.updated_at}}var Dp=function(){let e;return()=>(e||(e=new TextDecoder),e)}();async function tx(e,{signal:r}){let t=await(await oo()(e,{signal:r})).arrayBuffer();return new Uint8Array(t)}async function Tp(e){let r=Q3(e),t={};if(r["enterprise/"]!=null){t.enterprise={};let n=r["enterprise/locations.json"];n&&(t.enterprise.locations=JSON.parse(Dp().decode(n)));let o=r["enterprise/locationInstances.json"];o&&(t.enterprise.locationInstances=JSON.parse(Dp().decode(o)));let i=r["enterprise/categories.json"];i&&(t.enterprise.categories=JSON.parse(Dp().decode(i)))}return r["floorstack.json"]&&(t["floorstack.json"]=JSON.parse(Dp().decode(r["floorstack.json"]))),r["floor.geojson"]&&(t["floor.geojson"]=JSON.parse(Dp().decode(r["floor.geojson"]))),r["manifest.json"]&&(t["manifest.geojson"]=JSON.parse(Dp().decode(r["manifest.json"]))),t}async function lw(e,{signal:r}){try{let t=await(await oo()(e,{signal:r})).arrayBuffer();if(r.aborted)return;let n=new Uint8Array(t);return await Tp(n)}catch(t){let n=new Error("downloadLanguagePack failed");throw n.cause=t,n}}function rG(e){let{mvfVersion:r,useDraftData:t}=e;if(r==="3.0.0")return t?"exports/mvf3-draft/1/bundle":"exports/mvf3/1/bundle";if(r==null||r==="2.0.0")return t?"exports/mvf2-draft/1/bundle":"exports/mvf2/1/bundle";if(r==="2.0.0-c")return t?"exports/mvf2c-draft/1/bundle":"exports/mvf2c/1/bundle";throw new Error(`Unsupported MVF version: ${r}`)}async function rx(e){return new Promise(async(r,t)=>{try{let n=rG(e),{url:o,localePacks:i}=await tG(e,n),s=await oo()(o).then(l=>l.arrayBuffer()),u=new Uint8Array(s);r({compressed:u,localePacks:i})}catch(n){t(n)}})}async function nx(e,r){return new Promise(async(t,n)=>{try{let{url:o}=await nG(e,r),i=await oo()(o).then(u=>u.arrayBuffer()),s=new Uint8Array(i);t(s)}catch(o){n(o)}})}async function nG(e,r){let t=new URL(`${e.baseUri?Cp(e.baseUri):Sp}api/v1/venue/${e.mapId}/mvf`);e.viewId&&t.searchParams.set("configId",e.viewId),e.mvfVersion&&t.searchParams.set("version",e.mvfVersion);let n=await oo()(t.toString(),{headers:{Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error(`${n.status} ${n.statusText}`);return n.json()}function ox(e){let r=new TextDecoder,t=r.decode.bind(r);try{let n={"connection.json":JSON.parse(t(e["connection.json"])),"manifest.geojson":JSON.parse(t(e["manifest.geojson"])),"map.geojson":e["map.geojson"]?JSON.parse(t(e["map.geojson"])):void 0,"mapstack.geojson":e["mapstack.geojson"]?JSON.parse(t(e["mapstack.geojson"])):void 0,"node.geojson":JSON.parse(t(e["node.geojson"])),obstruction:{},space:{},entrance:{},facade:{},"tileset.json":e["tileset.json"]?JSON.parse(t(e["tileset.json"])):void 0,"navigationFlags.json":e["navigationFlags.json"]?JSON.parse(t(e["navigationFlags.json"])):void 0};if(e.enterprise!=null&&(n.enterprise={},e.enterprise?.["locations.json"]&&(n.enterprise.locations=JSON.parse(t(e.enterprise?.["locations.json"]))),e.enterprise?.["categories.json"]&&(n.enterprise.categories=JSON.parse(t(e.enterprise?.["categories.json"]))),e.enterprise?.["venue.json"]&&(n.enterprise.venue=JSON.parse(t(e.enterprise?.["venue.json"]))),e.enterprise?.["layers.json"]&&(n.enterprise.layers=JSON.parse(t(e.enterprise?.["layers.json"]))),e.enterprise?.["locationInstances.json"]&&(n.enterprise.locationInstances=JSON.parse(t(e.enterprise?.["locationInstances.json"]))),e.enterprise?.["enterpriseStyles.json"]&&(n.enterprise.enterpriseStyles=JSON.parse(t(e.enterprise?.["enterpriseStyles.json"]))),e.enterprise?.["textures.json"]&&(n.enterprise.textures=JSON.parse(t(e.enterprise?.["textures.json"]))),e.enterprise?.["floorText.json"]&&(n.enterprise.floorText=JSON.parse(t(e.enterprise?.["floorText.json"]))),e.enterprise?.["categoryPriorities.json"]&&(n.enterprise.categoryPriorities=JSON.parse(t(e.enterprise?.["categoryPriorities.json"])))),e["floorstack.json"]!=null?n["floorstack.json"]=JSON.parse(t(e["floorstack.json"])):e["mapstack.json"]!=null&&(n["mapstack.json"]=JSON.parse(t(e["mapstack.json"]))),n["floorstack.json"]==null&&n["mapstack.json"]==null&&n["mapstack.geojson"]==null)throw new Error("MVF is missing floorstack.json or mapstack.json/mapstack.geojson");if(e["floor.geojson"]&&(n["floor.geojson"]=JSON.parse(t(e["floor.geojson"]))),n["floor.geojson"]==null&&n["map.geojson"]==null)throw new Error("MVF is missing floor.geojson or map.geojson");if("styles.json"in e&&(n["styles.json"]=JSON.parse(t(e["styles.json"]))),"shapes.json"in e&&(n["shapes.json"]=JSON.parse(t(e["shapes.json"]))),"location.json"in e&&(n["location.json"]=JSON.parse(t(e["location.json"]))),"category.json"in e&&(n["category.json"]=JSON.parse(t(e["category.json"]))),e.annotation!=null){n.annotation={};let i=Object.keys(e.annotation);for(let s of i){let u=s.replace(/\.json|\.geojson/g,"");n.annotation[u]=JSON.parse(t(e.annotation[s]))}}let o=Object.keys(e.space);for(let i of o){let s=i.replace(/\.json|\.geojson/g,"");n.space[s]=JSON.parse(t(e.space[i]))}if(e.obstruction!=null){let i=Object.keys(e.obstruction);for(let s of i){let u=s.replace(/\.json|\.geojson/g,"");n.obstruction[u]=JSON.parse(t(e.obstruction[s]))}}else n.obstruction={};if(e.entrance!=null){let i=Object.keys(e.entrance);for(let s of i){let u=s.replace(/\.json|\.geojson/g,"");n.entrance[u]=JSON.parse(t(e.entrance[s]))}}else n.entrance={};if("floorImages"in e&&e.floorImages!=null){n.floorImages={};for(let i of Object.keys(e.floorImages)){let s=i.replace(/\.json|\.geojson/g,"");n.floorImages[s]=JSON.parse(t(e.floorImages[i]))}}if("textAreas"in e&&e.textAreas!=null){n.textAreas={};for(let i of Object.keys(e.textAreas)){let s=i.replace(/\.json|\.geojson/g,"");n.textAreas[s]=JSON.parse(t(e.textAreas[i]))}}if("facade"in e&&e.facade!=null){n.facade={};for(let i of Object.keys(e.facade)){let s=i.replace(/\.json|\.geojson/g,"");n.facade[s]=JSON.parse(t(e.facade[i]))}}if("area"in e&&e.area!=null){n.area={};for(let i of Object.keys(e.area)){let s=i.replace(/\.json|\.geojson/g,"");n.area[s]=JSON.parse(t(e.area[i]))}}return n}catch(n){throw R.error(n),new Error("MVF parsing failed! Probably encountered a bad file.")}}function oG(e){if(e==null||typeof e!="object")return!1;let r=["connection.json","manifest.geojson","floor.geojson"in e?"floor.geojson":"map.geojson","node.geojson","floorstack.json"in e?"floorstack.json":"mapstack.json"in e?"mapstack.json":"mapstack.geojson"];"styles.json"in e&&r.push("styles.json"),"shapes.json"in e&&r.push("shapes.json");for(let t of r)if(e[t]==null||e[t][Symbol.toStringTag]!=="Uint8Array")return!1;return!0}async function ix(e){return new Promise(async(r,t)=>{try{if(e==null||typeof e!="object")throw new Error("Error parsing data! Unzipping failed.");if(e[Symbol.toStringTag]!=="Uint8Array")throw new Error("Unexpected file type! Unzipping failed.");let n=Q3(e);if(!oG(n))throw new Error("MVF is missing some expect static files. Unzipping failed.");let o={},i=Object.keys(n);for(let s of i){if(n[s].length===0)continue;let u=s.split("/");if(u.length<0)throw new Error("Encounted a file with no name! Unzipping failed.");if(u.length>2)throw new Error("Encountered unexpected nesting in MVF! Unzipping failed.");if(u.length===1){o[u[0]]=n[s];continue}if(u[0]==="image"){R.warn("MVF unzipping encountered an image. Ignoring as this case has not been implemented.");continue}else o[u[0]]==null&&(o[u[0]]={}),o[u[0]][u[1]]=n[s]}r(o)}catch(n){t(n)}})}function ou(){let e="us",r={};function t(){return iG(HT(e),r)}return{updateByUserOption(n){n.environment&&(e=n.environment),n.baseUri&&(r.baseUri=n.baseUri),n.baseAuthUri&&(r.baseAuthUri=n.baseAuthUri),n.analytics?.baseUri&&(r.analyticsBaseUri=n.analytics?.baseUri)},updateTileServerBaseUrl(n){r.tileServerUri=n},updateEnvironment(n){e=n},setEnterprise(n){(e==="us"||e==="us-enterprise")&&(e=n?"us-enterprise":"us")},getBaseUri(){return t().baseUri},getBaseAuthUri(){return t().baseAuthUri},getAnalyticsBaseUri(){return t().analyticsBaseUri},getTileServerUri(){return t().tileServerUri},reset(){e="us",r={}},__getState:t}}function iG(e,r){return{...e,...r}}var My=e=>{let r=Object.values(e["floorstack.json"]??e["mapstack.json"]??{});return r.length===1?[]:r.filter(t=>t.type!=="Outdoor").map(t=>t.id.replace("fs_","").replace("ms_",""))},sw=async e=>{let r=performance.now(),t=H3(e);return R.log(`Parsed MVFv3 in ${performance.now()-r}ms`),t.inspectErr(o=>{throw R.error(o),new Error("MVFv3 parsing failed!")}),t.unwrap()};async function Ay(e,r="2.0.0"){switch(r){case"2.0.0":case"2.0.0-c":try{let t=await ix(e);return ox(t)}catch{return sw(e)}case"3.0.0":return sw(e);default:throw new Error(`Unsupported MVF version: ${r}`)}}p();p();p();function ko(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ao(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function wp(e){return e.type==="Feature"?e.geometry:e}function cw(e,r){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function aG(e,r,t){t===void 0&&(t={});for(var n=ko(e),o=ao(r),i=0;i<o.length-1;i++){var s=!1;if(t.ignoreEndVertices&&(i===0&&(s="start"),i===o.length-2&&(s="end"),i===0&&i+1===o.length-1&&(s="both")),sG(o[i],o[i+1],n,s,typeof t.epsilon>"u"?null:t.epsilon))return!0}return!1}function sG(e,r,t,n,o){var i=t[0],s=t[1],u=e[0],l=e[1],c=r[0],d=r[1],f=t[0]-u,h=t[1]-l,b=c-u,I=d-l,E=f*I-h*b;if(o!==null){if(Math.abs(E)>o)return!1}else if(E!==0)return!1;if(n){if(n==="start")return Math.abs(b)>=Math.abs(I)?b>0?u<i&&i<=c:c<=i&&i<u:I>0?l<s&&s<=d:d<=s&&s<l;if(n==="end")return Math.abs(b)>=Math.abs(I)?b>0?u<=i&&i<c:c<i&&i<=u:I>0?l<=s&&s<d:d<s&&s<=l;if(n==="both")return Math.abs(b)>=Math.abs(I)?b>0?u<i&&i<c:c<i&&i<u:I>0?l<s&&s<d:d<s&&s<l}else return Math.abs(b)>=Math.abs(I)?b>0?u<=i&&i<=c:c<=i&&i<=u:I>0?l<=s&&s<=d:d<=s&&s<=l;return!1}var pw=aG;p();function uG(e,r){r===void 0&&(r={});var t=Cc(e),n=(t[0]+t[2])/2,o=(t[1]+t[3])/2;return Vi([n,o],r.properties,r)}var Fp=uG;p();p();function lG(e,r,t){t===void 0&&(t={});var n=ko(e),o=ko(r),i=On(o[1]-n[1]),s=On(o[0]-n[0]),u=On(n[1]),l=On(o[1]),c=Math.pow(Math.sin(i/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(l);return C6(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),t.units)}var iu=lG;function Oy(e,r){return r===void 0&&(r={}),T6(e,function(t,n){var o=n.geometry.coordinates;return t+iu(o[0],o[1],r)},0)}p();p();p();function By(e,r,t){if(t===void 0&&(t={}),t.final===!0)return cG(e,r);var n=ko(e),o=ko(r),i=On(n[0]),s=On(o[0]),u=On(n[1]),l=On(o[1]),c=Math.sin(s-i)*Math.cos(l),d=Math.cos(u)*Math.sin(l)-Math.sin(u)*Math.cos(l)*Math.cos(s-i);return pm(Math.atan2(c,d))}function cG(e,r){var t=By(r,e);return t=(t+180)%360,t}p();function ll(e,r,t,n){n===void 0&&(n={});var o=ko(e),i=On(o[0]),s=On(o[1]),u=On(t),l=S6(r,n.units),c=Math.asin(Math.sin(s)*Math.cos(l)+Math.cos(s)*Math.sin(l)*Math.cos(u)),d=i+Math.atan2(Math.sin(u)*Math.sin(l)*Math.cos(s),Math.cos(l)-Math.sin(s)*Math.sin(c)),f=pm(d),h=pm(c);return Vi([f,h],n.properties)}p();p();function pG(e){if(!e)throw new Error("geojson is required");var r=[];return Hi(e,function(t){dG(t,r)}),zu(r)}function dG(e,r){var t=[],n=e.geometry;if(n!==null){switch(n.type){case"Polygon":t=ao(n);break;case"LineString":t=[ao(n)]}t.forEach(function(o){var i=mG(o,e.properties);i.forEach(function(s){s.id=r.length,r.push(s)})})}}function mG(e,r){var t=[];return e.reduce(function(n,o){var i=La([n,o],r);return i.bbox=fG(n,o),t.push(i),o}),t}function fG(e,r){var t=e[0],n=e[1],o=r[0],i=r[1],s=t<o?t:o,u=n<i?n:i,l=t>o?t:o,c=n>i?n:i;return[s,u,l,c]}var ax=pG;var Mw=rb(ww(),1);function UG(e,r){var t={},n=[];if(e.type==="LineString"&&(e=sb(e)),r.type==="LineString"&&(r=sb(r)),e.type==="Feature"&&r.type==="Feature"&&e.geometry!==null&&r.geometry!==null&&e.geometry.type==="LineString"&&r.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&r.geometry.coordinates.length===2){var o=Fw(e,r);return o&&n.push(o),zu(n)}var i=(0,Mw.default)();return i.load(ax(r)),ub(ax(e),function(s){ub(i.search(s),function(u){var l=Fw(s,u);if(l){var c=ao(l).join(",");t[c]||(t[c]=!0,n.push(l))}})}),zu(n)}function Fw(e,r){var t=ao(e),n=ao(r);if(t.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(n.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=t[0][0],i=t[0][1],s=t[1][0],u=t[1][1],l=n[0][0],c=n[0][1],d=n[1][0],f=n[1][1],h=(f-c)*(s-o)-(d-l)*(u-i),b=(d-l)*(i-c)-(f-c)*(o-l),I=(s-o)*(i-c)-(u-i)*(o-l);if(h===0)return null;var E=b/h,v=I/h;if(E>=0&&E<=1&&v>=0&&v<=1){var x=o+E*(s-o),D=i+E*(u-i);return Vi([x,D])}return null}var Ap=UG;function GG(e,r,t){t===void 0&&(t={});var n=Vi([1/0,1/0],{dist:1/0}),o=0;return Hi(e,function(i){for(var s=ao(i),u=0;u<s.length-1;u++){var l=Vi(s[u]);l.properties.dist=iu(r,l,t);var c=Vi(s[u+1]);c.properties.dist=iu(r,c,t);var d=iu(l,c,t),f=Math.max(l.properties.dist,c.properties.dist),h=By(l,c),b=ll(r,f,h+90,t),I=ll(r,f,h-90,t),E=Ap(La([b.geometry.coordinates,I.geometry.coordinates]),La([l.geometry.coordinates,c.geometry.coordinates])),v=null;E.features.length>0&&(v=E.features[0],v.properties.dist=iu(r,v,t),v.properties.location=o+iu(l,v,t)),l.properties.dist<n.properties.dist&&(n=l,n.properties.index=u,n.properties.location=o),c.properties.dist<n.properties.dist&&(n=c,n.properties.index=u+1,n.properties.location=o+d),v&&v.properties.dist<n.properties.dist&&(n=v,n.properties.index=u),o+=d}}),n}var hf=GG;function zG(e,r,t){var n=ao(t);if(cw(t)!=="LineString")throw new Error("line must be a LineString");var o=hf(t,e),i=hf(t,r),s;o.properties.index<=i.properties.index?s=[o,i]:s=[i,o];for(var u=[s[0].geometry.coordinates],l=s[0].properties.index+1;l<s[1].properties.index+1;l++)u.push(n[l]);return u.push(s[1].geometry.coordinates),La(u,t.properties)}var vx=zG;var VG=1e-7;function xx(e){return{type:"Point",coordinates:e}}function HG(e,r){let{coordinates:t}=r.geometry,{coordinates:n}=e.geometry,o=t.map(i=>hf(e,xx(i)));return n.reduce((i,s)=>{let u=vx(xx(s),o[0],e),l=vx(xx(s),o[1],e),c=Oy(u)<Oy(l)?u:l;return c.properties={...e.properties,entrances:[]},i.concat([c])},[])}function Ix(e,r){return r.reduce((t,n)=>{let o={epsilon:VG},i=t.obstructions.findIndex(u=>pw(Fp(n),u,o)),s=t.obstructions[i];if(s){let[u,l]=HG(s,n);t.entrances.push(n),t.obstructions.splice(i,1,u,l)}return t},{obstructions:[e],entrances:[]})}p();p();p();var Er=class{constructor(r){m(this,"id");this.id=r}};p();p();var Op=class Op{constructor(r,t,n){m(this,"__type",Op.__type);m(this,"id",It());m(this,"latitude");m(this,"longitude");m(this,"floorId");m(this,"verticalOffset");if(typeof r=="object")this.latitude=r.latitude,this.longitude=r.longitude,this.floorId=r.floorId,this.verticalOffset=r.verticalOffset??0;else{if(t==null)throw new Error("Coordinate longitude is required.");this.latitude=r,this.longitude=t,this.floorId=n,this.verticalOffset=0}}static is(r){return r.__type===Op.__type}get anchorTarget(){return this}get focusTarget(){return this}isEqual(r){return this.latitude===r.latitude&&this.longitude===r.longitude&&this.floorId===r.floorId}toJSON(){return{__type:Op.__type,latitude:this.latitude,longitude:this.longitude,floorId:this.floorId,verticalOffset:this.verticalOffset}}toGeoJSON(){return{type:"Point",coordinates:[this.longitude,this.latitude,this.verticalOffset??0]}}destroy(){}};m(Op,"__type","coordinate");var Ex=Op,ge=Ex;function Cx(e){let r=e.enterprise?.locations?.reduce((o,i)=>(o[i.id]=i,o),{})||{};for(let o of e.enterprise?.locationInstances||[])r[o.id]=o;let t={};for(let o of e["floorstack.json"]||[])t[o.id]=o;let n={};for(let o of e["floor.geojson"]?.features||[])o.properties&&o.properties.id&&(n[o.properties.id]=o.properties);return{type:"downloaded",data:e,optimized:{"enterprise-location":r,"enterprise-category":e.enterprise?.categories?.reduce((o,i)=>(o[i.id]=i,o),{})||{},"floor-stack":t,floor:n}}}function Aw(e){return/^https?:\/\/cdn\.mappedin\.com/.test(e)}function Ow(e){return!!e.split("?")[1]?.includes("sv=")}function kr(e,r){let t=e?.properties?.id||"unknown";if(e.geometry==null)return R.error(`Cannot get the center coordinate for "${t}" because it has no geometry.`),new ge({latitude:0,longitude:0,floorId:r});try{if(e.geometry.type==="LineString"){let[[n,o],[i,s]]=e.geometry.coordinates,u=(n+i)/2,l=(o+s)/2;return new ge({latitude:l,longitude:u,floorId:r})}else if(e.geometry.type==="Point"){let[n,o]=e.geometry.coordinates;return new ge({latitude:o,longitude:n,floorId:r})}else if(e.geometry.type==="Polygon"){let n=e;if(n.properties.center!=null){let[o,i]=n.properties.center;return new ge({latitude:i,longitude:o,floorId:r})}}}catch{}try{let[n,o]=Fp(e).geometry.coordinates;return new ge({latitude:o,longitude:n,floorId:r})}catch(n){return R.error(`Failed to get center coordinate for "${t}" ${n instanceof Error?n.stack:""}`),new ge({latitude:0,longitude:0,floorId:r})}}function Bw(e,r){return r&&(e.flags[r.index]&1<<r.bit)!==0}var so,_r,cl,as,Bp=class Bp extends Er{constructor(t,n){super(n.mvfData.properties.id);m(this,"__type",Bp.__type);C(this,so);C(this,_r,{});C(this,cl);C(this,as);T(this,so,t),T(this,cl,n.floorId),T(this,as,n.mvfData)}static is(t){return t.__type===Bp.__type}get locations(){return a(this,_r).locations?a(this,_r).locations:(a(this,_r).locations=(a(this,so).locationIdsByNodeId[this.id]||[]).map(t=>a(this,so).getById("enterprise-location",t)).filter(Boolean),a(this,_r).locations)}get space(){return a(this,so).getById("space",a(this,so).spaceIdsByNodeId[this.id]?.[0])}get object(){return a(this,so).getById("object",a(this,so).objectIdsByNodeId[this.id]?.[0])}get floor(){let t=a(this,so).getById("floor",a(this,cl));if(t==null)throw new Error(`Floor ${a(this,cl)} not found!`);return t}get coordinate(){return a(this,_r).coordinate==null&&(a(this,_r).coordinate=kr(a(this,as),a(this,cl))),a(this,_r).coordinate}get externalId(){return a(this,as).properties.externalId??""}get neighbors(){if(a(this,_r).neighbors==null){let t=a(this,as).properties.neighbors.map(n=>{let o=a(this,so).getById("node",n.id);if(o==null)throw new Error(`Node ${n.id} not found!`);return o});a(this,_r).neighbors=t}return a(this,_r).neighbors}get navigationFlags(){if(a(this,_r).navigationFlags==null){let t=[],n=a(this,as).properties.flags;if(n!=null&&n.length>0)for(let[o,i]of Object.entries(a(this,so).navigationFlags))n.length>i.index&&n[i.index]!=null&&Bw({flags:n},i)&&t.push(o);a(this,_r).navigationFlags=Object.freeze(t)}return a(this,_r).navigationFlags}get geoJSON(){return{...a(this,as),properties:null}}get focusTarget(){return this.coordinate}get anchorTarget(){return this.coordinate}toJSON(){return{__type:Bp.__type,id:this.id,floor:this.floor.id,coordinate:this.coordinate.toJSON(),neighbors:this.neighbors.map(t=>t.id)}}destroy(){for(let t of Object.keys(a(this,_r)))delete a(this,_r)[t]}};so=new WeakMap,_r=new WeakMap,cl=new WeakMap,as=new WeakMap,m(Bp,"__type","node");var Sx=Bp,_o=Sx;p();p();p();p();var gf,ss,Pp=class Pp extends Er{constructor(t){super(String(It()));m(this,"__type",Pp.__type);C(this,gf,{});C(this,ss);T(this,ss,t.mvfData)}static is(t){return t.__type===Pp.__type}get url(){return a(this,ss).url}get name(){if("displayName"in a(this,ss))return a(this,ss).displayName;if("label"in a(this,ss))return a(this,ss).label}toJSON(){return{__type:Pp.__type,id:this.id,url:this.url,name:this.name}}destroy(){for(let t of globalThis.Object.keys(a(this,gf)))delete a(this,gf)[t]}};gf=new WeakMap,ss=new WeakMap,m(Pp,"__type","hyperlink");var Dx=Pp,pl=Dx;p();p();function yf(e){return typeof e=="string"?e:e.id}function wx(e){return Array.isArray(e)&&Number.isFinite(e[0])&&Number.isFinite(e[1])}var Tx=8,pa=e=>typeof e=="number"?e.toFixed(Tx):wx(e)?e[1].toFixed(Tx)+"-"+e[0].toFixed(Tx):e.map(r=>pa(r)).join("-"),ZG=/^https:\/\/cdn\.mappedin\.com\/category-symbols\/.+$/,WG=/^https:\/\/cdn-staging\.mappedin\.net\/category-symbols\/.+$/,XG=e=>ZG.test(e)||WG.test(e),JG=/^https:\/\/cdn\.mappedin\.com\/[^/]+\/[^/]+\.[a-zA-Z0-9]+$/,YG=/^https:\/\/cdn-staging\.mappedin\.net\/[^/]+\/[^/]+\.[a-zA-Z0-9]+$/,KG=e=>XG(e)?!1:JG.test(e)||YG.test(e),Ly=e=>{if(!KG(e))return null;let r="";e.startsWith("https://")?(r="https://",e=e.slice(8)):e.startsWith("http://")&&(r="http://",e=e.slice(7));let[t,n,o]=e.split("/"),i=o.split(".").pop()??"";return{origin:r+t,mapId:n,fileName:o,fileType:i}};function Fx(e){return e.reduce((r,t,n)=>n===0?r:r+go(e[n-1].toGeoJSON().coordinates,t.toGeoJSON().coordinates),0)}var bf,su,dl,kp=class kp extends Er{constructor(t){super(String(It()));m(this,"__type",kp.__type);C(this,bf,{});C(this,su);C(this,dl);T(this,su,t.mvfData),T(this,dl,t.mapData)}static is(t){return t.__type===kp.__type}get url(){let t=a(this,su).url;if(a(this,dl).tokenManager==null)return t;let n=Ly(a(this,su).url);if(n==null)return t;let o=n.mapId;try{if(a(this,dl).tokenManager.isEnterpriseMode())return t;let i=a(this,dl).tokenManager.getSasToken(o).token;if(i==null||i==="")throw new Error("SAS token empty!");return`${t}?${i}`}catch(i){return n.fileType!=="svg"&&R.error("Error getting SAS token for image",{error:i,url:t}),t}}get name(){return a(this,su).altText}get altText(){return a(this,su).altText}toJSON(){return{__type:kp.__type,id:this.id,url:this.url,name:this.name}}destroy(){for(let t of globalThis.Object.keys(a(this,bf)))delete a(this,bf)[t]}};bf=new WeakMap,su=new WeakMap,dl=new WeakMap,m(kp,"__type","image");var Mx=kp,ml=Mx;p();var fl,gi=class{constructor(r,t){m(this,"id");C(this,fl);this.id=r}get geoJSONBoundingBox(){return a(this,fl)?a(this,fl):"bbox"in this.geoJSON.geometry&&this.geoJSON.geometry.bbox?this.geoJSON.geometry.bbox:(T(this,fl,Cc(this.geoJSON)),a(this,fl))}get geoJSON(){return{properties:null,type:"Feature",geometry:{type:"Polygon",coordinates:[[]]}}}};fl=new WeakMap;var _p,us,ls,Yr=class extends gi{constructor(t,n){super(n.properties.id,t);C(this,_p);C(this,us);C(this,ls,{});T(this,_p,t),T(this,us,n)}get externalId(){return a(this,us).properties.externalId??""}get name(){let t=a(this,us).properties.details?.name??"";return t===""&&(t=this.locationProfiles.find(n=>n.name&&n.name.length>0)?.name??""),t}get description(){let t=a(this,us).properties.details?.description??"";return t===""&&(t=this.locationProfiles.find(n=>n.description&&n.description.length>0)?.description??""),t}get images(){if(a(this,ls).images!=null)return a(this,ls).images;let t=a(this,us).properties.details?.images?.map(n=>new ml({mvfData:n,mapData:a(this,_p)}))??[];return(t==null||t.length===0)&&(t=this.locationProfiles.find(n=>n.images.length>0)?.images??[]),a(this,ls).images=t,t}get links(){if(a(this,ls).links!=null)return a(this,ls).links;let t=a(this,us).properties.details?.links?.map(n=>new pl({mvfData:n}))??[];return(t==null||t.length===0)&&(t=this.locationProfiles.find(n=>n.links.length>0)?.links??[]),a(this,ls).links=t,t}get locationProfiles(){return a(this,_p).locationProfilesByAttachedFeatureId[this.id]??[]}};_p=new WeakMap,us=new WeakMap,ls=new WeakMap;var vf,hl,Rp,Np,Lp=class Lp extends Yr{constructor(t,n){super(t,n.mvfData);m(this,"__type",Lp.__type);C(this,vf);C(this,hl);C(this,Rp,{});C(this,Np);T(this,vf,t),T(this,hl,n.floorId),T(this,Np,n.mvfData)}static is(t){return t.__type===Lp.__type}get center(){return a(this,Rp).center==null&&(a(this,Rp).center=kr(a(this,Np),a(this,hl))),a(this,Rp).center}get floor(){let t=a(this,vf).getById("floor",a(this,hl));if(t==null)throw new Error(`Floor ${a(this,hl)} not found!`);return t}get geoJSON(){return{...a(this,Np),properties:null}}get focusTarget(){return this}get anchorTarget(){return this.center}toJSON(){return{__type:Lp.__type,id:this.id,name:this.name,floor:this.floor.id}}destroy(){}};vf=new WeakMap,hl=new WeakMap,Rp=new WeakMap,Np=new WeakMap,m(Lp,"__type","area");var Ax=Lp,Lo=Ax;p();var gl,cs,yl,bl,$p=class $p extends Yr{constructor(t,n){super(t,n.mvfData);m(this,"__type",$p.__type);C(this,gl);C(this,cs);C(this,yl);C(this,bl);T(this,cs,{}),T(this,bl,n.mvfData),T(this,gl,t),T(this,yl,n.floorId)}static is(t){return t.__type===$p.__type}get floor(){let t=a(this,gl).getById("floor",a(this,yl));if(t==null)throw new Error(`Floor ${a(this,yl)} not found!`);return t}get center(){return a(this,cs).center==null&&(a(this,cs).center=kr(a(this,bl),a(this,yl))),a(this,cs).center}get isExterior(){if(a(this,bl).properties.isExterior)return!0;let t=a(this,gl).obstructionIdByEntranceId[this.id];return a(this,gl).getMVFFeatureById("obstruction",t)?.properties.footprintComponent??!1}get geoJSON(){return{...a(this,bl),properties:null}}get focusTarget(){return this.center}get anchorTarget(){return this.center}toJSON(){return{__type:$p.__type,id:this.id,name:this.name,floor:this.floor.id,center:this.center.toJSON()}}destroy(){for(let t of Object.keys(a(this,cs)))delete a(this,cs)[t]}};gl=new WeakMap,cs=new WeakMap,yl=new WeakMap,bl=new WeakMap,m($p,"__type","door");var Ox=$p,yn=Ox;p();var ps,vl,Lr,uu,jp=class jp extends Yr{constructor(t,n){super(t,n.mvfData);m(this,"__type",jp.__type);C(this,ps);C(this,vl);C(this,Lr,{});C(this,uu);T(this,ps,t),T(this,vl,n.floorId),T(this,uu,n.mvfData)}static is(t){return t.__type===jp.__type}get type(){return QG(a(this,uu).properties.kind)}get locations(){if(a(this,Lr).locations)return a(this,Lr).locations;a(this,Lr).locations=[];let t=a(this,ps).mvfLocationsByGeometryId[a(this,uu).properties.id];if(t?.length>0)for(let n of t){let o=a(this,ps).getById("enterprise-location",n.id);o&&a(this,Lr).locations.push(o)}return a(this,Lr).locations}get floor(){let t=a(this,ps).getById("floor",a(this,vl));if(t==null)throw new Error(`Floor ${a(this,vl)} not found!`);return t}get doors(){if(a(this,Lr).doors)return a(this,Lr).doors;a(this,Lr).doors=[];let t=a(this,ps).entranceNodeIdsBySpaceId?.[this.id]??[];for(let n of t){let o=a(this,ps).doorsByNodeId[n];o&&a(this,Lr).doors.push(o)}return a(this,Lr).doors}get center(){return a(this,Lr).center==null&&(a(this,Lr).center=kr(a(this,uu),a(this,vl))),a(this,Lr).center}get geoJSON(){return{...a(this,uu),properties:null}}get focusTarget(){return this.geoJSON.geometry.type==="Polygon"?this:this.center}get anchorTarget(){return this.center}toJSON(){return{__type:jp.__type,id:this.id,name:this.name,type:this.type,floor:this.floor.id,center:this.center.toJSON()}}destroy(){for(let t of Object.keys(a(this,Lr)))delete a(this,Lr)[t]}};ps=new WeakMap,vl=new WeakMap,Lr=new WeakMap,uu=new WeakMap,m(jp,"__type","space");var Bx=jp,qG=["room","hallway","exterior","void","gate"];function QG(e){if(e==null||e==="default")return"room";let r=e.toLowerCase();return qG.includes(r)?r:"room"}var Cr=Bx;p();var Ro,vt,$n,Gp,Ry,Up=class Up extends gi{constructor(t,n){super(n.mvfData.properties.id,t);C(this,Gp);m(this,"__type",Up.__type);C(this,Ro);C(this,vt,{});C(this,$n);T(this,Ro,t),T(this,$n,n.mvfData)}static is(t){return t.__type===Up.__type}get focusTarget(){return this}get name(){if(!("name"in a(this,$n).properties))return a(this,$n).properties.externalId??"";let t=z(this,Gp,Ry).call(this,"name");return typeof t=="string"?t:""}get shortName(){if(!("shortName"in a(this,$n).properties))return a(this,$n).properties.externalId??"";let t=z(this,Gp,Ry).call(this,"shortName");return typeof t=="string"?t:""}get subtitle(){let t=z(this,Gp,Ry).call(this,"subtitle");return typeof t=="string"?t:""}get externalId(){return a(this,$n).properties.externalId??""}get elevation(){return a(this,$n).properties.elevation}get maxHeight(){return a(this,$n).properties.maxHeight}get spaces(){if(a(this,vt).spaces==null){let t=a(this,Ro).spaces.filter(n=>n.floor.id===this.id);a(this,vt).spaces=t}return a(this,vt).spaces}get geoJSON(){return{type:"Feature",properties:null,geometry:a(this,$n).geometry??{type:"Polygon",coordinates:[]}}}get objects(){if(a(this,vt).objects==null){let t=a(this,Ro).objects.filter(n=>n.floor.id===this.id);a(this,vt).objects=t}return a(this,vt).objects}get connections(){if(a(this,vt).connections==null){let t=a(this,Ro).connections.filter(n=>n.floors.includes(this));a(this,vt).connections=t}return a(this,vt).connections}get doors(){if(a(this,vt).doors==null){let t=a(this,Ro).doors.filter(n=>n.floor.id===this.id);a(this,vt).doors=t}return a(this,vt).doors}get annotations(){if(a(this,vt).annotations==null){let t=a(this,Ro).annotations.filter(n=>n.floor.id===this.id);a(this,vt).annotations=t}return a(this,vt).annotations}get pois(){if(a(this,vt).pois==null){let t=a(this,Ro).pointsOfInterest.filter(n=>n.floor.id===this.id);a(this,vt).pois=t}return a(this,vt).pois}get floorStack(){if(a(this,vt).floorStack==null){let t=a(this,Ro).floorStacks.find(n=>n.floors.includes(this));a(this,vt).floorStack=t}return a(this,vt).floorStack}get center(){return a(this,vt).center==null&&(a(this,vt).center=kr(a(this,$n),this.id)),a(this,vt).center}toJSON(){return{__type:Up.__type,id:this.id,name:this.name,shortName:this.shortName,subtitle:this.subtitle,elevation:this.elevation,maxHeight:this.maxHeight,spaces:this.spaces.map(t=>t.id),objects:this.objects.map(t=>t.id),connections:this.connections.map(t=>t.id),doors:this.doors.map(t=>t.id),annotations:this.annotations.map(t=>t.id),pois:this.pois.map(t=>t.id)}}destroy(){for(let t of globalThis.Object.keys(a(this,vt)))delete a(this,vt)[t]}};Ro=new WeakMap,vt=new WeakMap,$n=new WeakMap,Gp=new WeakSet,Ry=function(t){let n=a(this,$n).properties[t];return a(this,Ro).getPropTranslation(this.__type,t,this.id,n)},m(Up,"__type","floor");var Px=Up,jn=Px;p();p();p();function zp(e){let r;if(Cr.is(e)||yn.is(e)||Un.is(e)||Lo.is(e)||Rr.is(e))r=e.center;else if(uo.is(e)||ds.is(e))r=e.coordinate;else if(ge.is(e))r=e;else if(_o.is(e))r=e.coordinate;else if(da.is(e))r=e.coordinates[0];else return;return r}p();p();var Pw=3.333333333,xf={debug:!1,pitch:45,bearing:0,antialiasing:{enabled:!0},shadingAndOutlines:!0,outdoorView:{layersHiddenByGeometry:["building","building-top"]},imagePlacementOptions:{mode:"default"},flipImagesToFaceCamera:!0,multiFloorView:{enabled:!0,floorGap:"auto"}},ma="ExteriorWalls",lu="Walls",kw=0,Vp="InteriorDoors",Hp="ExteriorDoors",or="GeometryLayer",fa="LabelsLayer",yi="MarkersLayer",Zp="FootprintLayer",xl="OcclusionLayer",Il="AreasLayer",Wp="ImagesLayer",El="FacadesLayer",ha="PathsLayer";var _w=["https://mappedin.auth0.com","https://mappedin-staging.auth0.com","https://staging.mappedin.com","https://mappedin-staging.auth0.com/userinfo","https://mappedin.com","https://mappedin.auth0.com/userinfo"],ez={orange:"#F26336",teal:"#057685",lightTeal:"#5DC7D0"};var tz=new Set(["outdoorView","bearing","pitch","zoomLevel","screenOffsets","debug","initialFloor","shadingAndOutlines","wallTopColor","style","multiFloorView","occlusion","imagePlacementOptions","flipImagesToFaceCamera","injectStyles","useStandaloneCamera","preloadFloors"]),rz=new Set(["style","enabled","layersHiddenByGeometry","lowDpi"]);function kx(e){e.outdoorView?.enabled&&!e.outdoorView?.token&&R.error("Enable outdoor view requires a token. Provide token in `options.outdoorView.token`")}function _x(e,r){let t=e?.outdoorView?.token||r.outdoorViewToken,n={...xf,...e,outdoorView:{enabled:e?.outdoorView?.enabled===void 0?!!t:e?.outdoorView?.enabled,layersHiddenByGeometry:xf.outdoorView?.layersHiddenByGeometry,...e?.outdoorView},bearing:e?.bearing??r.naturalBearing??0,imagePlacementOptions:{...xf.imagePlacementOptions,...e?.imagePlacementOptions},multiFloorView:{...xf.multiFloorView,...e?.multiFloorView}};return t&&n.outdoorView&&(n.outdoorView.token=t),n}function Lw(e){let r={remove_watermark:!1};if(e)try{let t=Oh(e);Object.assign(r,t.capabilities)}catch(t){R.error("Error decoding capabilities from token",t)}return r}function Rw(e){let r=Object.fromEntries(Object.entries(e).filter(([t])=>tz.has(t)));return r.outdoorView&&(r.outdoorView=Object.fromEntries(Object.entries(r.outdoorView).filter(([t])=>rz.has(t)))),r}var cu,No,ms,Xp=class Xp extends Yr{constructor(t,n){let o=Object.values(n.mvfDataByFloorId)[0];super(t,o);m(this,"__type",Xp.__type);C(this,cu);C(this,No);C(this,ms);T(this,No,{}),T(this,cu,t),T(this,ms,n.mvfDataByFloorId)}static is(t){return t.__type===Xp.__type}get accessible(){return Object.values(a(this,ms))[0].properties.accessible??!1}get type(){return Object.values(a(this,ms))[0].properties.kind?.split(".")[1]??"unknown"}get extra(){return Object.values(a(this,ms))[0].properties.extra}get coordinates(){return a(this,No).coordinates==null&&(a(this,No).coordinates=Object.entries(a(this,ms)).map(([t,n])=>kr(n,t))),a(this,No).coordinates}get nodes(){return Object.values(a(this,ms))[0].properties.nodes.map(t=>a(this,cu).getById("node",t))}get floors(){return this.coordinates.map(t=>t.floorId?a(this,cu).getById("floor",t.floorId):void 0).filter(ym)}get locationProfiles(){if(a(this,No).locationProfiles!=null)return a(this,No).locationProfiles;let t=super.locationProfiles;if(t==null||t.length===0){let n=[this.coordinates[0]?.longitude??0,this.coordinates[0]?.latitude??0],o=pa(n),i=a(this,cu).mvfConnectionIdsByLatLon[o]??[];for(let s of i){let u=a(this,cu).locationProfilesByAttachedFeatureId[s];if(u!=null){t=u;break}}}return a(this,No).locationProfiles=t??[],t}get focusTarget(){return this.coordinates}toJSON(){return{__type:Xp.__type,id:this.id,name:this.name,type:this.type,externalId:this.externalId,coordinates:this.coordinates.map(t=>t.toJSON()),floors:this.floors.map(t=>t.id),extra:this.extra}}destroy(){for(let t of Object.keys(a(this,No)))delete a(this,No)[t]}};cu=new WeakMap,No=new WeakMap,ms=new WeakMap,m(Xp,"__type","connection");var Lx=Xp,lo=Lx;p();var Cl,Sl,co,pu,Jp=class Jp extends Yr{constructor(t,n){super(t,n.mvfData);m(this,"__type",Jp.__type);C(this,Cl);C(this,Sl);C(this,co,{});C(this,pu);T(this,Cl,t),T(this,Sl,n.floorId),T(this,pu,n.mvfData)}static is(t){return t.__type===Jp.__type}get type(){let t=a(this,pu).properties.kind;return t==null&&(t="object"),t==="Desks"&&(t="desk"),t.toLowerCase()}get locations(){if(a(this,co).locations)return a(this,co).locations;a(this,co).locations=[];let t=a(this,Cl).mvfLocationsByGeometryId[a(this,pu).properties.id];if(t?.length>0)for(let n of t){let o=a(this,Cl).getById("enterprise-location",n.id);o&&a(this,co).locations.push(o)}return a(this,co).locations}get floor(){let t=a(this,Cl).getById("floor",a(this,Sl));if(t==null)throw new Error(`Floor ${a(this,Sl)} not found!`);return t}get center(){return a(this,co).center==null&&(a(this,co).center=kr(a(this,pu),a(this,Sl))),a(this,co).center}get geoJSON(){return{...a(this,pu),properties:null}}get anchorTarget(){return this.center}get focusTarget(){return this.geoJSON.geometry.type==="Polygon"?this:this.center}toJSON(){return{__type:Jp.__type,id:this.id,name:this.name,type:this.type,floor:this.floor.id,center:this.center.toJSON()}}destroy(){for(let t of globalThis.Object.keys(a(this,co)))a(this,co)[t]=null}};Cl=new WeakMap,Sl=new WeakMap,co=new WeakMap,pu=new WeakMap,m(Jp,"__type","object");var Rx=Jp,Un=Rx;p();var If,Dl,du,Kp,Yp=class Yp extends Yr{constructor(t,n){super(t,n.mvfData);m(this,"__type",Yp.__type);C(this,If);C(this,Dl);C(this,du,{});C(this,Kp);T(this,If,t),T(this,Kp,n.mvfData),T(this,Dl,n.floorId)}static is(t){return t.__type===Yp.__type}get floor(){let t=a(this,If).getById("floor",a(this,Dl));if(t==null)throw new Error(`Floor ${a(this,Dl)} not found!`);return t}get coordinate(){return a(this,du).coordinate==null&&(a(this,du).coordinate=kr(a(this,Kp),a(this,Dl))),a(this,du).coordinate}get geoJSON(){return{...a(this,Kp),properties:null}}get focusTarget(){return this.coordinate}get anchorTarget(){return this.coordinate}toJSON(){return{__type:Yp.__type,id:this.id,name:this.name,floor:this.floor.id,coordinate:this.coordinate.toJSON()}}destroy(){for(let t in a(this,du))a(this,du)[t]=null}};If=new WeakMap,Dl=new WeakMap,du=new WeakMap,Kp=new WeakMap,m(Yp,"__type","point-of-interest");var Nx=Yp,uo=Nx;p();var Ef,Tl,mu,wl,Cf,jx,qp=class qp extends Yr{constructor(t,n){super(t,n.mvfData);C(this,Cf);m(this,"__type",qp.__type);C(this,Ef);C(this,Tl);C(this,mu,{});C(this,wl);T(this,Ef,t),T(this,Tl,n.floorId),T(this,wl,n.mvfData)}static is(t){return t.__type===qp.__type}get group(){return z(this,Cf,jx).call(this).group}get type(){return z(this,Cf,jx).call(this).type}get coordinate(){return a(this,mu).coordinate==null&&(a(this,mu).coordinate=kr(a(this,wl),a(this,Tl))),a(this,mu).coordinate}get floor(){let t=a(this,Ef).getById("floor",a(this,Tl));if(t==null)throw new Error(`Floor ${a(this,Tl)} not found!`);return t}get geoJSON(){return{...a(this,wl),properties:null}}get focusTarget(){return this.coordinate}get anchorTarget(){return this.coordinate}toJSON(){return{__type:qp.__type,id:this.id,group:this.group,type:this.type,coordinate:this.coordinate.toJSON()}}destroy(){for(let t of Object.keys(a(this,mu)))delete a(this,mu)[t]}};Ef=new WeakMap,Tl=new WeakMap,mu=new WeakMap,wl=new WeakMap,Cf=new WeakSet,jx=function(){let[t,n]=a(this,wl).properties.symbolId.split("--");return{group:t,type:n}},m(qp,"__type","annotation");var $x=qp,ds=$x;p();var fu,$o,bi,ed,Sf,Gx,Qp=class Qp extends gi{constructor(t,n){super(n.mvfData.id,t);C(this,Sf);m(this,"__type",Qp.__type);C(this,fu);C(this,$o,{});C(this,bi);C(this,ed);T(this,fu,t),T(this,bi,n.mvfData),T(this,ed,n.facadeId)}static is(t){return t.__type===Qp.__type}get type(){return a(this,bi).type}get name(){let t=z(this,Sf,Gx).call(this,"name");return typeof t=="string"?t:""}get shortName(){let t=z(this,Sf,Gx).call(this,"shortName");return typeof t=="string"?t:""}get externalId(){return a(this,bi).externalId??""}get floors(){if(a(this,$o).floors==null){let t=(a(this,bi).floors??a(this,bi).maps??[]).reduce((n,o)=>{let i=a(this,fu).floorsById[o];return i&&n.push(i),n},[]);t.length===0&&R.error(`Floor stack ${this.id} has no floors`),a(this,$o).floors=t.sort((n,o)=>n.elevation-o.elevation)}return a(this,$o).floors}get defaultFloor(){if(a(this,$o).defaultFloor!=null)return a(this,$o).defaultFloor;let t=a(this,bi).defaultFloor?a(this,fu).getById("floor",a(this,bi).defaultFloor):void 0;return a(this,$o).defaultFloor=t||this.floors.reduce((n,o)=>Math.abs(o.elevation)<Math.abs(n.elevation)?o:n),a(this,$o).defaultFloor}get facade(){return a(this,ed)?a(this,fu).facadesById[a(this,ed)]:void 0}toJSON(){return{__type:Qp.__type,id:this.id,name:this.name,shortName:this.shortName,type:this.type,floors:this.floors.map(t=>t.id)}}destroy(){for(let t of globalThis.Object.keys(a(this,$o)))delete a(this,$o)[t]}};fu=new WeakMap,$o=new WeakMap,bi=new WeakMap,ed=new WeakMap,Sf=new WeakSet,Gx=function(t){return a(this,fu).getPropTranslation(this.__type,t,this.id,a(this,bi)[t])},m(Qp,"__type","floor-stack");var Ux=Qp,Ny=Ux;p();var rd,Fl,nd,ga,td=class td extends gi{constructor(t,n){super(n.mvfData.id,t);m(this,"__type",td.__type);C(this,rd);C(this,Fl);C(this,nd);C(this,ga,{});T(this,rd,n.mvfData),T(this,Fl,t),T(this,nd,n.floorStackId)}static is(t){return t.__type===td.__type}get floorStack(){return a(this,Fl).getById("floor-stack",a(this,nd))}get spaces(){if(!a(this,ga).spaces){a(this,ga).spaces=[];for(let t of a(this,rd).spaces){let n=a(this,Fl).getById("space",t.spaceId);n&&a(this,ga).spaces.push(n)}}return a(this,ga).spaces}get center(){if(!a(this,ga).center){let t={type:"FeatureCollection",features:[]};for(let o of this.spaces){let i=a(this,Fl).mvfSpacesById[o.id];i&&t.features.push(i)}if(t.features.length===0)throw new Mr("No geometry found for facade!");let n=Fp(t);a(this,ga).center=new ge({latitude:n.geometry.coordinates[1],longitude:n.geometry.coordinates[0],floorId:a(this,rd).spaces[0].floorId})}return a(this,ga).center}get focusTarget(){return this.spaces}get anchorTarget(){return this.center}toJSON(){return{id:this.id,__type:td.__type,floorStackId:a(this,nd),floorStack:this.floorStack,spaces:this.spaces}}};rd=new WeakMap,Fl=new WeakMap,nd=new WeakMap,ga=new WeakMap,m(td,"__type","facade");var zx=td,Rr=zx;p();var nz=new Set(["wall","area"]),oz=new Set(["void","desk-entrance"]),iz=(e,r)=>{let t={},n={},o={},i={},s={},u={};for(let l of e["location.json"]||[]){let c=new Ml(r,{mvfData:l});if(t[l.id]=c,l.externalId&&(i[l.externalId]==null&&(i[l.externalId]=[]),i[l.externalId].push(c)),l.categories)for(let f of l.categories)s[f]==null&&(s[f]=[]),s[f].push(c);let d=[...l.obstructions?.map(f=>f.id)??[],...l.spaces?.map(f=>f.id)??[],...l.annotations?.map(f=>f.id)??[],...l.connections??[],...l.entrances?.map(f=>f.id)??[],...l.areas?.map(f=>f.id)??[]];for(let f of d)f&&(u[f]==null&&(u[f]=[]),u[f].push(c))}for(let l of e["category.json"]||[]){let c=new jy(r,{mvfData:l});n[l.id]=c,l.parent&&(o[l.parent]==null&&(o[l.parent]=[]),o[l.parent].push(c))}return{locationCategoriesByParentId:o,locationProfilesById:t,locationCategoriesById:n,locationProfilesByExternalId:i,locationProfilesByCategoryId:s,locationProfilesByAttachedFeatureId:u}},az=(e,r,t)=>{let n={},o={},i={},s={},u={},l={},c={},d={},f={},h={},b={},I=globalThis.Object.keys(e.space);for(let E of I){let v=e.space[E];if(v!=null){for(let x of v.features)if(b[x.properties.id]=E,l[x.properties.id]=x,x.properties.kind==="desk-entrance"&&(u[x.properties.externalId]==null&&(u[x.properties.externalId]=[]),u[x.properties.externalId].push(...x.properties.destinationNodes)),!xz(x)){if(x.properties.kind?.includes("connection")){let D=pa(x.geometry.coordinates);f[D]==null&&(f[D]=[]),f[D].push(x.properties.id);continue}if(x.properties.kind==="poi"||x.geometry.type==="Point"&&x.properties.kind==null){let D=new uo(t,{floorId:E,mvfData:x});i[x.properties.id]=D,d[E]||(d[E]=[]),d[E].push(x),x.properties.externalId&&(s[x.properties.externalId]==null&&(s[x.properties.externalId]=[]),s[x.properties.externalId].push(D))}else if(x.geometry.type==="Point")R.warn("Encountered a point space with an unknown kind!",x.properties.kind);else{let D=new Cr(t,{floorId:E,mvfData:x});n[x.properties.id]=D,x.properties.externalId&&(o[x.properties.externalId]==null&&(o[x.properties.externalId]=[]),o[x.properties.externalId].push(D)),c[E]||(c[E]=[]),c[E].push(x)}}}}for(let E in f){let v=f[E],x={};for(let w of v){let S=b[w],F=l[w],P=r?.["n_"+F.properties.id.split("s_")[1]];x[S]={...F,properties:{...F.properties,accessible:P?.accessible===!0}}}let D=new lo(t,{mvfDataByFloorId:x});h[D.id]=D}return{spacesById:n,spacesByExternalId:o,poisById:i,poisByExternalId:s,connectionsById:h,objectEntranceNodeIdsByObstructionId:u,mvfSpacesById:l,connectionIdsByLatLon:f,mvfSpacesByFloorId:c,mvfPoisByFloorId:d}},sz=(e,r)=>{let t={},n={},o={},i={};for(let s of e["node.geojson"].features){o[s.properties.id]=s;let u=new _o(r,{mvfData:s,floorId:s.properties.floor??s.properties.map});t[s.properties.id]=u,s.properties.externalId&&(n[s.properties.externalId]==null&&(n[s.properties.externalId]=[]),n[s.properties.externalId].push(u));let l=s.properties.floor??s.properties.map;i[l]||(i[l]=[]),i[l].push(s)}return{nodesById:t,nodesByExternalId:n,mvfNodesById:o,mvfNodesByFloorId:i}},uz=(e,r)=>{let t={},n={},o={},i={},s=globalThis.Object.keys(e.obstruction);for(let u of s){let l=e.obstruction[u];if(l!=null)for(let c of l.features){o[c.properties.id]=c;for(let f of c.properties.entrances)i[f]=c.properties.id;if(nz.has(c.properties.kind?.toLowerCase()??""))continue;let d=new Un(r,{floorId:u,mvfData:c});t[c.properties.id]=d,c.properties.externalId&&(n[c.properties.externalId]==null&&(n[c.properties.externalId]=[]),n[c.properties.externalId].push(d))}}return{objectsById:t,objectsByExternalId:n,mvfObstructionById:o,obstructionIdByEntranceId:i}},lz=(e,r)=>{let t={},n={},o={};if("floor.geojson"in e&&e["floor.geojson"]!=null)for(let i of e["floor.geojson"].features){o[i.properties.id]=i.properties;let s=new jn(r,{mvfData:i});t[i.properties.id]=s,i.properties.externalId&&(n[i.properties.externalId]==null&&(n[i.properties.externalId]=[]),n[i.properties.externalId].push(s))}else for(let i of e["map.geojson"]){o[i.id]=i;let s=new jn(r,{mvfData:{properties:i}});t[i.id]=s}return{floorsById:t,floorsByExternalId:n,mvfFloorsById:o}},cz=(e,r)=>{let t={},n={},o={},i={},s={},u=e["floorstack.json"]||e["mapstack.json"]||e["mapstack.geojson"];if(u!=null)for(let l of u){let c=e.facade?.[l.id],d=new Ny(r,{mvfData:l,facadeId:c?.id});if(t[l.id]=d,l.externalId&&(n[l.externalId]==null&&(n[l.externalId]=[]),n[l.externalId].push(d)),o[l.id]=l,c){let f=new Rr(r,{mvfData:c,floorStackId:l.id});i[c.id]=f;for(let h of c.spaces)s[h.spaceId]=f}}return{floorStacksById:t,floorStacksByExternalId:n,mvfFloorStacksById:o,facadesById:i,facadesBySpaceId:s}},pz=(e,r)=>{let t={},n={},o=e["connection.json"].reduce((i,s)=>{s.nodes.forEach(l=>i[l]=s),t[s.id]=s;let u=r?.[s.nodes[0]];if(u!=null){let l=pa(u.geometry.coordinates);n[l]==null&&(n[l]=[]),n[l].push(s.id)}return i},{});return{mvfConnectionsById:t,mvfConnectionsByNodeId:o,mvfConnectionIdsByLatLon:n}},dz=(e,r)=>{let t={},n={},o={},i={},s={},u=globalThis.Object.keys(e.entrance);for(let l of u){let c=e.entrance[l];if(c!=null)for(let d of c.features){i[d.properties.id]=d;let f=new yn(r,{floorId:l,mvfData:d});d.properties.node&&(o[d.properties.node]=f),t[d.properties.id]=f,d.properties.externalId&&(n[d.properties.externalId]==null&&(n[d.properties.externalId]=[]),n[d.properties.externalId].push(f)),s[l]||(s[l]=[]),s[l].push(d)}}return{doorsById:t,doorsByExternalId:n,doorsByNodeId:o,mvfEntrancesById:i,mvfEntrancesByFloorId:s}},mz=(e,r,t)=>{if(e.textAreas!=null)for(let n in e.textAreas){let o=e.textAreas[n]?.features;if(o!=null){for(let i of o)if("anchorId"in i.properties){let s=i?.properties,u=r[s.anchorId]||t[s.anchorId];if(u!=null&&s!=null){let l=u.properties;l.textArea=s,l.textArea&&(l.textArea.position=i.geometry.coordinates)}}}}},fz=(e,r,t)=>{if(e.floorImages!=null)for(let n in e.floorImages){let o=e.floorImages[n]?.features;if(o!=null){for(let i of o)if("anchorId"in i.properties){let s=i?.properties,u=r[s.anchorId]||t[s.anchorId];if(u!=null&&s!=null){let l=u.properties;l.image=s,l.image&&(l.image.position=i.geometry.coordinates)}}}}},hz=(e,r)=>{if(e.enterprise?.enterpriseStyles==null)return;let t=e.enterprise?.enterpriseStyles;for(let n in t){let o=t[n];o.geometryAnchors.forEach(i=>{let s=r[i.geometryId];if(s!=null){let u=s.properties;u.style={styleId:n,edgeOffset:o.edgeOffset}}})}},gz=(e,r,t)=>{if(!(e.enterprise==null||e.enterprise.textures==null))for(let n of e.enterprise.textures)for(let o of n.geometryAnchors){let i=r[o.geometryId]||t[o.geometryId];if(i!=null){let s=i.properties;s.textures==null&&(s.textures=[]),s.textures.push(n)}}},yz=(e,r)=>{let t={},n={},o={};if(e.annotation==null)return{annotationsById:t,mvfAnnotationsById:n,mvfAnnotationsByFloorId:o};let i=globalThis.Object.keys(e.annotation);for(let s of i){let u=e.annotation[s];if(u!=null)for(let l of u.features){n[l.properties.id]=l;let c=new ds(r,{floorId:s,mvfData:l});t[l.properties.id]=c,o[s]||(o[s]=[]),o[s].push(l)}}return{annotationsById:t,mvfAnnotationsById:n,mvfAnnotationsByFloorId:o}},bz=(e,r)=>{let t={},n={},o={};if(e.area==null)return{areasById:t,areasByExternalId:n,mvfAreasById:o};let i=globalThis.Object.keys(e.area);for(let s of i){let u=e.area[s];if(u!=null)for(let l of u.features){o[l.properties.id]=l;let c=new Lo(r,{floorId:s,mvfData:l});t[l.properties.id]=c,l.properties.externalId&&(n[l.properties.externalId]==null&&(n[l.properties.externalId]=[]),n[l.properties.externalId].push(c))}}return{areasById:t,areasByExternalId:n,mvfAreasById:o}},vz=(e,r)=>{let t={},n={},o={},i={};for(let s in e){let u=e[s];if(u==null)continue;let l=u.properties.destinationNodes??[];if(l.length<1)continue;let c=[];for(let d of l)r[d]!=null&&c.push(d),n[d]==null&&(n[d]=[]),n[d].push(u.properties.id),u.properties.kind==="desk-entrance"&&(o[d]==null&&(o[d]=[]),o[d].push(u.properties.externalId));c.length>0&&(t[s]=c),i[s]=l}return{entranceNodeIdsBySpaceId:t,spaceIdsByNodeId:n,objectIdsByNodeId:o,destinationNodesIdsBySpaceId:i}},Nw=(e,r)=>{let t={},n={},o={},i={},s=(e.enterprise?.locations??[]).reduce((v,x)=>(v[x.id]=x,v),{}),u={},l={},c={},d={},f={},h={},b=e.enterprise?.venue||{},I={};for(let v of e.enterprise?.categories??[]){let x=new $y(r,{mvfData:v});u[v.id]=x,v.externalId&&(l[v.externalId]==null&&(l[v.externalId]=[]),l[v.externalId].push(x)),c[v.id]=v,v.locations.forEach(D=>{f[D]==null&&(f[D]=[]),f[D].push(v.id)})}let E={};for(let v of e.enterprise?.locationInstances??[]){let x=s[v.parent],D=Object.keys(x),w={};for(let F of D)w[F]=void 0;let S={...w,polygons:[],nodes:[],...v};E[S.parent]==null&&(E[S.parent]=[]),E[S.parent].push(new da(r,{mvfData:S,categoryIds:e.enterprise?.categoryPriorities?.[S.id]||f[S.id],parentId:v.parent})),I[S.id]=v}for(let v of e.enterprise?.locations??[]){let x=new da(r,{mvfData:v,categoryIds:e.enterprise?.categoryPriorities?.[v.id]||f[v.id],locationInstances:E[v.id]});o[v.id]=x,v.externalId&&(i[v.externalId]==null&&(i[v.externalId]=[]),i[v.externalId].push(x)),v.nodes.forEach(D=>{h[D.id]==null&&(h[D.id]=[]),h[D.id].push(v.id)});for(let D of v.polygons)d[D.id]==null&&(d[D.id]=[]),d[D.id].push(v)}if(r.enterpriseMode===!0){for(let v in r.mvfConnectionsById){let x={},D=r.mvfConnectionsById[v];for(let w of r.mvfConnectionsById[v].nodes){let S=r.nodesById[w];S!=null&&(x[S.floor.id]={type:"Feature",geometry:{type:"Point",coordinates:[S.coordinate.longitude,S.coordinate.latitude]},properties:{id:v,externalId:D.externalId,kind:"enterprise."+D.type,destinationNodes:[],flags:"",type:D.type,nodes:D.nodes,accessible:D.accessible,extra:D.extra,details:D.details}})}Object.keys(x).length>0&&(t[v]=new lo(r,{mvfDataByFloorId:x}),D.externalId&&(n[D.externalId]==null&&(n[D.externalId]=[]),n[D.externalId].push(t[v])))}r.connectionsById=t}return{connectionsByExternalId:n,locationIdsByNodeId:h,mvfLocationsByGeometryId:d,mvfLocationsById:s,mvfCategoriesById:c,locationsById:o,locationsByExternalId:i,locationInstancesById:I,categoriesById:u,categoriesByExternalId:l,venue:b}},$w=(e,r)=>{let{nodesById:t,nodesByExternalId:n,mvfNodesById:o,mvfNodesByFloorId:i}=sz(e,r),{mvfConnectionsById:s,mvfConnectionsByNodeId:u,mvfConnectionIdsByLatLon:l}=pz(e,o),{spacesById:c,spacesByExternalId:d,poisById:f,poisByExternalId:h,mvfSpacesById:b,objectEntranceNodeIdsByObstructionId:I,connectionsById:E,connectionIdsByLatLon:v,mvfSpacesByFloorId:x,mvfPoisByFloorId:D}=az(e,u,r),{objectsById:w,objectsByExternalId:S,mvfObstructionById:F,obstructionIdByEntranceId:P}=uz(e,r),{floorsById:L,floorsByExternalId:N,mvfFloorsById:$}=lz(e,r),{floorStacksById:W,floorStacksByExternalId:V,mvfFloorStacksById:q,facadesById:se,facadesBySpaceId:ue}=cz(e,r),{doorsById:ce,doorsByExternalId:de,doorsByNodeId:Ee,mvfEntrancesById:he,mvfEntrancesByFloorId:ne}=dz(e,r),{annotationsById:Ce,mvfAnnotationsById:xe,mvfAnnotationsByFloorId:Re}=yz(e,r),{areasById:we,areasByExternalId:Ve,mvfAreasById:me}=bz(e,r);fz(e,b,F),mz(e,b,F),hz(e,b),gz(e,b,F);let{locationCategoriesByParentId:at,locationProfilesById:xt,locationCategoriesById:Ot,locationProfilesByExternalId:A,locationProfilesByCategoryId:Z,locationProfilesByAttachedFeatureId:O}=iz(e,r),{entranceNodeIdsBySpaceId:Q,spaceIdsByNodeId:X,objectIdsByNodeId:Y,destinationNodesIdsBySpaceId:K}=vz(b,Ee);return{spacesById:c,spacesByExternalId:d,nodesById:t,nodesByExternalId:n,objectsById:w,objectsByExternalId:S,floorsById:L,floorsByExternalId:N,floorStacksById:W,floorStacksByExternalId:V,facadesById:se,facadesBySpaceId:ue,connectionsById:E,doorsById:ce,doorsByExternalId:de,doorsByNodeId:Ee,poisById:f,poisByExternalId:h,annotationsById:Ce,areasById:we,areasByExternalId:Ve,objectEntranceNodeIdsByObstructionId:I,obstructionIdByEntranceId:P,connectionIdsByLatLon:v,locationProfilesById:xt,locationCategoriesById:Ot,locationProfilesByExternalId:A,locationProfilesByCategoryId:Z,locationCategoriesByParentId:at,mvfSpacesById:b,mvfNodesById:o,mvfObstructionById:F,mvfFloorsById:$,mvfFloorStacksById:q,mvfConnectionsById:s,mvfConnectionsByNodeId:u,mvfEntrancesById:he,mvfAnnotationsById:xe,mvfNodesByFloorId:i,mvfSpacesByFloorId:x,mvfPoisByFloorId:D,mvfAreasById:me,mvfEntrancesByFloorId:ne,mvfAnnotationsByFloorId:Re,locationProfilesByAttachedFeatureId:O,mvfConnectionIdsByLatLon:l,entranceNodeIdsBySpaceId:Q,spaceIdsByNodeId:X,objectIdsByNodeId:Y,destinationNodesIdsBySpaceId:K}};function xz(e){return!["Polygon","MultiPolygon"].includes(e.geometry.type)&&"kind"in e.properties&&e.properties.kind==null||oz.has(e.properties.kind??"")}p();var Iz=new Set(["polygons"]),po,nt,Sr,Df,od=class od extends Er{constructor(t,n){super(n.mvfData.externalId);m(this,"__type",od.__type);m(this,"description");m(this,"name","");m(this,"amenity");m(this,"externalId","");m(this,"extra");m(this,"gallery");m(this,"instances");m(this,"logo");m(this,"operationHours");m(this,"phone");m(this,"picture");m(this,"shortName");m(this,"showFloatingLabelWhenImagePresent");m(this,"showLogo");m(this,"siblingGroups");m(this,"social");m(this,"sortOrder",-1);m(this,"states");m(this,"tags");m(this,"type","");m(this,"hidden",!1);m(this,"primaryCategory");C(this,po);C(this,nt,{});C(this,Sr);C(this,Df);T(this,po,t),T(this,Sr,n.mvfData),T(this,Df,n.categoryIds||[]),this.instances=n.locationInstances||[];for(let o in n.mvfData)!Iz.has(o)&&!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),o)&&Object.defineProperty(this,o,{enumerable:!0,get(){if(n.parentId){let i=a(this,po).locationsById[n.parentId];return a(this,Sr)[o]!=null?a(this,po).getPropTranslation(this.__type,o,a(this,Sr).id,a(this,Sr)[o]):a(this,po).getPropTranslation(this.__type,o,a(this,Sr).id,i[o])}return a(this,po).getPropTranslation(this.__type,o,a(this,Sr).id,a(this,Sr)[o])}})}static is(t){return t.__type===od.__type}get focusTarget(){return this.spaces}get categories(){return a(this,nt).categories?a(this,nt).categories:(a(this,nt).categories=(a(this,Df).map(t=>a(this,po).getById("enterprise-category",t))||[]).filter(Boolean),a(this,nt).categories)}get coordinates(){if(a(this,nt).coordinates)return a(this,nt).coordinates;a(this,nt).coordinates=[];for(let t=0;t<this.nodes.length;t++)a(this,nt).coordinates.push(this.nodes[t].coordinate);return a(this,nt).coordinates}get nodes(){if(a(this,nt).nodes)return a(this,nt).nodes;a(this,nt).nodes=[];for(let t=0;t<a(this,Sr).nodes.length;t++){let n=a(this,po).getById("node",a(this,Sr).nodes[t].id);n&&a(this,nt).nodes.push(n)}return a(this,nt).nodes}get points(){if(a(this,nt).points)return a(this,nt).points;a(this,nt).points=[];for(let t=0;t<a(this,Sr).spaces.length;t++){let n=a(this,po).getById("point-of-interest",a(this,Sr).spaces[t].id);n&&a(this,nt).points.push(n)}return a(this,nt).points}get spaces(){if(a(this,nt).spaces)return a(this,nt).spaces;a(this,nt).spaces=[];let t=Array.isArray(a(this,Sr).spaces)?a(this,Sr).spaces:a(this,Sr).polygons;for(let n=0;n<t.length;n++){let o=a(this,po).getById("space",t[n].id);o&&a(this,nt).spaces.push(o)}return a(this,nt).spaces}get objects(){if(a(this,nt).objects)return a(this,nt).objects;a(this,nt).objects=[];for(let t=0;t<a(this,Sr).polygons.length;t++){let n=a(this,po).getById("object",a(this,Sr).polygons[t].id);n&&a(this,nt).objects.push(n)}return a(this,nt).objects}toJSON(){return{__type:od.__type,id:this.id,name:this.name}}destroy(){for(let t of Object.keys(a(this,nt)))delete a(this,nt)[t]}};po=new WeakMap,nt=new WeakMap,Sr=new WeakMap,Df=new WeakMap,m(od,"__type","enterprise-location");var Vx=od,da=Vx;p();var Ez=new Set,Al,bn,ya,id=class id extends Er{constructor(t,n){super(n.mvfData.externalId);m(this,"__type",id.__type);m(this,"name","");m(this,"color");m(this,"externalId","");m(this,"extra");m(this,"icon");m(this,"iconFromDefaultList");m(this,"sortOrder",-1);m(this,"picture");C(this,Al);C(this,bn,{});C(this,ya);T(this,Al,t),T(this,ya,n.mvfData);for(let o in n.mvfData)!Ez.has(o)&&!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),o)&&Object.defineProperty(this,o,{get(){return a(this,Al).getPropTranslation(this.__type,o,a(this,ya).id,a(this,ya)[o])}})}static is(t){return t.__type===id.__type}get children(){if(a(this,bn).children)return a(this,bn).children;a(this,bn).children=[];for(let t=0;t<a(this,ya).children.length;t++){let n=a(this,Al).getById("enterprise-category",a(this,ya).children[t]);n&&a(this,bn).children.push(n)}return a(this,bn).children}get locations(){if(a(this,bn).locations)return a(this,bn).locations;a(this,bn).locations=[];for(let t=0;t<a(this,ya).locations.length;t++){let n=a(this,Al).getById("enterprise-location",a(this,ya).locations[t]);n&&a(this,bn).locations.push(n)}return a(this,bn).locations}toJSON(){return{__type:id.__type,id:this.id,name:this.name}}destroy(){for(let t of Object.keys(a(this,bn)))delete a(this,bn)[t]}};Al=new WeakMap,bn=new WeakMap,ya=new WeakMap,m(id,"__type","enterprise-category");var Hx=id,$y=Hx;p();var Cz=new Set,Tf,sd,ad=class ad extends Er{constructor(t,n){super(n.mvfData.externalId);m(this,"__type",ad.__type);m(this,"countrycode");m(this,"coverImage");m(this,"externalId","");m(this,"defaultLanguage",{code:"en",name:"English"});m(this,"defaultFloor");m(this,"extra");m(this,"icon");m(this,"languages",[]);m(this,"links",[]);m(this,"logo");m(this,"mappedinWebUrl");m(this,"operationHours");m(this,"slug","");m(this,"topLocations");m(this,"tzid");C(this,Tf,{});C(this,sd);T(this,sd,n.mvfData);for(let o in n.mvfData)!Cz.has(o)&&!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),o)&&(this[o]=n.mvfData[o])}static is(t){return t.__type===ad.__type}get name(){return a(this,sd).name??""}get defaultMap(){return a(this,sd).defaultMap??this.defaultFloor??""}toJSON(){return{__type:ad.__type,id:this.id,name:this.name}}destroy(){for(let t of Object.keys(a(this,Tf)))delete a(this,Tf)[t]}};Tf=new WeakMap,sd=new WeakMap,m(ad,"__type","enterprise-venue");var Zx=ad,Wx=Zx;p();p();function wf(e,r,t=[]){let n={...e};for(let[o,i]of Object.entries(r))if(i!==void 0)if(o in n){let s=o;if(Array.isArray(i)&&i.length>0){let u=Sz(i[0],t);if(u){let l=n[s];if(!Array.isArray(l))throw new Error(`Expected array at ${o}, got ${typeof l}`);let c=new Map(i.map(h=>[jw(h,u),h])),f=l.map(h=>{let b=c.get(jw(h,u));return b?wf(h,b,t):h});n[s]=f}else n[s]=i}else{let u=n[s];typeof u=="object"&&u!==null&&typeof i=="object"&&i!==null?Object.keys(i).length===0?n[s]=i:n[s]=wf(u,i,t):n[o]=i}}else n[o]=i;return n}function Sz(e,r){function t(n){if(typeof n!="object"||n===null)return null;for(let o of r)if(o in n&&typeof n[o]<"u")return[o];if(Array.isArray(n))return null;for(let[o,i]of Object.entries(n)){let s=t(i);if(s)return[o,...s]}return null}return t(e)}function jw(e,r){return r.reduce((t,n)=>{if(t&&typeof t=="object")return t[n]},e)}p();p();p();p();p();var Uw=(i=>(i.Departure="Departure",i.TakeConnection="TakeConnection",i.ExitConnection="ExitConnection",i.Turn="Turn",i.Arrival="Arrival",i))(Uw||{}),Xx=(s=>(s.Straight="Straight",s.Right="Right",s.SlightRight="SlightRight",s.Left="Left",s.SlightLeft="SlightLeft",s.Back="Back",s))(Xx||{}),Gw=(d=>(d.stairs="stairs",d.elevator="elevator",d.escalator="escalator",d.door="door",d.ramp="ramp",d.slide="slide",d.portal="portal",d.security="security",d.shuttle="shuttle",d.ladder="ladder",d))(Gw||{}),Uy=(t=>(t.Exterior="exterior-walls",t.Interior="interior-walls",t))(Uy||{}),Gy=(t=>(t.Interior="interior-doors",t.Exterior="exterior-doors",t))(Gy||{});function jo(e){return e.verticalOffset===0?[e.longitude,e.latitude]:[e.longitude,e.latitude,e.verticalOffset]}function Tz(e){return new Map(e.map(r=>{let{properties:t}=r,{id:n}=t;return[n,r]}))}var Jx=(e,r)=>{let t=Tz(r),n={entrances:{type:"FeatureCollection",features:[]},walls:{type:"Feature",properties:{id:e[0].properties.id},geometry:{type:"MultiLineString",coordinates:[]}}};for(let o of e){let i=[o.geometry.coordinates],s=(o.properties.entrances||[]).reduce((u,l)=>(t.has(l)&&u.push(t.get(l)),u),[]);if(s.length){let{entrances:u,obstructions:l}=Ix(o,s);i=l.map(c=>c.geometry.coordinates),n.entrances.features.push(...u)}n.walls.geometry.coordinates.push(...i)}return n};function zw(e,r){return((r-e+Math.PI)%(Math.PI*2)+Math.PI*2)%(Math.PI*2)-Math.PI}function Vw(e,r){let t="Left";return e<=-Math.PI/4?t="Right":e<=-r?t="SlightRight":e<=r?t="Straight":e<=Math.PI/4?t="SlightLeft":t="Left",t}function Hw(e){let r={};for(let t in e){let n=e[t];if(n!=null){if(n.id=t,"polygons"in n)for(let o of n.polygons)r[o]=n;else if("lineStrings"in n)for(let o of n.lineStrings)r[o]=n;else if("points"in n)for(let o of n.points)r[o]=n}}return r}function zy(e,r){return e.reduce((t,n)=>{let o=r[n.properties.id];if(o==null)return t;if("textures"in n.properties&&Array.isArray(n.properties.textures)&&n.properties.textures.length>0){let i={...o,id:o.id+"-textures"};t.set(i,[n])}else t.has(o)||t.set(o,[]),t.get(o).push(n);return t},new Map)}function ud(e,r={}){let t={...e,flipImageToFaceCamera:r?.flipImagesToFaceCamera??!0},n=r?.style?.shading??r?.shadingAndOutlines;if(n===!0?t.shading={start:.1,end:.15,intensity:.4}:typeof n=="object"&&(t.shading={start:n.start,end:n.end,intensity:n.intensity}),t.outline=r?.style?.outlines??r?.shadingAndOutlines,"lineStrings"in e){let o=r?.style?.wallTopColor??r?.wallTopColor;o!=null&&(t.topColor=o)}return t}var Zw=(e,r)=>{let n=(r.currentMap?.currentFloor).layers.get(or);switch(e){case"interior-walls":return n?.layers.get(lu);case"exterior-walls":return n?.layers.get(ma);case"interior-doors":return n?.layers.get(Vp);case"exterior-doors":return n?.layers.get(Hp);default:return typeof e=="string"?e:e?.id}};function Yx(e){return new Promise(r=>{e.onComplete(r),e.onStop(r)})}function Vy(e){return e.bbox?e.bbox:Cc(e)}function Ww(e,r){return[Math.min(e[0],r[0]),Math.min(e[1],r[1]),Math.max(e[2],r[2]),Math.max(e[3],r[3])]}function Ff(e,r,t){return e.floorId&&r.has(e.floorId)?r.get(e.floorId):t}function ld(e){if(Cr.is(e)||Un.is(e))return e.id}function Xw(e,r,t){let n=e.coordinates.length===2&&e.coordinates[0].floorId!==e.coordinates[1].floorId,o=!0;if(n&&e.coordinates[0].floorId!=null&&e.coordinates[1].floorId!=null){let i=r?.getById("floor",e.coordinates[0].floorId),s=r?.getById("floor",e.coordinates[1].floorId);if(i&&s){let u=t.getState(i),l=t.getState(s);u!=null&&l!=null&&(o=u.visible&&l.visible&&u.altitude!==l.altitude)}}else{let i=e.coordinates[0].floorId!=null?r?.getById("floor",e.coordinates[0].floorId):void 0;o=i?t.getState(i)?.visible??!0:!0}return o}function Jw(e,r){let t=e.properties.path.split("/"),n=t[t.length-1].split(".")[0],o=atob(n);return"img_"+Bh(o).toString()+"-"+r}function fs(e="auto",r){return e==="auto"?r?Math.round(r*Pw):10:e}function Yw(e,r="auto"){if(!e.length)return new Map;let t=e.sort((u,l)=>u.elevation-l.elevation),n=t.findIndex(u=>u.elevation>=0);n===-1&&(n=t.length);let o=0,i=new Map;for(let u=n;u<t.length;u+=1){let l=t[u],c=t[u+1],d=l.elevation,f=c?c.elevation:void 0,h=f!==void 0?Math.max(0,f-d-1):0,b=u===n?d:0,I=fs(r,l.maxHeight)*(1+h+b),E=o;i.set(l.elevation,{altitude:E,effectiveHeight:I}),o+=I}let s=u=>-u-1;o=0;for(let u=n-1;u>=0;u-=1){let l=t[u],c=t[u-1],d=s(l.elevation),f=c?s(c.elevation):void 0,h=f!==void 0?Math.max(0,f-d-1):0,b=u===n-1?d:0,I=fs(r,l.maxHeight)*(1+h+b),E=-(o+I);i.set(l.elevation,{altitude:E,effectiveHeight:I}),o+=I}return i}function Hy(e,r){let t=r(e.center);return{center:new ge({latitude:t[1],longitude:t[0]}),radius:e.radius}}var Kw=Math.PI*.1,vn,Gn,mo,hs,Ol,pd,Uo,qw,cd,Qw,hu=class{constructor(r,t,n,o,i){C(this,Uo);m(this,"id");C(this,vn,{});C(this,Gn);C(this,mo);m(this,"departure");m(this,"destination");C(this,hs);C(this,Ol);C(this,pd);this.id=i?.id??It(),T(this,Gn,t),T(this,mo,r.features),this.departure=n,this.destination=o}get path(){return a(this,mo).map(r=>a(this,Gn).getById("node",r.properties.id)).filter(Boolean)}get coordinates(){return a(this,vn).coordinates?a(this,vn).coordinates:(a(this,vn).coordinates=a(this,mo).map(r=>new ge(r.geometry.coordinates[1],r.geometry.coordinates[0],r.properties.groupBy)),a(this,vn).coordinates)}get distance(){return a(this,vn).distance?a(this,vn).distance:(a(this,vn).distance=a(this,mo).reduce((r,t)=>r+(t.properties.distance||0),0),a(this,vn).distance)}get instructions(){if(a(this,mo).length<2)return[];if(a(this,vn).instructions)return a(this,vn).instructions;let r=[],t=0;for(let n=0;n<a(this,mo).length;n++){let o=a(this,mo)[n],i=a(this,mo)[n-1],s=a(this,mo)[n+1],u=new ge(o.geometry.coordinates[1],o.geometry.coordinates[0],o.properties.groupBy),l=z(this,Uo,qw).call(this,{prevDirection:i,direction:o,nextDirection:s});t+=i?.properties.distance||0;for(let c of l)c&&(r.push({action:c,distance:t,coordinate:u,node:a(this,Gn).getById("node",o.properties.id)}),t=0)}return a(this,vn).instructions=r,a(this,vn).instructions}toJSON(){return{id:this.id,directions:a(this,mo),__type:"directions",from:this.departure,to:this.destination}}};vn=new WeakMap,Gn=new WeakMap,mo=new WeakMap,hs=new WeakMap,Ol=new WeakMap,pd=new WeakMap,Uo=new WeakSet,qw=function(r){let{prevDirection:t,direction:n,nextDirection:o}=r,i=t&&a(this,Gn).getById("floor",t.properties.groupBy),s=a(this,Gn).getById("floor",n.properties.groupBy),u=o&&a(this,Gn).getById("floor",o.properties.groupBy),l=[];t||l.push({type:"Departure"});let c=a(this,Gn).getMVFFeatureByNodeId("connection",n.properties.id),d=c?a(this,Gn).getById("connection",c.id):void 0,f=c&&c.nodes.length>1,h=a(this,Gn).enterpriseMode&&(!n.properties.destination||!c?.nodes.includes(n.properties.destination)||!c?.nodes.includes(n.properties.id));if(c&&!(!f||h))if(!a(this,hs)||a(this,hs)==="exit")l.push(z(this,Uo,cd).call(this,"TakeConnection",s,u,d,c)),T(this,hs,"take"),T(this,Ol,d),T(this,pd,c);else{let I=a(this,Gn).getMVFFeatureByNodeId("connection",t?.properties.id??""),E=a(this,Gn).getById("connection",I?.id??"");l.push(z(this,Uo,cd).call(this,"ExitConnection",s,i,E,I)),T(this,hs,"exit"),T(this,Ol,d),T(this,pd,c)}else a(this,hs)==="take"?(l.push(z(this,Uo,cd).call(this,"ExitConnection",s,i,a(this,Ol),a(this,pd))),T(this,hs,"exit"),T(this,Ol,d)):u&&s?.id!==u.id?l.push(z(this,Uo,cd).call(this,"TakeConnection",s,u,d)):i&&i.id!==s?.id?l.push(z(this,Uo,cd).call(this,"ExitConnection",s,i,d)):l.push(z(this,Uo,Qw).call(this,t,n));return o||l.push({type:"Arrival"}),l},cd=function(r,t,n,o,i){let s="none",u=t?t.elevation:0;if(u!=null&&n?.elevation!=null){let c=u-n.elevation;c>0?s="down":c<0&&(s="up")}let l=o?.type??i?.type??"stairs";return{type:r,fromFloor:t,toFloor:n,direction:s,connection:o,connectionType:l}},Qw=function(r,t){let n=t.properties.edges;if(!n||n.filter(s=>s.destination.properties.id!==r?.properties.id&&s.destination.properties.id!==t.properties.destination).length===0)return null;let i=r?-zw(r.properties.angle,t.properties.angle):0;return Math.abs(i)>=Kw?{type:"Turn",bearing:Vw(i,Kw),referencePosition:"At"}:null};p();p();p();p();p();p();p();var Bl=class{constructor({origin:r,destination:t,distance:n=0,angle:o=0,pathWeight:i=0,multiplicativeDistanceWeightScaling:s=!0}){m(this,"origin");m(this,"destination");m(this,"distance");m(this,"angle");m(this,"weight");if(this.origin=r,this.destination=t,this.distance=n,this.angle=o,this.weight=i||0,s?r.properties.floor===t.properties.floor&&(this.weight=(this.weight>=0?this.distance*this.weight:0)+this.distance):r.properties.map===t.properties.map&&(this.weight=this.weight>=0?this.distance+this.weight:0),isNaN(this.angle))throw new Error("Invalid angle: Expected a numeric value, but received NaN.")}};p();p();p();function gs(e,r,t){if(t===void 0&&(t={}),!e)throw new Error("point is required");if(!r)throw new Error("polygon is required");var n=ko(e),o=wp(r),i=o.type,s=r.bbox,u=o.coordinates;if(s&&wz(n,s)===!1)return!1;i==="Polygon"&&(u=[u]);for(var l=!1,c=0;c<u.length&&!l;c++)if(eF(n,u[c][0],t.ignoreBoundary)){for(var d=!1,f=1;f<u[c].length&&!d;)eF(n,u[c][f],!t.ignoreBoundary)&&(d=!0),f++;d||(l=!0)}return l}function eF(e,r,t){var n=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var o=0,i=r.length-1;o<r.length;i=o++){var s=r[o][0],u=r[o][1],l=r[i][0],c=r[i][1],d=e[1]*(s-l)+u*(l-e[0])+c*(e[0]-s)===0&&(s-e[0])*(l-e[0])<=0&&(u-e[1])*(c-e[1])<=0;if(d)return!t;var f=u>e[1]!=c>e[1]&&e[0]<(l-s)*(e[1]-u)/(c-u)+s;f&&(n=!n)}return n}function wz(e,r){return r[0]<=e[0]&&r[1]<=e[1]&&r[2]>=e[0]&&r[3]>=e[1]}p();p();function ys([e,r],[t,n]){let o=r-n,i=e-t;return(Math.atan2(i,o)+Math.PI*3)%(Math.PI*2)}p();p();function Zy(e,r,t,n){let[o,i]=e,[s,u]=r,[l,c]=t,[d,f]=n;if(i===u&&o===s||c===f&&l===d)return null;let h=(d-l)*(u-i)-(f-c)*(s-o);if(h===0)return null;let b=((f-c)*(o-l)-(d-l)*(i-c))/h,I=((u-i)*(o-l)-(s-o)*(i-c))/h;if(b<0||b>1||I<0||I>1)return null;let E=i+b*(u-i);return[o+b*(s-o),E]}p();function Kx(e,r,t,n){let o=ll(e,t/1e3,n),i=ll(r,t/1e3,n);return[o.geometry.coordinates,i.geometry.coordinates]}p();function qx(e){let r=e*(180/Math.PI);return r=r%360,r>180?r-=360:r<-180&&(r+=360),Object.is(r,-0)?0:r}var tF=111e3;function Wy(e,r,t=[],n=0){let o=!0,i=e.geometry.coordinates,s=r.geometry.coordinates,u=qx(ys(i,s)-Math.PI/2),l=qx(ys(i,s)+Math.PI/2),c=n/tF,d=n/(tF*Math.cos(i[1]*Math.PI/180)),f=Math.min(i[1],s[1])-c,h=Math.max(i[1],s[1])+c,b=Math.min(i[0],s[0])-d,I=Math.max(i[0],s[0])+d;for(let E of t)if(!(Math.max(E[0][1],E[1][1])<f||Math.min(E[0][1],E[1][1])>h||Math.max(E[0][0],E[1][0])<b||Math.min(E[0][0],E[1][0])>I)){if(n>0){let v=Kx(i,s,n,u),x=Kx(i,s,n,l);if(Zy(v[0],v[1],E[0],E[1])||Zy(x[0],x[1],E[0],E[1]))return o=!1,!1}else if(Zy(i,s,E[0],E[1]))return o=!1,!1}return o}var e2=.4,Pl,Kr,Qx,rF,nF,oF,iF,aF,sF,Jy,Xy=class{constructor({nodes:r,groupBy:t,multiplicativeDistanceWeightScaling:n}){C(this,Kr);m(this,"edges",{});m(this,"nodesById");m(this,"nodesByGroup",new Map);C(this,Pl);m(this,"hasLineOfSight",(r,t,n=[],o=e2)=>Wy({type:"Feature",properties:{id:"origin",neighbors:[]},geometry:{type:"Point",coordinates:r}},{type:"Feature",properties:{id:"destination",neighbors:[]},geometry:{type:"Point",coordinates:t}},n,o)===!0);C(this,Jy,(r,t)=>{let n=0;for(let o of t)(!o[a(this,Pl)]||o[a(this,Pl)]===r.properties[a(this,Pl)])&&gs(r.geometry.coordinates,o.geometry.geometry)&&(n+=Math.max(0,o.cost));return n});T(this,Pl,t);let{features:o}=r;this.nodesById=z(this,Kr,rF).call(this,o),z(this,Kr,nF).call(this),z(this,Kr,oF).call(this,o,t,{multiplicativeDistanceWeightScaling:n})}getShortestEuclideanDistance(r,t){return t.reduce((n,o)=>{let i=h6(r.geometry.coordinates,o.geometry.coordinates);return Math.min(n,i)},Number.MAX_VALUE)}dijkstraFindWithinTravelDistance(r,t,n,o,i,s){let u=this.nodesById[r];if(!u)return[];let l=[],c={},d={},f=new Set,h=[];for(l.push({node:u,distance:0}),c[u.properties.id]=null,d[u.properties.id]=0;l.length>0;){l.sort((v,x)=>v.distance-x.distance);let b=l.shift();if(!b)break;let I=b.node,E=b.distance;if(!f.has(I.properties.id)){if(f.add(I.properties.id),h.length>=s)break;I.properties.id!=null&&n.includes(I.properties.id?.toString())&&(i?this.hasLineOfSight(u.geometry.coordinates,I.geometry.coordinates,o)&&h.push({feature:I,distance:E}):h.push({feature:I,distance:E}));for(let v of this.edges[I.properties.id]){let x=v.destination,D=E+v.distance,w=d[I.properties.id]+v.weight;D>t||f.has(x.properties.id)||d[x.properties.id]!==void 0&&w>=d[x.properties.id]||(d[x.properties.id]=w,c[x.properties.id]=v,l.push({node:x,distance:D}))}}}return h.sort((b,I)=>b.distance-I.distance)}aStar({originIds:r,destinationNodeIds:t,disabledConnectionNodeIds:n,zones:o,overrideEdgeWeights:i,disabledNodeIds:s}){let u=z(this,Kr,Qx).call(this,r),l=z(this,Kr,Qx).call(this,t);if(u.length===0||l.length===0)return[];let{frontier:c,cameFrom:d,costSoFar:f}=z(this,Kr,iF).call(this,u,l);for(;c.length>0;){let h=c.shift();if(!h)break;if(z(this,Kr,aF).call(this,h.origin,l))return z(this,Kr,sF).call(this,d,h.origin.properties.id);for(let b of this.edges[h.origin.properties.id]){let I=i?.get(b)??b.weight;if(n?.has(b.origin.properties.id)&&b.destination.properties.map!==b.origin.properties.map||s?.has(b.origin.properties.id))continue;let E=f[h.origin.properties.id]+I+a(this,Jy).call(this,b.destination,o);if(E!==1/0&&(f[b.destination.properties.id]==null||E<f[b.destination.properties.id])){let v=E+this.getShortestEuclideanDistance(b.destination,l);f[b.destination.properties.id]=E,d[b.destination.properties.id]=b,c.push({origin:b.destination,priority:v})}}c.sort((b,I)=>b.priority-I.priority)}return[]}};Pl=new WeakMap,Kr=new WeakSet,Qx=function(r){return r.map(t=>this.nodesById[t]).filter(Boolean)},rF=function(r){return r.reduce((t,n)=>(t[n.properties.id]=n,t),{})},nF=function(){for(let r in this.nodesById)this.nodesById.hasOwnProperty(r)&&(this.nodesById[r].properties.neighbors=this.nodesById[r].properties.neighbors.filter(({id:t})=>!!this.nodesById[t]))},oF=function(r,t,n){r.forEach(o=>{let i=t==="default"?t:o.properties[t];this.nodesByGroup.has(i)||this.nodesByGroup.set(i,[]),this.nodesByGroup.get(i).push(o),this.edges[o.properties.id]=o.properties.neighbors.map(({id:s,weight:u})=>{let l=this.nodesById[s],c=go(o.geometry.coordinates,l.geometry.coordinates),d=ys(o.geometry.coordinates,l.geometry.coordinates);return new Bl({origin:o,destination:l,pathWeight:u,distance:c,angle:d,multiplicativeDistanceWeightScaling:n?.multiplicativeDistanceWeightScaling})})})},iF=function(r,t){let n=[],o={},i={};return r.forEach(s=>{let u=this.getShortestEuclideanDistance(s,t);n.push({origin:s,priority:u}),o[s.properties.id]=null,i[s.properties.id]=0}),n.sort((s,u)=>s.priority-u.priority),{frontier:n,cameFrom:o,costSoFar:i}},aF=function(r,t){return t.some(n=>n.properties.id===r.properties.id)},sF=function(r,t){let n=[],o=r[t];for(;o;)n.push(o),o=r[o.origin.properties.id];return n.reverse()},Jy=new WeakMap;p();function t2(e,r,t){if(e==null||e[r]==null)return!1;let n=1<<t;return(e[r]&n)!==0}var dd=class{constructor({nodes:r,geojsonCollection:t,groupBy:n="default",multiplicativeDistanceWeightScaling:o,flagDeclarations:i}){m(this,"groupBy");m(this,"graph");m(this,"geometryEdgesByMapId",new Map);m(this,"flagDeclarations",{});m(this,"disabledNodeIds");m(this,"generatePath",r=>{let{destination:t}=r[r.length-1],n={type:"FeatureCollection",features:[]};for(let i=0;i<r.length;i++){let{origin:s,destination:u}=r[i],l={id:s.properties.id,angle:r[i].angle,distance:r[i].distance,destination:u.properties.id,edges:this.graph.edges[s.properties.id]};this.groupBy!=="default"&&(l.groupBy=s.properties[this.groupBy]),n.features.push({type:"Feature",geometry:{type:"Point",coordinates:[s.geometry.coordinates[0],s.geometry.coordinates[1]]},properties:l})}let o={id:t.properties.id,edges:this.graph.edges[t.properties.id]};return this.groupBy!=="default"&&(o.groupBy=t.properties[this.groupBy]),n.features.push({type:"Feature",geometry:{type:"Point",coordinates:[t.geometry.coordinates[0],t.geometry.coordinates[1]]},properties:o}),n});m(this,"findNearestNodesOnGraph",(r,t,n,o,i=!1,s=1/0)=>this.graph.dijkstraFindWithinTravelDistance(r,t,o,this.geometryEdgesByMapId.get(n)??[],i,s));m(this,"hasLineOfSight",(r,t,n,o)=>this.graph.hasLineOfSight(r,t,this.geometryEdgesByMapId.get(n),o));m(this,"getDistance",(r,t)=>go(r,t));m(this,"getAngle",(r,t)=>ys(r,t));this.groupBy=n,this.graph=new Xy({nodes:r,groupBy:this.groupBy,multiplicativeDistanceWeightScaling:o});let s=t?.features||[];this.flagDeclarations=i??{},this.disabledNodeIds=this.getDisabledNodeIds(),s.forEach(u=>{let l=null;if(u.geometry.type==="LineString"?l=u.geometry.coordinates:u.geometry.type==="Polygon"&&(l=u.geometry.coordinates.flat()),l){let c=this.groupBy==="default"?this.groupBy:u.properties[this.groupBy];this.geometryEdgesByMapId.has(c)||this.geometryEdgesByMapId.set(c,[]),l.forEach((d,f)=>{this.geometryEdgesByMapId.get(c).push([d,l[f+1]||l[0]])})}})}getDisabledNodeIds(){let r=new Set;if(Hh.public in this.flagDeclarations)for(let t in this.graph.nodesById)t2(this.graph.nodesById[t].properties.flags,this.flagDeclarations[Hh.public].index,this.flagDeclarations[Hh.public].bit)||r.add(t);return r}getDirections({zones:r,originIds:t,destinationNodeIds:n,disabledConnectionNodeIds:o,simplify:i,multiplicativeDistanceWeightScaling:s,overrideEdgeWeights:u}){let l=i?.enabled??!0,c=r??[],d=this.graph.aStar({originIds:t,destinationNodeIds:n,zones:c,disabledConnectionNodeIds:new Set(o),overrideEdgeWeights:u,disabledNodeIds:this.disabledNodeIds});return d.length===0?{type:"FeatureCollection",features:[]}:(l&&(d=this.simplifyAllSteps(d,i?.bufferRadius??e2,s)),this.generatePath(d))}simplifyAllSteps(r,t,n){let o=[],i=[r[0]];for(let c=1;c<r.length;c++)if(this.groupBy!=="default"&&r[c].origin.properties[this.groupBy]!==r[c-1].origin.properties[this.groupBy]){let d=r[c-1].origin.properties[this.groupBy],f=this.geometryEdgesByMapId.get(d)??[];o.push(...this.simplifySteps(i,f,t,n)),i=[r[c]]}else i.push(r[c]);let s=r[r.length-1],u=this.groupBy==="default"?this.groupBy:s.origin.properties[this.groupBy],l=this.geometryEdgesByMapId.get(u)??[];return o.push(...this.simplifySteps(i,l,t,n)),o}simplifySteps(r,t,n,o){if(r.length<3)return r;let i=[r[0]],s=1;for(let u=s+2;u<r.length;u++)if("outdoors"in this.flagDeclarations&&t2(r[s]?.origin?.properties?.flags??[],this.flagDeclarations.outdoors.index,this.flagDeclarations.outdoors.bit)||r[s].origin.properties.preventSmoothing||!Wy(r[s].origin,r[u].origin,t,n)){let l=u-1;i.push(new Bl({...r[s],destination:r[l].origin,distance:go(r[s].origin.geometry.coordinates,r[l].origin.geometry.coordinates),angle:ys(r[s].origin.geometry.coordinates,r[l].origin.geometry.coordinates)})),s=l}return i.push(new Bl({...r[s],destination:r[r.length-1].origin,distance:go(r[s].origin.geometry.coordinates,r[r.length-1].origin.geometry.coordinates),angle:ys(r[s].origin.geometry.coordinates,r[r.length-1].origin.geometry.coordinates),multiplicativeDistanceWeightScaling:o}),r[r.length-1]),i}};p();var Fz={lineOfSight:!0,mode:"absolute-distance",maxResults:1};function uF(e){return{...Fz,lineOfSight:!e}}var kt=new WeakMap;function Yy(e,r,t){let n=uF(t),i=r.Query.__LEGACY_NEAREST_SYNC(e,r.getByType("node"),n)?.[0]?.feature.id;return i?[i]:[]}async function Ky(e,r,t){let n=uF(t),i=(await r.Query.nearest(e,r.getByType("node"),n))?.[0]?.feature.id;return i?[i]:[]}function Mz(e,r,t){let n=[];for(let o of e.navigationTarget){let i=md(o,r,t);n.push(...i)}return n}async function Az(e,r,t){let n=[];for(let o of e.navigationTarget){let i=await gu(o,r,t);n.push(...i)}return n}function lF(e,r){let n=r?.getMVFFeatureById("entrance",e.id)?.properties.node;return n?[n]:[]}function cF(e,r){return r?.getMVFFeatureById("area",e.id)?.properties.destinationNodes??[]}function pF(e,r){let t=r?.getMVFFeatureById("space",e.id);if(t==null)return[];let n=r.entranceNodeIdsBySpaceId?.[e.id];return n&&n.length>0?n:t.properties.destinationNodes??[]}function Oz(e,r,t){let n=[];for(let o of e.coordinates){let i=Yy(o,r,t);i.length>0&&n.push(i[0])}return n}async function Bz(e,r,t){let n=[];for(let o of e.coordinates){let i=await Ky(o,r,t);i.length>0&&n.push(i[0])}return n}function dF(e,r){return r?.objectEntranceNodeIdsByObstructionId[e.id]??[]}function mF(e,r){return e.spaces.flatMap(t=>r?.getMVFFeatureById("space",t.id)?.properties.destinationNodes??[]).filter(t=>typeof t=="string")}function fF(e){return e.nodes.map(r=>r.id)}function md(e,r,t){if(kt.has(e))return kt.get(e);if(Ml.is(e)){let n=Mz(e,r,t);return kt.set(e,n),n}else if(ds.is(e)){let n=Yy(e,r,t);return kt.set(e,n),n}else if(ge.is(e)){let n=Yy(e,r,t);return kt.set(e,n),n}else{if(uo.is(e))return Yy(e,r,t);if(yn.is(e)){let n=lF(e,r);return kt.set(e,n),n}else if(Lo.is(e)){let n=cF(e,r);return kt.set(e,n),n}else if(Cr.is(e)){let n=pF(e,r);return kt.set(e,n),n}else if(lo.is(e)){let n=Oz(e,r,t);return kt.set(e,n),n}else if(Un.is(e)){let n=dF(e,r);return kt.set(e,n),n}else if(Rr.is(e)){let n=mF(e,r);return kt.set(e,n),n}else if(da.is(e)){let n=fF(e);return kt.set(e,n),n}else if(_o.is(e)){let n=[e.id];return kt.set(e,n),n}else return[]}}async function gu(e,r,t){if(kt.has(e))return kt.get(e);if(Ml.is(e)){let n=await Az(e,r,t);return kt.set(e,n),n}else if(ds.is(e)){let n=await Ky(e,r,t);return kt.set(e,n),n}else if(ge.is(e)){let n=await Ky(e,r,t);return kt.set(e,n),n}else if(uo.is(e)){let n=await Ky(e,r,t);return kt.set(e,n),n}else if(yn.is(e)){let n=lF(e,r);return kt.set(e,n),n}else if(Lo.is(e)){let n=cF(e,r);return kt.set(e,n),n}else if(Cr.is(e)){let n=pF(e,r);return kt.set(e,n),n}else if(lo.is(e)){let n=await Bz(e,r,t);return kt.set(e,n),n}else if(Un.is(e)){let n=dF(e,r);return kt.set(e,n),n}else{if(Rr.is(e))return mF(e,r);if(da.is(e)){let n=fF(e);return kt.set(e,n),n}else if(_o.is(e)){let n=[e.id];return kt.set(e,n),n}else return[]}}function hF(e,r,t){let n=e.features[0]?.properties.id,o=r[0];if(r.length>1){for(let i of r)if((t.get(i)??[]).includes(n)){o=i;break}}return o}function gF(e,r,t){let n=e.features[e.features.length-1]?.properties.id,o=r[0];if(r.length>1){for(let i of r)if((t.get(i)??[]).includes(n)){o=i;break}}return o}var kl,qy,fd=class{constructor({nodes:r,geojsonCollection:t,connections:n,groupBy:o,multiplicativeDistanceWeightScaling:i,flagDeclarations:s}){m(this,"navigator");m(this,"connections");m(this,"getDirections",async(r,t,n,o)=>{let i=new Map,s=new Map;for(let f of r)i.set(f,await gu(f,o,o.enterpriseMode));for(let f of t)s.set(f,await gu(f,o,o.enterpriseMode));let{originIds:u,destinationNodeIds:l,featureToNodeIdsMap:c,earlyReturnNodeId:d}=this.processTargets(i,s,o);return d?a(this,kl).call(this,r,t,[d],[d],n,o,c):a(this,kl).call(this,r,t,u,l,n,o,c)});m(this,"getDirectionsSync",(r,t,n,o)=>{let i=new Map(r.map(f=>[f,md(f,o,o.enterpriseMode)])),s=new Map(t.map(f=>[f,md(f,o,o.enterpriseMode)])),{originIds:u,destinationNodeIds:l,featureToNodeIdsMap:c,earlyReturnNodeId:d}=this.processTargets(i,s,o);return d?a(this,kl).call(this,r,t,[d],[d],n,o,c):a(this,kl).call(this,r,t,u,l,n,o,c)});C(this,kl,(r,t,n,o,i,s,u)=>{let l=this.getDisabledConnectionNodeIds(i.accessible).filter(E=>!n.includes(E)&&!o.includes(E)),c=new Map,d={...i.connectionIdWeightMap};for(let E of i.excludedConnections)d[E.id]=1/0;for(let E in d){let v=s.getById("connection",E);v&&a(this,qy).call(this,v,d[E],c)}let f=this.navigator.getDirections({zones:i.zones.map(E=>({geometry:E.geometry,cost:E.cost,map:E.floor?.id})),originIds:n,destinationNodeIds:o,disabledConnectionNodeIds:l,simplify:{enabled:i.smoothing.enabled,bufferRadius:i.smoothing.radius},overrideEdgeWeights:c,multiplicativeDistanceWeightScaling:!s.enterpriseMode});this.addCoordinateDirections(f,r,t);let h=hF(f,r,u),b=gF(f,t,u),I=new hu(f,s,h,b);if(!(I.distance===0&&new Set([...n,...o]).size===n.length+o.length))return I});m(this,"getDisabledConnectionNodeIds",r=>r===!1?[]:this.connections.reduce((t,n)=>n.accessible?t:t.concat(n.nodes),[]));C(this,qy,(r,t,n)=>{if(r.nodes.length<2)return;let o=new Set(r.nodes.map(i=>i.id));for(let i of r.nodes){let s=this.navigator.graph.edges[i.id];if(s)for(let u of s)o.has(u.destination.properties.id)&&n.set(u,t)}});m(this,"addCoordinateDirections",(r,[t],[n])=>{if(r.features.length){if(ge.is(t)){let o=this.createDirectionFeature(t,this.navigator.getAngle([t.longitude,t.latitude],r.features[0].geometry.coordinates),this.navigator.getDistance([t.longitude,t.latitude],r.features[0].geometry.coordinates));r.features.splice(0,0,o)}if(ge.is(n)){let o=this.createDirectionFeature(n,0,0),i=r.features[r.features.length-1];i.properties.distance=this.navigator.getDistance(i.geometry.coordinates,[n.longitude,n.latitude]),i.properties.angle=this.navigator.getAngle(i.geometry.coordinates,[n.longitude,n.latitude]),r.features.push(o)}}});m(this,"createDirectionFeature",(r,t,n)=>({type:"Feature",geometry:{type:"Point",coordinates:[r.longitude,r.latitude]},properties:{groupBy:r.floorId,id:r.id,angle:t,distance:n,edges:[]}}));this.navigator=new dd({nodes:r,geojsonCollection:this.createCollection(t),groupBy:o,multiplicativeDistanceWeightScaling:i,flagDeclarations:s}),this.connections=n}processTargets(r,t,n){let o=[],i=[],s=new Map,u=new Set;for(let[l,c]of r){s.set(l,c);for(let d of c)o.push(d),n.nodesById[d]?.space?.id&&u.add(n.nodesById[d].space.id)}for(let[l,c]of t){s.set(l,c);for(let d of c)if(i.push(d),n.nodesById[d]?.space&&u.has(n.nodesById[d]?.space?.id))return{originIds:o,destinationNodeIds:i,featureToNodeIdsMap:s,earlyReturnNodeId:d}}return{originIds:o,destinationNodeIds:i,featureToNodeIdsMap:s}}createCollection(r){return{type:"FeatureCollection",features:Object.entries(r).reduce((t,[n,o])=>t.concat(o.features.map(i=>(i.properties.map=n,i))),[])}}};kl=new WeakMap,qy=new WeakMap;p();p();p();p();p();p();function yF(e){let r=+this._x.call(null,e),t=+this._y.call(null,e);return bF(this.cover(r,t),r,t,e)}function bF(e,r,t,n){if(isNaN(r)||isNaN(t))return e;var o,i=e._root,s={data:n},u=e._x0,l=e._y0,c=e._x1,d=e._y1,f,h,b,I,E,v,x,D;if(!i)return e._root=s,e;for(;i.length;)if((E=r>=(f=(u+c)/2))?u=f:c=f,(v=t>=(h=(l+d)/2))?l=h:d=h,o=i,!(i=i[x=v<<1|E]))return o[x]=s,e;if(b=+e._x.call(null,i.data),I=+e._y.call(null,i.data),r===b&&t===I)return s.next=i,o?o[x]=s:e._root=s,e;do o=o?o[x]=new Array(4):e._root=new Array(4),(E=r>=(f=(u+c)/2))?u=f:c=f,(v=t>=(h=(l+d)/2))?l=h:d=h;while((x=v<<1|E)===(D=(I>=h)<<1|b>=f));return o[D]=i,o[x]=s,e}function vF(e){var r,t,n=e.length,o,i,s=new Array(n),u=new Array(n),l=1/0,c=1/0,d=-1/0,f=-1/0;for(t=0;t<n;++t)isNaN(o=+this._x.call(null,r=e[t]))||isNaN(i=+this._y.call(null,r))||(s[t]=o,u[t]=i,o<l&&(l=o),o>d&&(d=o),i<c&&(c=i),i>f&&(f=i));if(l>d||c>f)return this;for(this.cover(l,c).cover(d,f),t=0;t<n;++t)bF(this,s[t],u[t],e[t]);return this}p();function xF(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var t=this._x0,n=this._y0,o=this._x1,i=this._y1;if(isNaN(t))o=(t=Math.floor(e))+1,i=(n=Math.floor(r))+1;else{for(var s=o-t||1,u=this._root,l,c;t>e||e>=o||n>r||r>=i;)switch(c=(r<n)<<1|e<t,l=new Array(4),l[c]=u,u=l,s*=2,c){case 0:o=t+s,i=n+s;break;case 1:t=o-s,i=n+s;break;case 2:o=t+s,n=i-s;break;case 3:t=o-s,n=i-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=t,this._y0=n,this._x1=o,this._y1=i,this}p();function IF(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}p();function EF(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}p();p();function Nr(e,r,t,n,o){this.node=e,this.x0=r,this.y0=t,this.x1=n,this.y1=o}function CF(e,r,t){var n,o=this._x0,i=this._y0,s,u,l,c,d=this._x1,f=this._y1,h=[],b=this._root,I,E;for(b&&h.push(new Nr(b,o,i,d,f)),t==null?t=1/0:(o=e-t,i=r-t,d=e+t,f=r+t,t*=t);I=h.pop();)if(!(!(b=I.node)||(s=I.x0)>d||(u=I.y0)>f||(l=I.x1)<o||(c=I.y1)<i))if(b.length){var v=(s+l)/2,x=(u+c)/2;h.push(new Nr(b[3],v,x,l,c),new Nr(b[2],s,x,v,c),new Nr(b[1],v,u,l,x),new Nr(b[0],s,u,v,x)),(E=(r>=x)<<1|e>=v)&&(I=h[h.length-1],h[h.length-1]=h[h.length-1-E],h[h.length-1-E]=I)}else{var D=e-+this._x.call(null,b.data),w=r-+this._y.call(null,b.data),S=D*D+w*w;if(S<t){var F=Math.sqrt(t=S);o=e-F,i=r-F,d=e+F,f=r+F,n=b.data}}return n}p();function SF(e){if(isNaN(d=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var r,t=this._root,n,o,i,s=this._x0,u=this._y0,l=this._x1,c=this._y1,d,f,h,b,I,E,v,x;if(!t)return this;if(t.length)for(;;){if((I=d>=(h=(s+l)/2))?s=h:l=h,(E=f>=(b=(u+c)/2))?u=b:c=b,r=t,!(t=t[v=E<<1|I]))return this;if(!t.length)break;(r[v+1&3]||r[v+2&3]||r[v+3&3])&&(n=r,x=v)}for(;t.data!==e;)if(o=t,!(t=t.next))return this;return(i=t.next)&&delete t.next,o?(i?o.next=i:delete o.next,this):r?(i?r[v]=i:delete r[v],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(n?n[x]=t:this._root=t),this):(this._root=i,this)}function DF(e){for(var r=0,t=e.length;r<t;++r)this.remove(e[r]);return this}p();function TF(){return this._root}p();function wF(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}p();function FF(e){var r=[],t,n=this._root,o,i,s,u,l;for(n&&r.push(new Nr(n,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!e(n=t.node,i=t.x0,s=t.y0,u=t.x1,l=t.y1)&&n.length){var c=(i+u)/2,d=(s+l)/2;(o=n[3])&&r.push(new Nr(o,c,d,u,l)),(o=n[2])&&r.push(new Nr(o,i,d,c,l)),(o=n[1])&&r.push(new Nr(o,c,s,u,d)),(o=n[0])&&r.push(new Nr(o,i,s,c,d))}return this}p();function MF(e){var r=[],t=[],n;for(this._root&&r.push(new Nr(this._root,this._x0,this._y0,this._x1,this._y1));n=r.pop();){var o=n.node;if(o.length){var i,s=n.x0,u=n.y0,l=n.x1,c=n.y1,d=(s+l)/2,f=(u+c)/2;(i=o[0])&&r.push(new Nr(i,s,u,d,f)),(i=o[1])&&r.push(new Nr(i,d,u,l,f)),(i=o[2])&&r.push(new Nr(i,s,f,d,c)),(i=o[3])&&r.push(new Nr(i,d,f,l,c))}t.push(n)}for(;n=t.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}p();function AF(e){return e[0]}function OF(e){return arguments.length?(this._x=e,this):this._x}p();function BF(e){return e[1]}function PF(e){return arguments.length?(this._y=e,this):this._y}function Mf(e,r,t){var n=new r2(r??AF,t??BF,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function r2(e,r,t,n,o,i){this._x=e,this._y=r,this._x0=t,this._y0=n,this._x1=o,this._y1=i,this._root=void 0}function kF(e){for(var r={data:e.data},t=r;e=e.next;)t=t.next={data:e.data};return r}var xn=Mf.prototype=r2.prototype;xn.copy=function(){var e=new r2(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,n;if(!r)return e;if(!r.length)return e._root=kF(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(n=r.source[o])&&(n.length?t.push({source:n,target:r.target[o]=new Array(4)}):r.target[o]=kF(n));return e};xn.add=yF;xn.addAll=vF;xn.cover=xF;xn.data=IF;xn.extent=EF;xn.find=CF;xn.remove=SF;xn.removeAll=DF;xn.root=TF;xn.size=wF;xn.visit=FF;xn.visitAfter=MF;xn.x=OF;xn.y=PF;p();function n2(e,r,t,n=0,o=0,i=0,s=0){if(t===void 0){t=e.root();let l=e.extent();if(l&&([[n,o],[i,s]]=l,r(t,n,o,i,s)))return!0;if(!t)return!1}let u=[[n,o,(i+n)/2,(s+o)/2],[(i+n)/2,o,i,(s+o)/2],[n,(s+o)/2,(i+n)/2,s],[(i+n)/2,(s+o)/2,i,s]];for(let l=0;l<4;l++){let c=t[l];if(c){let[d,f,h,b]=u[l];r(c,d,f,h,b)||n2(e,r,c,d,f,h,b)}}return!1}var _F=1e3,Pz=.1,kz=5,_z=1.5,vi,Af,e1,LF,zn,_l,Qy=class{constructor(r,t){C(this,e1);C(this,vi,{});C(this,Af,new Map);m(this,"getMaxSearchRadiusForFloorId",(r,t)=>{let n=a(this,Af).get(a(this,zn).mapName)?.get(t);if(n)return n;let o=this.getNodeTreeByTypeAndFloorId(r,a(this,zn).mapName,t);if(typeof o.extent=="function")if(o.extent()){let[[i,s],[u,l]]=o.extent(),c=u-i,d=l-s;n=Math.max(c,d)}else n=_F;else n=_F;return a(this,Af).set(a(this,zn).mapName,new Map([[t,n]])),n});C(this,zn);C(this,_l);T(this,zn,r),T(this,_l,t)}searchWithIncludedIds(r,t,n,o,i,s,u=!1,l=1/0){let c=this.getNodeTreeByTypeAndFloorId(t,n,o),d=new Set,f=[],h=kz,b=Math.max(s,this.getMaxSearchRadiusForFloorId(t,o));for(;f.length<l&&h<=b;){let I=z(this,e1,LF).call(this,r,c,i,h,s,d);I.sort((E,v)=>E.distance-v.distance);for(let E of I){if(f.length>=l)break;u?a(this,zn).directions.navigator.hasLineOfSight(r,E.node.geometry.coordinates,o,Pz)&&f.push(E):f.push(E)}h=h*_z}return f}getNodeTreeByTypeAndFloorId(r,t,n){if(a(this,vi)[r]||(a(this,vi)[r]={}),a(this,vi)[r][t]?.[n])return a(this,vi)[r][t][n];a(this,vi)[r][t]||(a(this,vi)[r][t]={}),a(this,vi)[r][t][n]=Mf();let o=a(this,vi)[r][t][n];o.x(s=>a(this,_l).call(this,s.geometry.coordinates).x),o.y(s=>a(this,_l).call(this,s.geometry.coordinates).y);let i=[];switch(r){case"space":i=a(this,zn).mvfSpacesByFloorId[n].flatMap(u=>u.properties.destinationNodes).map(u=>{let l=a(this,zn).mvfNodesById[u];return l?{...l,properties:{id:l.properties.id,parentId:l.properties.space[0]}}:null});break;case"node":i=a(this,zn).mvfNodesByFloorId[n]?.filter(u=>u.properties.neighbors.length>0)||[];break;case"point-of-interest":i=a(this,zn).mvfPoisByFloorId[n]||[];break;case"door":i=a(this,zn).mvfEntrancesByFloorId[n]||[];break;case"annotation":i=a(this,zn).mvfAnnotationsByFloorId[n]||[];break}return i?.length>0&&o.addAll(i),o}};vi=new WeakMap,Af=new WeakMap,e1=new WeakSet,LF=function(r,t,n,o,i,s){let{x:u,y:l}=a(this,_l).call(this,r),c=u-o,d=u+o,f=l-o,h=l+o,b=[];return n2(t,(I,E,v,x,D)=>{let w=E>=d||v>=h||x<c||D<f;if("data"in I){let S=I.data,F=S.properties.parentId||S.properties.id;if(n.includes(F)&&!s.has(F)){s.add(F);let P=go(r,S.geometry.coordinates);P<=i&&b.push({node:S,distance:P})}}return w}),b},zn=new WeakMap,_l=new WeakMap;import Ll from"zod";var hd=50,RF=111319.9,o2=1,i2=!1,NF=Ll.object({limit:Ll.enum(["same-floor","same-elevation"]).optional(),mode:Ll.enum(["travel-distance","absolute-distance"]).optional(),lineOfSight:Ll.boolean().optional().or(Ll.literal("auto")),maxDistance:Ll.number().optional(),maxResults:Ll.number().optional()}),$F={lineOfSight:i2,mode:"travel-distance",maxDistance:hd,limit:"same-floor",maxResults:o2},lr,Bf,t1,Pf,a2,gd,r1,n1,Of=class{constructor(r){C(this,Pf);C(this,lr);C(this,Bf);C(this,t1,([r,t])=>{let[n,o]=[a(this,lr).mapCenter.longitude,a(this,lr).mapCenter.latitude],i=RF,s=RF*Math.cos(t*Math.PI/180),u=(r-n)*s,l=(t-o)*i;return{x:u,y:l}});m(this,"__LEGACY_NEAREST_SYNC",(r,t,n)=>{let o={...$F,...n};try{NF.parse(o)}catch(d){R.error(d);return}let i=zp(r);if(!i)return;let s=z(this,Pf,a2).call(this,i,o),u=[],l={},c=[];for(let d of t){let f=md(d,a(this,lr),a(this,lr).enterpriseMode);if(f)for(let h of f)l[h]||(l[h]=[]),l[h].push(d),c.push(h)}return n?.mode==="absolute-distance"?u=a(this,gd).call(this,i,s,t,o):u=a(this,n1).call(this,r,s,c,l,o),u.sort((d,f)=>d.distance-f.distance)});C(this,gd,(r,t,n,o)=>{let i=[],s=new Set(n.map(u=>u.__type));for(let u of t)for(let l of s){let c=a(this,Bf).searchWithIncludedIds([r.longitude,r.latitude],l,a(this,lr).mapName,u,n.filter(d=>d.__type===l).map(d=>d.id),o?.maxDistance??hd,o?.lineOfSight==="auto"?i2:o?.lineOfSight,o?.maxResults??1);if(c)for(let d of c)i.push({distance:d.distance,feature:a(this,lr).getById(l,d.node.properties.parentId)||a(this,lr).getById(l,d.node.properties.id)})}return i});C(this,r1,async(r,t,n,o,i)=>{let s=[];for(let u of t){let l,c=0;if(!_o.is(r)){let d=a(this,gd).call(this,r.anchorTarget,[u],a(this,lr).getByType("node").filter(f=>f.floor.id===u),{limit:"same-floor",lineOfSight:i?.lineOfSight??!0,mode:"absolute-distance",maxDistance:i?.maxDistance??hd,maxResults:1});d.length>0&&(l=d[0].feature,c=d[0].distance)}if(l){let d=new Set,f=a(this,lr).directions.navigator.findNearestNodesOnGraph(l.id,(i?.maxDistance??hd)-c,u,n,!1,i?.maxResults??o2);for(let h of f)for(let b of o[h.feature.properties.id])d.has(b.id)||(s.push({distance:h.distance+c,feature:b}),d.add(b.id))}}return s});C(this,n1,(r,t,n,o,i)=>{let s=[];for(let u of t){let l;if(_o.is(r)||(l=this.__LEGACY_NEAREST_SYNC(r,a(this,lr).getByType("node"),{lineOfSight:i?.lineOfSight??!0,mode:"absolute-distance",maxDistance:i?.maxDistance??hd,maxResults:1})?.[0].feature),l){let c=a(this,lr).directions.navigator.findNearestNodesOnGraph(l.id,i?.maxDistance??hd,u,n,i?.lineOfSight==="auto"?i2:i?.lineOfSight,i?.maxResults??o2);for(let d of c)for(let f of o[d.feature.properties.id])s.push({distance:d.distance,feature:f})}}return s});T(this,lr,r),T(this,Bf,new Qy(a(this,lr),a(this,t1)))}async nearest(r,t,n){let o={...$F,...n};try{NF.parse(o)}catch(f){R.error(f);return}let i=zp(r);if(!i)return;let s=z(this,Pf,a2).call(this,i,o),u=[],l={},c=[],d=[];if(n?.mode==="absolute-distance")u=a(this,gd).call(this,i,s,t,o);else{for(let f of t)d.push(gu(f,a(this,lr),a(this,lr).enterpriseMode).then(h=>{if(h)for(let b of h)l[b]||(l[b]=[]),l[b].push(f),c.push(b)}));await Promise.all(d),u=await a(this,r1).call(this,r,s,c,l,o)}return u.sort((f,h)=>f.distance-h.distance)}};lr=new WeakMap,Bf=new WeakMap,t1=new WeakMap,Pf=new WeakSet,a2=function(r,t){let n=r.floorId?[r.floorId]:[];if(r.floorId==null)for(let o of a(this,lr).getByType("floor-stack")){let i=o.defaultFloor;i&&n.push(i.id)}else if(t?.limit==="same-elevation"){let o=a(this,lr).floorsById[r.floorId];if(o){let i=o?.elevation;i&&(n=a(this,lr).getByType("floor-stack").map(s=>s.floors.find(u=>u.elevation===i)?.id).filter(Boolean))}}return n},gd=new WeakMap,r1=new WeakMap,n1=new WeakMap;p();p();var kf,o1=class{constructor(r){C(this,kf);T(this,kf,r||[])}get raw(){return a(this,kf)}};kf=new WeakMap;var qr,le,Mt,yd=class yd extends Er{constructor(t,n){super(n.mvfData.id);m(this,"__type",yd.__type);m(this,"id","loc_");m(this,"name","");m(this,"externalId");m(this,"description");m(this,"logo");m(this,"phone");m(this,"social",[]);m(this,"images",[]);m(this,"links",[]);m(this,"website");m(this,"icon");C(this,qr);C(this,le,{});C(this,Mt);T(this,qr,t),T(this,Mt,n.mvfData);for(let o in n.mvfData)o==="links"?this.links=n.mvfData.links.map(i=>new pl({mvfData:i})):o==="pictures"?this.images=n.mvfData.pictures.map(i=>i.url?new ml({mvfData:{...i,url:i.url??""},mapData:a(this,qr)}):void 0).filter(i=>i!=null):o==="website"?n.mvfData.website&&(this.website=new pl({mvfData:n.mvfData.website})):o==="icon"?n.mvfData.icon&&(this.icon=new ml({mvfData:{url:n.mvfData.icon},mapData:a(this,qr)})):Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),o)||Object.defineProperty(this,o,{enumerable:!0,get(){return a(this,Mt)[o]}})}static is(t){return t.__type===yd.__type}get spaces(){if(a(this,le).spaces)return a(this,le).spaces;if(a(this,Mt).spaces==null)return a(this,le).spaces=[],a(this,le).spaces;a(this,le).spaces=[];for(let t=0;t<a(this,Mt).spaces.length;t++){let n=a(this,qr).getById("space",a(this,Mt).spaces[t].id);n&&a(this,le).spaces.push(n)}return a(this,le).spaces}get points(){if(a(this,le).points)return a(this,le).points;if(a(this,Mt).spaces==null)return a(this,le).points=[],a(this,le).points;a(this,le).points=[];for(let t=0;t<a(this,Mt).spaces.length;t++){let n=a(this,qr).getById("point-of-interest",a(this,Mt).spaces[t].id);n&&a(this,le).points.push(n)}return a(this,le).points}get doors(){if(a(this,le).doors)return a(this,le).doors;if(a(this,Mt).entrances==null)return a(this,le).doors=[],a(this,le).doors;a(this,le).doors=[];for(let t=0;t<a(this,Mt).entrances.length;t++){let n=a(this,qr).getById("door",a(this,Mt).entrances[t].id);n&&a(this,le).doors.push(n)}return a(this,le).doors}get connections(){if(a(this,le).connections)return a(this,le).connections;if(a(this,Mt).connections==null)return a(this,le).connections=[],a(this,le).connections;let t=new Set;for(let n=0;n<a(this,Mt).connections.length;n++){let o=a(this,Mt).connections[n],i=a(this,qr).mvfConnectionsById[o],u=(i==null?[]:i.nodes).map(l=>a(this,qr).getById("node",l)).filter(Boolean);for(let l of u){if(l==null)continue;let c=pa([l.coordinate.longitude,l.coordinate.latitude]),f=(a(this,qr).connectionSpaceIdsByLatLon[c]??[]).map(h=>a(this,qr).connectionsById[h]).filter(h=>h!=null);for(let h of f)t.add(h)}}return a(this,le).connections=Array.from(t),a(this,le).connections}get annotations(){if(a(this,le).annotations)return a(this,le).annotations;if(a(this,Mt).annotations==null)return a(this,le).annotations=[],a(this,le).annotations;a(this,le).annotations=[];for(let t=0;t<a(this,Mt).annotations.length;t++){let n=a(this,qr).getById("annotation",a(this,Mt).annotations[t].id);n&&a(this,le).annotations.push(n)}return a(this,le).annotations}get categories(){return a(this,le).categories?a(this,le).categories:a(this,Mt).categories==null?(a(this,le).categories=[],a(this,le).categories):(a(this,le).categories=a(this,Mt).categories.map(t=>a(this,qr).getById("location-category",t)).filter(t=>t!=null),a(this,le).categories)}get mapObjects(){return a(this,le).mapObjects?a(this,le).mapObjects:a(this,Mt).obstructions==null?(a(this,le).mapObjects=[],a(this,le).mapObjects):(a(this,le).mapObjects=a(this,Mt).obstructions.map(t=>a(this,qr).getById("object",t.id)).filter(t=>t!=null),a(this,le).mapObjects)}get areas(){return a(this,le).areas?a(this,le).areas:a(this,Mt).areas==null?(a(this,le).areas=[],a(this,le).areas):(a(this,le).areas=a(this,Mt).areas.map(t=>a(this,qr).getById("area",t.id)).filter(t=>t!=null),a(this,le).areas)}get focusTarget(){if(a(this,le).focusTarget)return a(this,le).focusTarget;let t=[];for(let n of this.spaces)t.push(n);for(let n of this.connections)t.push(...n.coordinates);for(let n of this.doors)t.push(n.focusTarget);for(let n of this.mapObjects)t.push(n.focusTarget);for(let n of this.annotations)t.push(n.focusTarget);for(let n of this.points)t.push(n.focusTarget);for(let n of this.areas)t.push(n.focusTarget);return a(this,le).focusTarget=t,t}get openingHours(){return a(this,le).openingHours?a(this,le).openingHours:(a(this,le).openingHours=new o1(a(this,Mt).openingHoursSpecification??[]),a(this,le).openingHours)}get navigationTarget(){if(a(this,le).navigationTarget)return a(this,le).navigationTarget;let t=[];for(let n of this.spaces)t.push(n);for(let n of this.connections)t.push(...n.coordinates);for(let n of this.doors)t.push(n.focusTarget);for(let n of this.mapObjects)t.push(n.focusTarget);for(let n of this.annotations)t.push(n.focusTarget);for(let n of this.points)t.push(n.focusTarget);return a(this,le).navigationTarget=t,t}toJSON(){return{__type:yd.__type,id:this.id,name:this.name}}};qr=new WeakMap,le=new WeakMap,Mt=new WeakMap,m(yd,"__type","location-profile");var s2=yd,Ml=s2;p();var yu,Vn,Rl,bd=class bd extends Er{constructor(t,n){super(n.mvfData.id);m(this,"__type",bd.__type);m(this,"id","cat_");m(this,"name","");m(this,"icon","");C(this,yu);C(this,Vn,{});C(this,Rl);T(this,yu,t),T(this,Rl,n.mvfData);for(let o in n.mvfData)Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this),o)||Object.defineProperty(this,o,{enumerable:!0,get(){return a(this,Rl)[o]}})}static is(t){return t.__type===bd.__type}get parent(){return a(this,Vn).parent?a(this,Vn).parent:(a(this,Vn).parent=a(this,Rl).parent?a(this,yu).getById("location-category",a(this,Rl).parent):void 0,a(this,Vn).parent)}get children(){return a(this,Vn).children?a(this,Vn).children:(a(this,Vn).children=a(this,yu).locationCategoriesByParentId[this.id]||[],a(this,Vn).children)}get locationProfiles(){if(a(this,Vn).locationProfiles)return a(this,Vn).locationProfiles;let t=[];for(let n of a(this,yu).locationProfilesByCategoryId[this.id]||[]){let o=a(this,yu).getById("location-profile",n.id);o&&t.push(o)}return a(this,Vn).locationProfiles=t,t}toJSON(){return{__type:bd.__type,id:this.id,name:this.name}}};yu=new WeakMap,Vn=new WeakMap,Rl=new WeakMap,m(bd,"__type","location-category");var u2=bd,jy=u2;var ve,i1,UF,vd,xd,Nl=class extends Oe{constructor(t,n){super();C(this,i1);m(this,"Analytics");C(this,ve,{});m(this,"Query");m(this,"mvf");m(this,"outdoorViewToken");m(this,"objectEntranceNodeIdsByObstructionId");m(this,"obstructionIdByEntranceId");m(this,"venue");m(this,"tokenManager");m(this,"directions");m(this,"enterpriseMode",!1);m(this,"nodesById");m(this,"spacesById");m(this,"floorsById");m(this,"floorStacksById");m(this,"facadesById");m(this,"facadesBySpaceId");m(this,"connectionsById");m(this,"objectsById");m(this,"doorsById");m(this,"pointsOfInterestById");m(this,"annotationsById");m(this,"areasById");m(this,"locationProfilesById");m(this,"locationCategoriesById");m(this,"locationProfilesByExternalId");m(this,"locationProfilesByCategoryId");m(this,"locationCategoriesByParentId");m(this,"doorsByNodeId");m(this,"mvfAnnotationsById");m(this,"mvfConnectionsById");m(this,"mvfConnectionsByNodeId");m(this,"mvfConnectionIdsByLatLon");m(this,"mvfEntrancesById");m(this,"mvfNodesById");m(this,"mvfObstructionById");m(this,"mvfSpacesById");m(this,"mvfFloorsById");m(this,"mvfFloorStacksById");m(this,"mvfAreasById");m(this,"spacesByExternalId");m(this,"nodesByExternalId");m(this,"objectsByExternalId");m(this,"poisByExternalId");m(this,"floorsByExternalId");m(this,"floorStacksByExternalId");m(this,"doorsByExternalId");m(this,"areasByExternalId");m(this,"connectionSpaceIdsByLatLon",{});m(this,"locationProfilesByAttachedFeatureId",{});m(this,"entranceNodeIdsBySpaceId",{});m(this,"locationsById",{});m(this,"categoriesById",{});m(this,"mvfLocationsByGeometryId",{});m(this,"locationIdsByNodeId",{});m(this,"spaceIdsByNodeId",{});m(this,"objectIdsByNodeId",{});m(this,"connectionsByExternalId",{});m(this,"locationsByExternalId",{});m(this,"categoriesByExternalId",{});m(this,"destinationNodesIdsBySpaceId",{});m(this,"mvfNodesByFloorId");m(this,"mvfSpacesByFloorId");m(this,"mvfPoisByFloorId");m(this,"mvfEntrancesByFloorId");m(this,"mvfAnnotationsByFloorId");m(this,"localePacksUrls");m(this,"currentLanguage");m(this,"languagePacks",{});m(this,"tilesets",{});m(this,"navigationFlags");m(this,"binaryBundle");m(this,"envControl");m(this,"getMapDataOptions");C(this,vd,new ge(0,0,"initializing"));m(this,"propTranslationCache",new Map);C(this,xd);m(this,"__LEGACY_GET_DIRECTIONS_MULTI_DESTINATION_SYNC",(t,n,o)=>this.__LEGACY_GET_DIRECTIONS_SYNC(t,n,{...o,multiDestination:!0}));m(this,"__LEGACY_GET_DIRECTIONS_SYNC",(t,n,o)=>{let{accessible:i=!1,multiDestination:s=!1}=o||{},u=jF(this.enterpriseMode,o),l=o?.zones||[],c={accessible:i,zones:l,smoothing:u,excludedConnections:o?.excludedConnections||[],connectionIdWeightMap:o?.connectionIdWeightMap||{}};if(s&&Array.isArray(n)){let d=Array.isArray(t)?t:[t],f=[];for(let h of n){let b=Array.isArray(h)?h:[h],I=this.directions.getDirectionsSync(d,b,c,this);if(!I){R.error("getDirections failed due to missing directions for one of the segments");return}d=b,f.push(I)}return f}else{let d=Array.isArray(t)?t:[t],f=Array.isArray(n)?n:[n];if(Array.isArray(f[0])){R.error("getDirections does not support multi-destination without multisegment option");return}d[0].id&&f[0].id&&this.Analytics.sendGetDirectionsEvent(d[0].id,f[0].id,i);try{return this.directions.getDirectionsSync(d,f,c,this)}catch(h){R.error("Unable to get directions",h);return}}});m(this,"getDirections",async(t,n,o)=>{let{accessible:i=!1}=o||{},s=jF(this.enterpriseMode,o),u=o?.zones||[],l={accessible:i,zones:u,smoothing:s,excludedConnections:o?.excludedConnections||[],connectionIdWeightMap:o?.connectionIdWeightMap||{}},c=Array.isArray(t)?t:[t],d=Array.isArray(n)?n:[n];if(Array.isArray(d[0])){R.error("getDirections does not support multi-destination without multisegment option");return}c[0].id&&d[0].id&&this.Analytics.sendGetDirectionsEvent(c[0].id,d[0].id,i);try{return this.directions.getDirections(c,d,l,this)}catch(f){R.error("Unable to get directions",f);return}});m(this,"getDirectionsMultiDestination",async(t,n,o)=>Promise.resolve(this.__LEGACY_GET_DIRECTIONS_MULTI_DESTINATION_SYNC(t,n,o)));m(this,"transformImageRequest",async t=>{if(this.enterpriseMode||!this.getMapDataOptions)return{url:t};if(!Aw(t))return{url:t};if(Ow(t))return{url:t};let n=Ly(t);if(!n)return{url:t};try{let i=(await this.tokenManager?.getSasTokensAsync())?.[n.mapId];if(i==null)throw new Error("SAS token not found");let[s]=t.split("?");return{url:`${s}?${i.token}`}}catch(o){return R.error("Failed to append SAS token to image request. Requests for private images may fail.",o),{url:t}}});let o=n?.env??ou();if(this.envControl=o,this.binaryBundle=n?.binaryBundle,this.Analytics=new Bc,this.localePacksUrls=n?.localePacksUrls??{},this.mvf=t,this.outdoorViewToken=n?.outdoorViewToken,this.getMapDataOptions=n?.getMapDataOptions,t["tileset.json"]?.default!=null&&(this.tilesets[t["tileset.json"].default.key]=t["tileset.json"].default,o.updateTileServerBaseUrl(t["tileset.json"].default.url),t["tileset.json"].others!=null))for(let s of t["tileset.json"].others)this.tilesets[s.key]=s;this.navigationFlags=t["navigationFlags.json"]??{},this.enterpriseMode=n?.enterprise??!1,this.tokenManager=n?.tokenManager;let i=$w(t,this);if(this.nodesById=i.nodesById,this.spacesById=i.spacesById,this.floorsById=i.floorsById,this.floorStacksById=i.floorStacksById,this.facadesById=i.facadesById,this.facadesBySpaceId=i.facadesBySpaceId,this.connectionsById=i.connectionsById,this.objectsById=i.objectsById,this.doorsById=i.doorsById,this.pointsOfInterestById=i.poisById,this.annotationsById=i.annotationsById,this.areasById=i.areasById,this.locationProfilesById=i.locationProfilesById,this.locationCategoriesById=i.locationCategoriesById,this.locationProfilesByCategoryId=i.locationProfilesByCategoryId,this.locationCategoriesByParentId=i.locationCategoriesByParentId,this.spacesByExternalId=i.spacesByExternalId,this.nodesByExternalId=i.nodesByExternalId,this.objectsByExternalId=i.objectsByExternalId,this.floorsByExternalId=i.floorsByExternalId,this.locationProfilesByExternalId=i.locationProfilesByExternalId,this.floorStacksByExternalId=i.floorStacksByExternalId,this.poisByExternalId=i.poisByExternalId,this.doorsByExternalId=i.doorsByExternalId,this.areasByExternalId=i.areasByExternalId,this.mvfAnnotationsById=i.mvfAnnotationsById,this.mvfConnectionsById=i.mvfConnectionsById,this.mvfConnectionsByNodeId=i.mvfConnectionsByNodeId,this.mvfConnectionIdsByLatLon=i.mvfConnectionIdsByLatLon,this.mvfEntrancesById=i.mvfEntrancesById,this.mvfNodesById=i.mvfNodesById,this.mvfObstructionById=i.mvfObstructionById,this.mvfSpacesById=i.mvfSpacesById,this.mvfFloorsById=i.mvfFloorsById,this.mvfFloorStacksById=i.mvfFloorStacksById,this.mvfNodesByFloorId=i.mvfNodesByFloorId,this.mvfSpacesByFloorId=i.mvfSpacesByFloorId,this.mvfPoisByFloorId=i.mvfPoisByFloorId,this.mvfEntrancesByFloorId=i.mvfEntrancesByFloorId,this.mvfAnnotationsByFloorId=i.mvfAnnotationsByFloorId,this.mvfAreasById=i.mvfAreasById,this.doorsByNodeId=i.doorsByNodeId,this.objectEntranceNodeIdsByObstructionId=i.objectEntranceNodeIdsByObstructionId,this.obstructionIdByEntranceId=i.obstructionIdByEntranceId,this.connectionSpaceIdsByLatLon=i.connectionIdsByLatLon,this.locationProfilesByAttachedFeatureId=i.locationProfilesByAttachedFeatureId,this.entranceNodeIdsBySpaceId=i.entranceNodeIdsBySpaceId,this.spaceIdsByNodeId=i.spaceIdsByNodeId,this.objectIdsByNodeId=i.objectIdsByNodeId,this.destinationNodesIdsBySpaceId=i.destinationNodesIdsBySpaceId,this.enterpriseMode||_f()){let s=Nw(t,this);if(this.locationsById=s.locationsById,this.categoriesById=s.categoriesById,this.mvfLocationsByGeometryId=s.mvfLocationsByGeometryId,this.locationIdsByNodeId=s.locationIdsByNodeId,this.connectionsByExternalId=s.connectionsByExternalId,this.locationsByExternalId=s.locationsByExternalId,this.categoriesByExternalId=s.categoriesByExternalId,s.venue.name!=null){this.venue=new Wx(this,{mvfData:s.venue});let u={};for(let l in s.mvfLocationsById)u[l]=s.mvfLocationsById[l];for(let l in s.locationInstancesById)u[l]=s.locationInstancesById[l];this.languagePacks[this.venue.defaultLanguage.code]={type:"initial",optimized:{"enterprise-location":u,"enterprise-category":s.mvfCategoriesById,"floor-stack":i.mvfFloorStacksById,floor:i.mvfFloorsById}},n?.languagePacks?.forEach(({language:l,localePack:c})=>{this.languagePacks[l.code]=Cx(c)}),this.currentLanguage=this.venue.defaultLanguage}}this.directions=new fd({nodes:t["node.geojson"],geojsonCollection:this.enterpriseMode&&t.enterprise?t.space:t.obstruction,connections:t["connection.json"],groupBy:"map",multiplicativeDistanceWeightScaling:!this.enterpriseMode,flagDeclarations:t["navigationFlags.json"]}),this.Query=new Of(this)}getEnv(){let t=this;return{get baseUri(){return t.envControl.getBaseUri()},get baseAuthUri(){return t.envControl.getBaseAuthUri()},get analyticsBaseUri(){return t.envControl.getAnalyticsBaseUri()},get tileServerUri(){return t.envControl.getTileServerUri()}}}get mapName(){return this.mvf["manifest.geojson"].features[0].properties.name}get organizationId(){return this.mvf["manifest.geojson"].features[0].properties.org_id??""}get mapCenter(){return a(this,vd).floorId==="initializing"&&T(this,vd,new ge(this.mvf["manifest.geojson"].features[0].geometry.coordinates[1],this.mvf["manifest.geojson"].features[0].geometry.coordinates[0])),a(this,vd)}get naturalBearing(){return this.mvf["manifest.geojson"].features[0].properties.naturalBearing??0}get spaces(){return a(this,ve).spaces==null&&(a(this,ve).spaces=globalThis.Object.values(this.spacesById)),a(this,ve).spaces}get objects(){return a(this,ve).objects==null&&(a(this,ve).objects=globalThis.Object.values(this.objectsById)),a(this,ve).objects}get connections(){return a(this,ve).connections==null&&(a(this,ve).connections=globalThis.Object.values(this.connectionsById)),a(this,ve).connections}get floors(){return a(this,ve).floors==null&&(a(this,ve).floors=globalThis.Object.values(this.floorsById)),a(this,ve).floors}get floorStacks(){return a(this,ve).floorStacks==null&&(a(this,ve).floorStacks=globalThis.Object.values(this.floorStacksById)),a(this,ve).floorStacks}get facades(){return a(this,ve).facades==null&&(a(this,ve).facades=globalThis.Object.values(this.facadesById)),a(this,ve).facades}get doors(){return a(this,ve).doors==null&&(a(this,ve).doors=globalThis.Object.values(this.doorsById)),a(this,ve).doors}get pointsOfInterest(){return a(this,ve).pointsOfInterest==null&&(a(this,ve).pointsOfInterest=globalThis.Object.values(this.pointsOfInterestById)),a(this,ve).pointsOfInterest}get annotations(){return a(this,ve).annotations==null&&(a(this,ve).annotations=globalThis.Object.values(this.annotationsById)),a(this,ve).annotations}get areas(){return a(this,ve).areas==null&&(a(this,ve).areas=globalThis.Object.values(this.areasById)),a(this,ve).areas}get nodes(){return a(this,ve).nodes==null&&(a(this,ve).nodes=globalThis.Object.values(this.nodesById)),a(this,ve).nodes}get locations(){return a(this,ve).locations==null&&(a(this,ve).locations=globalThis.Object.values(this.locationsById)),globalThis.Object.values(this.locationsById)}get categories(){return a(this,ve).categories==null&&(a(this,ve).categories=globalThis.Object.values(this.categoriesById)),globalThis.Object.values(this.categoriesById)}get locationProfiles(){return a(this,ve).locationProfiles==null&&(a(this,ve).locationProfiles=globalThis.Object.values(this.locationProfilesById)),a(this,ve).locationProfiles}get locationCategories(){return a(this,ve).locationCategories==null&&(a(this,ve).locationCategories=globalThis.Object.values(this.locationCategoriesById)),a(this,ve).locationCategories}get mvfFloors(){return a(this,ve).mvfFloors==null&&(a(this,ve).mvfFloors=globalThis.Object.values(this.mvfFloorsById)),a(this,ve).mvfFloors}get mvfFloorStacks(){return a(this,ve).mvfFloorStacks==null&&(a(this,ve).mvfFloorStacks=globalThis.Object.values(this.mvfFloorStacksById)),a(this,ve).mvfFloorStacks}getByType(t){switch(t){case"location-profile":return this.locationProfiles;case"location-category":return this.locationCategories;case"area":return this.areas;case"node":return this.nodes;case"space":return this.spaces;case"door":return this.doors;case"floor":return this.floors;case"floor-stack":return this.floorStacks;case"connection":return this.connections;case"object":return this.objects;case"point-of-interest":return this.pointsOfInterest;case"annotation":return this.annotations;case"enterprise-location":return this.locations;case"enterprise-category":return this.categories;case"enterprise-venue":return this.venue;case"facade":return this.facades;default:return[]}}getById(t,n){let o={"location-profile":this.locationProfilesById,"location-category":this.locationCategoriesById,space:this.spacesById,floor:this.floorsById,"floor-stack":this.floorStacksById,facade:this.facadesById,node:this.nodesById,door:this.doorsById,connection:this.connectionsById,"mvf-connection":u=>z(this,i1,UF).call(this,this.mvfConnectionsById[u]),object:this.objectsById,"point-of-interest":this.pointsOfInterestById,annotation:this.annotationsById,area:this.areasById,"enterprise-location":this.locationsById,"enterprise-category":this.categoriesById},i=u=>{let l=o[u];if(l!=null)return typeof l=="function"?l(n):l[n]},s=()=>{for(let u of Object.keys(o)){let l=i(u);if(l!=null)return l}};return t==="unknown"?s():i(t)}getByExternalId(t,n){switch(t){case"location-profile":return this.locationProfilesByExternalId[n]??[];case"location-category":return[];case"space":return this.spacesByExternalId[n]??[];case"floor":return this.floorsByExternalId[n]??[];case"floor-stack":return this.floorStacksByExternalId[n]??[];case"node":return this.nodesByExternalId[n]??[];case"door":return this.doorsByExternalId[n]??[];case"connection":return this.connectionsByExternalId[n]??[];case"object":return this.objectsByExternalId[n]??[];case"point-of-interest":return this.poisByExternalId[n]??[];case"area":return this.areasByExternalId[n]??[];case"enterprise-location":return this.locationsByExternalId[n]??[];case"enterprise-category":return this.categoriesByExternalId[n]??[];default:return[]}}getMapDataById(t){return this.spacesById[t]??this.floorsById[t]??this.floorStacksById[t]??this.facadesById[t]??this.nodesById[t]??this.doorsById[t]??this.connectionsById[t]??this.objectsById[t]??this.pointsOfInterestById[t]??this.annotationsById[t]??this.areasById[t]}getMVFFeatureById(t,n){switch(t){case"space":return this.mvfSpacesById[n];case"node":return this.mvfNodesById[n];case"obstruction":return this.mvfObstructionById[n];case"floor":return this.mvfFloorsById[n];case"floor-stack":return this.mvfFloorStacksById[n];case"connection":return this.mvfConnectionsById[n];case"entrance":return this.mvfEntrancesById[n];case"annotation":return this.mvfAnnotationsById[n];case"area":return this.mvfAreasById[n];default:throw new Error(`Unknown MVF feature type: ${t}`)}}getMVFFeatureByNodeId(t,n){switch(t){case"connection":return this.mvfConnectionsByNodeId[n];default:throw new Error(`Unsupported MVF feature type: ${t}`)}}getMVFFeatureByType(t){switch(t){case"floor-stack":return this.mvfFloorStacks;case"floor":return this.mvfFloors;default:throw new Error(`Unsupported MVF feature type: ${t}`)}}getPropTranslation(t,n,o,i){if(!this.currentLanguage)return i;let{code:s}=this.currentLanguage,u=this.languagePacks[s]?.optimized?.[t];if(u){let l=u[o];if(l!=null&&l[n]!==void 0){let c=l[n];if(c!=null&&typeof c=="object"){if(typeof i=="object"&&typeof c=="object"&&!Array.isArray(c)){let d=Bh(s+t+o+n.toString());if(this.propTranslationCache.has(d))return this.propTranslationCache.get(d);let f=wf(i,c,["id"]);return this.propTranslationCache.set(d,f),f}return c}return c}}return i}findPreferredLanguage(t){if(!this.venue)return;let n=l2(this.venue,t);return t?.languageCode!=null&&t.languageCode.toLowerCase()!==n.code.toLowerCase()&&R.warn(`Language code "${t.languageCode}" could not be found in the venue. Using "${n.code}" instead.`),n}async changeLanguage(t){let n=t.toLowerCase();if(!n){R.error("Language code must be defined.");return}if(!this.currentLanguage||!this.venue){R.error("Changing the language is not supported for this map.");return}let o=this.currentLanguage.code,i=this.venue?.languages.find(({code:u})=>u.toLowerCase()===n.toLowerCase());if(!i){R.warn(`Language code "${n}" could not be found in the venue.`);return}if(o===i.code)return;let s=this.languagePacks[i.code];if(!s){let u=this.localePacksUrls[i.code];if(!u){R.error(`Locale pack URL not found for language code "${i.code}".`);return}a(this,xd)&&a(this,xd).abort();let l=new AbortController;T(this,xd,l);let c;try{c=await lw(u,{signal:l.signal})}catch(d){R.error(`Failed to download language pack for language code "${i.code}".`,d);return}if(!c||l.signal.aborted)return;s=Cx(c),this.languagePacks[i.code]=s}this.Analytics.sendChangeLanguageEvent({fromLanguage:this.currentLanguage.code}),this.currentLanguage=i,this.publish("language-change",this.currentLanguage)}getDistance(t,n){let o=zp(t),i=zp(n);return go([o.longitude,o.latitude],[i.longitude,i.latitude])}async toJSONBundle({downloadLanguagePacks:t=!0}={}){let n=[];if(t&&this.enterpriseMode){let o=new AbortController;for(let i of this.venue?.languages||[])try{if(this.localePacksUrls[i.code]){let s=await tx(this.localePacksUrls[i.code],{signal:o.signal}),u=await Tp(s);u&&n.push({language:{code:i.code,name:i.name},localePack:u})}}catch(s){R.warn("failed downloading language pack",s)}}return{type:"json",options:{enterprise:this.enterpriseMode},languagePacks:n,main:this.mvf}}async toBinaryBundle({downloadLanguagePacks:t=!0}={}){if(!this.binaryBundle){R.error("binary bundle not found");return}let n=[];if(t&&this.enterpriseMode){let o=new AbortController;for(let i of this.venue?.languages||[])try{if(this.localePacksUrls[i.code]){let s=await tx(this.localePacksUrls[i.code],{signal:o.signal});s&&n.push({language:{code:i.code,name:i.name},localePack:s})}}catch(s){R.warn("failed downloading language pack",s)}}return{type:"binary",options:{enterprise:this.enterpriseMode},languagePacks:n,main:this.binaryBundle}}destroy(){for(let t of globalThis.Object.keys(a(this,ve)))a(this,ve)[t]=null;this.propTranslationCache.clear()}};ve=new WeakMap,i1=new WeakSet,UF=function(t){let n=t?.nodes?.[0],o=this.getById("node",n);if(o==null)return;let i=pa([o.coordinate.longitude,o.coordinate.latitude]);return this.connectionSpaceIdsByLatLon[i]?.map(u=>this.connectionsById[u]).find(u=>u!=null)},vd=new WeakMap,xd=new WeakMap;var jF=(e,r)=>{let t=!e,n=r?.smoothing,i=n!=null?typeof n=="object"?n.enabled??t:n:t,s=typeof n=="object"?n.radius:void 0;return{enabled:i,radius:s??.75}};p();p();p();globalThis.requestIdleCallback=globalThis.requestIdleCallback||function(e){var r=performance.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-r))}})},0)};globalThis.cancelIdleCallback=globalThis.cancelIdleCallback||function(e){clearTimeout(e)};p();p();(function(){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var GF="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAkGBwgHBgkICAgKCgkLDhcPDg0NDhwUFREXIh4jIyEeICAlKjUtJScyKCAgLj8vMjc5PDw8JC1CRkE6RjU7PDn/2wBDAQoKCg4MDhsPDxs5JiAmOTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTk5OTn/wgARCAIABAADAREAAhEBAxEB/8QAGwABAAMBAQEBAAAAAAAAAAAAAAECAwQFBgf/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAP3EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAIAAAJAFAAAAAAAAAAAAAAAAAAAAAAAAABAgAAEgCgAAAAAAAAAAAAAAAAAAAABERLSM1zM4zXMzjMoUIqCCSSS8XNC9mpoaVomharWTQAAAAAAAAAAAAAAAAEREtIoZrnGZkucUKFStQQSTFixdNDStF0TWrmiWqbJoAAAAAAAAAAAAAIgiWkZy4HNLzHLXKcxzpzmFYmRkUKFSCCSSxcuampsbR0HSdK9R1R1HTZvWll0mlAAAAAAAAAAAIiKLnLjHNLynLXKcycxzmNYmJmUKFSCAWLFy5qamxvHQvSdJ0nVHUdFm1aparWKAjNWSKAAAAARBEtYzlyXnjmOSuM4U4q4jjOM5a5k5zAyMjOqFCCCCSSS5c0jU1NzoOk6pew7TtjuO1e0646jezWr2WSaUAAAAAECIqtZco55eY464zhTirhOI5Dks5jAwMTIzqhUqQASWLFzSNTY3Og6V646zsO2O47V7DrjqNzWy9nlZ1c0LlrLEk0EQQVipRczIyMU5q5F4U8+vOPOrgThOOuU5jAxMjMzKpUggigJiSSxY0XQ1Njc6TqjtO49CX0D0T0Y7l7E6JdzU1NEvViSalBAWIqVKLSMjIxOauM4U86vPPOrz04TjrkOYwMTIzKJQqQQCKmBJJYutzQ1Njc6TrOyO475fRPRPQjuXsToXWPn6kkkEkhCkEAgggqVMjlrzzzDy7PMPPrhOQ5jBMqoVIIIAAIAJAAJJJLFzWN16TsO49CPTPUl9Q9A6o1LFiSSSSQpCwQQCCCpVMjlrzzyzy7PMPPrhOM5kwM6zKlQQAAQASAASCxY0NI3XpOw7j0I9M9SX0z0DqjU+UqpQqVIBFgEyixJYuWLFDkrzE8o8yvOONOasipBAAAAAAAAAAABJJY2OiO1fQPUj1T0pewuVKlCCqQsBIUSSSSWLlyTM5K808pPLrzziTnrEqQQAAAAAAAAAAASSWNjojtX0D1I9VfSOuND4uzMzqhQqVIALEli5c1jUuQc1vnp5pwJzVmQQAAAAAAAAAAAAAASSaHTHevpHoHTFjMyM6zKlSpABJJcsaGkamhU5q88804E5qzIIAAAAAAAAAAAAAAJJNDpjvX0j0Dqix8dVDMolSpAqCYElixc0XU0IMjlTlrIqAAAAAAAAAAAAAAAAAWNTqjqXYGZkZpUoQQRSFIsSXLroaGhBkcqctZFQAAAAAAAAAAAAAAAACxqdUdS7EngWQCAAQASACSSSwKlSCAAAAAAAAAAAAAAAAAACSSxYFSCCAACCQACSSSwKlSCAAAAAAAAAAAAAAAAAACSSxYGIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAJAJAJBAAIAIABAAAAAAAAAAAAAAAAAAAABIAJAJAJBAAIAIABAAAAJABAAAAAAAAAJBILEli5Y0LlzQ0Lly5csWLAkgFSChUoUMyhmUMyhQqVKkEEAEAAAAAAAAAkEgsSWLljQuXNDQuXLlyxYsCSAVIKFShQzKGZQzKFCpUqQe+ZmZkUKFCpUEEAAkksWLFzQ0NTU2NzY3Og3NzoNzc2NjU1NS5csSAQVKmZmZGRiYmBgYHOYGBgYGBiZGRkUMypUqQCAASSWLFi5oaGpqbG5sbnQbm50G5ubGxqampcuWJAIIKGZmZGRiYmBgYHOYGBgYGR+jmBzmBzmJiZGZQoQQSSWLmhqbGxudB0nSdJ1HSdR1HSdJ0G5qamhcsWJJJBIIIBUqVKFDIyMDA5jmOU5TlOY5TmOc5znMTEyMyhQggFixc0NTY2NzoOk6TpOo6TqOo6TpOg3NTU0LlixJJIJBAIKkFChQyMjAwOY5jlOU5jnP00yMTnOc5zAwMjMoVIJJLmhqbmx0HQdBubmxqXLkkgAAAAAAAAAAAAAEEFTMzMTEwOc5znMDAyMyhUgkkuaGpsbnQdB0G5ubGpcuSSAAAAAAAAAAAAAAQQVKGZ1gAEEEEFSCACSSxJJJIAAAAAAAAAAAAAAAAAAAAAAABBBBBUggAkkksSSSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQCCpBUqQVIKggAkFiSSxYksSSSSAAAAAAAAAAAAAAAAAAQCCpBUqQVIKggAkFiSSxYksSWBIAAKFiQAAAAAAAAACCpUoUMzIyMzMzMyhQoVKkEEAgkEkklixYuXNDQ0NTQ1NC5cuWJAAAAAAAAAAIKlShQzMjIzMzMzKFChUqQQQCCQSSSWLFyxoXNDQ1NDU0LljUkkAAAAAAAAAAggggEEAgAAAAAAAAAAAAAEkgkkkkkAAAAAAAAAAgggggEAgAAAAAEgEAAAAAAEkgkkuAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADyyCCCCCCCCAQASCSQWJJJJLEkkkkkgkkEgkAEgAAEAAgEAggEEEEEEEFSCCCCCCAQASCSQWJJJJLEkkkkkgkkEgEgEgAAEAAgEAggEEEEEH5AQQQQVBBAIAAJBIJJJLEkkkkliSSSSSQSSCQSAAAQAQQCCCCCCCCCpBBBBBUEEEAgAAkEgkkksSSSSSWJJJJJJBJIJBIAABABBAIIIIIIIIKg/LCAQCACAAAACQCQSCQSASSASCQCQAAAAAAQCAQAQCAQAQQCACAAAACQCQSCQSASSASCQCQAAAAAAQCAQAQCAQfPgAAAAAAAAAAAAAAkAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAgAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/xAApEAAABQUBAQACAwACAwAAAAABAgQFFQMGERQWEhNAUAAgMGCAkKCw/9oACAEBAAECAP8AwTZznOf3mc5/YZE41xVivFyM6i7C8C8C8zMzMzMyDyDyDyDwV4K7ldSuZV5VgVwqZ/SCca4qxXmcjOouwvAvEzMzMzMzMyDyDyDwV4K7ldSuRVwKgrgf88TDWMrO4VHOo61Hao7ndzvB3k7yZ5M8i8i8zMzMzMyDyDyDyV5K8keSPJHmm8U3em70nam603Mi8qotUDfk5GqZUdfUc6jrUdqjvUeDvB3kzyZ5M8i8i8zMzMzMzMg8g8leSvJHkjyR5pvFN4pu9N2pOtNzIvKqLWA39PX+/saplJlh1tRfVcKrlVdKrrVdqrvVdzu53Y7sZ2M6mdRdRdBdJSUk5SUB0B0B1K6kdSOxHam7Unek70nei7UXWi6UXKk40l9NaRWWuB8/75E41zKjraq+q41nOq6VXas7VXeq71Hc7ud2O7GdRdRdZQXSUlJSUlAdCugOpXUjqR2I7U3em70nek70nai60XSk5UnGkvItIrKoCsC0FwLgXAuBbube3ubm7uiuFcZcZaZYdZUWVl1dwruVdzrulZ0qulVzqOR3EzgZeZcZcK0Vm3t7W1tbW1tgrBYC0q0q4q8jgRxpuVJzoulB0oOlBzoOVBworqa0iwi0i0q4FwLQWAr2trZ2trb3RWiuFcZaZadbUW1l1ZwruVd0rulZ0qulVzqOR3E7gZeZeK4VorNzb29ra2tsFe2CwFpVxVxV5HAjjTcqTnRdKDpQdKDnQcqDhRXU1pFhVm/ISUnKSkrLSsrKyspJyUhvitOtrLq69Q4qHGu41nGqvqLjrDKhUDW+nv1nP+Oc+vYVArFUEVEWUl1FfQcU7imckzinX0VxFoLgXyMlJykrLS0tLS0rKSclI74rjraq6uvUuKhxruNdxqr6i46wysVA1vp79Zz/AI5z6A4VArFUEVkWUl1FfQcU7imcUzinX0VxFoLZKTlJWVlpaXl5eWlpWUB0BzBxkDr669SvUr666stqqz1xqes/j5AxahFFJXRWp1yZemX0F5HCQkpOUlZaWlpeXl5aWB2lQdAcwcZE7hWcFLgpXqF1ZbVVnUDU9Z/HyBi1CV6SuitTrky9MvoLyL5AXEXEXIXIXKSkpKSkpIHIHIHIrkVxK4yJnCsvrra6uqpPVE354GJVpKaCtOtoryuEiZxM5C5C5C5SUnJSclJSQOQORXIrkVxBxM4VV9dbXV1VJ6om/PAxKtFTQVp1tFeRwkRWitFYKvb2tra2draBUCsFgLCrSrQWitOsqqT1RN+jAxKtJTTWFWitMtMtFYKzb29ra2tnaBUCsFZVhVpVoLRWnWVFJ6om/RgYlWkpprAW73v36zn++c+gOFQKv1GoJv04GCp9Rq/T36zn++c+gOFT7fUagm/TgYKn1+3/AKEeMefHjx8/n8vl8vn8/Hjx5xj9bjHnx48fP5/L5fL5/Px48ecY/wAvOPxceQIFIKIJgSAiBAVuK2FaitINAM4MwMwMsJCQkJCQkJCwosws4tAtItQtgtot4oRSCm+Hy8ecfi48gQKQUQTAkBECArcVsK1FaQaAZwZgZgZYSEhISEhISFhRZhZxaBaRahbBbRbxQikFN8BpfMWgWozWLaLcKAUWpq62vr/DX19YEoJARAhBvK2laytRGgjORlIyEYiMJLfJbxLdJbhLbJbRLaJbJbZLbAWxzHMcxzHMcxzHMDbBrYNbJraNbRrbPbh7dPbx7fOwHYjsZ2UzMZoM0maxbRbhQCi1NXW19fX19fW1QSAiBCDeVtK1laiNBGYjKRkIxEYSW+S3iW6S3CW2S2iW0S2S2yW2AtgLY5jmOY5jmOY5gbYNbJrZNbRraPbZ7cPbp7ePb52A7EdjOymZjW4e3D26e3j2+ZgMwmYhYxY4SEhISEBjKxlYiMJGAjAS3iW9TtynblO26dtUrap2zTtmnbNO2SW2S3isRWYGkG0EAItTW1/h8Phr6+rp6AtwtQs5mI9vntw9tHtk9s1LZqWzUto9tnts9uHt09vHt8zAZhMxCxixwkJCQkIDGVjKxEYSMBGAlvEt6nblO3Kdt0rap21TtmnbNO2SWyS2yW8ViKzA1A2ggBFqa2v8Ph8NfW1dPRFuFqMzGYjW+e3D20e2T2zUtk9tHto1tCzHYj2+e3T24e3D24a3DW4Nuc5znOc4FuBbhbcLbhLcJblO3CW4S3iMRGcrYVECcKYB+cJBoCjM2maDsZ7fPbp7cPbh7cNbhrcG3Oc5znOcC3C24W3C24S3CW5TtwluEt4jERnK2FRAnCmAfnCQaAoxb/7ePl8NbU09PT1NYKHy8Y/ZePl8NbU09PT1NYKHy8Y/4Z6+g1tjb3d+Rk5SVlZWVlZSTkd8Fu3s/b6es/pvX0Gtsbe7vyMnKSkrKysrKSciC8Fu3s/YKnrP9gqAb8X0NQawqBVCrMrMqMoGuNUTiYf4ICT5/L4/H4fD4fH4hSCmBAAP4AgctUtYqgqoqsqsqoFIVwqAb8X0NQawqBVCrMrMqMoGuNUTiYf4ICT5/L4/H4fD4fH4hSCmBAAP4AgctUtYqgqkqsqsqsFIV/Hn8XHj5/H4a+traurq6mpqampqampqampqampqampqampqamrq62tr/D4/Lx5/Fx4+fx+Gvra2rq6upqampqampqamrq6upqampqampqamrq6utra/w+Py/wCgEzNTc5OTs7PT09PT8/Pz09PT07Ozk3Ng9TMxLy0rKSclJSMhIb+9vbu9u7u7u7u7u729vb2/vyEjJSUnKSstLzEzNTc5OTs7Oz09PT8/Pz09PT07Ozk5NzUzMS8tKyknJSUjISG/v727vbu7u7u7u7u9u729v78hIyUlJykrLS8x0nR9H0fR9H0XRdF0XRdD0PQ9F0XRdF0XRdF0fR9H0nSdJ0vS9L0vTdN03TdP0/T9P0/T9P0/T9P0/T9R0/T9P0/T9P0/TdN03S9L0vS9J0nSdJ0fR9H0XRdF0PRdD0PQ9D0PRdF0XRdF0XR9H0fSdJ0nS9L0vS9N03TdN0/T9P0/T9P0/T9P0/T9P1HT9P0/T9P0/T9N03TdL0vS9L0vSS8tLy0tLS0rKysrKysrKysrKystLS0vLS8vLy8vMTExMTExMzMzMTMzMzM1NTUzMzMzMzMzMzExMTExMS8vLy8vLy8tKy0tKysrKysrKysrKysrLS0tLy0vLy8vLzExMTExMTMzMzEzMzMzNTU1MzMzMzMzMzMxMTExMTEvLy8vnOc5znOc5znOc5znOc5znOc59ZznPr169evXr169evXr169evXr16znOfWc5znOc5znOc5znOc5znOc5znOc59ZznPr169evXr169evXr169evXr16znOfWc5z/9YD//xAArEAEAAgIDAQABBAICAQUAAAAAAVICYgNRYQRBEEBQUzFCIDARYICQoLD/2gAIAQEAAz8A/wDgmhCEI/nYQj+RhjH5ccflxw44YMe0dtmzZs2bNmzZs2bIsjtiwlxy45/Ljn8se0fwuPbjj8uOPy44YQxR2izZs2bNmzZs2bNkWR2xYS45cc/lhP5Y9/wEQwj8sIRD1s2bNmzZs2bNmzZs2bNmzZs2bNmzZs2bNmyLMZYZMZ/KJ/dRDCPywhjCI/LZs2bNmzZs2bNmzZs2bNmzZs2bNmzZs2bNkWYywlhP5RP/ABj9hDGGMIh69bNmzZs2bNmzZsmybJsmybJsmybJsmybJsmybJs2bNmzZs2bNmzZ7+mMsZYyj9hDGGMIj9NmzZs2bNmzZs2bJsmybJsmybJs2TZNk2TZNk2bJs2bNmzZs2bNmzZ6iWMsXr16hiwYMGDBgwYo/T169/T162bNmzZs2TZNk2T2ntPae09pSlKUpSlPae09p7T2mybJsmzZs2bNmz17+nr16hiwYOPtx9uPtx9sO2DBih69evXr1s2bNmzZsmybJsmye09p7T2lKUpSlKU9p7T2ntNk2TZNmzZs2bNmz17+vr1s2bNmzZs2bNmzZs2evXr169bNmye09p7SlKUp/wC6UpSlKe09p7etmzZs9evWzZs2bNmzZs2bNmzZs2bPXr1s9bNmye09p7SlKUp/7pSlKUp7T29bPWz169evWzZs2bNmzZs2bNmzZs2bNmzZs2evU9plM/vJhMJ7T29bNnrZ62bNmzZs2bNmzZs2bNmzZs2bNnr39J7TKZ/eTCYT3+nr162bNnrZs2bJsntNk2TZPabNmzZs2etnr39JlM/wUwmP09etmzZs2bNk2TZNk2TZNk2bNmzZs2bNnv6TKZ/gphMfp69etk9p7T2ntKUpSlKUp7T2nt69e/pMpn+GmH/j9PXr1Pae09pSySlklKU9p7T29evf0mUz/DTCY/T16lP/AHSlKU/xUpSlP/dKUpT/ABUpT/8AQllKWTJl0y6ZdMumXTLpl0y6ZJSn+QlKWTJl0y6ZdMumXTLpl0y6ZJSn/sn9xKWXTLpn0z6Z9M+mXTLplVlVlVlVlVlVlVlVlVlVlRlVlVlRlVlVlVlVlVlVlVl0z6Z9M4/DPpn0z6ZdMkp/byll0y6Z9M+mfTPpn0y6ZVZVZVZVZVZVZVZVZUZVZUZVZVZVZVZVZVZVZVZVZVZdM+mfTOPwz6Z9M+mTJlVlVlVl0yZ9M2fTPpn0z6Z9M+mbPpn0z6Z9M2fTPpl0yqyqyqyqyqyomiaJomiaJomiaJomjRo0aNGjRo0aNGjRNE0TRNE0TRNE0TRNE0ZVZVZVZVZVZVZM+mbPpn0z6Z9M+mfTNn0z6Z9M+mfTPpl0y6ZVZVZVTVlVlRNE0TRlRNE0TRNE0TRo0aNGjRo0aNGjRomiaJomiaJomiaJomqaJqyq0TRNE0TRNE0TVNE1TVNU1TRNE1TVNU0TRNE0TRNGjRo0aNGjRhWHFHTgh88Pmj8Pnj/V89HBRwf1w4f64cNMXFSHFTFxUxcVIcP9cOGkOCkPno+ej55/D55cEuKemHUIo0aNGjRo0TRNE0TRNE0TVNE0TVNE1TVNE1TRNU0TRNE0TRNGjRo0aNGjRhWHFHThh88Pnj8Pnq+ejgo4P64cP9cOKkOKkOKmLipi4aYuH+uHBSHBSHz0fPR88/h88uCXFNWHUIo0aNGjRo4ZcU9MOoRRFGjRo0aNGjRo0aNGjRo0RRhVxR04IcGP4cGP+jij/GEMI/xjCP3+M/5xhxT/AJwhwT/o4Mv9XBk4p6YdQiiKNGjRo0aNGjRo0aNGjRoijGsOKOnBi4Mfw4I/0cUf4whhH+MYR+/xn/OMOKf84Q4J/wBHBP8Ar/zxrDCsOKkOKjhq4auGrhq4auGjipDjpDGsI/k8awwrDipDio4aOGrhq4auGrho4qQ46QxrCP8A0bHcMLQ47w4rw4buCzgs4O3A4HA4XA4HA4HA4O3BZwWcN3Fdx3hhaGNoR/Dx3DC0OO8OK8OG7gs4LODtwOBwOFwOBwOBwODtwWcFnDdxXcd4YWhjaEf88UftoQh4y6ZuRyuVzOZzeudz+uf1z+uf1z+uf1z+uf1zuf1z+uf1z+uf1z+udzR25nM5o7c3rlcrlZsniOkSj9tCEPGXTNyuVy+uZzOb1z+uf1z+uf1z+uf1z+uf1z+udz+uf1z+uf1z+uf1z+ueO3O5nM5vXK5XKzZPEdMUftoYsemHTDpx9OPpxVcVXDVw1cNXDVw0cNHDRw0cNHDRw0cNHDRw0cNHDRw0cNHDRw0cNHDVw1cNXFVxVcVXFVx9OPph0w6Yo/bQxY9MOnH04+nH04quKrhq4auGrhq4aOGjho4aOGjho4aOGkOGkOGkOGjho4aOGjho4aOGjhq4auGriq4quKriq4+nH0w6Ydf+wHgcLhcLicTjYdww7hh3DDuGPcMe4Y9ww7hh3DDuGHcONxuJxOFwuBwOB8753z2fPZ89nz3fNd893zXfPd893z3fP/Y+e757uC75/wCyHz/2Q+f+yHBd893z3fPd893z3fPd893zXfNd893z2fPZ8/b5+3zvncDgcLhcLicTjYdww7hh3DDuGHcMe4Ydww7hh3DDuGHcONxuJxOFwuBwPnfO+d89nz2fPZ893zXfPd813z3fPd893z/2Pnu+e7gu+f8Ash8/9kPn/shwXcF3z3fPd893z3fPd893zXfNd893z2fPZ8/b5+3zvncDdu3bt03bt26bpum6bpum6bt27du3bt26bt26bpum6bpum6bpum6bt03TdN26bpum6bpum7dN03TdN03TdN03TdN03Tdum7dum7dN27dum6bpum6bpum6bpum7du3bt03bpu3bpum6bpum6bpum6bpu3TdN03bpum6bpum6bt03TdN03TdN03TdN03TdN03TduysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysysmzKzKzKybMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrMrJT+2lKUpSlKUpSlKUpSlKUpSlKUpSlKUpSlKUpSn9tKUpSlKUpSlKUpSlKUpSlKUpSlKUpSlKUpT/wDrA//EAB0RAAMBAAMBAQEAAAAAAAAAAAABERIwQFAgkMD/2gAIAQIBAT8A/COlKioqKioqKi+zSoqKioqL59Ro0aKyvpVlZWaNFXiVGkaNFZWV9CsrNGjRpFXepo0V8c69Zo0u1pGilfVnJWaNF+NFXNUaNFfmU0aReamkaNPzNM19VlZWaKysrK/XrKzTNGjRWaKyv+u0/8QAHREBAQACAQUAAAAAAAAAAAAAEQBAUCAQITCQwP/aAAgBAwEBPwD1NkRER07eYiIiNMRERGARERGgIiNAREZRERoCIjiYBERqiIwiI1REcCIiIiIjbkREREREfXZ//9k=";p();p();var zF=!1;function VF(){zF=!0}function HF(){return zF}var a1=class{constructor(r){m(this,"backgroundAlpha",1);m(this,"backgroundColor",new ar);m(this,"width",0);m(this,"height",0);m(this,"options",{});m(this,"renderer");m(this,"enabledLayers",new Set([0,1]));m(this,"handleWebGLContextCreationError",r=>{this.options.onWebGLContextCreationError?.(r)});m(this,"handleWebGLContextLost",r=>{this.options.onWebGLContextLost?.(r)});m(this,"handleWebGLContextRestored",r=>{this.options.onWebGLContextRestored?.(r)});try{this.options=r,HF()?(this.renderer={setSize:()=>{},state:{reset:()=>{}},properties:{get:()=>{}},getSize:()=>({width:window.innerWidth,height:innerHeight}),getDrawingBufferSize:()=>({width:window.innerWidth,height:innerHeight}),getClearAlpha:()=>1,getClearColor:()=>new ar,autoUpdate:!0,shadowMap:{autoUpdate:!0},getContext:()=>({getContextAttributes(){return{alpha:!0,antialias:!1,depth:!0,stencil:!1}}}),readRenderTargetPixelsAsync:()=>Promise.resolve([]),setRenderTarget:()=>{},setClearColor:()=>{},clear:()=>{},render:()=>{},clearStencil:()=>{},clearDepth:()=>{},domElement:document.createElement("canvas"),capabilities:{isWebGL2:!0}},this.renderer.domElement.style.width="1920px",Object.defineProperty(this.renderer.domElement,"clientWidth",{value:1920}),this.renderer.domElement.style.height="1080px",Object.defineProperty(this.renderer.domElement,"clientHeight",{value:1080})):(this.renderer=new p6({canvas:r.canvas,alpha:r.alpha||!1,stencil:!0,antialias:typeof r.antialias=="boolean"?r.antialias:!0,powerPreference:"high-performance",preserveDrawingBuffer:!0}),this.renderer.localClippingEnabled=!0),this.backgroundColor=new ar(r.backgroundColor??"#ffffff"),this.backgroundAlpha=r.backgroundAlpha??1}catch(t){R.error(t),r.onWebGLRendererError&&r.onWebGLRendererError(t)}this.domElement()?.addEventListener("webglcontextlost",this.handleWebGLContextLost),this.domElement()?.addEventListener("webglcontextrestored",this.handleWebGLContextRestored),this.domElement()?.addEventListener("webglcontextcreationerror",this.handleWebGLContextCreationError)}destroy(){this.renderer&&this.renderer.dispose?.(),this.domElement()?.removeEventListener("webglcontextlost",this.handleWebGLContextLost),this.domElement()?.removeEventListener("webglcontextrestored",this.handleWebGLContextRestored),this.domElement()?.removeEventListener("webglcontextcreationerror",this.handleWebGLContextCreationError)}render(r,t){if(this.renderer){this.renderer.state.reset(),t.layers.disableAll();for(let n of this.enabledLayers.values())t.layers.enable(n);this.renderer.clearStencil(),this.renderer.autoClear=!1,this.renderer.setRenderTarget(null),this.renderer.render(r,t),this.renderer.clearDepth(),t.layers.disableAll(),t.layers.enable(yo.ALWAYS_ON_TOP_PATHS),this.renderer.render(r,t),this.renderer.state.reset()}}clear(){this.renderer&&(this.renderer.setClearColor(this.backgroundColor,this.backgroundAlpha),this.renderer.clear())}setBufferSize(r,t){y.env.NODE_ENV==="test"||!this.renderer||(this.width=r,this.height=t,this.renderer.setSize(r,t,!1))}setBackgroundColor(r,t){this.backgroundColor=r,this.backgroundAlpha=t}domElement(){return this.renderer?.domElement}};p();p();var ZF='"use strict";(()=>{var Ja=Object.defineProperty;var us=(e,r,n)=>r in e?Ja(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var pe=(e,r)=>{for(var n in r)Ja(e,n,{get:r[n],enumerable:!0})};var E=(e,r,n)=>us(e,typeof r!="symbol"?r+"":r,n);function Ma(e,r){return r.x+r.w<e.x+e.w&&r.x>e.x&&r.y>e.y&&r.y+r.h<e.y+e.h}function Ba(e,r){let[n,o]=r;return n>=e.x&&n<=e.x+e.w&&o>=e.y&&o<=e.y+e.h}function Ka(e,r){let n=r.x,o=r.y,t=r.x+r.w,i=r.y+r.h,a=e.x,u=e.y,s=e.x+e.w,m=e.y+e.h;return n<s&&a<t&&o<m&&u<i}function Q(e,r){for(let n=0;n<r.length;n++)e.push(r[n])}var U=class{constructor(r,n,o,t,i){E(this,"x");E(this,"y");E(this,"w");E(this,"h");E(this,"userData");this.userData=typeof i>"u"?null:i,this.x=r,this.y=n,this.w=o,this.h=t}contains(r){return r===this?!1:Ma(this,r)}intersects(r){return Ka(this,r)}intersectsPoint(r){return Ba(this,r)}draw(r){r.fillStyle="rgba(123,222,26, 0.8)",r.fillRect(this.x,this.y,this.w,this.h)}};var Ae=class e{constructor(r,n){E(this,"topLeft");E(this,"topRight");E(this,"bottomLeft");E(this,"bottomRight");E(this,"divided",!1);E(this,"boundary");E(this,"capacity",16);E(this,"objects",[]);E(this,"parent");this.parent=n,this.boundary=r}getSize(){return this.divided?this.objects.length+this.topLeft.getSize()+this.topRight.getSize()+this.bottomLeft.getSize()+this.bottomRight.getSize():this.objects.length}subdivide(){let{x:r,y:n,w:o,h:t}=this.boundary;this.topLeft=new e(new U(r,n,o/2,t/2),this),this.topRight=new e(new U(r+o/2,n,o/2,t/2),this),this.bottomLeft=new e(new U(r,n+t/2,o/2,t/2),this),this.bottomRight=new e(new U(r+o/2,n+t/2,o/2,t/2),this),this.divided=!0}queryRect(r){let n=[];if(this.boundary.intersects(r))n.push(...this.objects);else return[];return this.divided&&(Q(n,this.topLeft.queryRect(r)),Q(n,this.topRight.queryRect(r)),Q(n,this.bottomLeft.queryRect(r)),Q(n,this.bottomRight.queryRect(r))),n}queryPoint(r){let n=[];if(this.boundary.intersectsPoint(r))n.push(...this.objects);else return[];return this.divided&&(Q(n,this.topLeft.queryPoint(r)),Q(n,this.topRight.queryPoint(r)),Q(n,this.bottomLeft.queryPoint(r)),Q(n,this.bottomRight.queryPoint(r))),n}insert(r){return(this.parent?!this.boundary.contains(r):!this.boundary.intersects(r))?!1:this.objects.length<this.capacity?(this.objects.push(r),!0):(this.divided||this.subdivide(),(this.topLeft.insert(r)||this.topRight.insert(r)||this.bottomLeft.insert(r)||this.bottomRight.insert(r))===!1&&this.objects.push(r),!0)}drawObjects(r){this.objects.forEach(n=>n.draw(r)),this.divided&&(this.topLeft.drawObjects(r),this.topRight.drawObjects(r),this.bottomLeft.drawObjects(r),this.bottomRight.drawObjects(r))}draw(r){r.rect(this.boundary.x,this.boundary.y,this.boundary.w,this.boundary.h),this.divided&&(this.topLeft.draw(r),this.topRight.draw(r),this.bottomLeft.draw(r),this.bottomRight.draw(r)),r.strokeStyle="black",r.lineWidth=4,r.stroke()}};var Te={};pe(Te,{$brand:()=>zt,$input:()=>to,$output:()=>eo,NEVER:()=>Ar,TimePrecision:()=>io,ZodAny:()=>xc,ZodArray:()=>wc,ZodBase64:()=>xa,ZodBase64URL:()=>ka,ZodBigInt:()=>xt,ZodBigIntFormat:()=>wa,ZodBoolean:()=>yt,ZodCIDRv4:()=>_a,ZodCIDRv6:()=>ya,ZodCUID:()=>fa,ZodCUID2:()=>pa,ZodCatch:()=>Bc,ZodCodec:()=>Ea,ZodCustom:()=>Nr,ZodCustomStringFormat:()=>bt,ZodDate:()=>Or,ZodDefault:()=>Lc,ZodDiscriminatedUnion:()=>Sc,ZodE164:()=>za,ZodEmail:()=>la,ZodEmoji:()=>da,ZodEnum:()=>ht,ZodError:()=>Ed,ZodFile:()=>Ec,ZodFirstPartyTypeKind:()=>Aa,ZodFunction:()=>es,ZodGUID:()=>zr,ZodIPv4:()=>$a,ZodIPv6:()=>ba,ZodISODate:()=>_r,ZodISODateTime:()=>br,ZodISODuration:()=>xr,ZodISOTime:()=>yr,ZodIntersection:()=>jc,ZodIssueCode:()=>Gm,ZodJWT:()=>Ia,ZodKSUID:()=>ha,ZodLazy:()=>Yc,ZodLiteral:()=>Tc,ZodMap:()=>Zc,ZodNaN:()=>Gc,ZodNanoID:()=>ma,ZodNever:()=>zc,ZodNonOptional:()=>Da,ZodNull:()=>_c,ZodNullable:()=>Rc,ZodNumber:()=>_t,ZodNumberFormat:()=>De,ZodObject:()=>Ur,ZodOptional:()=>Za,ZodPipe:()=>Ta,ZodPrefault:()=>Vc,ZodPromise:()=>Hc,ZodReadonly:()=>Wc,ZodRealError:()=>V,ZodRecord:()=>Pa,ZodSet:()=>Dc,ZodString:()=>$t,ZodStringFormat:()=>N,ZodSuccess:()=>Mc,ZodSymbol:()=>$c,ZodTemplateLiteral:()=>qc,ZodTransform:()=>Ac,ZodTuple:()=>Pc,ZodType:()=>k,ZodULID:()=>ga,ZodURL:()=>jr,ZodUUID:()=>ne,ZodUndefined:()=>bc,ZodUnion:()=>ja,ZodUnknown:()=>kc,ZodVoid:()=>Ic,ZodXID:()=>va,_ZodString:()=>sa,_default:()=>Cc,_function:()=>Cm,any:()=>_m,array:()=>Pr,base64:()=>nm,base64url:()=>im,bigint:()=>gm,boolean:()=>hc,catch:()=>Kc,check:()=>Vm,cidrv4:()=>tm,cidrv6:()=>rm,clone:()=>R,codec:()=>Am,coerce:()=>Ra,config:()=>D,core:()=>re,cuid:()=>Wd,cuid2:()=>Xd,custom:()=>Fm,date:()=>xm,decode:()=>ea,decodeAsync:()=>ra,discriminatedUnion:()=>Sm,e164:()=>om,email:()=>Rd,emoji:()=>Kd,encode:()=>Ho,encodeAsync:()=>ta,endsWith:()=>lt,enum:()=>Ua,file:()=>Zm,flattenError:()=>Ke,float32:()=>dm,float64:()=>mm,formatError:()=>Ge,function:()=>Cm,getErrorMap:()=>Xm,globalRegistry:()=>q,gt:()=>ee,gte:()=>C,guid:()=>Ld,hash:()=>lm,hex:()=>sm,hostname:()=>cm,httpUrl:()=>Bd,includes:()=>ct,instanceof:()=>Jm,int:()=>ca,int32:()=>fm,int64:()=>vm,intersection:()=>Oc,ipv4:()=>Hd,ipv6:()=>em,iso:()=>kr,json:()=>Bm,jwt:()=>am,keyof:()=>km,ksuid:()=>Qd,lazy:()=>Qc,length:()=>Ue,literal:()=>Nm,locales:()=>tt,looseObject:()=>wm,lowercase:()=>at,lt:()=>H,lte:()=>G,map:()=>Om,maxLength:()=>Pe,maxSize:()=>Oe,mime:()=>dt,minLength:()=>le,minSize:()=>be,multipleOf:()=>$e,nan:()=>Em,nanoid:()=>Gd,nativeEnum:()=>Um,negative:()=>Do,never:()=>Sa,nonnegative:()=>Eo,nonoptional:()=>Jc,nonpositive:()=>To,normalize:()=>mt,null:()=>yc,nullable:()=>wr,nullish:()=>Dm,number:()=>vc,object:()=>zm,optional:()=>Ir,overwrite:()=>te,parse:()=>Xo,parseAsync:()=>qo,partialRecord:()=>jm,pipe:()=>Sr,positive:()=>Zo,prefault:()=>Fc,preprocess:()=>Km,prettifyError:()=>Wr,promise:()=>Lm,property:()=>Ao,readonly:()=>Xc,record:()=>Nc,refine:()=>ts,regex:()=>ot,regexes:()=>K,registry:()=>Qt,safeDecode:()=>ia,safeDecodeAsync:()=>aa,safeEncode:()=>na,safeEncodeAsync:()=>oa,safeParse:()=>Yo,safeParseAsync:()=>Qo,set:()=>Pm,setErrorMap:()=>Wm,size:()=>it,startsWith:()=>st,strictObject:()=>Im,string:()=>ua,stringFormat:()=>um,stringbool:()=>Mm,success:()=>Tm,superRefine:()=>rs,symbol:()=>$m,templateLiteral:()=>Rm,toJSONSchema:()=>Mo,toLowerCase:()=>pt,toUpperCase:()=>gt,transform:()=>Na,treeifyError:()=>Gr,trim:()=>ft,tuple:()=>Uc,uint32:()=>pm,uint64:()=>hm,ulid:()=>qd,undefined:()=>bm,union:()=>Oa,unknown:()=>Ze,uppercase:()=>ut,url:()=>Md,util:()=>h,uuid:()=>Cd,uuidv4:()=>Vd,uuidv6:()=>Fd,uuidv7:()=>Jd,void:()=>ym,xid:()=>Yd});var re={};pe(re,{$ZodAny:()=>ki,$ZodArray:()=>ji,$ZodAsyncError:()=>W,$ZodBase64:()=>fi,$ZodBase64URL:()=>pi,$ZodBigInt:()=>Kt,$ZodBigIntFormat:()=>bi,$ZodBoolean:()=>Ye,$ZodCIDRv4:()=>li,$ZodCIDRv6:()=>di,$ZodCUID:()=>Hn,$ZodCUID2:()=>ei,$ZodCatch:()=>Bi,$ZodCheck:()=>Z,$ZodCheckBigIntFormat:()=>On,$ZodCheckEndsWith:()=>Vn,$ZodCheckGreaterThan:()=>Lt,$ZodCheckIncludes:()=>Ln,$ZodCheckLengthEquals:()=>Tn,$ZodCheckLessThan:()=>Rt,$ZodCheckLowerCase:()=>An,$ZodCheckMaxLength:()=>Zn,$ZodCheckMaxSize:()=>Pn,$ZodCheckMimeType:()=>Jn,$ZodCheckMinLength:()=>Dn,$ZodCheckMinSize:()=>Un,$ZodCheckMultipleOf:()=>Sn,$ZodCheckNumberFormat:()=>jn,$ZodCheckOverwrite:()=>Mn,$ZodCheckProperty:()=>Fn,$ZodCheckRegex:()=>En,$ZodCheckSizeEquals:()=>Nn,$ZodCheckStartsWith:()=>Cn,$ZodCheckStringFormat:()=>Se,$ZodCheckUpperCase:()=>Rn,$ZodCodec:()=>Qe,$ZodCustom:()=>Hi,$ZodCustomStringFormat:()=>hi,$ZodDate:()=>Si,$ZodDefault:()=>Vi,$ZodDiscriminatedUnion:()=>Pi,$ZodE164:()=>gi,$ZodEmail:()=>Xn,$ZodEmoji:()=>Yn,$ZodEncodeError:()=>ie,$ZodEnum:()=>Ti,$ZodError:()=>Be,$ZodFile:()=>Ai,$ZodFunction:()=>qi,$ZodGUID:()=>Gn,$ZodIPv4:()=>ci,$ZodIPv6:()=>si,$ZodISODate:()=>oi,$ZodISODateTime:()=>ii,$ZodISODuration:()=>ui,$ZodISOTime:()=>ai,$ZodIntersection:()=>Ui,$ZodJWT:()=>vi,$ZodKSUID:()=>ni,$ZodLazy:()=>Qi,$ZodLiteral:()=>Ei,$ZodMap:()=>Zi,$ZodNaN:()=>Ki,$ZodNanoID:()=>Qn,$ZodNever:()=>Ii,$ZodNonOptional:()=>Ji,$ZodNull:()=>xi,$ZodNullable:()=>Ci,$ZodNumber:()=>Bt,$ZodNumberFormat:()=>$i,$ZodObject:()=>$u,$ZodObjectJIT:()=>Oi,$ZodOptional:()=>Li,$ZodPipe:()=>Gi,$ZodPrefault:()=>Fi,$ZodPromise:()=>Yi,$ZodReadonly:()=>Wi,$ZodRealError:()=>L,$ZodRecord:()=>Ni,$ZodRegistry:()=>je,$ZodSet:()=>Di,$ZodString:()=>he,$ZodStringFormat:()=>O,$ZodSuccess:()=>Mi,$ZodSymbol:()=>_i,$ZodTemplateLiteral:()=>Xi,$ZodTransform:()=>Ri,$ZodTuple:()=>Wt,$ZodType:()=>x,$ZodULID:()=>ti,$ZodURL:()=>qn,$ZodUUID:()=>Wn,$ZodUndefined:()=>yi,$ZodUnion:()=>Gt,$ZodUnknown:()=>zi,$ZodVoid:()=>wi,$ZodXID:()=>ri,$brand:()=>zt,$constructor:()=>c,$input:()=>to,$output:()=>eo,Doc:()=>qe,JSONSchema:()=>fc,JSONSchemaGenerator:()=>vt,NEVER:()=>Ar,TimePrecision:()=>io,_any:()=>wo,_array:()=>Ro,_base64:()=>gr,_base64url:()=>vr,_bigint:()=>bo,_boolean:()=>ho,_catch:()=>Od,_check:()=>mc,_cidrv4:()=>fr,_cidrv6:()=>pr,_coercedBigint:()=>_o,_coercedBoolean:()=>$o,_coercedDate:()=>Uo,_coercedNumber:()=>lo,_coercedString:()=>no,_cuid:()=>ar,_cuid2:()=>ur,_custom:()=>Co,_date:()=>Po,_decode:()=>Pt,_decodeAsync:()=>Nt,_default:()=>wd,_discriminatedUnion:()=>pd,_e164:()=>hr,_email:()=>Ht,_emoji:()=>ir,_encode:()=>Ot,_encodeAsync:()=>Ut,_endsWith:()=>lt,_enum:()=>_d,_file:()=>Lo,_float32:()=>fo,_float64:()=>po,_gt:()=>ee,_gte:()=>C,_guid:()=>rt,_includes:()=>ct,_int:()=>mo,_int32:()=>go,_int64:()=>yo,_intersection:()=>gd,_ipv4:()=>dr,_ipv6:()=>mr,_isoDate:()=>ao,_isoDateTime:()=>oo,_isoDuration:()=>co,_isoTime:()=>uo,_jwt:()=>$r,_ksuid:()=>lr,_lazy:()=>Zd,_length:()=>Ue,_literal:()=>xd,_lowercase:()=>at,_lt:()=>H,_lte:()=>G,_map:()=>$d,_max:()=>G,_maxLength:()=>Pe,_maxSize:()=>Oe,_mime:()=>dt,_min:()=>C,_minLength:()=>le,_minSize:()=>be,_multipleOf:()=>$e,_nan:()=>No,_nanoid:()=>or,_nativeEnum:()=>yd,_negative:()=>Do,_never:()=>jo,_nonnegative:()=>Eo,_nonoptional:()=>Sd,_nonpositive:()=>To,_normalize:()=>mt,_null:()=>Io,_nullable:()=>Id,_number:()=>so,_optional:()=>zd,_overwrite:()=>te,_parse:()=>ke,_parseAsync:()=>ze,_pipe:()=>Pd,_positive:()=>Zo,_promise:()=>Dd,_property:()=>Ao,_readonly:()=>Ud,_record:()=>hd,_refine:()=>Vo,_regex:()=>ot,_safeDecode:()=>Dt,_safeDecodeAsync:()=>Et,_safeEncode:()=>Zt,_safeEncodeAsync:()=>Tt,_safeParse:()=>Ie,_safeParseAsync:()=>we,_set:()=>bd,_size:()=>it,_startsWith:()=>st,_string:()=>ro,_stringFormat:()=>Ne,_stringbool:()=>Jo,_success:()=>jd,_superRefine:()=>Fo,_symbol:()=>ko,_templateLiteral:()=>Nd,_toLowerCase:()=>pt,_toUpperCase:()=>gt,_transform:()=>kd,_trim:()=>ft,_tuple:()=>vd,_uint32:()=>vo,_uint64:()=>xo,_ulid:()=>cr,_undefined:()=>zo,_union:()=>fd,_unknown:()=>So,_uppercase:()=>ut,_url:()=>nt,_uuid:()=>er,_uuidv4:()=>tr,_uuidv6:()=>rr,_uuidv7:()=>nr,_void:()=>Oo,_xid:()=>sr,clone:()=>R,config:()=>D,decode:()=>Ts,decodeAsync:()=>As,encode:()=>Ds,encodeAsync:()=>Es,flattenError:()=>Ke,formatError:()=>Ge,globalConfig:()=>Re,globalRegistry:()=>q,isValidBase64:()=>mi,isValidBase64URL:()=>pu,isValidJWT:()=>gu,locales:()=>tt,parse:()=>St,parseAsync:()=>jt,prettifyError:()=>Wr,regexes:()=>K,registry:()=>Qt,safeDecode:()=>Ls,safeDecodeAsync:()=>Vs,safeEncode:()=>Rs,safeEncodeAsync:()=>Cs,safeParse:()=>Xr,safeParseAsync:()=>qr,toDotPath:()=>Ya,toJSONSchema:()=>Mo,treeifyError:()=>Gr,util:()=>h,version:()=>Bn});var Ar=Object.freeze({status:"aborted"});function c(e,r,n){function o(u,s){var m;Object.defineProperty(u,"_zod",{value:u._zod??{},enumerable:!1}),(m=u._zod).traits??(m.traits=new Set),u._zod.traits.add(e),r(u,s);for(let f in a.prototype)f in u||Object.defineProperty(u,f,{value:a.prototype[f].bind(u)});u._zod.constr=a,u._zod.def=s}let t=n?.Parent??Object;class i extends t{}Object.defineProperty(i,"name",{value:e});function a(u){var s;let m=n?.Parent?new i:this;o(m,u),(s=m._zod).deferred??(s.deferred=[]);for(let f of m._zod.deferred)f();return m}return Object.defineProperty(a,"init",{value:o}),Object.defineProperty(a,Symbol.hasInstance,{value:u=>n?.Parent&&u instanceof n.Parent?!0:u?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}var zt=Symbol("zod_brand"),W=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},ie=class extends Error{constructor(r){super(`Encountered unidirectional transform during encode: ${r}`),this.name="ZodEncodeError"}},Re={};function D(e){return e&&Object.assign(Re,e),Re}var h={};pe(h,{BIGINT_FORMAT_RANGES:()=>Kr,Class:()=>Lr,NUMBER_FORMAT_RANGES:()=>Br,aborted:()=>se,allowsEval:()=>Vr,assert:()=>ms,assertEqual:()=>cs,assertIs:()=>ls,assertNever:()=>ds,assertNotEqual:()=>ss,assignProp:()=>ae,base64ToUint8Array:()=>Wa,base64urlToUint8Array:()=>Os,cached:()=>ye,captureStackTrace:()=>wt,cleanEnum:()=>js,cleanRegex:()=>Ve,clone:()=>R,cloneDef:()=>ps,createTransparentProxy:()=>_s,defineLazy:()=>I,esc:()=>It,escapeRegex:()=>X,extend:()=>ks,finalizeIssue:()=>J,floatSafeRemainder:()=>Cr,getElementAtPath:()=>gs,getEnumValues:()=>Ce,getLengthableOrigin:()=>Me,getParsedType:()=>bs,getSizableOrigin:()=>Je,hexToUint8Array:()=>Us,isObject:()=>ge,isPlainObject:()=>ce,issue:()=>xe,joinValues:()=>l,jsonStringifyReplacer:()=>_e,merge:()=>Is,mergeDefs:()=>ue,normalizeParams:()=>v,nullish:()=>oe,numKeys:()=>$s,objectClone:()=>fs,omit:()=>xs,optionalKeys:()=>Mr,partial:()=>ws,pick:()=>ys,prefixIssues:()=>F,primitiveTypes:()=>Jr,promiseAllObject:()=>vs,propertyKeyTypes:()=>Fe,randomString:()=>hs,required:()=>Ss,safeExtend:()=>zs,shallowClone:()=>Fr,stringifyPrimitive:()=>p,uint8ArrayToBase64:()=>Xa,uint8ArrayToBase64url:()=>Ps,uint8ArrayToHex:()=>Ns,unwrapMessage:()=>Le});function cs(e){return e}function ss(e){return e}function ls(e){}function ds(e){throw new Error}function ms(e){}function Ce(e){let r=Object.values(e).filter(o=>typeof o=="number");return Object.entries(e).filter(([o,t])=>r.indexOf(+o)===-1).map(([o,t])=>t)}function l(e,r="|"){return e.map(n=>p(n)).join(r)}function _e(e,r){return typeof r=="bigint"?r.toString():r}function ye(e){return{get value(){{let n=e();return Object.defineProperty(this,"value",{value:n}),n}throw new Error("cached value already set")}}}function oe(e){return e==null}function Ve(e){let r=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(r,n)}function Cr(e,r){let n=(e.toString().split(".")[1]||"").length,o=r.toString(),t=(o.split(".")[1]||"").length;if(t===0&&/\\d?e-\\d?/.test(o)){let s=o.match(/\\d?e-(\\d?)/);s?.[1]&&(t=Number.parseInt(s[1]))}let i=n>t?n:t,a=Number.parseInt(e.toFixed(i).replace(".","")),u=Number.parseInt(r.toFixed(i).replace(".",""));return a%u/10**i}var Ga=Symbol("evaluating");function I(e,r,n){let o;Object.defineProperty(e,r,{get(){if(o!==Ga)return o===void 0&&(o=Ga,o=n()),o},set(t){Object.defineProperty(e,r,{value:t})},configurable:!0})}function fs(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function ae(e,r,n){Object.defineProperty(e,r,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ue(...e){let r={};for(let n of e){let o=Object.getOwnPropertyDescriptors(n);Object.assign(r,o)}return Object.defineProperties({},r)}function ps(e){return ue(e._zod.def)}function gs(e,r){return r?r.reduce((n,o)=>n?.[o],e):e}function vs(e){let r=Object.keys(e),n=r.map(o=>e[o]);return Promise.all(n).then(o=>{let t={};for(let i=0;i<r.length;i++)t[r[i]]=o[i];return t})}function hs(e=10){let r="abcdefghijklmnopqrstuvwxyz",n="";for(let o=0;o<e;o++)n+=r[Math.floor(Math.random()*r.length)];return n}function It(e){return JSON.stringify(e)}var wt="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ge(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var Vr=ye(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{let e=Function;return new e(""),!0}catch{return!1}});function ce(e){if(ge(e)===!1)return!1;let r=e.constructor;if(r===void 0)return!0;let n=r.prototype;return!(ge(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Fr(e){return ce(e)?{...e}:Array.isArray(e)?[...e]:e}function $s(e){let r=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&r++;return r}var bs=e=>{let r=typeof e;switch(r){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${r}`)}},Fe=new Set(["string","number","symbol"]),Jr=new Set(["string","number","bigint","boolean","symbol","undefined"]);function X(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\\\$&")}function R(e,r,n){let o=new e._zod.constr(r??e._zod.def);return(!r||n?.parent)&&(o._zod.parent=e),o}function v(e){let r=e;if(!r)return{};if(typeof r=="string")return{error:()=>r};if(r?.message!==void 0){if(r?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");r.error=r.message}return delete r.message,typeof r.error=="string"?{...r,error:()=>r.error}:r}function _s(e){let r;return new Proxy({},{get(n,o,t){return r??(r=e()),Reflect.get(r,o,t)},set(n,o,t,i){return r??(r=e()),Reflect.set(r,o,t,i)},has(n,o){return r??(r=e()),Reflect.has(r,o)},deleteProperty(n,o){return r??(r=e()),Reflect.deleteProperty(r,o)},ownKeys(n){return r??(r=e()),Reflect.ownKeys(r)},getOwnPropertyDescriptor(n,o){return r??(r=e()),Reflect.getOwnPropertyDescriptor(r,o)},defineProperty(n,o,t){return r??(r=e()),Reflect.defineProperty(r,o,t)}})}function p(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function Mr(e){return Object.keys(e).filter(r=>e[r]._zod.optin==="optional"&&e[r]._zod.optout==="optional")}var Br={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},Kr={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ys(e,r){let n=e._zod.def,o=ue(e._zod.def,{get shape(){let t={};for(let i in r){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(t[i]=n.shape[i])}return ae(this,"shape",t),t},checks:[]});return R(e,o)}function xs(e,r){let n=e._zod.def,o=ue(e._zod.def,{get shape(){let t={...e._zod.def.shape};for(let i in r){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);r[i]&&delete t[i]}return ae(this,"shape",t),t},checks:[]});return R(e,o)}function ks(e,r){if(!ce(r))throw new Error("Invalid input to extend: expected a plain object");let n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let t=ue(e._zod.def,{get shape(){let i={...e._zod.def.shape,...r};return ae(this,"shape",i),i},checks:[]});return R(e,t)}function zs(e,r){if(!ce(r))throw new Error("Invalid input to safeExtend: expected a plain object");let n={...e._zod.def,get shape(){let o={...e._zod.def.shape,...r};return ae(this,"shape",o),o},checks:e._zod.def.checks};return R(e,n)}function Is(e,r){let n=ue(e._zod.def,{get shape(){let o={...e._zod.def.shape,...r._zod.def.shape};return ae(this,"shape",o),o},get catchall(){return r._zod.def.catchall},checks:[]});return R(e,n)}function ws(e,r,n){let o=ue(r._zod.def,{get shape(){let t=r._zod.def.shape,i={...t};if(n)for(let a in n){if(!(a in t))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=e?new e({type:"optional",innerType:t[a]}):t[a])}else for(let a in t)i[a]=e?new e({type:"optional",innerType:t[a]}):t[a];return ae(this,"shape",i),i},checks:[]});return R(r,o)}function Ss(e,r,n){let o=ue(r._zod.def,{get shape(){let t=r._zod.def.shape,i={...t};if(n)for(let a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(i[a]=new e({type:"nonoptional",innerType:t[a]}))}else for(let a in t)i[a]=new e({type:"nonoptional",innerType:t[a]});return ae(this,"shape",i),i},checks:[]});return R(r,o)}function se(e,r=0){if(e.aborted===!0)return!0;for(let n=r;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function F(e,r){return r.map(n=>{var o;return(o=n).path??(o.path=[]),n.path.unshift(e),n})}function Le(e){return typeof e=="string"?e:e?.message}function J(e,r,n){let o={...e,path:e.path??[]};if(!e.message){let t=Le(e.inst?._zod.def?.error?.(e))??Le(r?.error?.(e))??Le(n.customError?.(e))??Le(n.localeError?.(e))??"Invalid input";o.message=t}return delete o.inst,delete o.continue,r?.reportInput||delete o.input,o}function Je(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function Me(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function xe(...e){let[r,n,o]=e;return typeof r=="string"?{message:r,code:"custom",input:n,inst:o}:{...r}}function js(e){return Object.entries(e).filter(([r,n])=>Number.isNaN(Number.parseInt(r,10))).map(r=>r[1])}function Wa(e){let r=atob(e),n=new Uint8Array(r.length);for(let o=0;o<r.length;o++)n[o]=r.charCodeAt(o);return n}function Xa(e){let r="";for(let n=0;n<e.length;n++)r+=String.fromCharCode(e[n]);return btoa(r)}function Os(e){let r=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-r.length%4)%4);return Wa(r+n)}function Ps(e){return Xa(e).replace(/\\+/g,"-").replace(/\\//g,"_").replace(/=/g,"")}function Us(e){let r=e.replace(/^0x/,"");if(r.length%2!==0)throw new Error("Invalid hex string length");let n=new Uint8Array(r.length/2);for(let o=0;o<r.length;o+=2)n[o/2]=Number.parseInt(r.slice(o,o+2),16);return n}function Ns(e){return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")}var Lr=class{constructor(...r){}};var qa=(e,r)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:r,enumerable:!1}),e.message=JSON.stringify(r,_e,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Be=c("$ZodError",qa),L=c("$ZodError",qa,{Parent:Error});function Ke(e,r=n=>n.message){let n={},o=[];for(let t of e.issues)t.path.length>0?(n[t.path[0]]=n[t.path[0]]||[],n[t.path[0]].push(r(t))):o.push(r(t));return{formErrors:o,fieldErrors:n}}function Ge(e,r=n=>n.message){let n={_errors:[]},o=t=>{for(let i of t.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>o({issues:a}));else if(i.code==="invalid_key")o({issues:i.issues});else if(i.code==="invalid_element")o({issues:i.issues});else if(i.path.length===0)n._errors.push(r(i));else{let a=n,u=0;for(;u<i.path.length;){let s=i.path[u];u===i.path.length-1?(a[s]=a[s]||{_errors:[]},a[s]._errors.push(r(i))):a[s]=a[s]||{_errors:[]},a=a[s],u++}}};return o(e),n}function Gr(e,r=n=>n.message){let n={errors:[]},o=(t,i=[])=>{var a,u;for(let s of t.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(m=>o({issues:m},s.path));else if(s.code==="invalid_key")o({issues:s.issues},s.path);else if(s.code==="invalid_element")o({issues:s.issues},s.path);else{let m=[...i,...s.path];if(m.length===0){n.errors.push(r(s));continue}let f=n,g=0;for(;g<m.length;){let y=m[g],$=g===m.length-1;typeof y=="string"?(f.properties??(f.properties={}),(a=f.properties)[y]??(a[y]={errors:[]}),f=f.properties[y]):(f.items??(f.items=[]),(u=f.items)[y]??(u[y]={errors:[]}),f=f.items[y]),$&&f.errors.push(r(s)),g++}}};return o(e),n}function Ya(e){let r=[],n=e.map(o=>typeof o=="object"?o.key:o);for(let o of n)typeof o=="number"?r.push(`[${o}]`):typeof o=="symbol"?r.push(`[${JSON.stringify(String(o))}]`):/[^\\w$]/.test(o)?r.push(`[${JSON.stringify(o)}]`):(r.length&&r.push("."),r.push(o));return r.join("")}function Wr(e){let r=[],n=[...e.issues].sort((o,t)=>(o.path??[]).length-(t.path??[]).length);for(let o of n)r.push(`\\u2716 ${o.message}`),o.path?.length&&r.push(`  \\u2192 at ${Ya(o.path)}`);return r.join(`\n`)}var ke=e=>(r,n,o,t)=>{let i=o?Object.assign(o,{async:!1}):{async:!1},a=r._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new W;if(a.issues.length){let u=new(t?.Err??e)(a.issues.map(s=>J(s,i,D())));throw wt(u,t?.callee),u}return a.value},St=ke(L),ze=e=>async(r,n,o,t)=>{let i=o?Object.assign(o,{async:!0}):{async:!0},a=r._zod.run({value:n,issues:[]},i);if(a instanceof Promise&&(a=await a),a.issues.length){let u=new(t?.Err??e)(a.issues.map(s=>J(s,i,D())));throw wt(u,t?.callee),u}return a.value},jt=ze(L),Ie=e=>(r,n,o)=>{let t=o?{...o,async:!1}:{async:!1},i=r._zod.run({value:n,issues:[]},t);if(i instanceof Promise)throw new W;return i.issues.length?{success:!1,error:new(e??Be)(i.issues.map(a=>J(a,t,D())))}:{success:!0,data:i.value}},Xr=Ie(L),we=e=>async(r,n,o)=>{let t=o?Object.assign(o,{async:!0}):{async:!0},i=r._zod.run({value:n,issues:[]},t);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(a=>J(a,t,D())))}:{success:!0,data:i.value}},qr=we(L),Ot=e=>(r,n,o)=>{let t=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ke(e)(r,n,t)},Ds=Ot(L),Pt=e=>(r,n,o)=>ke(e)(r,n,o),Ts=Pt(L),Ut=e=>async(r,n,o)=>{let t=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return ze(e)(r,n,t)},Es=Ut(L),Nt=e=>async(r,n,o)=>ze(e)(r,n,o),As=Nt(L),Zt=e=>(r,n,o)=>{let t=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return Ie(e)(r,n,t)},Rs=Zt(L),Dt=e=>(r,n,o)=>Ie(e)(r,n,o),Ls=Dt(L),Tt=e=>async(r,n,o)=>{let t=o?Object.assign(o,{direction:"backward"}):{direction:"backward"};return we(e)(r,n,t)},Cs=Tt(L),Et=e=>async(r,n,o)=>we(e)(r,n,o),Vs=Et(L);var K={};pe(K,{base64:()=>mn,base64url:()=>At,bigint:()=>bn,boolean:()=>xn,browserEmail:()=>Xs,cidrv4:()=>ln,cidrv6:()=>dn,cuid:()=>Yr,cuid2:()=>Qr,date:()=>gn,datetime:()=>hn,domain:()=>Ys,duration:()=>nn,e164:()=>pn,email:()=>an,emoji:()=>un,extendedDuration:()=>Fs,guid:()=>on,hex:()=>Qs,hostname:()=>fn,html5Email:()=>Ks,idnEmail:()=>Ws,integer:()=>_n,ipv4:()=>cn,ipv6:()=>sn,ksuid:()=>tn,lowercase:()=>In,md5_base64:()=>el,md5_base64url:()=>tl,md5_hex:()=>Hs,nanoid:()=>rn,null:()=>kn,number:()=>yn,rfc5322Email:()=>Gs,sha1_base64:()=>nl,sha1_base64url:()=>il,sha1_hex:()=>rl,sha256_base64:()=>al,sha256_base64url:()=>ul,sha256_hex:()=>ol,sha384_base64:()=>sl,sha384_base64url:()=>ll,sha384_hex:()=>cl,sha512_base64:()=>ml,sha512_base64url:()=>fl,sha512_hex:()=>dl,string:()=>$n,time:()=>vn,ulid:()=>Hr,undefined:()=>zn,unicodeEmail:()=>Qa,uppercase:()=>wn,uuid:()=>ve,uuid4:()=>Js,uuid6:()=>Ms,uuid7:()=>Bs,xid:()=>en});var Yr=/^[cC][^\\s-]{8,}$/,Qr=/^[0-9a-z]+$/,Hr=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,en=/^[0-9a-vA-V]{20}$/,tn=/^[A-Za-z0-9]{27}$/,rn=/^[a-zA-Z0-9_-]{21}$/,nn=/^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/,Fs=/^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/,on=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ve=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Js=ve(4),Ms=ve(6),Bs=ve(7),an=/^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_\'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/,Ks=/^[a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gs=/^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/,Qa=/^[^\\s@"]{1,64}@[^\\s@]{1,255}$/u,Ws=Qa,Xs=/^[a-zA-Z0-9.!#$%&\'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qs="^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$";function un(){return new RegExp(qs,"u")}var cn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,ln=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/,dn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mn=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,At=/^[A-Za-z0-9_-]*$/,fn=/^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/,Ys=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/,pn=/^\\+(?:[0-9]){6,14}[0-9]$/,Ha="(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))",gn=new RegExp(`^${Ha}$`);function eu(e){let r="(?:[01]\\\\d|2[0-3]):[0-5]\\\\d";return typeof e.precision=="number"?e.precision===-1?`${r}`:e.precision===0?`${r}:[0-5]\\\\d`:`${r}:[0-5]\\\\d\\\\.\\\\d{${e.precision}}`:`${r}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`}function vn(e){return new RegExp(`^${eu(e)}$`)}function hn(e){let r=eu({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)");let o=`${r}(?:${n.join("|")})`;return new RegExp(`^${Ha}T(?:${o})$`)}var $n=e=>{let r=e?`[\\\\s\\\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\\\s\\\\S]*";return new RegExp(`^${r}$`)},bn=/^-?\\d+n?$/,_n=/^-?\\d+$/,yn=/^-?\\d+(?:\\.\\d+)?/,xn=/^(?:true|false)$/i,kn=/^null$/i;var zn=/^undefined$/i;var In=/^[^A-Z]*$/,wn=/^[^a-z]*$/,Qs=/^[0-9a-fA-F]*$/;function We(e,r){return new RegExp(`^[A-Za-z0-9+/]{${e}}${r}$`)}function Xe(e){return new RegExp(`^[A-Za-z0-9_-]{${e}}$`)}var Hs=/^[0-9a-fA-F]{32}$/,el=We(22,"=="),tl=Xe(22),rl=/^[0-9a-fA-F]{40}$/,nl=We(27,"="),il=Xe(27),ol=/^[0-9a-fA-F]{64}$/,al=We(43,"="),ul=Xe(43),cl=/^[0-9a-fA-F]{96}$/,sl=We(64,""),ll=Xe(64),dl=/^[0-9a-fA-F]{128}$/,ml=We(86,"=="),fl=Xe(86);var Z=c("$ZodCheck",(e,r)=>{var n;e._zod??(e._zod={}),e._zod.def=r,(n=e._zod).onattach??(n.onattach=[])}),ru={number:"number",bigint:"bigint",object:"date"},Rt=c("$ZodCheckLessThan",(e,r)=>{Z.init(e,r);let n=ru[typeof r.value];e._zod.onattach.push(o=>{let t=o._zod.bag,i=(r.inclusive?t.maximum:t.exclusiveMaximum)??Number.POSITIVE_INFINITY;r.value<i&&(r.inclusive?t.maximum=r.value:t.exclusiveMaximum=r.value)}),e._zod.check=o=>{(r.inclusive?o.value<=r.value:o.value<r.value)||o.issues.push({origin:n,code:"too_big",maximum:r.value,input:o.value,inclusive:r.inclusive,inst:e,continue:!r.abort})}}),Lt=c("$ZodCheckGreaterThan",(e,r)=>{Z.init(e,r);let n=ru[typeof r.value];e._zod.onattach.push(o=>{let t=o._zod.bag,i=(r.inclusive?t.minimum:t.exclusiveMinimum)??Number.NEGATIVE_INFINITY;r.value>i&&(r.inclusive?t.minimum=r.value:t.exclusiveMinimum=r.value)}),e._zod.check=o=>{(r.inclusive?o.value>=r.value:o.value>r.value)||o.issues.push({origin:n,code:"too_small",minimum:r.value,input:o.value,inclusive:r.inclusive,inst:e,continue:!r.abort})}}),Sn=c("$ZodCheckMultipleOf",(e,r)=>{Z.init(e,r),e._zod.onattach.push(n=>{var o;(o=n._zod.bag).multipleOf??(o.multipleOf=r.value)}),e._zod.check=n=>{if(typeof n.value!=typeof r.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%r.value===BigInt(0):Cr(n.value,r.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:r.value,input:n.value,inst:e,continue:!r.abort})}}),jn=c("$ZodCheckNumberFormat",(e,r)=>{Z.init(e,r),r.format=r.format||"float64";let n=r.format?.includes("int"),o=n?"int":"number",[t,i]=Br[r.format];e._zod.onattach.push(a=>{let u=a._zod.bag;u.format=r.format,u.minimum=t,u.maximum=i,n&&(u.pattern=_n)}),e._zod.check=a=>{let u=a.value;if(n){if(!Number.isInteger(u)){a.issues.push({expected:o,format:r.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?a.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!r.abort}):a.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:o,continue:!r.abort});return}}u<t&&a.issues.push({origin:"number",input:u,code:"too_small",minimum:t,inclusive:!0,inst:e,continue:!r.abort}),u>i&&a.issues.push({origin:"number",input:u,code:"too_big",maximum:i,inst:e})}}),On=c("$ZodCheckBigIntFormat",(e,r)=>{Z.init(e,r);let[n,o]=Kr[r.format];e._zod.onattach.push(t=>{let i=t._zod.bag;i.format=r.format,i.minimum=n,i.maximum=o}),e._zod.check=t=>{let i=t.value;i<n&&t.issues.push({origin:"bigint",input:i,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!r.abort}),i>o&&t.issues.push({origin:"bigint",input:i,code:"too_big",maximum:o,inst:e})}}),Pn=c("$ZodCheckMaxSize",(e,r)=>{var n;Z.init(e,r),(n=e._zod.def).when??(n.when=o=>{let t=o.value;return!oe(t)&&t.size!==void 0}),e._zod.onattach.push(o=>{let t=o._zod.bag.maximum??Number.POSITIVE_INFINITY;r.maximum<t&&(o._zod.bag.maximum=r.maximum)}),e._zod.check=o=>{let t=o.value;t.size<=r.maximum||o.issues.push({origin:Je(t),code:"too_big",maximum:r.maximum,inclusive:!0,input:t,inst:e,continue:!r.abort})}}),Un=c("$ZodCheckMinSize",(e,r)=>{var n;Z.init(e,r),(n=e._zod.def).when??(n.when=o=>{let t=o.value;return!oe(t)&&t.size!==void 0}),e._zod.onattach.push(o=>{let t=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;r.minimum>t&&(o._zod.bag.minimum=r.minimum)}),e._zod.check=o=>{let t=o.value;t.size>=r.minimum||o.issues.push({origin:Je(t),code:"too_small",minimum:r.minimum,inclusive:!0,input:t,inst:e,continue:!r.abort})}}),Nn=c("$ZodCheckSizeEquals",(e,r)=>{var n;Z.init(e,r),(n=e._zod.def).when??(n.when=o=>{let t=o.value;return!oe(t)&&t.size!==void 0}),e._zod.onattach.push(o=>{let t=o._zod.bag;t.minimum=r.size,t.maximum=r.size,t.size=r.size}),e._zod.check=o=>{let t=o.value,i=t.size;if(i===r.size)return;let a=i>r.size;o.issues.push({origin:Je(t),...a?{code:"too_big",maximum:r.size}:{code:"too_small",minimum:r.size},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!r.abort})}}),Zn=c("$ZodCheckMaxLength",(e,r)=>{var n;Z.init(e,r),(n=e._zod.def).when??(n.when=o=>{let t=o.value;return!oe(t)&&t.length!==void 0}),e._zod.onattach.push(o=>{let t=o._zod.bag.maximum??Number.POSITIVE_INFINITY;r.maximum<t&&(o._zod.bag.maximum=r.maximum)}),e._zod.check=o=>{let t=o.value;if(t.length<=r.maximum)return;let a=Me(t);o.issues.push({origin:a,code:"too_big",maximum:r.maximum,inclusive:!0,input:t,inst:e,continue:!r.abort})}}),Dn=c("$ZodCheckMinLength",(e,r)=>{var n;Z.init(e,r),(n=e._zod.def).when??(n.when=o=>{let t=o.value;return!oe(t)&&t.length!==void 0}),e._zod.onattach.push(o=>{let t=o._zod.bag.minimum??Number.NEGATIVE_INFINITY;r.minimum>t&&(o._zod.bag.minimum=r.minimum)}),e._zod.check=o=>{let t=o.value;if(t.length>=r.minimum)return;let a=Me(t);o.issues.push({origin:a,code:"too_small",minimum:r.minimum,inclusive:!0,input:t,inst:e,continue:!r.abort})}}),Tn=c("$ZodCheckLengthEquals",(e,r)=>{var n;Z.init(e,r),(n=e._zod.def).when??(n.when=o=>{let t=o.value;return!oe(t)&&t.length!==void 0}),e._zod.onattach.push(o=>{let t=o._zod.bag;t.minimum=r.length,t.maximum=r.length,t.length=r.length}),e._zod.check=o=>{let t=o.value,i=t.length;if(i===r.length)return;let a=Me(t),u=i>r.length;o.issues.push({origin:a,...u?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},inclusive:!0,exact:!0,input:o.value,inst:e,continue:!r.abort})}}),Se=c("$ZodCheckStringFormat",(e,r)=>{var n,o;Z.init(e,r),e._zod.onattach.push(t=>{let i=t._zod.bag;i.format=r.format,r.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(r.pattern))}),r.pattern?(n=e._zod).check??(n.check=t=>{r.pattern.lastIndex=0,!r.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:r.format,input:t.value,...r.pattern?{pattern:r.pattern.toString()}:{},inst:e,continue:!r.abort})}):(o=e._zod).check??(o.check=()=>{})}),En=c("$ZodCheckRegex",(e,r)=>{Se.init(e,r),e._zod.check=n=>{r.pattern.lastIndex=0,!r.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:r.pattern.toString(),inst:e,continue:!r.abort})}}),An=c("$ZodCheckLowerCase",(e,r)=>{r.pattern??(r.pattern=In),Se.init(e,r)}),Rn=c("$ZodCheckUpperCase",(e,r)=>{r.pattern??(r.pattern=wn),Se.init(e,r)}),Ln=c("$ZodCheckIncludes",(e,r)=>{Z.init(e,r);let n=X(r.includes),o=new RegExp(typeof r.position=="number"?`^.{${r.position}}${n}`:n);r.pattern=o,e._zod.onattach.push(t=>{let i=t._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(o)}),e._zod.check=t=>{t.value.includes(r.includes,r.position)||t.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:r.includes,input:t.value,inst:e,continue:!r.abort})}}),Cn=c("$ZodCheckStartsWith",(e,r)=>{Z.init(e,r);let n=new RegExp(`^${X(r.prefix)}.*`);r.pattern??(r.pattern=n),e._zod.onattach.push(o=>{let t=o._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=o=>{o.value.startsWith(r.prefix)||o.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:r.prefix,input:o.value,inst:e,continue:!r.abort})}}),Vn=c("$ZodCheckEndsWith",(e,r)=>{Z.init(e,r);let n=new RegExp(`.*${X(r.suffix)}$`);r.pattern??(r.pattern=n),e._zod.onattach.push(o=>{let t=o._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=o=>{o.value.endsWith(r.suffix)||o.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:r.suffix,input:o.value,inst:e,continue:!r.abort})}});function tu(e,r,n){e.issues.length&&r.issues.push(...F(n,e.issues))}var Fn=c("$ZodCheckProperty",(e,r)=>{Z.init(e,r),e._zod.check=n=>{let o=r.schema._zod.run({value:n.value[r.property],issues:[]},{});if(o instanceof Promise)return o.then(t=>tu(t,n,r.property));tu(o,n,r.property)}}),Jn=c("$ZodCheckMimeType",(e,r)=>{Z.init(e,r);let n=new Set(r.mime);e._zod.onattach.push(o=>{o._zod.bag.mime=r.mime}),e._zod.check=o=>{n.has(o.value.type)||o.issues.push({code:"invalid_value",values:r.mime,input:o.value.type,inst:e,continue:!r.abort})}}),Mn=c("$ZodCheckOverwrite",(e,r)=>{Z.init(e,r),e._zod.check=n=>{n.value=r.tx(n.value)}});var qe=class{constructor(r=[]){this.content=[],this.indent=0,this&&(this.args=r)}indented(r){this.indent+=1,r(this),this.indent-=1}write(r){if(typeof r=="function"){r(this,{execution:"sync"}),r(this,{execution:"async"});return}let o=r.split(`\n`).filter(a=>a),t=Math.min(...o.map(a=>a.length-a.trimStart().length)),i=o.map(a=>a.slice(t)).map(a=>" ".repeat(this.indent*2)+a);for(let a of i)this.content.push(a)}compile(){let r=Function,n=this?.args,t=[...(this?.content??[""]).map(i=>`  ${i}`)];return new r(...n,t.join(`\n`))}};var Bn={major:4,minor:1,patch:12};var x=c("$ZodType",(e,r)=>{var n;e??(e={}),e._zod.def=r,e._zod.bag=e._zod.bag||{},e._zod.version=Bn;let o=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(let t of o)for(let i of t._zod.onattach)i(e);if(o.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(a,u,s)=>{let m=se(a),f;for(let g of u){if(g._zod.def.when){if(!g._zod.def.when(a))continue}else if(m)continue;let y=a.issues.length,$=g._zod.check(a);if($ instanceof Promise&&s?.async===!1)throw new W;if(f||$ instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await $,a.issues.length!==y&&(m||(m=se(a,y)))});else{if(a.issues.length===y)continue;m||(m=se(a,y))}}return f?f.then(()=>a):a},i=(a,u,s)=>{if(se(a))return a.aborted=!0,a;let m=t(u,o,s);if(m instanceof Promise){if(s.async===!1)throw new W;return m.then(f=>e._zod.parse(f,s))}return e._zod.parse(m,s)};e._zod.run=(a,u)=>{if(u.skipChecks)return e._zod.parse(a,u);if(u.direction==="backward"){let m=e._zod.parse({value:a.value,issues:[]},{...u,skipChecks:!0});return m instanceof Promise?m.then(f=>i(f,a,u)):i(m,a,u)}let s=e._zod.parse(a,u);if(s instanceof Promise){if(u.async===!1)throw new W;return s.then(m=>t(m,o,u))}return t(s,o,u)}}e["~standard"]={validate:t=>{try{let i=Xr(e,t);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return qr(e,t).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}}),he=c("$ZodString",(e,r)=>{x.init(e,r),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??$n(e._zod.bag),e._zod.parse=(n,o)=>{if(r.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),O=c("$ZodStringFormat",(e,r)=>{Se.init(e,r),he.init(e,r)}),Gn=c("$ZodGUID",(e,r)=>{r.pattern??(r.pattern=on),O.init(e,r)}),Wn=c("$ZodUUID",(e,r)=>{if(r.version){let o={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[r.version];if(o===void 0)throw new Error(`Invalid UUID version: "${r.version}"`);r.pattern??(r.pattern=ve(o))}else r.pattern??(r.pattern=ve());O.init(e,r)}),Xn=c("$ZodEmail",(e,r)=>{r.pattern??(r.pattern=an),O.init(e,r)}),qn=c("$ZodURL",(e,r)=>{O.init(e,r),e._zod.check=n=>{try{let o=n.value.trim(),t=new URL(o);r.hostname&&(r.hostname.lastIndex=0,r.hostname.test(t.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:fn.source,input:n.value,inst:e,continue:!r.abort})),r.protocol&&(r.protocol.lastIndex=0,r.protocol.test(t.protocol.endsWith(":")?t.protocol.slice(0,-1):t.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:r.protocol.source,input:n.value,inst:e,continue:!r.abort})),r.normalize?n.value=t.href:n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!r.abort})}}}),Yn=c("$ZodEmoji",(e,r)=>{r.pattern??(r.pattern=un()),O.init(e,r)}),Qn=c("$ZodNanoID",(e,r)=>{r.pattern??(r.pattern=rn),O.init(e,r)}),Hn=c("$ZodCUID",(e,r)=>{r.pattern??(r.pattern=Yr),O.init(e,r)}),ei=c("$ZodCUID2",(e,r)=>{r.pattern??(r.pattern=Qr),O.init(e,r)}),ti=c("$ZodULID",(e,r)=>{r.pattern??(r.pattern=Hr),O.init(e,r)}),ri=c("$ZodXID",(e,r)=>{r.pattern??(r.pattern=en),O.init(e,r)}),ni=c("$ZodKSUID",(e,r)=>{r.pattern??(r.pattern=tn),O.init(e,r)}),ii=c("$ZodISODateTime",(e,r)=>{r.pattern??(r.pattern=hn(r)),O.init(e,r)}),oi=c("$ZodISODate",(e,r)=>{r.pattern??(r.pattern=gn),O.init(e,r)}),ai=c("$ZodISOTime",(e,r)=>{r.pattern??(r.pattern=vn(r)),O.init(e,r)}),ui=c("$ZodISODuration",(e,r)=>{r.pattern??(r.pattern=nn),O.init(e,r)}),ci=c("$ZodIPv4",(e,r)=>{r.pattern??(r.pattern=cn),O.init(e,r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.format="ipv4"})}),si=c("$ZodIPv6",(e,r)=>{r.pattern??(r.pattern=sn),O.init(e,r),e._zod.onattach.push(n=>{let o=n._zod.bag;o.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!r.abort})}}}),li=c("$ZodCIDRv4",(e,r)=>{r.pattern??(r.pattern=ln),O.init(e,r)}),di=c("$ZodCIDRv6",(e,r)=>{r.pattern??(r.pattern=dn),O.init(e,r),e._zod.check=n=>{let o=n.value.split("/");try{if(o.length!==2)throw new Error;let[t,i]=o;if(!i)throw new Error;let a=Number(i);if(`${a}`!==i)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${t}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!r.abort})}}});function mi(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}var fi=c("$ZodBase64",(e,r)=>{r.pattern??(r.pattern=mn),O.init(e,r),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{mi(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!r.abort})}});function pu(e){if(!At.test(e))return!1;let r=e.replace(/[-_]/g,o=>o==="-"?"+":"/"),n=r.padEnd(Math.ceil(r.length/4)*4,"=");return mi(n)}var pi=c("$ZodBase64URL",(e,r)=>{r.pattern??(r.pattern=At),O.init(e,r),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{pu(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!r.abort})}}),gi=c("$ZodE164",(e,r)=>{r.pattern??(r.pattern=pn),O.init(e,r)});function gu(e,r=null){try{let n=e.split(".");if(n.length!==3)return!1;let[o]=n;if(!o)return!1;let t=JSON.parse(atob(o));return!("typ"in t&&t?.typ!=="JWT"||!t.alg||r&&(!("alg"in t)||t.alg!==r))}catch{return!1}}var vi=c("$ZodJWT",(e,r)=>{O.init(e,r),e._zod.check=n=>{gu(n.value,r.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!r.abort})}}),hi=c("$ZodCustomStringFormat",(e,r)=>{O.init(e,r),e._zod.check=n=>{r.fn(n.value)||n.issues.push({code:"invalid_format",format:r.format,input:n.value,inst:e,continue:!r.abort})}}),Bt=c("$ZodNumber",(e,r)=>{x.init(e,r),e._zod.pattern=e._zod.bag.pattern??yn,e._zod.parse=(n,o)=>{if(r.coerce)try{n.value=Number(n.value)}catch{}let t=n.value;if(typeof t=="number"&&!Number.isNaN(t)&&Number.isFinite(t))return n;let i=typeof t=="number"?Number.isNaN(t)?"NaN":Number.isFinite(t)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:t,inst:e,...i?{received:i}:{}}),n}}),$i=c("$ZodNumber",(e,r)=>{jn.init(e,r),Bt.init(e,r)}),Ye=c("$ZodBoolean",(e,r)=>{x.init(e,r),e._zod.pattern=xn,e._zod.parse=(n,o)=>{if(r.coerce)try{n.value=!!n.value}catch{}let t=n.value;return typeof t=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:t,inst:e}),n}}),Kt=c("$ZodBigInt",(e,r)=>{x.init(e,r),e._zod.pattern=bn,e._zod.parse=(n,o)=>{if(r.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),bi=c("$ZodBigInt",(e,r)=>{On.init(e,r),Kt.init(e,r)}),_i=c("$ZodSymbol",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value;return typeof t=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:t,inst:e}),n}}),yi=c("$ZodUndefined",(e,r)=>{x.init(e,r),e._zod.pattern=zn,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(n,o)=>{let t=n.value;return typeof t>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:t,inst:e}),n}}),xi=c("$ZodNull",(e,r)=>{x.init(e,r),e._zod.pattern=kn,e._zod.values=new Set([null]),e._zod.parse=(n,o)=>{let t=n.value;return t===null||n.issues.push({expected:"null",code:"invalid_type",input:t,inst:e}),n}}),ki=c("$ZodAny",(e,r)=>{x.init(e,r),e._zod.parse=n=>n}),zi=c("$ZodUnknown",(e,r)=>{x.init(e,r),e._zod.parse=n=>n}),Ii=c("$ZodNever",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)}),wi=c("$ZodVoid",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value;return typeof t>"u"||n.issues.push({expected:"void",code:"invalid_type",input:t,inst:e}),n}}),Si=c("$ZodDate",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{if(r.coerce)try{n.value=new Date(n.value)}catch{}let t=n.value,i=t instanceof Date;return i&&!Number.isNaN(t.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:t,...i?{received:"Invalid Date"}:{},inst:e}),n}});function iu(e,r,n){e.issues.length&&r.issues.push(...F(n,e.issues)),r.value[n]=e.value}var ji=c("$ZodArray",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value;if(!Array.isArray(t))return n.issues.push({expected:"array",code:"invalid_type",input:t,inst:e}),n;n.value=Array(t.length);let i=[];for(let a=0;a<t.length;a++){let u=t[a],s=r.element._zod.run({value:u,issues:[]},o);s instanceof Promise?i.push(s.then(m=>iu(m,n,a))):iu(s,n,a)}return i.length?Promise.all(i).then(()=>n):n}});function Mt(e,r,n,o){e.issues.length&&r.issues.push(...F(n,e.issues)),e.value===void 0?n in o&&(r.value[n]=void 0):r.value[n]=e.value}function vu(e){let r=Object.keys(e.shape);for(let o of r)if(!e.shape?.[o]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);let n=Mr(e.shape);return{...e,keys:r,keySet:new Set(r),numKeys:r.length,optionalKeys:new Set(n)}}function hu(e,r,n,o,t,i){let a=[],u=t.keySet,s=t.catchall._zod,m=s.def.type;for(let f of Object.keys(r)){if(u.has(f))continue;if(m==="never"){a.push(f);continue}let g=s.run({value:r[f],issues:[]},o);g instanceof Promise?e.push(g.then(y=>Mt(y,n,f,r))):Mt(g,n,f,r)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:r,inst:i}),e.length?Promise.all(e).then(()=>n):n}var $u=c("$ZodObject",(e,r)=>{if(x.init(e,r),!Object.getOwnPropertyDescriptor(r,"shape")?.get){let u=r.shape;Object.defineProperty(r,"shape",{get:()=>{let s={...u};return Object.defineProperty(r,"shape",{value:s}),s}})}let o=ye(()=>vu(r));I(e._zod,"propValues",()=>{let u=r.shape,s={};for(let m in u){let f=u[m]._zod;if(f.values){s[m]??(s[m]=new Set);for(let g of f.values)s[m].add(g)}}return s});let t=ge,i=r.catchall,a;e._zod.parse=(u,s)=>{a??(a=o.value);let m=u.value;if(!t(m))return u.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),u;u.value={};let f=[],g=a.shape;for(let y of a.keys){let d=g[y]._zod.run({value:m[y],issues:[]},s);d instanceof Promise?f.push(d.then(b=>Mt(b,u,y,m))):Mt(d,u,y,m)}return i?hu(f,m,u,s,o.value,e):f.length?Promise.all(f).then(()=>u):u}}),Oi=c("$ZodObjectJIT",(e,r)=>{$u.init(e,r);let n=e._zod.parse,o=ye(()=>vu(r)),t=y=>{let $=new qe(["shape","payload","ctx"]),d=o.value,b=z=>{let j=It(z);return`shape[${j}]._zod.run({ value: input[${j}], issues: [] }, ctx)`};$.write("const input = payload.value;");let _=Object.create(null),S=0;for(let z of d.keys)_[z]=`key_${S++}`;$.write("const newResult = {};");for(let z of d.keys){let j=_[z],A=It(z);$.write(`const ${j} = ${b(z)};`),$.write(`\n        if (${j}.issues.length) {\n          payload.issues = payload.issues.concat(${j}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${A}, ...iss.path] : [${A}]\n          })));\n        }\n        \n        \n        if (${j}.value === undefined) {\n          if (${A} in input) {\n            newResult[${A}] = undefined;\n          }\n        } else {\n          newResult[${A}] = ${j}.value;\n        }\n        \n      `)}$.write("payload.value = newResult;"),$.write("return payload;");let w=$.compile();return(z,j)=>w(y,z,j)},i,a=ge,u=!Re.jitless,m=u&&Vr.value,f=r.catchall,g;e._zod.parse=(y,$)=>{g??(g=o.value);let d=y.value;return a(d)?u&&m&&$?.async===!1&&$.jitless!==!0?(i||(i=t(r.shape)),y=i(y,$),f?hu([],d,y,$,g,e):y):n(y,$):(y.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),y)}});function ou(e,r,n,o){for(let i of e)if(i.issues.length===0)return r.value=i.value,r;let t=e.filter(i=>!se(i));return t.length===1?(r.value=t[0].value,t[0]):(r.issues.push({code:"invalid_union",input:r.value,inst:n,errors:e.map(i=>i.issues.map(a=>J(a,o,D())))}),r)}var Gt=c("$ZodUnion",(e,r)=>{x.init(e,r),I(e._zod,"optin",()=>r.options.some(t=>t._zod.optin==="optional")?"optional":void 0),I(e._zod,"optout",()=>r.options.some(t=>t._zod.optout==="optional")?"optional":void 0),I(e._zod,"values",()=>{if(r.options.every(t=>t._zod.values))return new Set(r.options.flatMap(t=>Array.from(t._zod.values)))}),I(e._zod,"pattern",()=>{if(r.options.every(t=>t._zod.pattern)){let t=r.options.map(i=>i._zod.pattern);return new RegExp(`^(${t.map(i=>Ve(i.source)).join("|")})$`)}});let n=r.options.length===1,o=r.options[0]._zod.run;e._zod.parse=(t,i)=>{if(n)return o(t,i);let a=!1,u=[];for(let s of r.options){let m=s._zod.run({value:t.value,issues:[]},i);if(m instanceof Promise)u.push(m),a=!0;else{if(m.issues.length===0)return m;u.push(m)}}return a?Promise.all(u).then(s=>ou(s,t,e,i)):ou(u,t,e,i)}}),Pi=c("$ZodDiscriminatedUnion",(e,r)=>{Gt.init(e,r);let n=e._zod.parse;I(e._zod,"propValues",()=>{let t={};for(let i of r.options){let a=i._zod.propValues;if(!a||Object.keys(a).length===0)throw new Error(`Invalid discriminated union option at index "${r.options.indexOf(i)}"`);for(let[u,s]of Object.entries(a)){t[u]||(t[u]=new Set);for(let m of s)t[u].add(m)}}return t});let o=ye(()=>{let t=r.options,i=new Map;for(let a of t){let u=a._zod.propValues?.[r.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${r.options.indexOf(a)}"`);for(let s of u){if(i.has(s))throw new Error(`Duplicate discriminator value "${String(s)}"`);i.set(s,a)}}return i});e._zod.parse=(t,i)=>{let a=t.value;if(!ge(a))return t.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),t;let u=o.value.get(a?.[r.discriminator]);return u?u._zod.run(t,i):r.unionFallback?n(t,i):(t.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:r.discriminator,input:a,path:[r.discriminator],inst:e}),t)}}),Ui=c("$ZodIntersection",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value,i=r.left._zod.run({value:t,issues:[]},o),a=r.right._zod.run({value:t,issues:[]},o);return i instanceof Promise||a instanceof Promise?Promise.all([i,a]).then(([s,m])=>au(n,s,m)):au(n,i,a)}});function Kn(e,r){if(e===r)return{valid:!0,data:e};if(e instanceof Date&&r instanceof Date&&+e==+r)return{valid:!0,data:e};if(ce(e)&&ce(r)){let n=Object.keys(r),o=Object.keys(e).filter(i=>n.indexOf(i)!==-1),t={...e,...r};for(let i of o){let a=Kn(e[i],r[i]);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};t[i]=a.data}return{valid:!0,data:t}}if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let o=0;o<e.length;o++){let t=e[o],i=r[o],a=Kn(t,i);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function au(e,r,n){if(r.issues.length&&e.issues.push(...r.issues),n.issues.length&&e.issues.push(...n.issues),se(e))return e;let o=Kn(r.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}var Wt=c("$ZodTuple",(e,r)=>{x.init(e,r);let n=r.items,o=n.length-[...n].reverse().findIndex(t=>t._zod.optin!=="optional");e._zod.parse=(t,i)=>{let a=t.value;if(!Array.isArray(a))return t.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),t;t.value=[];let u=[];if(!r.rest){let m=a.length>n.length,f=a.length<o-1;if(m||f)return t.issues.push({...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},input:a,inst:e,origin:"array"}),t}let s=-1;for(let m of n){if(s++,s>=a.length&&s>=o)continue;let f=m._zod.run({value:a[s],issues:[]},i);f instanceof Promise?u.push(f.then(g=>Ct(g,t,s))):Ct(f,t,s)}if(r.rest){let m=a.slice(n.length);for(let f of m){s++;let g=r.rest._zod.run({value:f,issues:[]},i);g instanceof Promise?u.push(g.then(y=>Ct(y,t,s))):Ct(g,t,s)}}return u.length?Promise.all(u).then(()=>t):t}});function Ct(e,r,n){e.issues.length&&r.issues.push(...F(n,e.issues)),r.value[n]=e.value}var Ni=c("$ZodRecord",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value;if(!ce(t))return n.issues.push({expected:"record",code:"invalid_type",input:t,inst:e}),n;let i=[];if(r.keyType._zod.values){let a=r.keyType._zod.values;n.value={};for(let s of a)if(typeof s=="string"||typeof s=="number"||typeof s=="symbol"){let m=r.valueType._zod.run({value:t[s],issues:[]},o);m instanceof Promise?i.push(m.then(f=>{f.issues.length&&n.issues.push(...F(s,f.issues)),n.value[s]=f.value})):(m.issues.length&&n.issues.push(...F(s,m.issues)),n.value[s]=m.value)}let u;for(let s in t)a.has(s)||(u=u??[],u.push(s));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:t,inst:e,keys:u})}else{n.value={};for(let a of Reflect.ownKeys(t)){if(a==="__proto__")continue;let u=r.keyType._zod.run({value:a,issues:[]},o);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(m=>J(m,o,D())),input:a,path:[a],inst:e}),n.value[u.value]=u.value;continue}let s=r.valueType._zod.run({value:t[a],issues:[]},o);s instanceof Promise?i.push(s.then(m=>{m.issues.length&&n.issues.push(...F(a,m.issues)),n.value[u.value]=m.value})):(s.issues.length&&n.issues.push(...F(a,s.issues)),n.value[u.value]=s.value)}}return i.length?Promise.all(i).then(()=>n):n}}),Zi=c("$ZodMap",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value;if(!(t instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:t,inst:e}),n;let i=[];n.value=new Map;for(let[a,u]of t){let s=r.keyType._zod.run({value:a,issues:[]},o),m=r.valueType._zod.run({value:u,issues:[]},o);s instanceof Promise||m instanceof Promise?i.push(Promise.all([s,m]).then(([f,g])=>{uu(f,g,n,a,t,e,o)})):uu(s,m,n,a,t,e,o)}return i.length?Promise.all(i).then(()=>n):n}});function uu(e,r,n,o,t,i,a){e.issues.length&&(Fe.has(typeof o)?n.issues.push(...F(o,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:t,inst:i,issues:e.issues.map(u=>J(u,a,D()))})),r.issues.length&&(Fe.has(typeof o)?n.issues.push(...F(o,r.issues)):n.issues.push({origin:"map",code:"invalid_element",input:t,inst:i,key:o,issues:r.issues.map(u=>J(u,a,D()))})),n.value.set(e.value,r.value)}var Di=c("$ZodSet",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value;if(!(t instanceof Set))return n.issues.push({input:t,inst:e,expected:"set",code:"invalid_type"}),n;let i=[];n.value=new Set;for(let a of t){let u=r.valueType._zod.run({value:a,issues:[]},o);u instanceof Promise?i.push(u.then(s=>cu(s,n))):cu(u,n)}return i.length?Promise.all(i).then(()=>n):n}});function cu(e,r){e.issues.length&&r.issues.push(...e.issues),r.value.add(e.value)}var Ti=c("$ZodEnum",(e,r)=>{x.init(e,r);let n=Ce(r.entries),o=new Set(n);e._zod.values=o,e._zod.pattern=new RegExp(`^(${n.filter(t=>Fe.has(typeof t)).map(t=>typeof t=="string"?X(t):t.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let a=t.value;return o.has(a)||t.issues.push({code:"invalid_value",values:n,input:a,inst:e}),t}}),Ei=c("$ZodLiteral",(e,r)=>{if(x.init(e,r),r.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(r.values),e._zod.pattern=new RegExp(`^(${r.values.map(n=>typeof n=="string"?X(n):n?X(n.toString()):String(n)).join("|")})$`),e._zod.parse=(n,o)=>{let t=n.value;return e._zod.values.has(t)||n.issues.push({code:"invalid_value",values:r.values,input:t,inst:e}),n}}),Ai=c("$ZodFile",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{let t=n.value;return t instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:t,inst:e}),n}}),Ri=c("$ZodTransform",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new ie(e.constructor.name);let t=r.transform(n.value,n);if(o.async)return(t instanceof Promise?t:Promise.resolve(t)).then(a=>(n.value=a,n));if(t instanceof Promise)throw new W;return n.value=t,n}});function su(e,r){return e.issues.length&&r===void 0?{issues:[],value:void 0}:e}var Li=c("$ZodOptional",(e,r)=>{x.init(e,r),e._zod.optin="optional",e._zod.optout="optional",I(e._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,void 0]):void 0),I(e._zod,"pattern",()=>{let n=r.innerType._zod.pattern;return n?new RegExp(`^(${Ve(n.source)})?$`):void 0}),e._zod.parse=(n,o)=>{if(r.innerType._zod.optin==="optional"){let t=r.innerType._zod.run(n,o);return t instanceof Promise?t.then(i=>su(i,n.value)):su(t,n.value)}return n.value===void 0?n:r.innerType._zod.run(n,o)}}),Ci=c("$ZodNullable",(e,r)=>{x.init(e,r),I(e._zod,"optin",()=>r.innerType._zod.optin),I(e._zod,"optout",()=>r.innerType._zod.optout),I(e._zod,"pattern",()=>{let n=r.innerType._zod.pattern;return n?new RegExp(`^(${Ve(n.source)}|null)$`):void 0}),I(e._zod,"values",()=>r.innerType._zod.values?new Set([...r.innerType._zod.values,null]):void 0),e._zod.parse=(n,o)=>n.value===null?n:r.innerType._zod.run(n,o)}),Vi=c("$ZodDefault",(e,r)=>{x.init(e,r),e._zod.optin="optional",I(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return r.innerType._zod.run(n,o);if(n.value===void 0)return n.value=r.defaultValue,n;let t=r.innerType._zod.run(n,o);return t instanceof Promise?t.then(i=>lu(i,r)):lu(t,r)}});function lu(e,r){return e.value===void 0&&(e.value=r.defaultValue),e}var Fi=c("$ZodPrefault",(e,r)=>{x.init(e,r),e._zod.optin="optional",I(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(n,o)=>(o.direction==="backward"||n.value===void 0&&(n.value=r.defaultValue),r.innerType._zod.run(n,o))}),Ji=c("$ZodNonOptional",(e,r)=>{x.init(e,r),I(e._zod,"values",()=>{let n=r.innerType._zod.values;return n?new Set([...n].filter(o=>o!==void 0)):void 0}),e._zod.parse=(n,o)=>{let t=r.innerType._zod.run(n,o);return t instanceof Promise?t.then(i=>du(i,e)):du(t,e)}});function du(e,r){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:r}),e}var Mi=c("$ZodSuccess",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new ie("ZodSuccess");let t=r.innerType._zod.run(n,o);return t instanceof Promise?t.then(i=>(n.value=i.issues.length===0,n)):(n.value=t.issues.length===0,n)}}),Bi=c("$ZodCatch",(e,r)=>{x.init(e,r),I(e._zod,"optin",()=>r.innerType._zod.optin),I(e._zod,"optout",()=>r.innerType._zod.optout),I(e._zod,"values",()=>r.innerType._zod.values),e._zod.parse=(n,o)=>{if(o.direction==="backward")return r.innerType._zod.run(n,o);let t=r.innerType._zod.run(n,o);return t instanceof Promise?t.then(i=>(n.value=i.value,i.issues.length&&(n.value=r.catchValue({...n,error:{issues:i.issues.map(a=>J(a,o,D()))},input:n.value}),n.issues=[]),n)):(n.value=t.value,t.issues.length&&(n.value=r.catchValue({...n,error:{issues:t.issues.map(i=>J(i,o,D()))},input:n.value}),n.issues=[]),n)}}),Ki=c("$ZodNaN",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:e,expected:"nan",code:"invalid_type"}),n)}),Gi=c("$ZodPipe",(e,r)=>{x.init(e,r),I(e._zod,"values",()=>r.in._zod.values),I(e._zod,"optin",()=>r.in._zod.optin),I(e._zod,"optout",()=>r.out._zod.optout),I(e._zod,"propValues",()=>r.in._zod.propValues),e._zod.parse=(n,o)=>{if(o.direction==="backward"){let i=r.out._zod.run(n,o);return i instanceof Promise?i.then(a=>Vt(a,r.in,o)):Vt(i,r.in,o)}let t=r.in._zod.run(n,o);return t instanceof Promise?t.then(i=>Vt(i,r.out,o)):Vt(t,r.out,o)}});function Vt(e,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:e.value,issues:e.issues},n)}var Qe=c("$ZodCodec",(e,r)=>{x.init(e,r),I(e._zod,"values",()=>r.in._zod.values),I(e._zod,"optin",()=>r.in._zod.optin),I(e._zod,"optout",()=>r.out._zod.optout),I(e._zod,"propValues",()=>r.in._zod.propValues),e._zod.parse=(n,o)=>{if((o.direction||"forward")==="forward"){let i=r.in._zod.run(n,o);return i instanceof Promise?i.then(a=>Ft(a,r,o)):Ft(i,r,o)}else{let i=r.out._zod.run(n,o);return i instanceof Promise?i.then(a=>Ft(a,r,o)):Ft(i,r,o)}}});function Ft(e,r,n){if(e.issues.length)return e.aborted=!0,e;if((n.direction||"forward")==="forward"){let t=r.transform(e.value,e);return t instanceof Promise?t.then(i=>Jt(e,i,r.out,n)):Jt(e,t,r.out,n)}else{let t=r.reverseTransform(e.value,e);return t instanceof Promise?t.then(i=>Jt(e,i,r.in,n)):Jt(e,t,r.in,n)}}function Jt(e,r,n,o){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:r,issues:e.issues},o)}var Wi=c("$ZodReadonly",(e,r)=>{x.init(e,r),I(e._zod,"propValues",()=>r.innerType._zod.propValues),I(e._zod,"values",()=>r.innerType._zod.values),I(e._zod,"optin",()=>r.innerType._zod.optin),I(e._zod,"optout",()=>r.innerType._zod.optout),e._zod.parse=(n,o)=>{if(o.direction==="backward")return r.innerType._zod.run(n,o);let t=r.innerType._zod.run(n,o);return t instanceof Promise?t.then(mu):mu(t)}});function mu(e){return e.value=Object.freeze(e.value),e}var Xi=c("$ZodTemplateLiteral",(e,r)=>{x.init(e,r);let n=[];for(let o of r.parts)if(typeof o=="object"&&o!==null){if(!o._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...o._zod.traits].shift()}`);let t=o._zod.pattern instanceof RegExp?o._zod.pattern.source:o._zod.pattern;if(!t)throw new Error(`Invalid template literal part: ${o._zod.traits}`);let i=t.startsWith("^")?1:0,a=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(i,a))}else if(o===null||Jr.has(typeof o))n.push(X(`${o}`));else throw new Error(`Invalid template literal part: ${o}`);e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(o,t)=>typeof o.value!="string"?(o.issues.push({input:o.value,inst:e,expected:"template_literal",code:"invalid_type"}),o):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(o.value)||o.issues.push({input:o.value,inst:e,code:"invalid_format",format:r.format??"template_literal",pattern:e._zod.pattern.source}),o)}),qi=c("$ZodFunction",(e,r)=>(x.init(e,r),e._def=r,e._zod.def=r,e.implement=n=>{if(typeof n!="function")throw new Error("implement() must be called with a function");return function(...o){let t=e._def.input?St(e._def.input,o):o,i=Reflect.apply(n,this,t);return e._def.output?St(e._def.output,i):i}},e.implementAsync=n=>{if(typeof n!="function")throw new Error("implementAsync() must be called with a function");return async function(...o){let t=e._def.input?await jt(e._def.input,o):o,i=await Reflect.apply(n,this,t);return e._def.output?await jt(e._def.output,i):i}},e._zod.parse=(n,o)=>typeof n.value!="function"?(n.issues.push({code:"invalid_type",expected:"function",input:n.value,inst:e}),n):(e._def.output&&e._def.output._zod.def.type==="promise"?n.value=e.implementAsync(n.value):n.value=e.implement(n.value),n),e.input=(...n)=>{let o=e.constructor;return Array.isArray(n[0])?new o({type:"function",input:new Wt({type:"tuple",items:n[0],rest:n[1]}),output:e._def.output}):new o({type:"function",input:n[0],output:e._def.output})},e.output=n=>{let o=e.constructor;return new o({type:"function",input:e._def.input,output:n})},e)),Yi=c("$ZodPromise",(e,r)=>{x.init(e,r),e._zod.parse=(n,o)=>Promise.resolve(n.value).then(t=>r.innerType._zod.run({value:t,issues:[]},o))}),Qi=c("$ZodLazy",(e,r)=>{x.init(e,r),I(e._zod,"innerType",()=>r.getter()),I(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),I(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),I(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),I(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(n,o)=>e._zod.innerType._zod.run(n,o)}),Hi=c("$ZodCustom",(e,r)=>{Z.init(e,r),x.init(e,r),e._zod.parse=(n,o)=>n,e._zod.check=n=>{let o=n.value,t=r.fn(o);if(t instanceof Promise)return t.then(i=>fu(i,n,o,e));fu(t,n,o,e)}});function fu(e,r,n,o){if(!e){let t={code:"custom",input:n,inst:o,path:[...o._zod.def.path??[]],continue:!o._zod.def.abort};o._zod.def.params&&(t.params=o._zod.def.params),r.issues.push(xe(t))}}var tt={};pe(tt,{ar:()=>bu,az:()=>_u,be:()=>xu,bg:()=>ku,ca:()=>zu,cs:()=>Iu,da:()=>wu,de:()=>Su,en:()=>Xt,eo:()=>ju,es:()=>Ou,fa:()=>Pu,fi:()=>Uu,fr:()=>Nu,frCA:()=>Zu,he:()=>Du,hu:()=>Tu,id:()=>Eu,is:()=>Au,it:()=>Ru,ja:()=>Lu,ka:()=>Cu,kh:()=>Vu,km:()=>qt,ko:()=>Fu,lt:()=>Mu,mk:()=>Bu,ms:()=>Ku,nl:()=>Gu,no:()=>Wu,ota:()=>Xu,pl:()=>Yu,ps:()=>qu,pt:()=>Qu,ru:()=>ec,sl:()=>tc,sv:()=>rc,ta:()=>nc,th:()=>ic,tr:()=>oc,ua:()=>ac,uk:()=>Yt,ur:()=>uc,vi:()=>cc,yo:()=>dc,zhCN:()=>sc,zhTW:()=>lc});var gl=()=>{let e={string:{unit:"\\u062D\\u0631\\u0641",verb:"\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"},file:{unit:"\\u0628\\u0627\\u064A\\u062A",verb:"\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"},array:{unit:"\\u0639\\u0646\\u0635\\u0631",verb:"\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"},set:{unit:"\\u0639\\u0646\\u0635\\u0631",verb:"\\u0623\\u0646 \\u064A\\u062D\\u0648\\u064A"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0645\\u062F\\u062E\\u0644",email:"\\u0628\\u0631\\u064A\\u062F \\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A",url:"\\u0631\\u0627\\u0628\\u0637",emoji:"\\u0625\\u064A\\u0645\\u0648\\u062C\\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0648\\u0648\\u0642\\u062A \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",date:"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",time:"\\u0648\\u0642\\u062A \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",duration:"\\u0645\\u062F\\u0629 \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 ISO",ipv4:"\\u0639\\u0646\\u0648\\u0627\\u0646 IPv4",ipv6:"\\u0639\\u0646\\u0648\\u0627\\u0646 IPv6",cidrv4:"\\u0645\\u062F\\u0649 \\u0639\\u0646\\u0627\\u0648\\u064A\\u0646 \\u0628\\u0635\\u064A\\u063A\\u0629 IPv4",cidrv6:"\\u0645\\u062F\\u0649 \\u0639\\u0646\\u0627\\u0648\\u064A\\u0646 \\u0628\\u0635\\u064A\\u063A\\u0629 IPv6",base64:"\\u0646\\u064E\\u0635 \\u0628\\u062A\\u0631\\u0645\\u064A\\u0632 base64-encoded",base64url:"\\u0646\\u064E\\u0635 \\u0628\\u062A\\u0631\\u0645\\u064A\\u0632 base64url-encoded",json_string:"\\u0646\\u064E\\u0635 \\u0639\\u0644\\u0649 \\u0647\\u064A\\u0626\\u0629 JSON",e164:"\\u0631\\u0642\\u0645 \\u0647\\u0627\\u062A\\u0641 \\u0628\\u0645\\u0639\\u064A\\u0627\\u0631 E.164",jwt:"JWT",template_literal:"\\u0645\\u062F\\u062E\\u0644"};return t=>{switch(t.code){case"invalid_type":return`\\u0645\\u062F\\u062E\\u0644\\u0627\\u062A \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644\\u0629: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0625\\u062F\\u062E\\u0627\\u0644 ${t.expected}\\u060C \\u0648\\u0644\\u0643\\u0646 \\u062A\\u0645 \\u0625\\u062F\\u062E\\u0627\\u0644 ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u0645\\u062F\\u062E\\u0644\\u0627\\u062A \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644\\u0629: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0625\\u062F\\u062E\\u0627\\u0644 ${p(t.values[0])}`:`\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062A\\u0648\\u0642\\u0639 \\u0627\\u0646\\u062A\\u0642\\u0627\\u0621 \\u0623\\u062D\\u062F \\u0647\\u0630\\u0647 \\u0627\\u0644\\u062E\\u064A\\u0627\\u0631\\u0627\\u062A: ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?` \\u0623\\u0643\\u0628\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0623\\u0646 \\u062A\\u0643\\u0648\\u0646 ${t.origin??"\\u0627\\u0644\\u0642\\u064A\\u0645\\u0629"} ${i} ${t.maximum.toString()} ${a.unit??"\\u0639\\u0646\\u0635\\u0631"}`:`\\u0623\\u0643\\u0628\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0623\\u0646 \\u062A\\u0643\\u0648\\u0646 ${t.origin??"\\u0627\\u0644\\u0642\\u064A\\u0645\\u0629"} ${i} ${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u0623\\u0635\\u063A\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0644\\u0640 ${t.origin} \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 ${i} ${t.minimum.toString()} ${a.unit}`:`\\u0623\\u0635\\u063A\\u0631 \\u0645\\u0646 \\u0627\\u0644\\u0644\\u0627\\u0632\\u0645: \\u064A\\u0641\\u062A\\u0631\\u0636 \\u0644\\u0640 ${t.origin} \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 ${i} ${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0628\\u062F\\u0623 \\u0628\\u0640 "${t.prefix}"`:i.format==="ends_with"?`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0646\\u062A\\u0647\\u064A \\u0628\\u0640 "${i.suffix}"`:i.format==="includes"?`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u062A\\u0636\\u0645\\u0651\\u064E\\u0646 "${i.includes}"`:i.format==="regex"?`\\u0646\\u064E\\u0635 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0637\\u0627\\u0628\\u0642 \\u0627\\u0644\\u0646\\u0645\\u0637 ${i.pattern}`:`${o[i.format]??t.format} \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644`}case"not_multiple_of":return`\\u0631\\u0642\\u0645 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644: \\u064A\\u062C\\u0628 \\u0623\\u0646 \\u064A\\u0643\\u0648\\u0646 \\u0645\\u0646 \\u0645\\u0636\\u0627\\u0639\\u0641\\u0627\\u062A ${t.divisor}`;case"unrecognized_keys":return`\\u0645\\u0639\\u0631\\u0641${t.keys.length>1?"\\u0627\\u062A":""} \\u063A\\u0631\\u064A\\u0628${t.keys.length>1?"\\u0629":""}: ${l(t.keys,"\\u060C ")}`;case"invalid_key":return`\\u0645\\u0639\\u0631\\u0641 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644 \\u0641\\u064A ${t.origin}`;case"invalid_union":return"\\u0645\\u062F\\u062E\\u0644 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644";case"invalid_element":return`\\u0645\\u062F\\u062E\\u0644 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644 \\u0641\\u064A ${t.origin}`;default:return"\\u0645\\u062F\\u062E\\u0644 \\u063A\\u064A\\u0631 \\u0645\\u0642\\u0628\\u0648\\u0644"}}};function bu(){return{localeError:gl()}}var vl=()=>{let e={string:{unit:"simvol",verb:"olmal\\u0131d\\u0131r"},file:{unit:"bayt",verb:"olmal\\u0131d\\u0131r"},array:{unit:"element",verb:"olmal\\u0131d\\u0131r"},set:{unit:"element",verb:"olmal\\u0131d\\u0131r"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return t=>{switch(t.code){case"invalid_type":return`Yanl\\u0131\\u015F d\\u0259y\\u0259r: g\\xF6zl\\u0259nil\\u0259n ${t.expected}, daxil olan ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Yanl\\u0131\\u015F d\\u0259y\\u0259r: g\\xF6zl\\u0259nil\\u0259n ${p(t.values[0])}`:`Yanl\\u0131\\u015F se\\xE7im: a\\u015Fa\\u011F\\u0131dak\\u0131lardan biri olmal\\u0131d\\u0131r: ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\xC7ox b\\xF6y\\xFCk: g\\xF6zl\\u0259nil\\u0259n ${t.origin??"d\\u0259y\\u0259r"} ${i}${t.maximum.toString()} ${a.unit??"element"}`:`\\xC7ox b\\xF6y\\xFCk: g\\xF6zl\\u0259nil\\u0259n ${t.origin??"d\\u0259y\\u0259r"} ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\xC7ox ki\\xE7ik: g\\xF6zl\\u0259nil\\u0259n ${t.origin} ${i}${t.minimum.toString()} ${a.unit}`:`\\xC7ox ki\\xE7ik: g\\xF6zl\\u0259nil\\u0259n ${t.origin} ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Yanl\\u0131\\u015F m\\u0259tn: "${i.prefix}" il\\u0259 ba\\u015Flamal\\u0131d\\u0131r`:i.format==="ends_with"?`Yanl\\u0131\\u015F m\\u0259tn: "${i.suffix}" il\\u0259 bitm\\u0259lidir`:i.format==="includes"?`Yanl\\u0131\\u015F m\\u0259tn: "${i.includes}" daxil olmal\\u0131d\\u0131r`:i.format==="regex"?`Yanl\\u0131\\u015F m\\u0259tn: ${i.pattern} \\u015Fablonuna uy\\u011Fun olmal\\u0131d\\u0131r`:`Yanl\\u0131\\u015F ${o[i.format]??t.format}`}case"not_multiple_of":return`Yanl\\u0131\\u015F \\u0259d\\u0259d: ${t.divisor} il\\u0259 b\\xF6l\\xFCn\\u0259 bil\\u0259n olmal\\u0131d\\u0131r`;case"unrecognized_keys":return`Tan\\u0131nmayan a\\xE7ar${t.keys.length>1?"lar":""}: ${l(t.keys,", ")}`;case"invalid_key":return`${t.origin} daxilind\\u0259 yanl\\u0131\\u015F a\\xE7ar`;case"invalid_union":return"Yanl\\u0131\\u015F d\\u0259y\\u0259r";case"invalid_element":return`${t.origin} daxilind\\u0259 yanl\\u0131\\u015F d\\u0259y\\u0259r`;default:return"Yanl\\u0131\\u015F d\\u0259y\\u0259r"}}};function _u(){return{localeError:vl()}}function yu(e,r,n,o){let t=Math.abs(e),i=t%10,a=t%100;return a>=11&&a<=19?o:i===1?r:i>=2&&i<=4?n:o}var hl=()=>{let e={string:{unit:{one:"\\u0441\\u0456\\u043C\\u0432\\u0430\\u043B",few:"\\u0441\\u0456\\u043C\\u0432\\u0430\\u043B\\u044B",many:"\\u0441\\u0456\\u043C\\u0432\\u0430\\u043B\\u0430\\u045E"},verb:"\\u043C\\u0435\\u0446\\u044C"},array:{unit:{one:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",few:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u044B",many:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430\\u045E"},verb:"\\u043C\\u0435\\u0446\\u044C"},set:{unit:{one:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",few:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u044B",many:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430\\u045E"},verb:"\\u043C\\u0435\\u0446\\u044C"},file:{unit:{one:"\\u0431\\u0430\\u0439\\u0442",few:"\\u0431\\u0430\\u0439\\u0442\\u044B",many:"\\u0431\\u0430\\u0439\\u0442\\u0430\\u045E"},verb:"\\u043C\\u0435\\u0446\\u044C"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u043B\\u0456\\u043A";case"object":{if(Array.isArray(t))return"\\u043C\\u0430\\u0441\\u0456\\u045E";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0443\\u0432\\u043E\\u0434",email:"email \\u0430\\u0434\\u0440\\u0430\\u0441",url:"URL",emoji:"\\u044D\\u043C\\u043E\\u0434\\u0437\\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \\u0434\\u0430\\u0442\\u0430 \\u0456 \\u0447\\u0430\\u0441",date:"ISO \\u0434\\u0430\\u0442\\u0430",time:"ISO \\u0447\\u0430\\u0441",duration:"ISO \\u043F\\u0440\\u0430\\u0446\\u044F\\u0433\\u043B\\u0430\\u0441\\u0446\\u044C",ipv4:"IPv4 \\u0430\\u0434\\u0440\\u0430\\u0441",ipv6:"IPv6 \\u0430\\u0434\\u0440\\u0430\\u0441",cidrv4:"IPv4 \\u0434\\u044B\\u044F\\u043F\\u0430\\u0437\\u043E\\u043D",cidrv6:"IPv6 \\u0434\\u044B\\u044F\\u043F\\u0430\\u0437\\u043E\\u043D",base64:"\\u0440\\u0430\\u0434\\u043E\\u043A \\u0443 \\u0444\\u0430\\u0440\\u043C\\u0430\\u0446\\u0435 base64",base64url:"\\u0440\\u0430\\u0434\\u043E\\u043A \\u0443 \\u0444\\u0430\\u0440\\u043C\\u0430\\u0446\\u0435 base64url",json_string:"JSON \\u0440\\u0430\\u0434\\u043E\\u043A",e164:"\\u043D\\u0443\\u043C\\u0430\\u0440 E.164",jwt:"JWT",template_literal:"\\u0443\\u0432\\u043E\\u0434"};return t=>{switch(t.code){case"invalid_type":return`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434: \\u0447\\u0430\\u043A\\u0430\\u045E\\u0441\\u044F ${t.expected}, \\u0430\\u0442\\u0440\\u044B\\u043C\\u0430\\u043D\\u0430 ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F ${p(t.values[0])}`:`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0432\\u0430\\u0440\\u044B\\u044F\\u043D\\u0442: \\u0447\\u0430\\u043A\\u0430\\u045E\\u0441\\u044F \\u0430\\u0434\\u0437\\u0456\\u043D \\u0437 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);if(a){let u=Number(t.maximum),s=yu(u,a.unit.one,a.unit.few,a.unit.many);return`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u0432\\u044F\\u043B\\u0456\\u043A\\u0456: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E ${t.origin??"\\u0437\\u043D\\u0430\\u0447\\u044D\\u043D\\u043D\\u0435"} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 ${a.verb} ${i}${t.maximum.toString()} ${s}`}return`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u0432\\u044F\\u043B\\u0456\\u043A\\u0456: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E ${t.origin??"\\u0437\\u043D\\u0430\\u0447\\u044D\\u043D\\u043D\\u0435"} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 \\u0431\\u044B\\u0446\\u044C ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);if(a){let u=Number(t.minimum),s=yu(u,a.unit.one,a.unit.few,a.unit.many);return`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u043C\\u0430\\u043B\\u044B: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E ${t.origin} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 ${a.verb} ${i}${t.minimum.toString()} ${s}`}return`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u0430 \\u043C\\u0430\\u043B\\u044B: \\u0447\\u0430\\u043A\\u0430\\u043B\\u0430\\u0441\\u044F, \\u0448\\u0442\\u043E ${t.origin} \\u043F\\u0430\\u0432\\u0456\\u043D\\u043D\\u0430 \\u0431\\u044B\\u0446\\u044C ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u043F\\u0430\\u0447\\u044B\\u043D\\u0430\\u0446\\u0446\\u0430 \\u0437 "${i.prefix}"`:i.format==="ends_with"?`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0437\\u0430\\u043A\\u0430\\u043D\\u0447\\u0432\\u0430\\u0446\\u0446\\u0430 \\u043D\\u0430 "${i.suffix}"`:i.format==="includes"?`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0437\\u043C\\u044F\\u0448\\u0447\\u0430\\u0446\\u044C "${i.includes}"`:i.format==="regex"?`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u0440\\u0430\\u0434\\u043E\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0430\\u0434\\u043F\\u0430\\u0432\\u044F\\u0434\\u0430\\u0446\\u044C \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443 ${i.pattern}`:`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u043B\\u0456\\u043A: \\u043F\\u0430\\u0432\\u0456\\u043D\\u0435\\u043D \\u0431\\u044B\\u0446\\u044C \\u043A\\u0440\\u0430\\u0442\\u043D\\u044B\\u043C ${t.divisor}`;case"unrecognized_keys":return`\\u041D\\u0435\\u0440\\u0430\\u0441\\u043F\\u0430\\u0437\\u043D\\u0430\\u043D\\u044B ${t.keys.length>1?"\\u043A\\u043B\\u044E\\u0447\\u044B":"\\u043A\\u043B\\u044E\\u0447"}: ${l(t.keys,", ")}`;case"invalid_key":return`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u043A\\u043B\\u044E\\u0447 \\u0443 ${t.origin}`;case"invalid_union":return"\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434";case"invalid_element":return`\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u0430\\u0435 \\u0437\\u043D\\u0430\\u0447\\u044D\\u043D\\u043D\\u0435 \\u045E ${t.origin}`;default:return"\\u041D\\u044F\\u043F\\u0440\\u0430\\u0432\\u0456\\u043B\\u044C\\u043D\\u044B \\u045E\\u0432\\u043E\\u0434"}}};function xu(){return{localeError:hl()}}var $l=e=>{let r=typeof e;switch(r){case"number":return Number.isNaN(e)?"NaN":"\\u0447\\u0438\\u0441\\u043B\\u043E";case"object":{if(Array.isArray(e))return"\\u043C\\u0430\\u0441\\u0438\\u0432";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return r},bl=()=>{let e={string:{unit:"\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u0430",verb:"\\u0434\\u0430 \\u0441\\u044A\\u0434\\u044A\\u0440\\u0436\\u0430"},file:{unit:"\\u0431\\u0430\\u0439\\u0442\\u0430",verb:"\\u0434\\u0430 \\u0441\\u044A\\u0434\\u044A\\u0440\\u0436\\u0430"},array:{unit:"\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430",verb:"\\u0434\\u0430 \\u0441\\u044A\\u0434\\u044A\\u0440\\u0436\\u0430"},set:{unit:"\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430",verb:"\\u0434\\u0430 \\u0441\\u044A\\u0434\\u044A\\u0440\\u0436\\u0430"}};function r(o){return e[o]??null}let n={regex:"\\u0432\\u0445\\u043E\\u0434",email:"\\u0438\\u043C\\u0435\\u0439\\u043B \\u0430\\u0434\\u0440\\u0435\\u0441",url:"URL",emoji:"\\u0435\\u043C\\u043E\\u0434\\u0436\\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \\u0432\\u0440\\u0435\\u043C\\u0435",date:"ISO \\u0434\\u0430\\u0442\\u0430",time:"ISO \\u0432\\u0440\\u0435\\u043C\\u0435",duration:"ISO \\u043F\\u0440\\u043E\\u0434\\u044A\\u043B\\u0436\\u0438\\u0442\\u0435\\u043B\\u043D\\u043E\\u0441\\u0442",ipv4:"IPv4 \\u0430\\u0434\\u0440\\u0435\\u0441",ipv6:"IPv6 \\u0430\\u0434\\u0440\\u0435\\u0441",cidrv4:"IPv4 \\u0434\\u0438\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D",cidrv6:"IPv6 \\u0434\\u0438\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D",base64:"base64-\\u043A\\u043E\\u0434\\u0438\\u0440\\u0430\\u043D \\u043D\\u0438\\u0437",base64url:"base64url-\\u043A\\u043E\\u0434\\u0438\\u0440\\u0430\\u043D \\u043D\\u0438\\u0437",json_string:"JSON \\u043D\\u0438\\u0437",e164:"E.164 \\u043D\\u043E\\u043C\\u0435\\u0440",jwt:"JWT",template_literal:"\\u0432\\u0445\\u043E\\u0434"};return o=>{switch(o.code){case"invalid_type":return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u0432\\u0445\\u043E\\u0434: \\u043E\\u0447\\u0430\\u043A\\u0432\\u0430\\u043D ${o.expected}, \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D ${$l(o.input)}`;case"invalid_value":return o.values.length===1?`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u0432\\u0445\\u043E\\u0434: \\u043E\\u0447\\u0430\\u043A\\u0432\\u0430\\u043D ${p(o.values[0])}`:`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u0430 \\u043E\\u043F\\u0446\\u0438\\u044F: \\u043E\\u0447\\u0430\\u043A\\u0432\\u0430\\u043D\\u043E \\u0435\\u0434\\u043D\\u043E \\u043E\\u0442 ${l(o.values,"|")}`;case"too_big":{let t=o.inclusive?"<=":"<",i=r(o.origin);return i?`\\u0422\\u0432\\u044A\\u0440\\u0434\\u0435 \\u0433\\u043E\\u043B\\u044F\\u043C\\u043E: \\u043E\\u0447\\u0430\\u043A\\u0432\\u0430 \\u0441\\u0435 ${o.origin??"\\u0441\\u0442\\u043E\\u0439\\u043D\\u043E\\u0441\\u0442"} \\u0434\\u0430 \\u0441\\u044A\\u0434\\u044A\\u0440\\u0436\\u0430 ${t}${o.maximum.toString()} ${i.unit??"\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430"}`:`\\u0422\\u0432\\u044A\\u0440\\u0434\\u0435 \\u0433\\u043E\\u043B\\u044F\\u043C\\u043E: \\u043E\\u0447\\u0430\\u043A\\u0432\\u0430 \\u0441\\u0435 ${o.origin??"\\u0441\\u0442\\u043E\\u0439\\u043D\\u043E\\u0441\\u0442"} \\u0434\\u0430 \\u0431\\u044A\\u0434\\u0435 ${t}${o.maximum.toString()}`}case"too_small":{let t=o.inclusive?">=":">",i=r(o.origin);return i?`\\u0422\\u0432\\u044A\\u0440\\u0434\\u0435 \\u043C\\u0430\\u043B\\u043A\\u043E: \\u043E\\u0447\\u0430\\u043A\\u0432\\u0430 \\u0441\\u0435 ${o.origin} \\u0434\\u0430 \\u0441\\u044A\\u0434\\u044A\\u0440\\u0436\\u0430 ${t}${o.minimum.toString()} ${i.unit}`:`\\u0422\\u0432\\u044A\\u0440\\u0434\\u0435 \\u043C\\u0430\\u043B\\u043A\\u043E: \\u043E\\u0447\\u0430\\u043A\\u0432\\u0430 \\u0441\\u0435 ${o.origin} \\u0434\\u0430 \\u0431\\u044A\\u0434\\u0435 ${t}${o.minimum.toString()}`}case"invalid_format":{let t=o;if(t.format==="starts_with")return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u043D\\u0438\\u0437: \\u0442\\u0440\\u044F\\u0431\\u0432\\u0430 \\u0434\\u0430 \\u0437\\u0430\\u043F\\u043E\\u0447\\u0432\\u0430 \\u0441 "${t.prefix}"`;if(t.format==="ends_with")return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u043D\\u0438\\u0437: \\u0442\\u0440\\u044F\\u0431\\u0432\\u0430 \\u0434\\u0430 \\u0437\\u0430\\u0432\\u044A\\u0440\\u0448\\u0432\\u0430 \\u0441 "${t.suffix}"`;if(t.format==="includes")return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u043D\\u0438\\u0437: \\u0442\\u0440\\u044F\\u0431\\u0432\\u0430 \\u0434\\u0430 \\u0432\\u043A\\u043B\\u044E\\u0447\\u0432\\u0430 "${t.includes}"`;if(t.format==="regex")return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u043D\\u0438\\u0437: \\u0442\\u0440\\u044F\\u0431\\u0432\\u0430 \\u0434\\u0430 \\u0441\\u044A\\u0432\\u043F\\u0430\\u0434\\u0430 \\u0441 ${t.pattern}`;let i="\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D";return t.format==="emoji"&&(i="\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u043E"),t.format==="datetime"&&(i="\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u043E"),t.format==="date"&&(i="\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u0430"),t.format==="time"&&(i="\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u043E"),t.format==="duration"&&(i="\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u0430"),`${i} ${n[t.format]??o.format}`}case"not_multiple_of":return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u043E \\u0447\\u0438\\u0441\\u043B\\u043E: \\u0442\\u0440\\u044F\\u0431\\u0432\\u0430 \\u0434\\u0430 \\u0431\\u044A\\u0434\\u0435 \\u043A\\u0440\\u0430\\u0442\\u043D\\u043E \\u043D\\u0430 ${o.divisor}`;case"unrecognized_keys":return`\\u041D\\u0435\\u0440\\u0430\\u0437\\u043F\\u043E\\u0437\\u043D\\u0430\\u0442${o.keys.length>1?"\\u0438":""} \\u043A\\u043B\\u044E\\u0447${o.keys.length>1?"\\u043E\\u0432\\u0435":""}: ${l(o.keys,", ")}`;case"invalid_key":return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u043A\\u043B\\u044E\\u0447 \\u0432 ${o.origin}`;case"invalid_union":return"\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u0432\\u0445\\u043E\\u0434";case"invalid_element":return`\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u043D\\u0430 \\u0441\\u0442\\u043E\\u0439\\u043D\\u043E\\u0441\\u0442 \\u0432 ${o.origin}`;default:return"\\u041D\\u0435\\u0432\\u0430\\u043B\\u0438\\u0434\\u0435\\u043D \\u0432\\u0445\\u043E\\u0434"}}};function ku(){return{localeError:bl()}}var _l=()=>{let e={string:{unit:"car\\xE0cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"entrada",email:"adre\\xE7a electr\\xF2nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adre\\xE7a IPv4",ipv6:"adre\\xE7a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"n\\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Tipus inv\\xE0lid: s\'esperava ${t.expected}, s\'ha rebut ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Valor inv\\xE0lid: s\'esperava ${p(t.values[0])}`:`Opci\\xF3 inv\\xE0lida: s\'esperava una de ${l(t.values," o ")}`;case"too_big":{let i=t.inclusive?"com a m\\xE0xim":"menys de",a=r(t.origin);return a?`Massa gran: s\'esperava que ${t.origin??"el valor"} contingu\\xE9s ${i} ${t.maximum.toString()} ${a.unit??"elements"}`:`Massa gran: s\'esperava que ${t.origin??"el valor"} fos ${i} ${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?"com a m\\xEDnim":"m\\xE9s de",a=r(t.origin);return a?`Massa petit: s\'esperava que ${t.origin} contingu\\xE9s ${i} ${t.minimum.toString()} ${a.unit}`:`Massa petit: s\'esperava que ${t.origin} fos ${i} ${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Format inv\\xE0lid: ha de comen\\xE7ar amb "${i.prefix}"`:i.format==="ends_with"?`Format inv\\xE0lid: ha d\'acabar amb "${i.suffix}"`:i.format==="includes"?`Format inv\\xE0lid: ha d\'incloure "${i.includes}"`:i.format==="regex"?`Format inv\\xE0lid: ha de coincidir amb el patr\\xF3 ${i.pattern}`:`Format inv\\xE0lid per a ${o[i.format]??t.format}`}case"not_multiple_of":return`N\\xFAmero inv\\xE0lid: ha de ser m\\xFAltiple de ${t.divisor}`;case"unrecognized_keys":return`Clau${t.keys.length>1?"s":""} no reconeguda${t.keys.length>1?"s":""}: ${l(t.keys,", ")}`;case"invalid_key":return`Clau inv\\xE0lida a ${t.origin}`;case"invalid_union":return"Entrada inv\\xE0lida";case"invalid_element":return`Element inv\\xE0lid a ${t.origin}`;default:return"Entrada inv\\xE0lida"}}};function zu(){return{localeError:_l()}}var yl=()=>{let e={string:{unit:"znak\\u016F",verb:"m\\xEDt"},file:{unit:"bajt\\u016F",verb:"m\\xEDt"},array:{unit:"prvk\\u016F",verb:"m\\xEDt"},set:{unit:"prvk\\u016F",verb:"m\\xEDt"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u010D\\xEDslo";case"string":return"\\u0159et\\u011Bzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(t))return"pole";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"regul\\xE1rn\\xED v\\xFDraz",email:"e-mailov\\xE1 adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a \\u010Das ve form\\xE1tu ISO",date:"datum ve form\\xE1tu ISO",time:"\\u010Das ve form\\xE1tu ISO",duration:"doba trv\\xE1n\\xED ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"\\u0159et\\u011Bzec zak\\xF3dovan\\xFD ve form\\xE1tu base64",base64url:"\\u0159et\\u011Bzec zak\\xF3dovan\\xFD ve form\\xE1tu base64url",json_string:"\\u0159et\\u011Bzec ve form\\xE1tu JSON",e164:"\\u010D\\xEDslo E.164",jwt:"JWT",template_literal:"vstup"};return t=>{switch(t.code){case"invalid_type":return`Neplatn\\xFD vstup: o\\u010Dek\\xE1v\\xE1no ${t.expected}, obdr\\u017Eeno ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Neplatn\\xFD vstup: o\\u010Dek\\xE1v\\xE1no ${p(t.values[0])}`:`Neplatn\\xE1 mo\\u017Enost: o\\u010Dek\\xE1v\\xE1na jedna z hodnot ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Hodnota je p\\u0159\\xEDli\\u0161 velk\\xE1: ${t.origin??"hodnota"} mus\\xED m\\xEDt ${i}${t.maximum.toString()} ${a.unit??"prvk\\u016F"}`:`Hodnota je p\\u0159\\xEDli\\u0161 velk\\xE1: ${t.origin??"hodnota"} mus\\xED b\\xFDt ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Hodnota je p\\u0159\\xEDli\\u0161 mal\\xE1: ${t.origin??"hodnota"} mus\\xED m\\xEDt ${i}${t.minimum.toString()} ${a.unit??"prvk\\u016F"}`:`Hodnota je p\\u0159\\xEDli\\u0161 mal\\xE1: ${t.origin??"hodnota"} mus\\xED b\\xFDt ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED za\\u010D\\xEDnat na "${i.prefix}"`:i.format==="ends_with"?`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED kon\\u010Dit na "${i.suffix}"`:i.format==="includes"?`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED obsahovat "${i.includes}"`:i.format==="regex"?`Neplatn\\xFD \\u0159et\\u011Bzec: mus\\xED odpov\\xEDdat vzoru ${i.pattern}`:`Neplatn\\xFD form\\xE1t ${o[i.format]??t.format}`}case"not_multiple_of":return`Neplatn\\xE9 \\u010D\\xEDslo: mus\\xED b\\xFDt n\\xE1sobkem ${t.divisor}`;case"unrecognized_keys":return`Nezn\\xE1m\\xE9 kl\\xED\\u010De: ${l(t.keys,", ")}`;case"invalid_key":return`Neplatn\\xFD kl\\xED\\u010D v ${t.origin}`;case"invalid_union":return"Neplatn\\xFD vstup";case"invalid_element":return`Neplatn\\xE1 hodnota v ${t.origin}`;default:return"Neplatn\\xFD vstup"}}};function Iu(){return{localeError:yl()}}var xl=()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},r={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"s\\xE6t",file:"fil"};function n(a){return e[a]??null}function o(a){return r[a]??a}let t=a=>{let u=typeof a;switch(u){case"number":return Number.isNaN(a)?"NaN":"tal";case"object":return Array.isArray(a)?"liste":a===null?"null":Object.getPrototypeOf(a)!==Object.prototype&&a.constructor?a.constructor.name:"objekt"}return u},i={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkesl\\xE6t",date:"ISO-dato",time:"ISO-klokkesl\\xE6t",duration:"ISO-varighed",ipv4:"IPv4-omr\\xE5de",ipv6:"IPv6-omr\\xE5de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return a=>{switch(a.code){case"invalid_type":return`Ugyldigt input: forventede ${o(a.expected)}, fik ${o(t(a.input))}`;case"invalid_value":return a.values.length===1?`Ugyldig v\\xE6rdi: forventede ${p(a.values[0])}`:`Ugyldigt valg: forventede en af f\\xF8lgende ${l(a.values,"|")}`;case"too_big":{let u=a.inclusive?"<=":"<",s=n(a.origin),m=o(a.origin);return s?`For stor: forventede ${m??"value"} ${s.verb} ${u} ${a.maximum.toString()} ${s.unit??"elementer"}`:`For stor: forventede ${m??"value"} havde ${u} ${a.maximum.toString()}`}case"too_small":{let u=a.inclusive?">=":">",s=n(a.origin),m=o(a.origin);return s?`For lille: forventede ${m} ${s.verb} ${u} ${a.minimum.toString()} ${s.unit}`:`For lille: forventede ${m} havde ${u} ${a.minimum.toString()}`}case"invalid_format":{let u=a;return u.format==="starts_with"?`Ugyldig streng: skal starte med "${u.prefix}"`:u.format==="ends_with"?`Ugyldig streng: skal ende med "${u.suffix}"`:u.format==="includes"?`Ugyldig streng: skal indeholde "${u.includes}"`:u.format==="regex"?`Ugyldig streng: skal matche m\\xF8nsteret ${u.pattern}`:`Ugyldig ${i[u.format]??a.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\\xE6re deleligt med ${a.divisor}`;case"unrecognized_keys":return`${a.keys.length>1?"Ukendte n\\xF8gler":"Ukendt n\\xF8gle"}: ${l(a.keys,", ")}`;case"invalid_key":return`Ugyldig n\\xF8gle i ${a.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\\xE6rdi i ${a.origin}`;default:return"Ugyldigt input"}}};function wu(){return{localeError:xl()}}var kl=()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"Zahl";case"object":{if(Array.isArray(t))return"Array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return t=>{switch(t.code){case"invalid_type":return`Ung\\xFCltige Eingabe: erwartet ${t.expected}, erhalten ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Ung\\xFCltige Eingabe: erwartet ${p(t.values[0])}`:`Ung\\xFCltige Option: erwartet eine von ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Zu gro\\xDF: erwartet, dass ${t.origin??"Wert"} ${i}${t.maximum.toString()} ${a.unit??"Elemente"} hat`:`Zu gro\\xDF: erwartet, dass ${t.origin??"Wert"} ${i}${t.maximum.toString()} ist`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Zu klein: erwartet, dass ${t.origin} ${i}${t.minimum.toString()} ${a.unit} hat`:`Zu klein: erwartet, dass ${t.origin} ${i}${t.minimum.toString()} ist`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Ung\\xFCltiger String: muss mit "${i.prefix}" beginnen`:i.format==="ends_with"?`Ung\\xFCltiger String: muss mit "${i.suffix}" enden`:i.format==="includes"?`Ung\\xFCltiger String: muss "${i.includes}" enthalten`:i.format==="regex"?`Ung\\xFCltiger String: muss dem Muster ${i.pattern} entsprechen`:`Ung\\xFCltig: ${o[i.format]??t.format}`}case"not_multiple_of":return`Ung\\xFCltige Zahl: muss ein Vielfaches von ${t.divisor} sein`;case"unrecognized_keys":return`${t.keys.length>1?"Unbekannte Schl\\xFCssel":"Unbekannter Schl\\xFCssel"}: ${l(t.keys,", ")}`;case"invalid_key":return`Ung\\xFCltiger Schl\\xFCssel in ${t.origin}`;case"invalid_union":return"Ung\\xFCltige Eingabe";case"invalid_element":return`Ung\\xFCltiger Wert in ${t.origin}`;default:return"Ung\\xFCltige Eingabe"}}};function Su(){return{localeError:kl()}}var zl=e=>{let r=typeof e;switch(r){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return r},Il=()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function r(o){return e[o]??null}let n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return o=>{switch(o.code){case"invalid_type":return`Invalid input: expected ${o.expected}, received ${zl(o.input)}`;case"invalid_value":return o.values.length===1?`Invalid input: expected ${p(o.values[0])}`:`Invalid option: expected one of ${l(o.values,"|")}`;case"too_big":{let t=o.inclusive?"<=":"<",i=r(o.origin);return i?`Too big: expected ${o.origin??"value"} to have ${t}${o.maximum.toString()} ${i.unit??"elements"}`:`Too big: expected ${o.origin??"value"} to be ${t}${o.maximum.toString()}`}case"too_small":{let t=o.inclusive?">=":">",i=r(o.origin);return i?`Too small: expected ${o.origin} to have ${t}${o.minimum.toString()} ${i.unit}`:`Too small: expected ${o.origin} to be ${t}${o.minimum.toString()}`}case"invalid_format":{let t=o;return t.format==="starts_with"?`Invalid string: must start with "${t.prefix}"`:t.format==="ends_with"?`Invalid string: must end with "${t.suffix}"`:t.format==="includes"?`Invalid string: must include "${t.includes}"`:t.format==="regex"?`Invalid string: must match pattern ${t.pattern}`:`Invalid ${n[t.format]??o.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${o.divisor}`;case"unrecognized_keys":return`Unrecognized key${o.keys.length>1?"s":""}: ${l(o.keys,", ")}`;case"invalid_key":return`Invalid key in ${o.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${o.origin}`;default:return"Invalid input"}}};function Xt(){return{localeError:Il()}}var wl=e=>{let r=typeof e;switch(r){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return r},Sl=()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function r(o){return e[o]??null}let n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emo\\u011Dio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-da\\u016Dro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return o=>{switch(o.code){case"invalid_type":return`Nevalida enigo: atendi\\u011Dis ${o.expected}, ricevi\\u011Dis ${wl(o.input)}`;case"invalid_value":return o.values.length===1?`Nevalida enigo: atendi\\u011Dis ${p(o.values[0])}`:`Nevalida opcio: atendi\\u011Dis unu el ${l(o.values,"|")}`;case"too_big":{let t=o.inclusive?"<=":"<",i=r(o.origin);return i?`Tro granda: atendi\\u011Dis ke ${o.origin??"valoro"} havu ${t}${o.maximum.toString()} ${i.unit??"elementojn"}`:`Tro granda: atendi\\u011Dis ke ${o.origin??"valoro"} havu ${t}${o.maximum.toString()}`}case"too_small":{let t=o.inclusive?">=":">",i=r(o.origin);return i?`Tro malgranda: atendi\\u011Dis ke ${o.origin} havu ${t}${o.minimum.toString()} ${i.unit}`:`Tro malgranda: atendi\\u011Dis ke ${o.origin} estu ${t}${o.minimum.toString()}`}case"invalid_format":{let t=o;return t.format==="starts_with"?`Nevalida karaktraro: devas komenci\\u011Di per "${t.prefix}"`:t.format==="ends_with"?`Nevalida karaktraro: devas fini\\u011Di per "${t.suffix}"`:t.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${t.includes}"`:t.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${t.pattern}`:`Nevalida ${n[t.format]??o.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${o.divisor}`;case"unrecognized_keys":return`Nekonata${o.keys.length>1?"j":""} \\u015Dlosilo${o.keys.length>1?"j":""}: ${l(o.keys,", ")}`;case"invalid_key":return`Nevalida \\u015Dlosilo en ${o.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${o.origin}`;default:return"Nevalida enigo"}}};function ju(){return{localeError:Sl()}}var jl=()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},r={string:"texto",number:"n\\xFAmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"n\\xFAmero grande",symbol:"s\\xEDmbolo",undefined:"indefinido",null:"nulo",function:"funci\\xF3n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraci\\xF3n",union:"uni\\xF3n",literal:"literal",promise:"promesa",void:"vac\\xEDo",never:"nunca",unknown:"desconocido",any:"cualquiera"};function n(a){return e[a]??null}function o(a){return r[a]??a}let t=a=>{let u=typeof a;switch(u){case"number":return Number.isNaN(a)?"NaN":"number";case"object":return Array.isArray(a)?"array":a===null?"null":Object.getPrototypeOf(a)!==Object.prototype?a.constructor.name:"object"}return u},i={regex:"entrada",email:"direcci\\xF3n de correo electr\\xF3nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraci\\xF3n ISO",ipv4:"direcci\\xF3n IPv4",ipv6:"direcci\\xF3n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"n\\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return a=>{switch(a.code){case"invalid_type":return`Entrada inv\\xE1lida: se esperaba ${o(a.expected)}, recibido ${o(t(a.input))}`;case"invalid_value":return a.values.length===1?`Entrada inv\\xE1lida: se esperaba ${p(a.values[0])}`:`Opci\\xF3n inv\\xE1lida: se esperaba una de ${l(a.values,"|")}`;case"too_big":{let u=a.inclusive?"<=":"<",s=n(a.origin),m=o(a.origin);return s?`Demasiado grande: se esperaba que ${m??"valor"} tuviera ${u}${a.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${m??"valor"} fuera ${u}${a.maximum.toString()}`}case"too_small":{let u=a.inclusive?">=":">",s=n(a.origin),m=o(a.origin);return s?`Demasiado peque\\xF1o: se esperaba que ${m} tuviera ${u}${a.minimum.toString()} ${s.unit}`:`Demasiado peque\\xF1o: se esperaba que ${m} fuera ${u}${a.minimum.toString()}`}case"invalid_format":{let u=a;return u.format==="starts_with"?`Cadena inv\\xE1lida: debe comenzar con "${u.prefix}"`:u.format==="ends_with"?`Cadena inv\\xE1lida: debe terminar en "${u.suffix}"`:u.format==="includes"?`Cadena inv\\xE1lida: debe incluir "${u.includes}"`:u.format==="regex"?`Cadena inv\\xE1lida: debe coincidir con el patr\\xF3n ${u.pattern}`:`Inv\\xE1lido ${i[u.format]??a.format}`}case"not_multiple_of":return`N\\xFAmero inv\\xE1lido: debe ser m\\xFAltiplo de ${a.divisor}`;case"unrecognized_keys":return`Llave${a.keys.length>1?"s":""} desconocida${a.keys.length>1?"s":""}: ${l(a.keys,", ")}`;case"invalid_key":return`Llave inv\\xE1lida en ${o(a.origin)}`;case"invalid_union":return"Entrada inv\\xE1lida";case"invalid_element":return`Valor inv\\xE1lido en ${o(a.origin)}`;default:return"Entrada inv\\xE1lida"}}};function Ou(){return{localeError:jl()}}var Ol=()=>{let e={string:{unit:"\\u06A9\\u0627\\u0631\\u0627\\u06A9\\u062A\\u0631",verb:"\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"},file:{unit:"\\u0628\\u0627\\u06CC\\u062A",verb:"\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"},array:{unit:"\\u0622\\u06CC\\u062A\\u0645",verb:"\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"},set:{unit:"\\u0622\\u06CC\\u062A\\u0645",verb:"\\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u0639\\u062F\\u062F";case"object":{if(Array.isArray(t))return"\\u0622\\u0631\\u0627\\u06CC\\u0647";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0648\\u0631\\u0648\\u062F\\u06CC",email:"\\u0622\\u062F\\u0631\\u0633 \\u0627\\u06CC\\u0645\\u06CC\\u0644",url:"URL",emoji:"\\u0627\\u06CC\\u0645\\u0648\\u062C\\u06CC",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u062A\\u0627\\u0631\\u06CC\\u062E \\u0648 \\u0632\\u0645\\u0627\\u0646 \\u0627\\u06CC\\u0632\\u0648",date:"\\u062A\\u0627\\u0631\\u06CC\\u062E \\u0627\\u06CC\\u0632\\u0648",time:"\\u0632\\u0645\\u0627\\u0646 \\u0627\\u06CC\\u0632\\u0648",duration:"\\u0645\\u062F\\u062A \\u0632\\u0645\\u0627\\u0646 \\u0627\\u06CC\\u0632\\u0648",ipv4:"IPv4 \\u0622\\u062F\\u0631\\u0633",ipv6:"IPv6 \\u0622\\u062F\\u0631\\u0633",cidrv4:"IPv4 \\u062F\\u0627\\u0645\\u0646\\u0647",cidrv6:"IPv6 \\u062F\\u0627\\u0645\\u0646\\u0647",base64:"base64-encoded \\u0631\\u0634\\u062A\\u0647",base64url:"base64url-encoded \\u0631\\u0634\\u062A\\u0647",json_string:"JSON \\u0631\\u0634\\u062A\\u0647",e164:"E.164 \\u0639\\u062F\\u062F",jwt:"JWT",template_literal:"\\u0648\\u0631\\u0648\\u062F\\u06CC"};return t=>{switch(t.code){case"invalid_type":return`\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0645\\u06CC\\u200C\\u0628\\u0627\\u06CC\\u0633\\u062A ${t.expected} \\u0645\\u06CC\\u200C\\u0628\\u0648\\u062F\\u060C ${n(t.input)} \\u062F\\u0631\\u06CC\\u0627\\u0641\\u062A \\u0634\\u062F`;case"invalid_value":return t.values.length===1?`\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0645\\u06CC\\u200C\\u0628\\u0627\\u06CC\\u0633\\u062A ${p(t.values[0])} \\u0645\\u06CC\\u200C\\u0628\\u0648\\u062F`:`\\u06AF\\u0632\\u06CC\\u0646\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0645\\u06CC\\u200C\\u0628\\u0627\\u06CC\\u0633\\u062A \\u06CC\\u06A9\\u06CC \\u0627\\u0632 ${l(t.values,"|")} \\u0645\\u06CC\\u200C\\u0628\\u0648\\u062F`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u062E\\u06CC\\u0644\\u06CC \\u0628\\u0632\\u0631\\u06AF: ${t.origin??"\\u0645\\u0642\\u062F\\u0627\\u0631"} \\u0628\\u0627\\u06CC\\u062F ${i}${t.maximum.toString()} ${a.unit??"\\u0639\\u0646\\u0635\\u0631"} \\u0628\\u0627\\u0634\\u062F`:`\\u062E\\u06CC\\u0644\\u06CC \\u0628\\u0632\\u0631\\u06AF: ${t.origin??"\\u0645\\u0642\\u062F\\u0627\\u0631"} \\u0628\\u0627\\u06CC\\u062F ${i}${t.maximum.toString()} \\u0628\\u0627\\u0634\\u062F`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u062E\\u06CC\\u0644\\u06CC \\u06A9\\u0648\\u0686\\u06A9: ${t.origin} \\u0628\\u0627\\u06CC\\u062F ${i}${t.minimum.toString()} ${a.unit} \\u0628\\u0627\\u0634\\u062F`:`\\u062E\\u06CC\\u0644\\u06CC \\u06A9\\u0648\\u0686\\u06A9: ${t.origin} \\u0628\\u0627\\u06CC\\u062F ${i}${t.minimum.toString()} \\u0628\\u0627\\u0634\\u062F`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 "${i.prefix}" \\u0634\\u0631\\u0648\\u0639 \\u0634\\u0648\\u062F`:i.format==="ends_with"?`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 "${i.suffix}" \\u062A\\u0645\\u0627\\u0645 \\u0634\\u0648\\u062F`:i.format==="includes"?`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0634\\u0627\\u0645\\u0644 "${i.includes}" \\u0628\\u0627\\u0634\\u062F`:i.format==="regex"?`\\u0631\\u0634\\u062A\\u0647 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0628\\u0627 \\u0627\\u0644\\u06AF\\u0648\\u06CC ${i.pattern} \\u0645\\u0637\\u0627\\u0628\\u0642\\u062A \\u062F\\u0627\\u0634\\u062A\\u0647 \\u0628\\u0627\\u0634\\u062F`:`${o[i.format]??t.format} \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631`}case"not_multiple_of":return`\\u0639\\u062F\\u062F \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631: \\u0628\\u0627\\u06CC\\u062F \\u0645\\u0636\\u0631\\u0628 ${t.divisor} \\u0628\\u0627\\u0634\\u062F`;case"unrecognized_keys":return`\\u06A9\\u0644\\u06CC\\u062F${t.keys.length>1?"\\u0647\\u0627\\u06CC":""} \\u0646\\u0627\\u0634\\u0646\\u0627\\u0633: ${l(t.keys,", ")}`;case"invalid_key":return`\\u06A9\\u0644\\u06CC\\u062F \\u0646\\u0627\\u0634\\u0646\\u0627\\u0633 \\u062F\\u0631 ${t.origin}`;case"invalid_union":return"\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631";case"invalid_element":return`\\u0645\\u0642\\u062F\\u0627\\u0631 \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631 \\u062F\\u0631 ${t.origin}`;default:return"\\u0648\\u0631\\u0648\\u062F\\u06CC \\u0646\\u0627\\u0645\\u0639\\u062A\\u0628\\u0631"}}};function Pu(){return{localeError:Ol()}}var Pl=()=>{let e={string:{unit:"merkki\\xE4",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"p\\xE4iv\\xE4m\\xE4\\xE4r\\xE4n"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"s\\xE4\\xE4nn\\xF6llinen lauseke",email:"s\\xE4hk\\xF6postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-p\\xE4iv\\xE4m\\xE4\\xE4r\\xE4",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return t=>{switch(t.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${t.expected}, oli ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Virheellinen sy\\xF6te: t\\xE4ytyy olla ${p(t.values[0])}`:`Virheellinen valinta: t\\xE4ytyy olla yksi seuraavista: ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Liian suuri: ${a.subject} t\\xE4ytyy olla ${i}${t.maximum.toString()} ${a.unit}`.trim():`Liian suuri: arvon t\\xE4ytyy olla ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Liian pieni: ${a.subject} t\\xE4ytyy olla ${i}${t.minimum.toString()} ${a.unit}`.trim():`Liian pieni: arvon t\\xE4ytyy olla ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Virheellinen sy\\xF6te: t\\xE4ytyy alkaa "${i.prefix}"`:i.format==="ends_with"?`Virheellinen sy\\xF6te: t\\xE4ytyy loppua "${i.suffix}"`:i.format==="includes"?`Virheellinen sy\\xF6te: t\\xE4ytyy sis\\xE4lt\\xE4\\xE4 "${i.includes}"`:i.format==="regex"?`Virheellinen sy\\xF6te: t\\xE4ytyy vastata s\\xE4\\xE4nn\\xF6llist\\xE4 lauseketta ${i.pattern}`:`Virheellinen ${o[i.format]??t.format}`}case"not_multiple_of":return`Virheellinen luku: t\\xE4ytyy olla luvun ${t.divisor} monikerta`;case"unrecognized_keys":return`${t.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${l(t.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen sy\\xF6te"}}};function Uu(){return{localeError:Pl()}}var Ul=()=>{let e={string:{unit:"caract\\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\\xE9l\\xE9ments",verb:"avoir"},set:{unit:"\\xE9l\\xE9ments",verb:"avoir"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"nombre";case"object":{if(Array.isArray(t))return"tableau";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"entr\\xE9e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\\xEEne encod\\xE9e en base64",base64url:"cha\\xEEne encod\\xE9e en base64url",json_string:"cha\\xEEne JSON",e164:"num\\xE9ro E.164",jwt:"JWT",template_literal:"entr\\xE9e"};return t=>{switch(t.code){case"invalid_type":return`Entr\\xE9e invalide : ${t.expected} attendu, ${n(t.input)} re\\xE7u`;case"invalid_value":return t.values.length===1?`Entr\\xE9e invalide : ${p(t.values[0])} attendu`:`Option invalide : une valeur parmi ${l(t.values,"|")} attendue`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Trop grand : ${t.origin??"valeur"} doit ${a.verb} ${i}${t.maximum.toString()} ${a.unit??"\\xE9l\\xE9ment(s)"}`:`Trop grand : ${t.origin??"valeur"} doit \\xEAtre ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Trop petit : ${t.origin} doit ${a.verb} ${i}${t.minimum.toString()} ${a.unit}`:`Trop petit : ${t.origin} doit \\xEAtre ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Cha\\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\\xEEne invalide : doit correspondre au mod\\xE8le ${i.pattern}`:`${o[i.format]??t.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \\xEAtre un multiple de ${t.divisor}`;case"unrecognized_keys":return`Cl\\xE9${t.keys.length>1?"s":""} non reconnue${t.keys.length>1?"s":""} : ${l(t.keys,", ")}`;case"invalid_key":return`Cl\\xE9 invalide dans ${t.origin}`;case"invalid_union":return"Entr\\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${t.origin}`;default:return"Entr\\xE9e invalide"}}};function Nu(){return{localeError:Ul()}}var Nl=()=>{let e={string:{unit:"caract\\xE8res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"\\xE9l\\xE9ments",verb:"avoir"},set:{unit:"\\xE9l\\xE9ments",verb:"avoir"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"entr\\xE9e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dur\\xE9e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"cha\\xEEne encod\\xE9e en base64",base64url:"cha\\xEEne encod\\xE9e en base64url",json_string:"cha\\xEEne JSON",e164:"num\\xE9ro E.164",jwt:"JWT",template_literal:"entr\\xE9e"};return t=>{switch(t.code){case"invalid_type":return`Entr\\xE9e invalide : attendu ${t.expected}, re\\xE7u ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Entr\\xE9e invalide : attendu ${p(t.values[0])}`:`Option invalide : attendu l\'une des valeurs suivantes ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"\\u2264":"<",a=r(t.origin);return a?`Trop grand : attendu que ${t.origin??"la valeur"} ait ${i}${t.maximum.toString()} ${a.unit}`:`Trop grand : attendu que ${t.origin??"la valeur"} soit ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?"\\u2265":">",a=r(t.origin);return a?`Trop petit : attendu que ${t.origin} ait ${i}${t.minimum.toString()} ${a.unit}`:`Trop petit : attendu que ${t.origin} soit ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Cha\\xEEne invalide : doit commencer par "${i.prefix}"`:i.format==="ends_with"?`Cha\\xEEne invalide : doit se terminer par "${i.suffix}"`:i.format==="includes"?`Cha\\xEEne invalide : doit inclure "${i.includes}"`:i.format==="regex"?`Cha\\xEEne invalide : doit correspondre au motif ${i.pattern}`:`${o[i.format]??t.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \\xEAtre un multiple de ${t.divisor}`;case"unrecognized_keys":return`Cl\\xE9${t.keys.length>1?"s":""} non reconnue${t.keys.length>1?"s":""} : ${l(t.keys,", ")}`;case"invalid_key":return`Cl\\xE9 invalide dans ${t.origin}`;case"invalid_union":return"Entr\\xE9e invalide";case"invalid_element":return`Valeur invalide dans ${t.origin}`;default:return"Entr\\xE9e invalide"}}};function Zu(){return{localeError:Nl()}}var Zl=()=>{let e={string:{unit:"\\u05D0\\u05D5\\u05EA\\u05D9\\u05D5\\u05EA",verb:"\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"},file:{unit:"\\u05D1\\u05D9\\u05D9\\u05D8\\u05D9\\u05DD",verb:"\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"},array:{unit:"\\u05E4\\u05E8\\u05D9\\u05D8\\u05D9\\u05DD",verb:"\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"},set:{unit:"\\u05E4\\u05E8\\u05D9\\u05D8\\u05D9\\u05DD",verb:"\\u05DC\\u05DB\\u05DC\\u05D5\\u05DC"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u05E7\\u05DC\\u05D8",email:"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC",url:"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05E8\\u05E9\\u05EA",emoji:"\\u05D0\\u05D9\\u05DE\\u05D5\\u05D2\'\\u05D9",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05D5\\u05D6\\u05DE\\u05DF ISO",date:"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA ISO",time:"\\u05D6\\u05DE\\u05DF ISO",duration:"\\u05DE\\u05E9\\u05DA \\u05D6\\u05DE\\u05DF ISO",ipv4:"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA IPv4",ipv6:"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA IPv6",cidrv4:"\\u05D8\\u05D5\\u05D5\\u05D7 IPv4",cidrv6:"\\u05D8\\u05D5\\u05D5\\u05D7 IPv6",base64:"\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05D1\\u05D1\\u05E1\\u05D9\\u05E1 64",base64url:"\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05D1\\u05D1\\u05E1\\u05D9\\u05E1 64 \\u05DC\\u05DB\\u05EA\\u05D5\\u05D1\\u05D5\\u05EA \\u05E8\\u05E9\\u05EA",json_string:"\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA JSON",e164:"\\u05DE\\u05E1\\u05E4\\u05E8 E.164",jwt:"JWT",template_literal:"\\u05E7\\u05DC\\u05D8"};return t=>{switch(t.code){case"invalid_type":return`\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05E6\\u05E8\\u05D9\\u05DA ${t.expected}, \\u05D4\\u05EA\\u05E7\\u05D1\\u05DC ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05E6\\u05E8\\u05D9\\u05DA ${p(t.values[0])}`:`\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05E6\\u05E8\\u05D9\\u05DA \\u05D0\\u05D7\\u05EA \\u05DE\\u05D4\\u05D0\\u05E4\\u05E9\\u05E8\\u05D5\\u05D9\\u05D5\\u05EA  ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u05D2\\u05D3\\u05D5\\u05DC \\u05DE\\u05D3\\u05D9: ${t.origin??"value"} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA ${i}${t.maximum.toString()} ${a.unit??"elements"}`:`\\u05D2\\u05D3\\u05D5\\u05DC \\u05DE\\u05D3\\u05D9: ${t.origin??"value"} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u05E7\\u05D8\\u05DF \\u05DE\\u05D3\\u05D9: ${t.origin} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA ${i}${t.minimum.toString()} ${a.unit}`:`\\u05E7\\u05D8\\u05DF \\u05DE\\u05D3\\u05D9: ${t.origin} \\u05E6\\u05E8\\u05D9\\u05DA \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05D4\\u05EA\\u05D7\\u05D9\\u05DC \\u05D1"${i.prefix}"`:i.format==="ends_with"?`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05D4\\u05E1\\u05EA\\u05D9\\u05D9\\u05DD \\u05D1 "${i.suffix}"`:i.format==="includes"?`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05DB\\u05DC\\u05D5\\u05DC "${i.includes}"`:i.format==="regex"?`\\u05DE\\u05D7\\u05E8\\u05D5\\u05D6\\u05EA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05E0\\u05D4: \\u05D7\\u05D9\\u05D9\\u05D1\\u05EA \\u05DC\\u05D4\\u05EA\\u05D0\\u05D9\\u05DD \\u05DC\\u05EA\\u05D1\\u05E0\\u05D9\\u05EA ${i.pattern}`:`${o[i.format]??t.format} \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF`}case"not_multiple_of":return`\\u05DE\\u05E1\\u05E4\\u05E8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF: \\u05D7\\u05D9\\u05D9\\u05D1 \\u05DC\\u05D4\\u05D9\\u05D5\\u05EA \\u05DE\\u05DB\\u05E4\\u05DC\\u05D4 \\u05E9\\u05DC ${t.divisor}`;case"unrecognized_keys":return`\\u05DE\\u05E4\\u05EA\\u05D7${t.keys.length>1?"\\u05D5\\u05EA":""} \\u05DC\\u05D0 \\u05DE\\u05D6\\u05D5\\u05D4${t.keys.length>1?"\\u05D9\\u05DD":"\\u05D4"}: ${l(t.keys,", ")}`;case"invalid_key":return`\\u05DE\\u05E4\\u05EA\\u05D7 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF \\u05D1${t.origin}`;case"invalid_union":return"\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF";case"invalid_element":return`\\u05E2\\u05E8\\u05DA \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF \\u05D1${t.origin}`;default:return"\\u05E7\\u05DC\\u05D8 \\u05DC\\u05D0 \\u05EA\\u05E7\\u05D9\\u05DF"}}};function Du(){return{localeError:Zl()}}var Dl=()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"sz\\xE1m";case"object":{if(Array.isArray(t))return"t\\xF6mb";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"bemenet",email:"email c\\xEDm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO id\\u0151b\\xE9lyeg",date:"ISO d\\xE1tum",time:"ISO id\\u0151",duration:"ISO id\\u0151intervallum",ipv4:"IPv4 c\\xEDm",ipv6:"IPv6 c\\xEDm",cidrv4:"IPv4 tartom\\xE1ny",cidrv6:"IPv6 tartom\\xE1ny",base64:"base64-k\\xF3dolt string",base64url:"base64url-k\\xF3dolt string",json_string:"JSON string",e164:"E.164 sz\\xE1m",jwt:"JWT",template_literal:"bemenet"};return t=>{switch(t.code){case"invalid_type":return`\\xC9rv\\xE9nytelen bemenet: a v\\xE1rt \\xE9rt\\xE9k ${t.expected}, a kapott \\xE9rt\\xE9k ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\xC9rv\\xE9nytelen bemenet: a v\\xE1rt \\xE9rt\\xE9k ${p(t.values[0])}`:`\\xC9rv\\xE9nytelen opci\\xF3: valamelyik \\xE9rt\\xE9k v\\xE1rt ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`T\\xFAl nagy: ${t.origin??"\\xE9rt\\xE9k"} m\\xE9rete t\\xFAl nagy ${i}${t.maximum.toString()} ${a.unit??"elem"}`:`T\\xFAl nagy: a bemeneti \\xE9rt\\xE9k ${t.origin??"\\xE9rt\\xE9k"} t\\xFAl nagy: ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`T\\xFAl kicsi: a bemeneti \\xE9rt\\xE9k ${t.origin} m\\xE9rete t\\xFAl kicsi ${i}${t.minimum.toString()} ${a.unit}`:`T\\xFAl kicsi: a bemeneti \\xE9rt\\xE9k ${t.origin} t\\xFAl kicsi ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\xC9rv\\xE9nytelen string: "${i.prefix}" \\xE9rt\\xE9kkel kell kezd\\u0151dnie`:i.format==="ends_with"?`\\xC9rv\\xE9nytelen string: "${i.suffix}" \\xE9rt\\xE9kkel kell v\\xE9gz\\u0151dnie`:i.format==="includes"?`\\xC9rv\\xE9nytelen string: "${i.includes}" \\xE9rt\\xE9ket kell tartalmaznia`:i.format==="regex"?`\\xC9rv\\xE9nytelen string: ${i.pattern} mint\\xE1nak kell megfelelnie`:`\\xC9rv\\xE9nytelen ${o[i.format]??t.format}`}case"not_multiple_of":return`\\xC9rv\\xE9nytelen sz\\xE1m: ${t.divisor} t\\xF6bbsz\\xF6r\\xF6s\\xE9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${t.keys.length>1?"s":""}: ${l(t.keys,", ")}`;case"invalid_key":return`\\xC9rv\\xE9nytelen kulcs ${t.origin}`;case"invalid_union":return"\\xC9rv\\xE9nytelen bemenet";case"invalid_element":return`\\xC9rv\\xE9nytelen \\xE9rt\\xE9k: ${t.origin}`;default:return"\\xC9rv\\xE9nytelen bemenet"}}};function Tu(){return{localeError:Dl()}}var Tl=()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return t=>{switch(t.code){case"invalid_type":return`Input tidak valid: diharapkan ${t.expected}, diterima ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Input tidak valid: diharapkan ${p(t.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Terlalu besar: diharapkan ${t.origin??"value"} memiliki ${i}${t.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: diharapkan ${t.origin??"value"} menjadi ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Terlalu kecil: diharapkan ${t.origin} memiliki ${i}${t.minimum.toString()} ${a.unit}`:`Terlalu kecil: diharapkan ${t.origin} menjadi ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`String tidak valid: harus dimulai dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak valid: harus berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak valid: harus menyertakan "${i.includes}"`:i.format==="regex"?`String tidak valid: harus sesuai pola ${i.pattern}`:`${o[i.format]??t.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${t.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${t.keys.length>1?"s":""}: ${l(t.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${t.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${t.origin}`;default:return"Input tidak valid"}}};function Eu(){return{localeError:Tl()}}var El=e=>{let r=typeof e;switch(r){case"number":return Number.isNaN(e)?"NaN":"n\\xFAmer";case"object":{if(Array.isArray(e))return"fylki";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return r},Al=()=>{let e={string:{unit:"stafi",verb:"a\\xF0 hafa"},file:{unit:"b\\xE6ti",verb:"a\\xF0 hafa"},array:{unit:"hluti",verb:"a\\xF0 hafa"},set:{unit:"hluti",verb:"a\\xF0 hafa"}};function r(o){return e[o]??null}let n={regex:"gildi",email:"netfang",url:"vefsl\\xF3\\xF0",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og t\\xEDmi",date:"ISO dagsetning",time:"ISO t\\xEDmi",duration:"ISO t\\xEDmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 t\\xF6lugildi",jwt:"JWT",template_literal:"gildi"};return o=>{switch(o.code){case"invalid_type":return`Rangt gildi: \\xDE\\xFA sl\\xF3st inn ${El(o.input)} \\xFEar sem \\xE1 a\\xF0 vera ${o.expected}`;case"invalid_value":return o.values.length===1?`Rangt gildi: gert r\\xE1\\xF0 fyrir ${p(o.values[0])}`:`\\xD3gilt val: m\\xE1 vera eitt af eftirfarandi ${l(o.values,"|")}`;case"too_big":{let t=o.inclusive?"<=":"<",i=r(o.origin);return i?`Of st\\xF3rt: gert er r\\xE1\\xF0 fyrir a\\xF0 ${o.origin??"gildi"} hafi ${t}${o.maximum.toString()} ${i.unit??"hluti"}`:`Of st\\xF3rt: gert er r\\xE1\\xF0 fyrir a\\xF0 ${o.origin??"gildi"} s\\xE9 ${t}${o.maximum.toString()}`}case"too_small":{let t=o.inclusive?">=":">",i=r(o.origin);return i?`Of l\\xEDti\\xF0: gert er r\\xE1\\xF0 fyrir a\\xF0 ${o.origin} hafi ${t}${o.minimum.toString()} ${i.unit}`:`Of l\\xEDti\\xF0: gert er r\\xE1\\xF0 fyrir a\\xF0 ${o.origin} s\\xE9 ${t}${o.minimum.toString()}`}case"invalid_format":{let t=o;return t.format==="starts_with"?`\\xD3gildur strengur: ver\\xF0ur a\\xF0 byrja \\xE1 "${t.prefix}"`:t.format==="ends_with"?`\\xD3gildur strengur: ver\\xF0ur a\\xF0 enda \\xE1 "${t.suffix}"`:t.format==="includes"?`\\xD3gildur strengur: ver\\xF0ur a\\xF0 innihalda "${t.includes}"`:t.format==="regex"?`\\xD3gildur strengur: ver\\xF0ur a\\xF0 fylgja mynstri ${t.pattern}`:`Rangt ${n[t.format]??o.format}`}case"not_multiple_of":return`R\\xF6ng tala: ver\\xF0ur a\\xF0 vera margfeldi af ${o.divisor}`;case"unrecognized_keys":return`\\xD3\\xFEekkt ${o.keys.length>1?"ir lyklar":"ur lykill"}: ${l(o.keys,", ")}`;case"invalid_key":return`Rangur lykill \\xED ${o.origin}`;case"invalid_union":return"Rangt gildi";case"invalid_element":return`Rangt gildi \\xED ${o.origin}`;default:return"Rangt gildi"}}};function Au(){return{localeError:Al()}}var Rl=()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"numero";case"object":{if(Array.isArray(t))return"vettore";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return t=>{switch(t.code){case"invalid_type":return`Input non valido: atteso ${t.expected}, ricevuto ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Input non valido: atteso ${p(t.values[0])}`:`Opzione non valida: atteso uno tra ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Troppo grande: ${t.origin??"valore"} deve avere ${i}${t.maximum.toString()} ${a.unit??"elementi"}`:`Troppo grande: ${t.origin??"valore"} deve essere ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Troppo piccolo: ${t.origin} deve avere ${i}${t.minimum.toString()} ${a.unit}`:`Troppo piccolo: ${t.origin} deve essere ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Stringa non valida: deve iniziare con "${i.prefix}"`:i.format==="ends_with"?`Stringa non valida: deve terminare con "${i.suffix}"`:i.format==="includes"?`Stringa non valida: deve includere "${i.includes}"`:i.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${i.pattern}`:`Invalid ${o[i.format]??t.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${t.divisor}`;case"unrecognized_keys":return`Chiav${t.keys.length>1?"i":"e"} non riconosciut${t.keys.length>1?"e":"a"}: ${l(t.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${t.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${t.origin}`;default:return"Input non valido"}}};function Ru(){return{localeError:Rl()}}var Ll=()=>{let e={string:{unit:"\\u6587\\u5B57",verb:"\\u3067\\u3042\\u308B"},file:{unit:"\\u30D0\\u30A4\\u30C8",verb:"\\u3067\\u3042\\u308B"},array:{unit:"\\u8981\\u7D20",verb:"\\u3067\\u3042\\u308B"},set:{unit:"\\u8981\\u7D20",verb:"\\u3067\\u3042\\u308B"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u6570\\u5024";case"object":{if(Array.isArray(t))return"\\u914D\\u5217";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u5165\\u529B\\u5024",email:"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9",url:"URL",emoji:"\\u7D75\\u6587\\u5B57",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\\u65E5\\u6642",date:"ISO\\u65E5\\u4ED8",time:"ISO\\u6642\\u523B",duration:"ISO\\u671F\\u9593",ipv4:"IPv4\\u30A2\\u30C9\\u30EC\\u30B9",ipv6:"IPv6\\u30A2\\u30C9\\u30EC\\u30B9",cidrv4:"IPv4\\u7BC4\\u56F2",cidrv6:"IPv6\\u7BC4\\u56F2",base64:"base64\\u30A8\\u30F3\\u30B3\\u30FC\\u30C9\\u6587\\u5B57\\u5217",base64url:"base64url\\u30A8\\u30F3\\u30B3\\u30FC\\u30C9\\u6587\\u5B57\\u5217",json_string:"JSON\\u6587\\u5B57\\u5217",e164:"E.164\\u756A\\u53F7",jwt:"JWT",template_literal:"\\u5165\\u529B\\u5024"};return t=>{switch(t.code){case"invalid_type":return`\\u7121\\u52B9\\u306A\\u5165\\u529B: ${t.expected}\\u304C\\u671F\\u5F85\\u3055\\u308C\\u307E\\u3057\\u305F\\u304C\\u3001${n(t.input)}\\u304C\\u5165\\u529B\\u3055\\u308C\\u307E\\u3057\\u305F`;case"invalid_value":return t.values.length===1?`\\u7121\\u52B9\\u306A\\u5165\\u529B: ${p(t.values[0])}\\u304C\\u671F\\u5F85\\u3055\\u308C\\u307E\\u3057\\u305F`:`\\u7121\\u52B9\\u306A\\u9078\\u629E: ${l(t.values,"\\u3001")}\\u306E\\u3044\\u305A\\u308C\\u304B\\u3067\\u3042\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`;case"too_big":{let i=t.inclusive?"\\u4EE5\\u4E0B\\u3067\\u3042\\u308B":"\\u3088\\u308A\\u5C0F\\u3055\\u3044",a=r(t.origin);return a?`\\u5927\\u304D\\u3059\\u304E\\u308B\\u5024: ${t.origin??"\\u5024"}\\u306F${t.maximum.toString()}${a.unit??"\\u8981\\u7D20"}${i}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`:`\\u5927\\u304D\\u3059\\u304E\\u308B\\u5024: ${t.origin??"\\u5024"}\\u306F${t.maximum.toString()}${i}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`}case"too_small":{let i=t.inclusive?"\\u4EE5\\u4E0A\\u3067\\u3042\\u308B":"\\u3088\\u308A\\u5927\\u304D\\u3044",a=r(t.origin);return a?`\\u5C0F\\u3055\\u3059\\u304E\\u308B\\u5024: ${t.origin}\\u306F${t.minimum.toString()}${a.unit}${i}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`:`\\u5C0F\\u3055\\u3059\\u304E\\u308B\\u5024: ${t.origin}\\u306F${t.minimum.toString()}${i}\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: "${i.prefix}"\\u3067\\u59CB\\u307E\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`:i.format==="ends_with"?`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: "${i.suffix}"\\u3067\\u7D42\\u308F\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`:i.format==="includes"?`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: "${i.includes}"\\u3092\\u542B\\u3080\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`:i.format==="regex"?`\\u7121\\u52B9\\u306A\\u6587\\u5B57\\u5217: \\u30D1\\u30BF\\u30FC\\u30F3${i.pattern}\\u306B\\u4E00\\u81F4\\u3059\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`:`\\u7121\\u52B9\\u306A${o[i.format]??t.format}`}case"not_multiple_of":return`\\u7121\\u52B9\\u306A\\u6570\\u5024: ${t.divisor}\\u306E\\u500D\\u6570\\u3067\\u3042\\u308B\\u5FC5\\u8981\\u304C\\u3042\\u308A\\u307E\\u3059`;case"unrecognized_keys":return`\\u8A8D\\u8B58\\u3055\\u308C\\u3066\\u3044\\u306A\\u3044\\u30AD\\u30FC${t.keys.length>1?"\\u7FA4":""}: ${l(t.keys,"\\u3001")}`;case"invalid_key":return`${t.origin}\\u5185\\u306E\\u7121\\u52B9\\u306A\\u30AD\\u30FC`;case"invalid_union":return"\\u7121\\u52B9\\u306A\\u5165\\u529B";case"invalid_element":return`${t.origin}\\u5185\\u306E\\u7121\\u52B9\\u306A\\u5024`;default:return"\\u7121\\u52B9\\u306A\\u5165\\u529B"}}};function Lu(){return{localeError:Ll()}}var Cl=e=>{let r=typeof e;switch(r){case"number":return Number.isNaN(e)?"NaN":"\\u10E0\\u10D8\\u10EA\\u10EE\\u10D5\\u10D8";case"object":{if(Array.isArray(e))return"\\u10DB\\u10D0\\u10E1\\u10D8\\u10D5\\u10D8";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return{string:"\\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",boolean:"\\u10D1\\u10E3\\u10DA\\u10D4\\u10D0\\u10DC\\u10D8",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:"\\u10E4\\u10E3\\u10DC\\u10E5\\u10EA\\u10D8\\u10D0"}[r]??r},Vl=()=>{let e={string:{unit:"\\u10E1\\u10D8\\u10DB\\u10D1\\u10DD\\u10DA\\u10DD",verb:"\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"},file:{unit:"\\u10D1\\u10D0\\u10D8\\u10E2\\u10D8",verb:"\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"},array:{unit:"\\u10D4\\u10DA\\u10D4\\u10DB\\u10D4\\u10DC\\u10E2\\u10D8",verb:"\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"},set:{unit:"\\u10D4\\u10DA\\u10D4\\u10DB\\u10D4\\u10DC\\u10E2\\u10D8",verb:"\\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1"}};function r(o){return e[o]??null}let n={regex:"\\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0",email:"\\u10D4\\u10DA-\\u10E4\\u10DD\\u10E1\\u10E2\\u10D8\\u10E1 \\u10DB\\u10D8\\u10E1\\u10D0\\u10DB\\u10D0\\u10E0\\u10D7\\u10D8",url:"URL",emoji:"\\u10D4\\u10DB\\u10DD\\u10EF\\u10D8",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u10D7\\u10D0\\u10E0\\u10D8\\u10E6\\u10D8-\\u10D3\\u10E0\\u10DD",date:"\\u10D7\\u10D0\\u10E0\\u10D8\\u10E6\\u10D8",time:"\\u10D3\\u10E0\\u10DD",duration:"\\u10EE\\u10D0\\u10DC\\u10D2\\u10E0\\u10EB\\u10DA\\u10D8\\u10D5\\u10DD\\u10D1\\u10D0",ipv4:"IPv4 \\u10DB\\u10D8\\u10E1\\u10D0\\u10DB\\u10D0\\u10E0\\u10D7\\u10D8",ipv6:"IPv6 \\u10DB\\u10D8\\u10E1\\u10D0\\u10DB\\u10D0\\u10E0\\u10D7\\u10D8",cidrv4:"IPv4 \\u10D3\\u10D8\\u10D0\\u10DE\\u10D0\\u10D6\\u10DD\\u10DC\\u10D8",cidrv6:"IPv6 \\u10D3\\u10D8\\u10D0\\u10DE\\u10D0\\u10D6\\u10DD\\u10DC\\u10D8",base64:"base64-\\u10D9\\u10DD\\u10D3\\u10D8\\u10E0\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",base64url:"base64url-\\u10D9\\u10DD\\u10D3\\u10D8\\u10E0\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",json_string:"JSON \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8",e164:"E.164 \\u10DC\\u10DD\\u10DB\\u10D4\\u10E0\\u10D8",jwt:"JWT",template_literal:"\\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0"};return o=>{switch(o.code){case"invalid_type":return`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 ${o.expected}, \\u10DB\\u10D8\\u10E6\\u10D4\\u10D1\\u10E3\\u10DA\\u10D8 ${Cl(o.input)}`;case"invalid_value":return o.values.length===1?`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 ${p(o.values[0])}`:`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10D5\\u10D0\\u10E0\\u10D8\\u10D0\\u10DC\\u10E2\\u10D8: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8\\u10D0 \\u10D4\\u10E0\\u10D7-\\u10D4\\u10E0\\u10D7\\u10D8 ${l(o.values,"|")}-\\u10D3\\u10D0\\u10DC`;case"too_big":{let t=o.inclusive?"<=":"<",i=r(o.origin);return i?`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10D3\\u10D8\\u10D3\\u10D8: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 ${o.origin??"\\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0"} ${i.verb} ${t}${o.maximum.toString()} ${i.unit}`:`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10D3\\u10D8\\u10D3\\u10D8: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 ${o.origin??"\\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0"} \\u10D8\\u10E7\\u10DD\\u10E1 ${t}${o.maximum.toString()}`}case"too_small":{let t=o.inclusive?">=":">",i=r(o.origin);return i?`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10DE\\u10D0\\u10E2\\u10D0\\u10E0\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 ${o.origin} ${i.verb} ${t}${o.minimum.toString()} ${i.unit}`:`\\u10D6\\u10D4\\u10D3\\u10DB\\u10D4\\u10E2\\u10D0\\u10D3 \\u10DE\\u10D0\\u10E2\\u10D0\\u10E0\\u10D0: \\u10DB\\u10DD\\u10E1\\u10D0\\u10DA\\u10DD\\u10D3\\u10DC\\u10D4\\u10DA\\u10D8 ${o.origin} \\u10D8\\u10E7\\u10DD\\u10E1 ${t}${o.minimum.toString()}`}case"invalid_format":{let t=o;return t.format==="starts_with"?`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10D8\\u10EC\\u10E7\\u10D4\\u10D1\\u10DD\\u10D3\\u10D4\\u10E1 "${t.prefix}"-\\u10D8\\u10D7`:t.format==="ends_with"?`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10DB\\u10D7\\u10D0\\u10D5\\u10E0\\u10D3\\u10D4\\u10D1\\u10DD\\u10D3\\u10D4\\u10E1 "${t.suffix}"-\\u10D8\\u10D7`:t.format==="includes"?`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D8\\u10EA\\u10D0\\u10D5\\u10D3\\u10D4\\u10E1 "${t.includes}"-\\u10E1`:t.format==="regex"?`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E1\\u10E2\\u10E0\\u10D8\\u10DC\\u10D2\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10E8\\u10D4\\u10D4\\u10E1\\u10D0\\u10D1\\u10D0\\u10DB\\u10D4\\u10D1\\u10DD\\u10D3\\u10D4\\u10E1 \\u10E8\\u10D0\\u10D1\\u10DA\\u10DD\\u10DC\\u10E1 ${t.pattern}`:`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 ${n[t.format]??o.format}`}case"not_multiple_of":return`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E0\\u10D8\\u10EA\\u10EE\\u10D5\\u10D8: \\u10E3\\u10DC\\u10D3\\u10D0 \\u10D8\\u10E7\\u10DD\\u10E1 ${o.divisor}-\\u10D8\\u10E1 \\u10EF\\u10D4\\u10E0\\u10D0\\u10D3\\u10D8`;case"unrecognized_keys":return`\\u10E3\\u10EA\\u10DC\\u10DD\\u10D1\\u10D8 \\u10D2\\u10D0\\u10E1\\u10D0\\u10E6\\u10D4\\u10D1${o.keys.length>1?"\\u10D4\\u10D1\\u10D8":"\\u10D8"}: ${l(o.keys,", ")}`;case"invalid_key":return`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10D2\\u10D0\\u10E1\\u10D0\\u10E6\\u10D4\\u10D1\\u10D8 ${o.origin}-\\u10E8\\u10D8`;case"invalid_union":return"\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0";case"invalid_element":return`\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10DB\\u10DC\\u10D8\\u10E8\\u10D5\\u10DC\\u10D4\\u10DA\\u10DD\\u10D1\\u10D0 ${o.origin}-\\u10E8\\u10D8`;default:return"\\u10D0\\u10E0\\u10D0\\u10E1\\u10EC\\u10DD\\u10E0\\u10D8 \\u10E8\\u10D4\\u10E7\\u10D5\\u10D0\\u10DC\\u10D0"}}};function Cu(){return{localeError:Vl()}}var Fl=()=>{let e={string:{unit:"\\u178F\\u17BD\\u17A2\\u1780\\u17D2\\u179F\\u179A",verb:"\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"},file:{unit:"\\u1794\\u17C3",verb:"\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"},array:{unit:"\\u1792\\u17B6\\u178F\\u17BB",verb:"\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"},set:{unit:"\\u1792\\u17B6\\u178F\\u17BB",verb:"\\u1782\\u17BD\\u179A\\u1798\\u17B6\\u1793"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"\\u1798\\u17B7\\u1793\\u1798\\u17C2\\u1793\\u1787\\u17B6\\u179B\\u17C1\\u1781 (NaN)":"\\u179B\\u17C1\\u1781";case"object":{if(Array.isArray(t))return"\\u17A2\\u17B6\\u179A\\u17C1 (Array)";if(t===null)return"\\u1782\\u17D2\\u1798\\u17B6\\u1793\\u178F\\u1798\\u17D2\\u179B\\u17C3 (null)";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B",email:"\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793\\u17A2\\u17CA\\u17B8\\u1798\\u17C2\\u179B",url:"URL",emoji:"\\u179F\\u1789\\u17D2\\u1789\\u17B6\\u17A2\\u17B6\\u179A\\u1798\\u17D2\\u1798\\u178E\\u17CD",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791 \\u1793\\u17B7\\u1784\\u1798\\u17C9\\u17C4\\u1784 ISO",date:"\\u1780\\u17B6\\u179B\\u1794\\u179A\\u17B7\\u1785\\u17D2\\u1786\\u17C1\\u1791 ISO",time:"\\u1798\\u17C9\\u17C4\\u1784 ISO",duration:"\\u179A\\u1799\\u17C8\\u1796\\u17C1\\u179B ISO",ipv4:"\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv4",ipv6:"\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv6",cidrv4:"\\u178A\\u17C2\\u1793\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv4",cidrv6:"\\u178A\\u17C2\\u1793\\u17A2\\u17B6\\u179F\\u1799\\u178A\\u17D2\\u178B\\u17B6\\u1793 IPv6",base64:"\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u17A2\\u17CA\\u17B7\\u1780\\u17BC\\u178A base64",base64url:"\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u17A2\\u17CA\\u17B7\\u1780\\u17BC\\u178A base64url",json_string:"\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A JSON",e164:"\\u179B\\u17C1\\u1781 E.164",jwt:"JWT",template_literal:"\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B"};return t=>{switch(t.code){case"invalid_type":return`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A ${t.expected} \\u1794\\u17C9\\u17BB\\u1793\\u17D2\\u178F\\u17C2\\u1791\\u1791\\u17BD\\u179B\\u1794\\u17B6\\u1793 ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1794\\u1789\\u17D2\\u1785\\u17BC\\u179B\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A ${p(t.values[0])}`:`\\u1787\\u1798\\u17D2\\u179A\\u17BE\\u179F\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1787\\u17B6\\u1798\\u17BD\\u1799\\u1780\\u17D2\\u1793\\u17BB\\u1784\\u1785\\u17C6\\u178E\\u17C4\\u1798 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u1792\\u17C6\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A ${t.origin??"\\u178F\\u1798\\u17D2\\u179B\\u17C3"} ${i} ${t.maximum.toString()} ${a.unit??"\\u1792\\u17B6\\u178F\\u17BB"}`:`\\u1792\\u17C6\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A ${t.origin??"\\u178F\\u1798\\u17D2\\u179B\\u17C3"} ${i} ${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u178F\\u17BC\\u1785\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A ${t.origin} ${i} ${t.minimum.toString()} ${a.unit}`:`\\u178F\\u17BC\\u1785\\u1796\\u17C1\\u1780\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1780\\u17B6\\u179A ${t.origin} ${i} ${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1785\\u17B6\\u1794\\u17CB\\u1795\\u17D2\\u178F\\u17BE\\u1798\\u178A\\u17C4\\u1799 "${i.prefix}"`:i.format==="ends_with"?`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1794\\u1789\\u17D2\\u1785\\u1794\\u17CB\\u178A\\u17C4\\u1799 "${i.suffix}"`:i.format==="includes"?`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1798\\u17B6\\u1793 "${i.includes}"`:i.format==="regex"?`\\u1781\\u17D2\\u179F\\u17C2\\u17A2\\u1780\\u17D2\\u179F\\u179A\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u178F\\u17C2\\u1795\\u17D2\\u1782\\u17BC\\u1795\\u17D2\\u1782\\u1784\\u1793\\u17B9\\u1784\\u1791\\u1798\\u17D2\\u179A\\u1784\\u17CB\\u178A\\u17C2\\u179B\\u1794\\u17B6\\u1793\\u1780\\u17C6\\u178E\\u178F\\u17CB ${i.pattern}`:`\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u179B\\u17C1\\u1781\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u17D6 \\u178F\\u17D2\\u179A\\u17BC\\u179C\\u178F\\u17C2\\u1787\\u17B6\\u1796\\u17A0\\u17BB\\u1782\\u17BB\\u178E\\u1793\\u17C3 ${t.divisor}`;case"unrecognized_keys":return`\\u179A\\u1780\\u1783\\u17BE\\u1789\\u179F\\u17C4\\u1798\\u17B7\\u1793\\u179F\\u17D2\\u1782\\u17B6\\u179B\\u17CB\\u17D6 ${l(t.keys,", ")}`;case"invalid_key":return`\\u179F\\u17C4\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1793\\u17C5\\u1780\\u17D2\\u1793\\u17BB\\u1784 ${t.origin}`;case"invalid_union":return"\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C";case"invalid_element":return`\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C\\u1793\\u17C5\\u1780\\u17D2\\u1793\\u17BB\\u1784 ${t.origin}`;default:return"\\u1791\\u17B7\\u1793\\u17D2\\u1793\\u1793\\u17D0\\u1799\\u1798\\u17B7\\u1793\\u178F\\u17D2\\u179A\\u17B9\\u1798\\u178F\\u17D2\\u179A\\u17BC\\u179C"}}};function qt(){return{localeError:Fl()}}function Vu(){return qt()}var Jl=()=>{let e={string:{unit:"\\uBB38\\uC790",verb:"to have"},file:{unit:"\\uBC14\\uC774\\uD2B8",verb:"to have"},array:{unit:"\\uAC1C",verb:"to have"},set:{unit:"\\uAC1C",verb:"to have"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\uC785\\uB825",email:"\\uC774\\uBA54\\uC77C \\uC8FC\\uC18C",url:"URL",emoji:"\\uC774\\uBAA8\\uC9C0",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \\uB0A0\\uC9DC\\uC2DC\\uAC04",date:"ISO \\uB0A0\\uC9DC",time:"ISO \\uC2DC\\uAC04",duration:"ISO \\uAE30\\uAC04",ipv4:"IPv4 \\uC8FC\\uC18C",ipv6:"IPv6 \\uC8FC\\uC18C",cidrv4:"IPv4 \\uBC94\\uC704",cidrv6:"IPv6 \\uBC94\\uC704",base64:"base64 \\uC778\\uCF54\\uB529 \\uBB38\\uC790\\uC5F4",base64url:"base64url \\uC778\\uCF54\\uB529 \\uBB38\\uC790\\uC5F4",json_string:"JSON \\uBB38\\uC790\\uC5F4",e164:"E.164 \\uBC88\\uD638",jwt:"JWT",template_literal:"\\uC785\\uB825"};return t=>{switch(t.code){case"invalid_type":return`\\uC798\\uBABB\\uB41C \\uC785\\uB825: \\uC608\\uC0C1 \\uD0C0\\uC785\\uC740 ${t.expected}, \\uBC1B\\uC740 \\uD0C0\\uC785\\uC740 ${n(t.input)}\\uC785\\uB2C8\\uB2E4`;case"invalid_value":return t.values.length===1?`\\uC798\\uBABB\\uB41C \\uC785\\uB825: \\uAC12\\uC740 ${p(t.values[0])} \\uC774\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4`:`\\uC798\\uBABB\\uB41C \\uC635\\uC158: ${l(t.values,"\\uB610\\uB294 ")} \\uC911 \\uD558\\uB098\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4`;case"too_big":{let i=t.inclusive?"\\uC774\\uD558":"\\uBBF8\\uB9CC",a=i==="\\uBBF8\\uB9CC"?"\\uC774\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4":"\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4",u=r(t.origin),s=u?.unit??"\\uC694\\uC18C";return u?`${t.origin??"\\uAC12"}\\uC774 \\uB108\\uBB34 \\uD07D\\uB2C8\\uB2E4: ${t.maximum.toString()}${s} ${i}${a}`:`${t.origin??"\\uAC12"}\\uC774 \\uB108\\uBB34 \\uD07D\\uB2C8\\uB2E4: ${t.maximum.toString()} ${i}${a}`}case"too_small":{let i=t.inclusive?"\\uC774\\uC0C1":"\\uCD08\\uACFC",a=i==="\\uC774\\uC0C1"?"\\uC774\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4":"\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4",u=r(t.origin),s=u?.unit??"\\uC694\\uC18C";return u?`${t.origin??"\\uAC12"}\\uC774 \\uB108\\uBB34 \\uC791\\uC2B5\\uB2C8\\uB2E4: ${t.minimum.toString()}${s} ${i}${a}`:`${t.origin??"\\uAC12"}\\uC774 \\uB108\\uBB34 \\uC791\\uC2B5\\uB2C8\\uB2E4: ${t.minimum.toString()} ${i}${a}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: "${i.prefix}"(\\uC73C)\\uB85C \\uC2DC\\uC791\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4`:i.format==="ends_with"?`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: "${i.suffix}"(\\uC73C)\\uB85C \\uB05D\\uB098\\uC57C \\uD569\\uB2C8\\uB2E4`:i.format==="includes"?`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: "${i.includes}"\\uC744(\\uB97C) \\uD3EC\\uD568\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4`:i.format==="regex"?`\\uC798\\uBABB\\uB41C \\uBB38\\uC790\\uC5F4: \\uC815\\uADDC\\uC2DD ${i.pattern} \\uD328\\uD134\\uACFC \\uC77C\\uCE58\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4`:`\\uC798\\uBABB\\uB41C ${o[i.format]??t.format}`}case"not_multiple_of":return`\\uC798\\uBABB\\uB41C \\uC22B\\uC790: ${t.divisor}\\uC758 \\uBC30\\uC218\\uC5EC\\uC57C \\uD569\\uB2C8\\uB2E4`;case"unrecognized_keys":return`\\uC778\\uC2DD\\uD560 \\uC218 \\uC5C6\\uB294 \\uD0A4: ${l(t.keys,", ")}`;case"invalid_key":return`\\uC798\\uBABB\\uB41C \\uD0A4: ${t.origin}`;case"invalid_union":return"\\uC798\\uBABB\\uB41C \\uC785\\uB825";case"invalid_element":return`\\uC798\\uBABB\\uB41C \\uAC12: ${t.origin}`;default:return"\\uC798\\uBABB\\uB41C \\uC785\\uB825"}}};function Fu(){return{localeError:Jl()}}var Ml=e=>et(typeof e,e),et=(e,r=void 0)=>{switch(e){case"number":return Number.isNaN(r)?"NaN":"skai\\u010Dius";case"bigint":return"sveikasis skai\\u010Dius";case"string":return"eilut\\u0117";case"boolean":return"login\\u0117 reik\\u0161m\\u0117";case"undefined":case"void":return"neapibr\\u0117\\u017Eta reik\\u0161m\\u0117";case"function":return"funkcija";case"symbol":return"simbolis";case"object":return r===void 0?"ne\\u017Einomas objektas":r===null?"nulin\\u0117 reik\\u0161m\\u0117":Array.isArray(r)?"masyvas":Object.getPrototypeOf(r)!==Object.prototype&&r.constructor?r.constructor.name:"objektas";case"null":return"nulin\\u0117 reik\\u0161m\\u0117"}return e},He=e=>e.charAt(0).toUpperCase()+e.slice(1);function Ju(e){let r=Math.abs(e),n=r%10,o=r%100;return o>=11&&o<=19||n===0?"many":n===1?"one":"few"}var Bl=()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli\\u0173"},verb:{smaller:{inclusive:"turi b\\u016Bti ne ilgesn\\u0117 kaip",notInclusive:"turi b\\u016Bti trumpesn\\u0117 kaip"},bigger:{inclusive:"turi b\\u016Bti ne trumpesn\\u0117 kaip",notInclusive:"turi b\\u016Bti ilgesn\\u0117 kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait\\u0173"},verb:{smaller:{inclusive:"turi b\\u016Bti ne didesnis kaip",notInclusive:"turi b\\u016Bti ma\\u017Eesnis kaip"},bigger:{inclusive:"turi b\\u016Bti ne ma\\u017Eesnis kaip",notInclusive:"turi b\\u016Bti didesnis kaip"}}},array:{unit:{one:"element\\u0105",few:"elementus",many:"element\\u0173"},verb:{smaller:{inclusive:"turi tur\\u0117ti ne daugiau kaip",notInclusive:"turi tur\\u0117ti ma\\u017Eiau kaip"},bigger:{inclusive:"turi tur\\u0117ti ne ma\\u017Eiau kaip",notInclusive:"turi tur\\u0117ti daugiau kaip"}}},set:{unit:{one:"element\\u0105",few:"elementus",many:"element\\u0173"},verb:{smaller:{inclusive:"turi tur\\u0117ti ne daugiau kaip",notInclusive:"turi tur\\u0117ti ma\\u017Eiau kaip"},bigger:{inclusive:"turi tur\\u0117ti ne ma\\u017Eiau kaip",notInclusive:"turi tur\\u0117ti daugiau kaip"}}}};function r(o,t,i,a){let u=e[o]??null;return u===null?u:{unit:u.unit[t],verb:u.verb[a][i?"inclusive":"notInclusive"]}}let n={regex:"\\u012Fvestis",email:"el. pa\\u0161to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm\\u0117",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 u\\u017Ekoduota eilut\\u0117",base64url:"base64url u\\u017Ekoduota eilut\\u0117",json_string:"JSON eilut\\u0117",e164:"E.164 numeris",jwt:"JWT",template_literal:"\\u012Fvestis"};return o=>{switch(o.code){case"invalid_type":return`Gautas tipas ${Ml(o.input)}, o tik\\u0117tasi - ${et(o.expected)}`;case"invalid_value":return o.values.length===1?`Privalo b\\u016Bti ${p(o.values[0])}`:`Privalo b\\u016Bti vienas i\\u0161 ${l(o.values,"|")} pasirinkim\\u0173`;case"too_big":{let t=et(o.origin),i=r(o.origin,Ju(Number(o.maximum)),o.inclusive??!1,"smaller");if(i?.verb)return`${He(t??o.origin??"reik\\u0161m\\u0117")} ${i.verb} ${o.maximum.toString()} ${i.unit??"element\\u0173"}`;let a=o.inclusive?"ne didesnis kaip":"ma\\u017Eesnis kaip";return`${He(t??o.origin??"reik\\u0161m\\u0117")} turi b\\u016Bti ${a} ${o.maximum.toString()} ${i?.unit}`}case"too_small":{let t=et(o.origin),i=r(o.origin,Ju(Number(o.minimum)),o.inclusive??!1,"bigger");if(i?.verb)return`${He(t??o.origin??"reik\\u0161m\\u0117")} ${i.verb} ${o.minimum.toString()} ${i.unit??"element\\u0173"}`;let a=o.inclusive?"ne ma\\u017Eesnis kaip":"didesnis kaip";return`${He(t??o.origin??"reik\\u0161m\\u0117")} turi b\\u016Bti ${a} ${o.minimum.toString()} ${i?.unit}`}case"invalid_format":{let t=o;return t.format==="starts_with"?`Eilut\\u0117 privalo prasid\\u0117ti "${t.prefix}"`:t.format==="ends_with"?`Eilut\\u0117 privalo pasibaigti "${t.suffix}"`:t.format==="includes"?`Eilut\\u0117 privalo \\u012Ftraukti "${t.includes}"`:t.format==="regex"?`Eilut\\u0117 privalo atitikti ${t.pattern}`:`Neteisingas ${n[t.format]??o.format}`}case"not_multiple_of":return`Skai\\u010Dius privalo b\\u016Bti ${o.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpa\\u017Eint${o.keys.length>1?"i":"as"} rakt${o.keys.length>1?"ai":"as"}: ${l(o.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":return"Klaidinga \\u012Fvestis";case"invalid_element":{let t=et(o.origin);return`${He(t??o.origin??"reik\\u0161m\\u0117")} turi klaiding\\u0105 \\u012Fvest\\u012F`}default:return"Klaidinga \\u012Fvestis"}}};function Mu(){return{localeError:Bl()}}var Kl=()=>{let e={string:{unit:"\\u0437\\u043D\\u0430\\u0446\\u0438",verb:"\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"},file:{unit:"\\u0431\\u0430\\u0458\\u0442\\u0438",verb:"\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"},array:{unit:"\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438",verb:"\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"},set:{unit:"\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438",verb:"\\u0434\\u0430 \\u0438\\u043C\\u0430\\u0430\\u0442"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u0431\\u0440\\u043E\\u0458";case"object":{if(Array.isArray(t))return"\\u043D\\u0438\\u0437\\u0430";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0432\\u043D\\u0435\\u0441",email:"\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u043D\\u0430 \\u0435-\\u043F\\u043E\\u0448\\u0442\\u0430",url:"URL",emoji:"\\u0435\\u043C\\u043E\\u045F\\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \\u0434\\u0430\\u0442\\u0443\\u043C \\u0438 \\u0432\\u0440\\u0435\\u043C\\u0435",date:"ISO \\u0434\\u0430\\u0442\\u0443\\u043C",time:"ISO \\u0432\\u0440\\u0435\\u043C\\u0435",duration:"ISO \\u0432\\u0440\\u0435\\u043C\\u0435\\u0442\\u0440\\u0430\\u0435\\u045A\\u0435",ipv4:"IPv4 \\u0430\\u0434\\u0440\\u0435\\u0441\\u0430",ipv6:"IPv6 \\u0430\\u0434\\u0440\\u0435\\u0441\\u0430",cidrv4:"IPv4 \\u043E\\u043F\\u0441\\u0435\\u0433",cidrv6:"IPv6 \\u043E\\u043F\\u0441\\u0435\\u0433",base64:"base64-\\u0435\\u043D\\u043A\\u043E\\u0434\\u0438\\u0440\\u0430\\u043D\\u0430 \\u043D\\u0438\\u0437\\u0430",base64url:"base64url-\\u0435\\u043D\\u043A\\u043E\\u0434\\u0438\\u0440\\u0430\\u043D\\u0430 \\u043D\\u0438\\u0437\\u0430",json_string:"JSON \\u043D\\u0438\\u0437\\u0430",e164:"E.164 \\u0431\\u0440\\u043E\\u0458",jwt:"JWT",template_literal:"\\u0432\\u043D\\u0435\\u0441"};return t=>{switch(t.code){case"invalid_type":return`\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0432\\u043D\\u0435\\u0441: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 ${t.expected}, \\u043F\\u0440\\u0438\\u043C\\u0435\\u043D\\u043E ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Invalid input: expected ${p(t.values[0])}`:`\\u0413\\u0440\\u0435\\u0448\\u0430\\u043D\\u0430 \\u043E\\u043F\\u0446\\u0438\\u0458\\u0430: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 \\u0435\\u0434\\u043D\\u0430 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u0433\\u043E\\u043B\\u0435\\u043C: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 ${t.origin??"\\u0432\\u0440\\u0435\\u0434\\u043D\\u043E\\u0441\\u0442\\u0430"} \\u0434\\u0430 \\u0438\\u043C\\u0430 ${i}${t.maximum.toString()} ${a.unit??"\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0438"}`:`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u0433\\u043E\\u043B\\u0435\\u043C: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 ${t.origin??"\\u0432\\u0440\\u0435\\u0434\\u043D\\u043E\\u0441\\u0442\\u0430"} \\u0434\\u0430 \\u0431\\u0438\\u0434\\u0435 ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u043C\\u0430\\u043B: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 ${t.origin} \\u0434\\u0430 \\u0438\\u043C\\u0430 ${i}${t.minimum.toString()} ${a.unit}`:`\\u041F\\u0440\\u0435\\u043C\\u043D\\u043E\\u0433\\u0443 \\u043C\\u0430\\u043B: \\u0441\\u0435 \\u043E\\u0447\\u0435\\u043A\\u0443\\u0432\\u0430 ${t.origin} \\u0434\\u0430 \\u0431\\u0438\\u0434\\u0435 ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0437\\u0430\\u043F\\u043E\\u0447\\u043D\\u0443\\u0432\\u0430 \\u0441\\u043E "${i.prefix}"`:i.format==="ends_with"?`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0437\\u0430\\u0432\\u0440\\u0448\\u0443\\u0432\\u0430 \\u0441\\u043E "${i.suffix}"`:i.format==="includes"?`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0432\\u043A\\u043B\\u0443\\u0447\\u0443\\u0432\\u0430 "${i.includes}"`:i.format==="regex"?`\\u041D\\u0435\\u0432\\u0430\\u0436\\u0435\\u0447\\u043A\\u0430 \\u043D\\u0438\\u0437\\u0430: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u043E\\u0434\\u0433\\u043E\\u0430\\u0440\\u0430 \\u043D\\u0430 \\u043F\\u0430\\u0442\\u0435\\u0440\\u043D\\u043E\\u0442 ${i.pattern}`:`Invalid ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0431\\u0440\\u043E\\u0458: \\u043C\\u043E\\u0440\\u0430 \\u0434\\u0430 \\u0431\\u0438\\u0434\\u0435 \\u0434\\u0435\\u043B\\u0438\\u0432 \\u0441\\u043E ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"\\u041D\\u0435\\u043F\\u0440\\u0435\\u043F\\u043E\\u0437\\u043D\\u0430\\u0435\\u043D\\u0438 \\u043A\\u043B\\u0443\\u0447\\u0435\\u0432\\u0438":"\\u041D\\u0435\\u043F\\u0440\\u0435\\u043F\\u043E\\u0437\\u043D\\u0430\\u0435\\u043D \\u043A\\u043B\\u0443\\u0447"}: ${l(t.keys,", ")}`;case"invalid_key":return`\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u043A\\u043B\\u0443\\u0447 \\u0432\\u043E ${t.origin}`;case"invalid_union":return"\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0432\\u043D\\u0435\\u0441";case"invalid_element":return`\\u0413\\u0440\\u0435\\u0448\\u043D\\u0430 \\u0432\\u0440\\u0435\\u0434\\u043D\\u043E\\u0441\\u0442 \\u0432\\u043E ${t.origin}`;default:return"\\u0413\\u0440\\u0435\\u0448\\u0435\\u043D \\u0432\\u043D\\u0435\\u0441"}}};function Bu(){return{localeError:Kl()}}var Gl=()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"nombor";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return t=>{switch(t.code){case"invalid_type":return`Input tidak sah: dijangka ${t.expected}, diterima ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Input tidak sah: dijangka ${p(t.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Terlalu besar: dijangka ${t.origin??"nilai"} ${a.verb} ${i}${t.maximum.toString()} ${a.unit??"elemen"}`:`Terlalu besar: dijangka ${t.origin??"nilai"} adalah ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Terlalu kecil: dijangka ${t.origin} ${a.verb} ${i}${t.minimum.toString()} ${a.unit}`:`Terlalu kecil: dijangka ${t.origin} adalah ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`String tidak sah: mesti bermula dengan "${i.prefix}"`:i.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${i.suffix}"`:i.format==="includes"?`String tidak sah: mesti mengandungi "${i.includes}"`:i.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${i.pattern}`:`${o[i.format]??t.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${t.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${l(t.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${t.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${t.origin}`;default:return"Input tidak sah"}}};function Ku(){return{localeError:Gl()}}var Wl=()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"getal";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return t=>{switch(t.code){case"invalid_type":return`Ongeldige invoer: verwacht ${t.expected}, ontving ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Ongeldige invoer: verwacht ${p(t.values[0])}`:`Ongeldige optie: verwacht \\xE9\\xE9n van ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Te lang: verwacht dat ${t.origin??"waarde"} ${i}${t.maximum.toString()} ${a.unit??"elementen"} bevat`:`Te lang: verwacht dat ${t.origin??"waarde"} ${i}${t.maximum.toString()} is`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Te kort: verwacht dat ${t.origin} ${i}${t.minimum.toString()} ${a.unit} bevat`:`Te kort: verwacht dat ${t.origin} ${i}${t.minimum.toString()} is`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Ongeldige tekst: moet met "${i.prefix}" beginnen`:i.format==="ends_with"?`Ongeldige tekst: moet op "${i.suffix}" eindigen`:i.format==="includes"?`Ongeldige tekst: moet "${i.includes}" bevatten`:i.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${i.pattern}`:`Ongeldig: ${o[i.format]??t.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${t.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${t.keys.length>1?"s":""}: ${l(t.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${t.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${t.origin}`;default:return"Ongeldige invoer"}}};function Gu(){return{localeError:Wl()}}var Xl=()=>{let e={string:{unit:"tegn",verb:"\\xE5 ha"},file:{unit:"bytes",verb:"\\xE5 ha"},array:{unit:"elementer",verb:"\\xE5 inneholde"},set:{unit:"elementer",verb:"\\xE5 inneholde"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"tall";case"object":{if(Array.isArray(t))return"liste";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omr\\xE5de",ipv6:"IPv6-omr\\xE5de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return t=>{switch(t.code){case"invalid_type":return`Ugyldig input: forventet ${t.expected}, fikk ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Ugyldig verdi: forventet ${p(t.values[0])}`:`Ugyldig valg: forventet en av ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`For stor(t): forventet ${t.origin??"value"} til \\xE5 ha ${i}${t.maximum.toString()} ${a.unit??"elementer"}`:`For stor(t): forventet ${t.origin??"value"} til \\xE5 ha ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`For lite(n): forventet ${t.origin} til \\xE5 ha ${i}${t.minimum.toString()} ${a.unit}`:`For lite(n): forventet ${t.origin} til \\xE5 ha ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Ugyldig streng: m\\xE5 starte med "${i.prefix}"`:i.format==="ends_with"?`Ugyldig streng: m\\xE5 ende med "${i.suffix}"`:i.format==="includes"?`Ugyldig streng: m\\xE5 inneholde "${i.includes}"`:i.format==="regex"?`Ugyldig streng: m\\xE5 matche m\\xF8nsteret ${i.pattern}`:`Ugyldig ${o[i.format]??t.format}`}case"not_multiple_of":return`Ugyldig tall: m\\xE5 v\\xE6re et multiplum av ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"Ukjente n\\xF8kler":"Ukjent n\\xF8kkel"}: ${l(t.keys,", ")}`;case"invalid_key":return`Ugyldig n\\xF8kkel i ${t.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${t.origin}`;default:return"Ugyldig input"}}};function Wu(){return{localeError:Xl()}}var ql=()=>{let e={string:{unit:"harf",verb:"olmal\\u0131d\\u0131r"},file:{unit:"bayt",verb:"olmal\\u0131d\\u0131r"},array:{unit:"unsur",verb:"olmal\\u0131d\\u0131r"},set:{unit:"unsur",verb:"olmal\\u0131d\\u0131r"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"numara";case"object":{if(Array.isArray(t))return"saf";if(t===null)return"gayb";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"giren",email:"epostag\\xE2h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO heng\\xE2m\\u0131",date:"ISO tarihi",time:"ISO zaman\\u0131",duration:"ISO m\\xFCddeti",ipv4:"IPv4 ni\\u015F\\xE2n\\u0131",ipv6:"IPv6 ni\\u015F\\xE2n\\u0131",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-\\u015Fifreli metin",base64url:"base64url-\\u015Fifreli metin",json_string:"JSON metin",e164:"E.164 say\\u0131s\\u0131",jwt:"JWT",template_literal:"giren"};return t=>{switch(t.code){case"invalid_type":return`F\\xE2sit giren: umulan ${t.expected}, al\\u0131nan ${n(t.input)}`;case"invalid_value":return t.values.length===1?`F\\xE2sit giren: umulan ${p(t.values[0])}`:`F\\xE2sit tercih: m\\xFBteberler ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Fazla b\\xFCy\\xFCk: ${t.origin??"value"}, ${i}${t.maximum.toString()} ${a.unit??"elements"} sahip olmal\\u0131yd\\u0131.`:`Fazla b\\xFCy\\xFCk: ${t.origin??"value"}, ${i}${t.maximum.toString()} olmal\\u0131yd\\u0131.`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Fazla k\\xFC\\xE7\\xFCk: ${t.origin}, ${i}${t.minimum.toString()} ${a.unit} sahip olmal\\u0131yd\\u0131.`:`Fazla k\\xFC\\xE7\\xFCk: ${t.origin}, ${i}${t.minimum.toString()} olmal\\u0131yd\\u0131.`}case"invalid_format":{let i=t;return i.format==="starts_with"?`F\\xE2sit metin: "${i.prefix}" ile ba\\u015Flamal\\u0131.`:i.format==="ends_with"?`F\\xE2sit metin: "${i.suffix}" ile bitmeli.`:i.format==="includes"?`F\\xE2sit metin: "${i.includes}" ihtiv\\xE2 etmeli.`:i.format==="regex"?`F\\xE2sit metin: ${i.pattern} nak\\u015F\\u0131na uymal\\u0131.`:`F\\xE2sit ${o[i.format]??t.format}`}case"not_multiple_of":return`F\\xE2sit say\\u0131: ${t.divisor} kat\\u0131 olmal\\u0131yd\\u0131.`;case"unrecognized_keys":return`Tan\\u0131nmayan anahtar ${t.keys.length>1?"s":""}: ${l(t.keys,", ")}`;case"invalid_key":return`${t.origin} i\\xE7in tan\\u0131nmayan anahtar var.`;case"invalid_union":return"Giren tan\\u0131namad\\u0131.";case"invalid_element":return`${t.origin} i\\xE7in tan\\u0131nmayan k\\u0131ymet var.`;default:return"K\\u0131ymet tan\\u0131namad\\u0131."}}};function Xu(){return{localeError:ql()}}var Yl=()=>{let e={string:{unit:"\\u062A\\u0648\\u06A9\\u064A",verb:"\\u0648\\u0644\\u0631\\u064A"},file:{unit:"\\u0628\\u0627\\u06CC\\u067C\\u0633",verb:"\\u0648\\u0644\\u0631\\u064A"},array:{unit:"\\u062A\\u0648\\u06A9\\u064A",verb:"\\u0648\\u0644\\u0631\\u064A"},set:{unit:"\\u062A\\u0648\\u06A9\\u064A",verb:"\\u0648\\u0644\\u0631\\u064A"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u0639\\u062F\\u062F";case"object":{if(Array.isArray(t))return"\\u0627\\u0631\\u06D0";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0648\\u0631\\u0648\\u062F\\u064A",email:"\\u0628\\u0631\\u06CC\\u069A\\u0646\\u0627\\u0644\\u06CC\\u06A9",url:"\\u06CC\\u0648 \\u0622\\u0631 \\u0627\\u0644",emoji:"\\u0627\\u06CC\\u0645\\u0648\\u062C\\u064A",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u0646\\u06CC\\u067C\\u0647 \\u0627\\u0648 \\u0648\\u062E\\u062A",date:"\\u0646\\u06D0\\u067C\\u0647",time:"\\u0648\\u062E\\u062A",duration:"\\u0645\\u0648\\u062F\\u0647",ipv4:"\\u062F IPv4 \\u067E\\u062A\\u0647",ipv6:"\\u062F IPv6 \\u067E\\u062A\\u0647",cidrv4:"\\u062F IPv4 \\u0633\\u0627\\u062D\\u0647",cidrv6:"\\u062F IPv6 \\u0633\\u0627\\u062D\\u0647",base64:"base64-encoded \\u0645\\u062A\\u0646",base64url:"base64url-encoded \\u0645\\u062A\\u0646",json_string:"JSON \\u0645\\u062A\\u0646",e164:"\\u062F E.164 \\u0634\\u0645\\u06D0\\u0631\\u0647",jwt:"JWT",template_literal:"\\u0648\\u0631\\u0648\\u062F\\u064A"};return t=>{switch(t.code){case"invalid_type":return`\\u0646\\u0627\\u0633\\u0645 \\u0648\\u0631\\u0648\\u062F\\u064A: \\u0628\\u0627\\u06CC\\u062F ${t.expected} \\u0648\\u0627\\u06CC, \\u0645\\u06AB\\u0631 ${n(t.input)} \\u062A\\u0631\\u0644\\u0627\\u0633\\u0647 \\u0634\\u0648`;case"invalid_value":return t.values.length===1?`\\u0646\\u0627\\u0633\\u0645 \\u0648\\u0631\\u0648\\u062F\\u064A: \\u0628\\u0627\\u06CC\\u062F ${p(t.values[0])} \\u0648\\u0627\\u06CC`:`\\u0646\\u0627\\u0633\\u0645 \\u0627\\u0646\\u062A\\u062E\\u0627\\u0628: \\u0628\\u0627\\u06CC\\u062F \\u06CC\\u0648 \\u0644\\u0647 ${l(t.values,"|")} \\u0685\\u062E\\u0647 \\u0648\\u0627\\u06CC`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u0689\\u06CC\\u0631 \\u0644\\u0648\\u06CC: ${t.origin??"\\u0627\\u0631\\u0632\\u069A\\u062A"} \\u0628\\u0627\\u06CC\\u062F ${i}${t.maximum.toString()} ${a.unit??"\\u0639\\u0646\\u0635\\u0631\\u0648\\u0646\\u0647"} \\u0648\\u0644\\u0631\\u064A`:`\\u0689\\u06CC\\u0631 \\u0644\\u0648\\u06CC: ${t.origin??"\\u0627\\u0631\\u0632\\u069A\\u062A"} \\u0628\\u0627\\u06CC\\u062F ${i}${t.maximum.toString()} \\u0648\\u064A`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u0689\\u06CC\\u0631 \\u06A9\\u0648\\u0686\\u0646\\u06CC: ${t.origin} \\u0628\\u0627\\u06CC\\u062F ${i}${t.minimum.toString()} ${a.unit} \\u0648\\u0644\\u0631\\u064A`:`\\u0689\\u06CC\\u0631 \\u06A9\\u0648\\u0686\\u0646\\u06CC: ${t.origin} \\u0628\\u0627\\u06CC\\u062F ${i}${t.minimum.toString()} \\u0648\\u064A`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F \\u062F "${i.prefix}" \\u0633\\u0631\\u0647 \\u067E\\u06CC\\u0644 \\u0634\\u064A`:i.format==="ends_with"?`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F \\u062F "${i.suffix}" \\u0633\\u0631\\u0647 \\u067E\\u0627\\u06CC \\u062A\\u0647 \\u0648\\u0631\\u0633\\u064A\\u0696\\u064A`:i.format==="includes"?`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F "${i.includes}" \\u0648\\u0644\\u0631\\u064A`:i.format==="regex"?`\\u0646\\u0627\\u0633\\u0645 \\u0645\\u062A\\u0646: \\u0628\\u0627\\u06CC\\u062F \\u062F ${i.pattern} \\u0633\\u0631\\u0647 \\u0645\\u0637\\u0627\\u0628\\u0642\\u062A \\u0648\\u0644\\u0631\\u064A`:`${o[i.format]??t.format} \\u0646\\u0627\\u0633\\u0645 \\u062F\\u06CC`}case"not_multiple_of":return`\\u0646\\u0627\\u0633\\u0645 \\u0639\\u062F\\u062F: \\u0628\\u0627\\u06CC\\u062F \\u062F ${t.divisor} \\u0645\\u0636\\u0631\\u0628 \\u0648\\u064A`;case"unrecognized_keys":return`\\u0646\\u0627\\u0633\\u0645 ${t.keys.length>1?"\\u06A9\\u0644\\u06CC\\u0689\\u0648\\u0646\\u0647":"\\u06A9\\u0644\\u06CC\\u0689"}: ${l(t.keys,", ")}`;case"invalid_key":return`\\u0646\\u0627\\u0633\\u0645 \\u06A9\\u0644\\u06CC\\u0689 \\u067E\\u0647 ${t.origin} \\u06A9\\u06D0`;case"invalid_union":return"\\u0646\\u0627\\u0633\\u0645\\u0647 \\u0648\\u0631\\u0648\\u062F\\u064A";case"invalid_element":return`\\u0646\\u0627\\u0633\\u0645 \\u0639\\u0646\\u0635\\u0631 \\u067E\\u0647 ${t.origin} \\u06A9\\u06D0`;default:return"\\u0646\\u0627\\u0633\\u0645\\u0647 \\u0648\\u0631\\u0648\\u062F\\u064A"}}};function qu(){return{localeError:Yl()}}var Ql=()=>{let e={string:{unit:"znak\\xF3w",verb:"mie\\u0107"},file:{unit:"bajt\\xF3w",verb:"mie\\u0107"},array:{unit:"element\\xF3w",verb:"mie\\u0107"},set:{unit:"element\\xF3w",verb:"mie\\u0107"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"liczba";case"object":{if(Array.isArray(t))return"tablica";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"wyra\\u017Cenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ci\\u0105g znak\\xF3w zakodowany w formacie base64",base64url:"ci\\u0105g znak\\xF3w zakodowany w formacie base64url",json_string:"ci\\u0105g znak\\xF3w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wej\\u015Bcie"};return t=>{switch(t.code){case"invalid_type":return`Nieprawid\\u0142owe dane wej\\u015Bciowe: oczekiwano ${t.expected}, otrzymano ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Nieprawid\\u0142owe dane wej\\u015Bciowe: oczekiwano ${p(t.values[0])}`:`Nieprawid\\u0142owa opcja: oczekiwano jednej z warto\\u015Bci ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Za du\\u017Ca warto\\u015B\\u0107: oczekiwano, \\u017Ce ${t.origin??"warto\\u015B\\u0107"} b\\u0119dzie mie\\u0107 ${i}${t.maximum.toString()} ${a.unit??"element\\xF3w"}`:`Zbyt du\\u017C(y/a/e): oczekiwano, \\u017Ce ${t.origin??"warto\\u015B\\u0107"} b\\u0119dzie wynosi\\u0107 ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Za ma\\u0142a warto\\u015B\\u0107: oczekiwano, \\u017Ce ${t.origin??"warto\\u015B\\u0107"} b\\u0119dzie mie\\u0107 ${i}${t.minimum.toString()} ${a.unit??"element\\xF3w"}`:`Zbyt ma\\u0142(y/a/e): oczekiwano, \\u017Ce ${t.origin??"warto\\u015B\\u0107"} b\\u0119dzie wynosi\\u0107 ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi zaczyna\\u0107 si\\u0119 od "${i.prefix}"`:i.format==="ends_with"?`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi ko\\u0144czy\\u0107 si\\u0119 na "${i.suffix}"`:i.format==="includes"?`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi zawiera\\u0107 "${i.includes}"`:i.format==="regex"?`Nieprawid\\u0142owy ci\\u0105g znak\\xF3w: musi odpowiada\\u0107 wzorcowi ${i.pattern}`:`Nieprawid\\u0142ow(y/a/e) ${o[i.format]??t.format}`}case"not_multiple_of":return`Nieprawid\\u0142owa liczba: musi by\\u0107 wielokrotno\\u015Bci\\u0105 ${t.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${t.keys.length>1?"s":""}: ${l(t.keys,", ")}`;case"invalid_key":return`Nieprawid\\u0142owy klucz w ${t.origin}`;case"invalid_union":return"Nieprawid\\u0142owe dane wej\\u015Bciowe";case"invalid_element":return`Nieprawid\\u0142owa warto\\u015B\\u0107 w ${t.origin}`;default:return"Nieprawid\\u0142owe dane wej\\u015Bciowe"}}};function Yu(){return{localeError:Ql()}}var Hl=()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"n\\xFAmero";case"object":{if(Array.isArray(t))return"array";if(t===null)return"nulo";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"padr\\xE3o",email:"endere\\xE7o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"dura\\xE7\\xE3o ISO",ipv4:"endere\\xE7o IPv4",ipv6:"endere\\xE7o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"n\\xFAmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Tipo inv\\xE1lido: esperado ${t.expected}, recebido ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Entrada inv\\xE1lida: esperado ${p(t.values[0])}`:`Op\\xE7\\xE3o inv\\xE1lida: esperada uma das ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Muito grande: esperado que ${t.origin??"valor"} tivesse ${i}${t.maximum.toString()} ${a.unit??"elementos"}`:`Muito grande: esperado que ${t.origin??"valor"} fosse ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Muito pequeno: esperado que ${t.origin} tivesse ${i}${t.minimum.toString()} ${a.unit}`:`Muito pequeno: esperado que ${t.origin} fosse ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Texto inv\\xE1lido: deve come\\xE7ar com "${i.prefix}"`:i.format==="ends_with"?`Texto inv\\xE1lido: deve terminar com "${i.suffix}"`:i.format==="includes"?`Texto inv\\xE1lido: deve incluir "${i.includes}"`:i.format==="regex"?`Texto inv\\xE1lido: deve corresponder ao padr\\xE3o ${i.pattern}`:`${o[i.format]??t.format} inv\\xE1lido`}case"not_multiple_of":return`N\\xFAmero inv\\xE1lido: deve ser m\\xFAltiplo de ${t.divisor}`;case"unrecognized_keys":return`Chave${t.keys.length>1?"s":""} desconhecida${t.keys.length>1?"s":""}: ${l(t.keys,", ")}`;case"invalid_key":return`Chave inv\\xE1lida em ${t.origin}`;case"invalid_union":return"Entrada inv\\xE1lida";case"invalid_element":return`Valor inv\\xE1lido em ${t.origin}`;default:return"Campo inv\\xE1lido"}}};function Qu(){return{localeError:Hl()}}function Hu(e,r,n,o){let t=Math.abs(e),i=t%10,a=t%100;return a>=11&&a<=19?o:i===1?r:i>=2&&i<=4?n:o}var ed=()=>{let e={string:{unit:{one:"\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B",few:"\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u0430",many:"\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432"},verb:"\\u0438\\u043C\\u0435\\u0442\\u044C"},file:{unit:{one:"\\u0431\\u0430\\u0439\\u0442",few:"\\u0431\\u0430\\u0439\\u0442\\u0430",many:"\\u0431\\u0430\\u0439\\u0442"},verb:"\\u0438\\u043C\\u0435\\u0442\\u044C"},array:{unit:{one:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",few:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430",many:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432"},verb:"\\u0438\\u043C\\u0435\\u0442\\u044C"},set:{unit:{one:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442",few:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0430",many:"\\u044D\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432"},verb:"\\u0438\\u043C\\u0435\\u0442\\u044C"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u0447\\u0438\\u0441\\u043B\\u043E";case"object":{if(Array.isArray(t))return"\\u043C\\u0430\\u0441\\u0441\\u0438\\u0432";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0432\\u0432\\u043E\\u0434",email:"email \\u0430\\u0434\\u0440\\u0435\\u0441",url:"URL",emoji:"\\u044D\\u043C\\u043E\\u0434\\u0437\\u0438",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \\u0434\\u0430\\u0442\\u0430 \\u0438 \\u0432\\u0440\\u0435\\u043C\\u044F",date:"ISO \\u0434\\u0430\\u0442\\u0430",time:"ISO \\u0432\\u0440\\u0435\\u043C\\u044F",duration:"ISO \\u0434\\u043B\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C",ipv4:"IPv4 \\u0430\\u0434\\u0440\\u0435\\u0441",ipv6:"IPv6 \\u0430\\u0434\\u0440\\u0435\\u0441",cidrv4:"IPv4 \\u0434\\u0438\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D",cidrv6:"IPv6 \\u0434\\u0438\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D",base64:"\\u0441\\u0442\\u0440\\u043E\\u043A\\u0430 \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 base64",base64url:"\\u0441\\u0442\\u0440\\u043E\\u043A\\u0430 \\u0432 \\u0444\\u043E\\u0440\\u043C\\u0430\\u0442\\u0435 base64url",json_string:"JSON \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430",e164:"\\u043D\\u043E\\u043C\\u0435\\u0440 E.164",jwt:"JWT",template_literal:"\\u0432\\u0432\\u043E\\u0434"};return t=>{switch(t.code){case"invalid_type":return`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0432\\u0432\\u043E\\u0434: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C ${t.expected}, \\u043F\\u043E\\u043B\\u0443\\u0447\\u0435\\u043D\\u043E ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0432\\u0432\\u043E\\u0434: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C ${p(t.values[0])}`:`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u0432\\u0430\\u0440\\u0438\\u0430\\u043D\\u0442: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u043E\\u0434\\u043D\\u043E \\u0438\\u0437 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);if(a){let u=Number(t.maximum),s=Hu(u,a.unit.one,a.unit.few,a.unit.many);return`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u0431\\u043E\\u043B\\u044C\\u0448\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E ${t.origin??"\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435"} \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u043C\\u0435\\u0442\\u044C ${i}${t.maximum.toString()} ${s}`}return`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u0431\\u043E\\u043B\\u044C\\u0448\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E ${t.origin??"\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435"} \\u0431\\u0443\\u0434\\u0435\\u0442 ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);if(a){let u=Number(t.minimum),s=Hu(u,a.unit.one,a.unit.few,a.unit.many);return`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043C\\u0430\\u043B\\u0435\\u043D\\u044C\\u043A\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E ${t.origin} \\u0431\\u0443\\u0434\\u0435\\u0442 \\u0438\\u043C\\u0435\\u0442\\u044C ${i}${t.minimum.toString()} ${s}`}return`\\u0421\\u043B\\u0438\\u0448\\u043A\\u043E\\u043C \\u043C\\u0430\\u043B\\u0435\\u043D\\u044C\\u043A\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435: \\u043E\\u0436\\u0438\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C, \\u0447\\u0442\\u043E ${t.origin} \\u0431\\u0443\\u0434\\u0435\\u0442 ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u043D\\u0430\\u0447\\u0438\\u043D\\u0430\\u0442\\u044C\\u0441\\u044F \\u0441 "${i.prefix}"`:i.format==="ends_with"?`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0437\\u0430\\u043A\\u0430\\u043D\\u0447\\u0438\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F \\u043D\\u0430 "${i.suffix}"`:i.format==="includes"?`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C "${i.includes}"`:i.format==="regex"?`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u0430\\u044F \\u0441\\u0442\\u0440\\u043E\\u043A\\u0430: \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0441\\u043E\\u043E\\u0442\\u0432\\u0435\\u0442\\u0441\\u0442\\u0432\\u043E\\u0432\\u0430\\u0442\\u044C \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443 ${i.pattern}`:`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0435 \\u0447\\u0438\\u0441\\u043B\\u043E: \\u0434\\u043E\\u043B\\u0436\\u043D\\u043E \\u0431\\u044B\\u0442\\u044C \\u043A\\u0440\\u0430\\u0442\\u043D\\u044B\\u043C ${t.divisor}`;case"unrecognized_keys":return`\\u041D\\u0435\\u0440\\u0430\\u0441\\u043F\\u043E\\u0437\\u043D\\u0430\\u043D\\u043D${t.keys.length>1?"\\u044B\\u0435":"\\u044B\\u0439"} \\u043A\\u043B\\u044E\\u0447${t.keys.length>1?"\\u0438":""}: ${l(t.keys,", ")}`;case"invalid_key":return`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0439 \\u043A\\u043B\\u044E\\u0447 \\u0432 ${t.origin}`;case"invalid_union":return"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435 \\u0432\\u0445\\u043E\\u0434\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435";case"invalid_element":return`\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u043E\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435 \\u0432 ${t.origin}`;default:return"\\u041D\\u0435\\u0432\\u0435\\u0440\\u043D\\u044B\\u0435 \\u0432\\u0445\\u043E\\u0434\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435"}}};function ec(){return{localeError:ed()}}var td=()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u0161tevilo";case"object":{if(Array.isArray(t))return"tabela";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"vnos",email:"e-po\\u0161tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in \\u010Das",date:"ISO datum",time:"ISO \\u010Das",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 \\u0161tevilka",jwt:"JWT",template_literal:"vnos"};return t=>{switch(t.code){case"invalid_type":return`Neveljaven vnos: pri\\u010Dakovano ${t.expected}, prejeto ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Neveljaven vnos: pri\\u010Dakovano ${p(t.values[0])}`:`Neveljavna mo\\u017Enost: pri\\u010Dakovano eno izmed ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Preveliko: pri\\u010Dakovano, da bo ${t.origin??"vrednost"} imelo ${i}${t.maximum.toString()} ${a.unit??"elementov"}`:`Preveliko: pri\\u010Dakovano, da bo ${t.origin??"vrednost"} ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Premajhno: pri\\u010Dakovano, da bo ${t.origin} imelo ${i}${t.minimum.toString()} ${a.unit}`:`Premajhno: pri\\u010Dakovano, da bo ${t.origin} ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Neveljaven niz: mora se za\\u010Deti z "${i.prefix}"`:i.format==="ends_with"?`Neveljaven niz: mora se kon\\u010Dati z "${i.suffix}"`:i.format==="includes"?`Neveljaven niz: mora vsebovati "${i.includes}"`:i.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${i.pattern}`:`Neveljaven ${o[i.format]??t.format}`}case"not_multiple_of":return`Neveljavno \\u0161tevilo: mora biti ve\\u010Dkratnik ${t.divisor}`;case"unrecognized_keys":return`Neprepoznan${t.keys.length>1?"i klju\\u010Di":" klju\\u010D"}: ${l(t.keys,", ")}`;case"invalid_key":return`Neveljaven klju\\u010D v ${t.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${t.origin}`;default:return"Neveljaven vnos"}}};function tc(){return{localeError:td()}}var rd=()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att inneh\\xE5lla"},set:{unit:"objekt",verb:"att inneh\\xE5lla"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"antal";case"object":{if(Array.isArray(t))return"lista";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"regulj\\xE4rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad str\\xE4ng",base64url:"base64url-kodad str\\xE4ng",json_string:"JSON-str\\xE4ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return t=>{switch(t.code){case"invalid_type":return`Ogiltig inmatning: f\\xF6rv\\xE4ntat ${t.expected}, fick ${n(t.input)}`;case"invalid_value":return t.values.length===1?`Ogiltig inmatning: f\\xF6rv\\xE4ntat ${p(t.values[0])}`:`Ogiltigt val: f\\xF6rv\\xE4ntade en av ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`F\\xF6r stor(t): f\\xF6rv\\xE4ntade ${t.origin??"v\\xE4rdet"} att ha ${i}${t.maximum.toString()} ${a.unit??"element"}`:`F\\xF6r stor(t): f\\xF6rv\\xE4ntat ${t.origin??"v\\xE4rdet"} att ha ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`F\\xF6r lite(t): f\\xF6rv\\xE4ntade ${t.origin??"v\\xE4rdet"} att ha ${i}${t.minimum.toString()} ${a.unit}`:`F\\xF6r lite(t): f\\xF6rv\\xE4ntade ${t.origin??"v\\xE4rdet"} att ha ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Ogiltig str\\xE4ng: m\\xE5ste b\\xF6rja med "${i.prefix}"`:i.format==="ends_with"?`Ogiltig str\\xE4ng: m\\xE5ste sluta med "${i.suffix}"`:i.format==="includes"?`Ogiltig str\\xE4ng: m\\xE5ste inneh\\xE5lla "${i.includes}"`:i.format==="regex"?`Ogiltig str\\xE4ng: m\\xE5ste matcha m\\xF6nstret "${i.pattern}"`:`Ogiltig(t) ${o[i.format]??t.format}`}case"not_multiple_of":return`Ogiltigt tal: m\\xE5ste vara en multipel av ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"Ok\\xE4nda nycklar":"Ok\\xE4nd nyckel"}: ${l(t.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${t.origin??"v\\xE4rdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt v\\xE4rde i ${t.origin??"v\\xE4rdet"}`;default:return"Ogiltig input"}}};function rc(){return{localeError:rd()}}var nd=()=>{let e={string:{unit:"\\u0B8E\\u0BB4\\u0BC1\\u0BA4\\u0BCD\\u0BA4\\u0BC1\\u0B95\\u0BCD\\u0B95\\u0BB3\\u0BCD",verb:"\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"},file:{unit:"\\u0BAA\\u0BC8\\u0B9F\\u0BCD\\u0B9F\\u0BC1\\u0B95\\u0BB3\\u0BCD",verb:"\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"},array:{unit:"\\u0B89\\u0BB1\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BC1\\u0B95\\u0BB3\\u0BCD",verb:"\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"},set:{unit:"\\u0B89\\u0BB1\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BC1\\u0B95\\u0BB3\\u0BCD",verb:"\\u0B95\\u0BCA\\u0BA3\\u0BCD\\u0B9F\\u0BBF\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"\\u0B8E\\u0BA3\\u0BCD \\u0B85\\u0BB2\\u0BCD\\u0BB2\\u0BBE\\u0BA4\\u0BA4\\u0BC1":"\\u0B8E\\u0BA3\\u0BCD";case"object":{if(Array.isArray(t))return"\\u0B85\\u0BA3\\u0BBF";if(t===null)return"\\u0BB5\\u0BC6\\u0BB1\\u0BC1\\u0BAE\\u0BC8";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1",email:"\\u0BAE\\u0BBF\\u0BA9\\u0BCD\\u0BA9\\u0B9E\\u0BCD\\u0B9A\\u0BB2\\u0BCD \\u0BAE\\u0BC1\\u0B95\\u0BB5\\u0BB0\\u0BBF",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \\u0BA4\\u0BC7\\u0BA4\\u0BBF \\u0BA8\\u0BC7\\u0BB0\\u0BAE\\u0BCD",date:"ISO \\u0BA4\\u0BC7\\u0BA4\\u0BBF",time:"ISO \\u0BA8\\u0BC7\\u0BB0\\u0BAE\\u0BCD",duration:"ISO \\u0B95\\u0BBE\\u0BB2 \\u0B85\\u0BB3\\u0BB5\\u0BC1",ipv4:"IPv4 \\u0BAE\\u0BC1\\u0B95\\u0BB5\\u0BB0\\u0BBF",ipv6:"IPv6 \\u0BAE\\u0BC1\\u0B95\\u0BB5\\u0BB0\\u0BBF",cidrv4:"IPv4 \\u0BB5\\u0BB0\\u0BAE\\u0BCD\\u0BAA\\u0BC1",cidrv6:"IPv6 \\u0BB5\\u0BB0\\u0BAE\\u0BCD\\u0BAA\\u0BC1",base64:"base64-encoded \\u0B9A\\u0BB0\\u0BAE\\u0BCD",base64url:"base64url-encoded \\u0B9A\\u0BB0\\u0BAE\\u0BCD",json_string:"JSON \\u0B9A\\u0BB0\\u0BAE\\u0BCD",e164:"E.164 \\u0B8E\\u0BA3\\u0BCD",jwt:"JWT",template_literal:"input"};return t=>{switch(t.code){case"invalid_type":return`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${t.expected}, \\u0BAA\\u0BC6\\u0BB1\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${p(t.values[0])}`:`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0BB5\\u0BBF\\u0BB0\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BAE\\u0BCD: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${l(t.values,"|")} \\u0B87\\u0BB2\\u0BCD \\u0B92\\u0BA9\\u0BCD\\u0BB1\\u0BC1`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u0BAE\\u0BBF\\u0B95 \\u0BAA\\u0BC6\\u0BB0\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${t.origin??"\\u0BAE\\u0BA4\\u0BBF\\u0BAA\\u0BCD\\u0BAA\\u0BC1"} ${i}${t.maximum.toString()} ${a.unit??"\\u0B89\\u0BB1\\u0BC1\\u0BAA\\u0BCD\\u0BAA\\u0BC1\\u0B95\\u0BB3\\u0BCD"} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`:`\\u0BAE\\u0BBF\\u0B95 \\u0BAA\\u0BC6\\u0BB0\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${t.origin??"\\u0BAE\\u0BA4\\u0BBF\\u0BAA\\u0BCD\\u0BAA\\u0BC1"} ${i}${t.maximum.toString()} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u0BAE\\u0BBF\\u0B95\\u0B9A\\u0BCD \\u0B9A\\u0BBF\\u0BB1\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${t.origin} ${i}${t.minimum.toString()} ${a.unit} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`:`\\u0BAE\\u0BBF\\u0B95\\u0B9A\\u0BCD \\u0B9A\\u0BBF\\u0BB1\\u0BBF\\u0BAF\\u0BA4\\u0BC1: \\u0B8E\\u0BA4\\u0BBF\\u0BB0\\u0BCD\\u0BAA\\u0BBE\\u0BB0\\u0BCD\\u0B95\\u0BCD\\u0B95\\u0BAA\\u0BCD\\u0BAA\\u0B9F\\u0BCD\\u0B9F\\u0BA4\\u0BC1 ${t.origin} ${i}${t.minimum.toString()} \\u0B86\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: "${i.prefix}" \\u0B87\\u0BB2\\u0BCD \\u0BA4\\u0BCA\\u0B9F\\u0B99\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`:i.format==="ends_with"?`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: "${i.suffix}" \\u0B87\\u0BB2\\u0BCD \\u0BAE\\u0BC1\\u0B9F\\u0BBF\\u0BB5\\u0B9F\\u0BC8\\u0BAF \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`:i.format==="includes"?`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: "${i.includes}" \\u0B90 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0B9F\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`:i.format==="regex"?`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B9A\\u0BB0\\u0BAE\\u0BCD: ${i.pattern} \\u0BAE\\u0BC1\\u0BB1\\u0BC8\\u0BAA\\u0BBE\\u0B9F\\u0BCD\\u0B9F\\u0BC1\\u0B9F\\u0BA9\\u0BCD \\u0BAA\\u0BCA\\u0BB0\\u0BC1\\u0BA8\\u0BCD\\u0BA4 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`:`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B8E\\u0BA3\\u0BCD: ${t.divisor} \\u0B87\\u0BA9\\u0BCD \\u0BAA\\u0BB2\\u0BAE\\u0BBE\\u0B95 \\u0B87\\u0BB0\\u0BC1\\u0B95\\u0BCD\\u0B95 \\u0BB5\\u0BC7\\u0BA3\\u0BCD\\u0B9F\\u0BC1\\u0BAE\\u0BCD`;case"unrecognized_keys":return`\\u0B85\\u0B9F\\u0BC8\\u0BAF\\u0BBE\\u0BB3\\u0BAE\\u0BCD \\u0BA4\\u0BC6\\u0BB0\\u0BBF\\u0BAF\\u0BBE\\u0BA4 \\u0BB5\\u0BBF\\u0B9A\\u0BC8${t.keys.length>1?"\\u0B95\\u0BB3\\u0BCD":""}: ${l(t.keys,", ")}`;case"invalid_key":return`${t.origin} \\u0B87\\u0BB2\\u0BCD \\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0BB5\\u0BBF\\u0B9A\\u0BC8`;case"invalid_union":return"\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1";case"invalid_element":return`${t.origin} \\u0B87\\u0BB2\\u0BCD \\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0BAE\\u0BA4\\u0BBF\\u0BAA\\u0BCD\\u0BAA\\u0BC1`;default:return"\\u0BA4\\u0BB5\\u0BB1\\u0BBE\\u0BA9 \\u0B89\\u0BB3\\u0BCD\\u0BB3\\u0BC0\\u0B9F\\u0BC1"}}};function nc(){return{localeError:nd()}}var id=()=>{let e={string:{unit:"\\u0E15\\u0E31\\u0E27\\u0E2D\\u0E31\\u0E01\\u0E29\\u0E23",verb:"\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"},file:{unit:"\\u0E44\\u0E1A\\u0E15\\u0E4C",verb:"\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"},array:{unit:"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23",verb:"\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"},set:{unit:"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23",verb:"\\u0E04\\u0E27\\u0E23\\u0E21\\u0E35"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"\\u0E44\\u0E21\\u0E48\\u0E43\\u0E0A\\u0E48\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E02 (NaN)":"\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E02";case"object":{if(Array.isArray(t))return"\\u0E2D\\u0E32\\u0E23\\u0E4C\\u0E40\\u0E23\\u0E22\\u0E4C (Array)";if(t===null)return"\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E04\\u0E48\\u0E32 (null)";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E17\\u0E35\\u0E48\\u0E1B\\u0E49\\u0E2D\\u0E19",email:"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25",url:"URL",emoji:"\\u0E2D\\u0E34\\u0E42\\u0E21\\u0E08\\u0E34",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E40\\u0E27\\u0E25\\u0E32\\u0E41\\u0E1A\\u0E1A ISO",date:"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E41\\u0E1A\\u0E1A ISO",time:"\\u0E40\\u0E27\\u0E25\\u0E32\\u0E41\\u0E1A\\u0E1A ISO",duration:"\\u0E0A\\u0E48\\u0E27\\u0E07\\u0E40\\u0E27\\u0E25\\u0E32\\u0E41\\u0E1A\\u0E1A ISO",ipv4:"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48 IPv4",ipv6:"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48 IPv6",cidrv4:"\\u0E0A\\u0E48\\u0E27\\u0E07 IP \\u0E41\\u0E1A\\u0E1A IPv4",cidrv6:"\\u0E0A\\u0E48\\u0E27\\u0E07 IP \\u0E41\\u0E1A\\u0E1A IPv6",base64:"\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E41\\u0E1A\\u0E1A Base64",base64url:"\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E41\\u0E1A\\u0E1A Base64 \\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A URL",json_string:"\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E41\\u0E1A\\u0E1A JSON",e164:"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E17\\u0E28 (E.164)",jwt:"\\u0E42\\u0E17\\u0E40\\u0E04\\u0E19 JWT",template_literal:"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E17\\u0E35\\u0E48\\u0E1B\\u0E49\\u0E2D\\u0E19"};return t=>{switch(t.code){case"invalid_type":return`\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E20\\u0E17\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E04\\u0E27\\u0E23\\u0E40\\u0E1B\\u0E47\\u0E19 ${t.expected} \\u0E41\\u0E15\\u0E48\\u0E44\\u0E14\\u0E49\\u0E23\\u0E31\\u0E1A ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u0E04\\u0E48\\u0E32\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E04\\u0E27\\u0E23\\u0E40\\u0E1B\\u0E47\\u0E19 ${p(t.values[0])}`:`\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E04\\u0E27\\u0E23\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E2B\\u0E19\\u0E36\\u0E48\\u0E07\\u0E43\\u0E19 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E01\\u0E34\\u0E19":"\\u0E19\\u0E49\\u0E2D\\u0E22\\u0E01\\u0E27\\u0E48\\u0E32",a=r(t.origin);return a?`\\u0E40\\u0E01\\u0E34\\u0E19\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: ${t.origin??"\\u0E04\\u0E48\\u0E32"} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35${i} ${t.maximum.toString()} ${a.unit??"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23"}`:`\\u0E40\\u0E01\\u0E34\\u0E19\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: ${t.origin??"\\u0E04\\u0E48\\u0E32"} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35${i} ${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?"\\u0E2D\\u0E22\\u0E48\\u0E32\\u0E07\\u0E19\\u0E49\\u0E2D\\u0E22":"\\u0E21\\u0E32\\u0E01\\u0E01\\u0E27\\u0E48\\u0E32",a=r(t.origin);return a?`\\u0E19\\u0E49\\u0E2D\\u0E22\\u0E01\\u0E27\\u0E48\\u0E32\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: ${t.origin} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35${i} ${t.minimum.toString()} ${a.unit}`:`\\u0E19\\u0E49\\u0E2D\\u0E22\\u0E01\\u0E27\\u0E48\\u0E32\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14: ${t.origin} \\u0E04\\u0E27\\u0E23\\u0E21\\u0E35${i} ${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E02\\u0E36\\u0E49\\u0E19\\u0E15\\u0E49\\u0E19\\u0E14\\u0E49\\u0E27\\u0E22 "${i.prefix}"`:i.format==="ends_with"?`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E25\\u0E07\\u0E17\\u0E49\\u0E32\\u0E22\\u0E14\\u0E49\\u0E27\\u0E22 "${i.suffix}"`:i.format==="includes"?`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E21\\u0E35 "${i.includes}" \\u0E2D\\u0E22\\u0E39\\u0E48\\u0E43\\u0E19\\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21`:i.format==="regex"?`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E15\\u0E49\\u0E2D\\u0E07\\u0E15\\u0E23\\u0E07\\u0E01\\u0E31\\u0E1A\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E17\\u0E35\\u0E48\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14 ${i.pattern}`:`\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E02\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E15\\u0E49\\u0E2D\\u0E07\\u0E40\\u0E1B\\u0E47\\u0E19\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2B\\u0E32\\u0E23\\u0E14\\u0E49\\u0E27\\u0E22 ${t.divisor} \\u0E44\\u0E14\\u0E49\\u0E25\\u0E07\\u0E15\\u0E31\\u0E27`;case"unrecognized_keys":return`\\u0E1E\\u0E1A\\u0E04\\u0E35\\u0E22\\u0E4C\\u0E17\\u0E35\\u0E48\\u0E44\\u0E21\\u0E48\\u0E23\\u0E39\\u0E49\\u0E08\\u0E31\\u0E01: ${l(t.keys,", ")}`;case"invalid_key":return`\\u0E04\\u0E35\\u0E22\\u0E4C\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E43\\u0E19 ${t.origin}`;case"invalid_union":return"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07: \\u0E44\\u0E21\\u0E48\\u0E15\\u0E23\\u0E07\\u0E01\\u0E31\\u0E1A\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\\u0E22\\u0E39\\u0E40\\u0E19\\u0E35\\u0E22\\u0E19\\u0E17\\u0E35\\u0E48\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E44\\u0E27\\u0E49";case"invalid_element":return`\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E43\\u0E19 ${t.origin}`;default:return"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07"}}};function ic(){return{localeError:id()}}var od=e=>{let r=typeof e;switch(r){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return r},ad=()=>{let e={string:{unit:"karakter",verb:"olmal\\u0131"},file:{unit:"bayt",verb:"olmal\\u0131"},array:{unit:"\\xF6\\u011Fe",verb:"olmal\\u0131"},set:{unit:"\\xF6\\u011Fe",verb:"olmal\\u0131"}};function r(o){return e[o]??null}let n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO s\\xFCre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral\\u0131\\u011F\\u0131",cidrv6:"IPv6 aral\\u0131\\u011F\\u0131",base64:"base64 ile \\u015Fifrelenmi\\u015F metin",base64url:"base64url ile \\u015Fifrelenmi\\u015F metin",json_string:"JSON dizesi",e164:"E.164 say\\u0131s\\u0131",jwt:"JWT",template_literal:"\\u015Eablon dizesi"};return o=>{switch(o.code){case"invalid_type":return`Ge\\xE7ersiz de\\u011Fer: beklenen ${o.expected}, al\\u0131nan ${od(o.input)}`;case"invalid_value":return o.values.length===1?`Ge\\xE7ersiz de\\u011Fer: beklenen ${p(o.values[0])}`:`Ge\\xE7ersiz se\\xE7enek: a\\u015Fa\\u011F\\u0131dakilerden biri olmal\\u0131: ${l(o.values,"|")}`;case"too_big":{let t=o.inclusive?"<=":"<",i=r(o.origin);return i?`\\xC7ok b\\xFCy\\xFCk: beklenen ${o.origin??"de\\u011Fer"} ${t}${o.maximum.toString()} ${i.unit??"\\xF6\\u011Fe"}`:`\\xC7ok b\\xFCy\\xFCk: beklenen ${o.origin??"de\\u011Fer"} ${t}${o.maximum.toString()}`}case"too_small":{let t=o.inclusive?">=":">",i=r(o.origin);return i?`\\xC7ok k\\xFC\\xE7\\xFCk: beklenen ${o.origin} ${t}${o.minimum.toString()} ${i.unit}`:`\\xC7ok k\\xFC\\xE7\\xFCk: beklenen ${o.origin} ${t}${o.minimum.toString()}`}case"invalid_format":{let t=o;return t.format==="starts_with"?`Ge\\xE7ersiz metin: "${t.prefix}" ile ba\\u015Flamal\\u0131`:t.format==="ends_with"?`Ge\\xE7ersiz metin: "${t.suffix}" ile bitmeli`:t.format==="includes"?`Ge\\xE7ersiz metin: "${t.includes}" i\\xE7ermeli`:t.format==="regex"?`Ge\\xE7ersiz metin: ${t.pattern} desenine uymal\\u0131`:`Ge\\xE7ersiz ${n[t.format]??o.format}`}case"not_multiple_of":return`Ge\\xE7ersiz say\\u0131: ${o.divisor} ile tam b\\xF6l\\xFCnebilmeli`;case"unrecognized_keys":return`Tan\\u0131nmayan anahtar${o.keys.length>1?"lar":""}: ${l(o.keys,", ")}`;case"invalid_key":return`${o.origin} i\\xE7inde ge\\xE7ersiz anahtar`;case"invalid_union":return"Ge\\xE7ersiz de\\u011Fer";case"invalid_element":return`${o.origin} i\\xE7inde ge\\xE7ersiz de\\u011Fer`;default:return"Ge\\xE7ersiz de\\u011Fer"}}};function oc(){return{localeError:ad()}}var ud=()=>{let e={string:{unit:"\\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u0456\\u0432",verb:"\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"},file:{unit:"\\u0431\\u0430\\u0439\\u0442\\u0456\\u0432",verb:"\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"},array:{unit:"\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0456\\u0432",verb:"\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"},set:{unit:"\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0456\\u0432",verb:"\\u043C\\u0430\\u0442\\u0438\\u043C\\u0435"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u0447\\u0438\\u0441\\u043B\\u043E";case"object":{if(Array.isArray(t))return"\\u043C\\u0430\\u0441\\u0438\\u0432";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456",email:"\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 \\u0435\\u043B\\u0435\\u043A\\u0442\\u0440\\u043E\\u043D\\u043D\\u043E\\u0457 \\u043F\\u043E\\u0448\\u0442\\u0438",url:"URL",emoji:"\\u0435\\u043C\\u043E\\u0434\\u0437\\u0456",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\u0434\\u0430\\u0442\\u0430 \\u0442\\u0430 \\u0447\\u0430\\u0441 ISO",date:"\\u0434\\u0430\\u0442\\u0430 ISO",time:"\\u0447\\u0430\\u0441 ISO",duration:"\\u0442\\u0440\\u0438\\u0432\\u0430\\u043B\\u0456\\u0441\\u0442\\u044C ISO",ipv4:"\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 IPv4",ipv6:"\\u0430\\u0434\\u0440\\u0435\\u0441\\u0430 IPv6",cidrv4:"\\u0434\\u0456\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D IPv4",cidrv6:"\\u0434\\u0456\\u0430\\u043F\\u0430\\u0437\\u043E\\u043D IPv6",base64:"\\u0440\\u044F\\u0434\\u043E\\u043A \\u0443 \\u043A\\u043E\\u0434\\u0443\\u0432\\u0430\\u043D\\u043D\\u0456 base64",base64url:"\\u0440\\u044F\\u0434\\u043E\\u043A \\u0443 \\u043A\\u043E\\u0434\\u0443\\u0432\\u0430\\u043D\\u043D\\u0456 base64url",json_string:"\\u0440\\u044F\\u0434\\u043E\\u043A JSON",e164:"\\u043D\\u043E\\u043C\\u0435\\u0440 E.164",jwt:"JWT",template_literal:"\\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456"};return t=>{switch(t.code){case"invalid_type":return`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F ${t.expected}, \\u043E\\u0442\\u0440\\u0438\\u043C\\u0430\\u043D\\u043E ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F ${p(t.values[0])}`:`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0430 \\u043E\\u043F\\u0446\\u0456\\u044F: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F \\u043E\\u0434\\u043D\\u0435 \\u0437 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u0432\\u0435\\u043B\\u0438\\u043A\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E ${t.origin??"\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u043D\\u044F"} ${a.verb} ${i}${t.maximum.toString()} ${a.unit??"\\u0435\\u043B\\u0435\\u043C\\u0435\\u043D\\u0442\\u0456\\u0432"}`:`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u0432\\u0435\\u043B\\u0438\\u043A\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E ${t.origin??"\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u043D\\u044F"} \\u0431\\u0443\\u0434\\u0435 ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u043C\\u0430\\u043B\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E ${t.origin} ${a.verb} ${i}${t.minimum.toString()} ${a.unit}`:`\\u0417\\u0430\\u043D\\u0430\\u0434\\u0442\\u043E \\u043C\\u0430\\u043B\\u0435: \\u043E\\u0447\\u0456\\u043A\\u0443\\u0454\\u0442\\u044C\\u0441\\u044F, \\u0449\\u043E ${t.origin} \\u0431\\u0443\\u0434\\u0435 ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u043F\\u043E\\u0447\\u0438\\u043D\\u0430\\u0442\\u0438\\u0441\\u044F \\u0437 "${i.prefix}"`:i.format==="ends_with"?`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u0437\\u0430\\u043A\\u0456\\u043D\\u0447\\u0443\\u0432\\u0430\\u0442\\u0438\\u0441\\u044F \\u043D\\u0430 "${i.suffix}"`:i.format==="includes"?`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u043C\\u0456\\u0441\\u0442\\u0438\\u0442\\u0438 "${i.includes}"`:i.format==="regex"?`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u0440\\u044F\\u0434\\u043E\\u043A: \\u043F\\u043E\\u0432\\u0438\\u043D\\u0435\\u043D \\u0432\\u0456\\u0434\\u043F\\u043E\\u0432\\u0456\\u0434\\u0430\\u0442\\u0438 \\u0448\\u0430\\u0431\\u043B\\u043E\\u043D\\u0443 ${i.pattern}`:`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0435 \\u0447\\u0438\\u0441\\u043B\\u043E: \\u043F\\u043E\\u0432\\u0438\\u043D\\u043D\\u043E \\u0431\\u0443\\u0442\\u0438 \\u043A\\u0440\\u0430\\u0442\\u043D\\u0438\\u043C ${t.divisor}`;case"unrecognized_keys":return`\\u041D\\u0435\\u0440\\u043E\\u0437\\u043F\\u0456\\u0437\\u043D\\u0430\\u043D\\u0438\\u0439 \\u043A\\u043B\\u044E\\u0447${t.keys.length>1?"\\u0456":""}: ${l(t.keys,", ")}`;case"invalid_key":return`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0438\\u0439 \\u043A\\u043B\\u044E\\u0447 \\u0443 ${t.origin}`;case"invalid_union":return"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456";case"invalid_element":return`\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0435 \\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u043D\\u044F \\u0443 ${t.origin}`;default:return"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u0456 \\u0432\\u0445\\u0456\\u0434\\u043D\\u0456 \\u0434\\u0430\\u043D\\u0456"}}};function Yt(){return{localeError:ud()}}function ac(){return Yt()}var cd=()=>{let e={string:{unit:"\\u062D\\u0631\\u0648\\u0641",verb:"\\u06C1\\u0648\\u0646\\u0627"},file:{unit:"\\u0628\\u0627\\u0626\\u0679\\u0633",verb:"\\u06C1\\u0648\\u0646\\u0627"},array:{unit:"\\u0622\\u0626\\u0679\\u0645\\u0632",verb:"\\u06C1\\u0648\\u0646\\u0627"},set:{unit:"\\u0622\\u0626\\u0679\\u0645\\u0632",verb:"\\u06C1\\u0648\\u0646\\u0627"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"\\u0646\\u0645\\u0628\\u0631";case"object":{if(Array.isArray(t))return"\\u0622\\u0631\\u06D2";if(t===null)return"\\u0646\\u0644";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0627\\u0646 \\u067E\\u0679",email:"\\u0627\\u06CC \\u0645\\u06CC\\u0644 \\u0627\\u06CC\\u0688\\u0631\\u06CC\\u0633",url:"\\u06CC\\u0648 \\u0622\\u0631 \\u0627\\u06CC\\u0644",emoji:"\\u0627\\u06CC\\u0645\\u0648\\u062C\\u06CC",uuid:"\\u06CC\\u0648 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",uuidv4:"\\u06CC\\u0648 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC \\u0648\\u06CC 4",uuidv6:"\\u06CC\\u0648 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC \\u0648\\u06CC 6",nanoid:"\\u0646\\u06CC\\u0646\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",guid:"\\u062C\\u06CC \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",cuid:"\\u0633\\u06CC \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",cuid2:"\\u0633\\u06CC \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC 2",ulid:"\\u06CC\\u0648 \\u0627\\u06CC\\u0644 \\u0622\\u0626\\u06CC \\u0688\\u06CC",xid:"\\u0627\\u06CC\\u06A9\\u0633 \\u0622\\u0626\\u06CC \\u0688\\u06CC",ksuid:"\\u06A9\\u06D2 \\u0627\\u06CC\\u0633 \\u06CC\\u0648 \\u0622\\u0626\\u06CC \\u0688\\u06CC",datetime:"\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0688\\u06CC\\u0679 \\u0679\\u0627\\u0626\\u0645",date:"\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u062A\\u0627\\u0631\\u06CC\\u062E",time:"\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0648\\u0642\\u062A",duration:"\\u0622\\u0626\\u06CC \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0645\\u062F\\u062A",ipv4:"\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 4 \\u0627\\u06CC\\u0688\\u0631\\u06CC\\u0633",ipv6:"\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 6 \\u0627\\u06CC\\u0688\\u0631\\u06CC\\u0633",cidrv4:"\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 4 \\u0631\\u06CC\\u0646\\u062C",cidrv6:"\\u0622\\u0626\\u06CC \\u067E\\u06CC \\u0648\\u06CC 6 \\u0631\\u06CC\\u0646\\u062C",base64:"\\u0628\\u06CC\\u0633 64 \\u0627\\u0646 \\u06A9\\u0648\\u0688\\u0688 \\u0633\\u0679\\u0631\\u0646\\u06AF",base64url:"\\u0628\\u06CC\\u0633 64 \\u06CC\\u0648 \\u0622\\u0631 \\u0627\\u06CC\\u0644 \\u0627\\u0646 \\u06A9\\u0648\\u0688\\u0688 \\u0633\\u0679\\u0631\\u0646\\u06AF",json_string:"\\u062C\\u06D2 \\u0627\\u06CC\\u0633 \\u0627\\u0648 \\u0627\\u06CC\\u0646 \\u0633\\u0679\\u0631\\u0646\\u06AF",e164:"\\u0627\\u06CC 164 \\u0646\\u0645\\u0628\\u0631",jwt:"\\u062C\\u06D2 \\u0688\\u0628\\u0644\\u06CC\\u0648 \\u0679\\u06CC",template_literal:"\\u0627\\u0646 \\u067E\\u0679"};return t=>{switch(t.code){case"invalid_type":return`\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679: ${t.expected} \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627\\u060C ${n(t.input)} \\u0645\\u0648\\u0635\\u0648\\u0644 \\u06C1\\u0648\\u0627`;case"invalid_value":return t.values.length===1?`\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679: ${p(t.values[0])} \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627`:`\\u063A\\u0644\\u0637 \\u0622\\u067E\\u0634\\u0646: ${l(t.values,"|")} \\u0645\\u06CC\\u06BA \\u0633\\u06D2 \\u0627\\u06CC\\u06A9 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u0628\\u06C1\\u062A \\u0628\\u0691\\u0627: ${t.origin??"\\u0648\\u06CC\\u0644\\u06CC\\u0648"} \\u06A9\\u06D2 ${i}${t.maximum.toString()} ${a.unit??"\\u0639\\u0646\\u0627\\u0635\\u0631"} \\u06C1\\u0648\\u0646\\u06D2 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u06D2`:`\\u0628\\u06C1\\u062A \\u0628\\u0691\\u0627: ${t.origin??"\\u0648\\u06CC\\u0644\\u06CC\\u0648"} \\u06A9\\u0627 ${i}${t.maximum.toString()} \\u06C1\\u0648\\u0646\\u0627 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u0628\\u06C1\\u062A \\u0686\\u06BE\\u0648\\u0679\\u0627: ${t.origin} \\u06A9\\u06D2 ${i}${t.minimum.toString()} ${a.unit} \\u06C1\\u0648\\u0646\\u06D2 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u06D2`:`\\u0628\\u06C1\\u062A \\u0686\\u06BE\\u0648\\u0679\\u0627: ${t.origin} \\u06A9\\u0627 ${i}${t.minimum.toString()} \\u06C1\\u0648\\u0646\\u0627 \\u0645\\u062A\\u0648\\u0642\\u0639 \\u062A\\u06BE\\u0627`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: "${i.prefix}" \\u0633\\u06D2 \\u0634\\u0631\\u0648\\u0639 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2`:i.format==="ends_with"?`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: "${i.suffix}" \\u067E\\u0631 \\u062E\\u062A\\u0645 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2`:i.format==="includes"?`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: "${i.includes}" \\u0634\\u0627\\u0645\\u0644 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2`:i.format==="regex"?`\\u063A\\u0644\\u0637 \\u0633\\u0679\\u0631\\u0646\\u06AF: \\u067E\\u06CC\\u0679\\u0631\\u0646 ${i.pattern} \\u0633\\u06D2 \\u0645\\u06CC\\u0686 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2`:`\\u063A\\u0644\\u0637 ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u063A\\u0644\\u0637 \\u0646\\u0645\\u0628\\u0631: ${t.divisor} \\u06A9\\u0627 \\u0645\\u0636\\u0627\\u0639\\u0641 \\u06C1\\u0648\\u0646\\u0627 \\u0686\\u0627\\u06C1\\u06CC\\u06D2`;case"unrecognized_keys":return`\\u063A\\u06CC\\u0631 \\u062A\\u0633\\u0644\\u06CC\\u0645 \\u0634\\u062F\\u06C1 \\u06A9\\u06CC${t.keys.length>1?"\\u0632":""}: ${l(t.keys,"\\u060C ")}`;case"invalid_key":return`${t.origin} \\u0645\\u06CC\\u06BA \\u063A\\u0644\\u0637 \\u06A9\\u06CC`;case"invalid_union":return"\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679";case"invalid_element":return`${t.origin} \\u0645\\u06CC\\u06BA \\u063A\\u0644\\u0637 \\u0648\\u06CC\\u0644\\u06CC\\u0648`;default:return"\\u063A\\u0644\\u0637 \\u0627\\u0646 \\u067E\\u0679"}}};function uc(){return{localeError:cd()}}var sd=()=>{let e={string:{unit:"k\\xFD t\\u1EF1",verb:"c\\xF3"},file:{unit:"byte",verb:"c\\xF3"},array:{unit:"ph\\u1EA7n t\\u1EED",verb:"c\\xF3"},set:{unit:"ph\\u1EA7n t\\u1EED",verb:"c\\xF3"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"s\\u1ED1";case"object":{if(Array.isArray(t))return"m\\u1EA3ng";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u0111\\u1EA7u v\\xE0o",email:"\\u0111\\u1ECBa ch\\u1EC9 email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ng\\xE0y gi\\u1EDD ISO",date:"ng\\xE0y ISO",time:"gi\\u1EDD ISO",duration:"kho\\u1EA3ng th\\u1EDDi gian ISO",ipv4:"\\u0111\\u1ECBa ch\\u1EC9 IPv4",ipv6:"\\u0111\\u1ECBa ch\\u1EC9 IPv6",cidrv4:"d\\u1EA3i IPv4",cidrv6:"d\\u1EA3i IPv6",base64:"chu\\u1ED7i m\\xE3 h\\xF3a base64",base64url:"chu\\u1ED7i m\\xE3 h\\xF3a base64url",json_string:"chu\\u1ED7i JSON",e164:"s\\u1ED1 E.164",jwt:"JWT",template_literal:"\\u0111\\u1EA7u v\\xE0o"};return t=>{switch(t.code){case"invalid_type":return`\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7: mong \\u0111\\u1EE3i ${t.expected}, nh\\u1EADn \\u0111\\u01B0\\u1EE3c ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7: mong \\u0111\\u1EE3i ${p(t.values[0])}`:`T\\xF9y ch\\u1ECDn kh\\xF4ng h\\u1EE3p l\\u1EC7: mong \\u0111\\u1EE3i m\\u1ED9t trong c\\xE1c gi\\xE1 tr\\u1ECB ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`Qu\\xE1 l\\u1EDBn: mong \\u0111\\u1EE3i ${t.origin??"gi\\xE1 tr\\u1ECB"} ${a.verb} ${i}${t.maximum.toString()} ${a.unit??"ph\\u1EA7n t\\u1EED"}`:`Qu\\xE1 l\\u1EDBn: mong \\u0111\\u1EE3i ${t.origin??"gi\\xE1 tr\\u1ECB"} ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`Qu\\xE1 nh\\u1ECF: mong \\u0111\\u1EE3i ${t.origin} ${a.verb} ${i}${t.minimum.toString()} ${a.unit}`:`Qu\\xE1 nh\\u1ECF: mong \\u0111\\u1EE3i ${t.origin} ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i b\\u1EAFt \\u0111\\u1EA7u b\\u1EB1ng "${i.prefix}"`:i.format==="ends_with"?`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i k\\u1EBFt th\\xFAc b\\u1EB1ng "${i.suffix}"`:i.format==="includes"?`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i bao g\\u1ED3m "${i.includes}"`:i.format==="regex"?`Chu\\u1ED7i kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i kh\\u1EDBp v\\u1EDBi m\\u1EABu ${i.pattern}`:`${o[i.format]??t.format} kh\\xF4ng h\\u1EE3p l\\u1EC7`}case"not_multiple_of":return`S\\u1ED1 kh\\xF4ng h\\u1EE3p l\\u1EC7: ph\\u1EA3i l\\xE0 b\\u1ED9i s\\u1ED1 c\\u1EE7a ${t.divisor}`;case"unrecognized_keys":return`Kh\\xF3a kh\\xF4ng \\u0111\\u01B0\\u1EE3c nh\\u1EADn d\\u1EA1ng: ${l(t.keys,", ")}`;case"invalid_key":return`Kh\\xF3a kh\\xF4ng h\\u1EE3p l\\u1EC7 trong ${t.origin}`;case"invalid_union":return"\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7";case"invalid_element":return`Gi\\xE1 tr\\u1ECB kh\\xF4ng h\\u1EE3p l\\u1EC7 trong ${t.origin}`;default:return"\\u0110\\u1EA7u v\\xE0o kh\\xF4ng h\\u1EE3p l\\u1EC7"}}};function cc(){return{localeError:sd()}}var ld=()=>{let e={string:{unit:"\\u5B57\\u7B26",verb:"\\u5305\\u542B"},file:{unit:"\\u5B57\\u8282",verb:"\\u5305\\u542B"},array:{unit:"\\u9879",verb:"\\u5305\\u542B"},set:{unit:"\\u9879",verb:"\\u5305\\u542B"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"\\u975E\\u6570\\u5B57(NaN)":"\\u6570\\u5B57";case"object":{if(Array.isArray(t))return"\\u6570\\u7EC4";if(t===null)return"\\u7A7A\\u503C(null)";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u8F93\\u5165",email:"\\u7535\\u5B50\\u90AE\\u4EF6",url:"URL",emoji:"\\u8868\\u60C5\\u7B26\\u53F7",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO\\u65E5\\u671F\\u65F6\\u95F4",date:"ISO\\u65E5\\u671F",time:"ISO\\u65F6\\u95F4",duration:"ISO\\u65F6\\u957F",ipv4:"IPv4\\u5730\\u5740",ipv6:"IPv6\\u5730\\u5740",cidrv4:"IPv4\\u7F51\\u6BB5",cidrv6:"IPv6\\u7F51\\u6BB5",base64:"base64\\u7F16\\u7801\\u5B57\\u7B26\\u4E32",base64url:"base64url\\u7F16\\u7801\\u5B57\\u7B26\\u4E32",json_string:"JSON\\u5B57\\u7B26\\u4E32",e164:"E.164\\u53F7\\u7801",jwt:"JWT",template_literal:"\\u8F93\\u5165"};return t=>{switch(t.code){case"invalid_type":return`\\u65E0\\u6548\\u8F93\\u5165\\uFF1A\\u671F\\u671B ${t.expected}\\uFF0C\\u5B9E\\u9645\\u63A5\\u6536 ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u65E0\\u6548\\u8F93\\u5165\\uFF1A\\u671F\\u671B ${p(t.values[0])}`:`\\u65E0\\u6548\\u9009\\u9879\\uFF1A\\u671F\\u671B\\u4EE5\\u4E0B\\u4E4B\\u4E00 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u6570\\u503C\\u8FC7\\u5927\\uFF1A\\u671F\\u671B ${t.origin??"\\u503C"} ${i}${t.maximum.toString()} ${a.unit??"\\u4E2A\\u5143\\u7D20"}`:`\\u6570\\u503C\\u8FC7\\u5927\\uFF1A\\u671F\\u671B ${t.origin??"\\u503C"} ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u6570\\u503C\\u8FC7\\u5C0F\\uFF1A\\u671F\\u671B ${t.origin} ${i}${t.minimum.toString()} ${a.unit}`:`\\u6570\\u503C\\u8FC7\\u5C0F\\uFF1A\\u671F\\u671B ${t.origin} ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u4EE5 "${i.prefix}" \\u5F00\\u5934`:i.format==="ends_with"?`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u4EE5 "${i.suffix}" \\u7ED3\\u5C3E`:i.format==="includes"?`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u5305\\u542B "${i.includes}"`:i.format==="regex"?`\\u65E0\\u6548\\u5B57\\u7B26\\u4E32\\uFF1A\\u5FC5\\u987B\\u6EE1\\u8DB3\\u6B63\\u5219\\u8868\\u8FBE\\u5F0F ${i.pattern}`:`\\u65E0\\u6548${o[i.format]??t.format}`}case"not_multiple_of":return`\\u65E0\\u6548\\u6570\\u5B57\\uFF1A\\u5FC5\\u987B\\u662F ${t.divisor} \\u7684\\u500D\\u6570`;case"unrecognized_keys":return`\\u51FA\\u73B0\\u672A\\u77E5\\u7684\\u952E(key): ${l(t.keys,", ")}`;case"invalid_key":return`${t.origin} \\u4E2D\\u7684\\u952E(key)\\u65E0\\u6548`;case"invalid_union":return"\\u65E0\\u6548\\u8F93\\u5165";case"invalid_element":return`${t.origin} \\u4E2D\\u5305\\u542B\\u65E0\\u6548\\u503C(value)`;default:return"\\u65E0\\u6548\\u8F93\\u5165"}}};function sc(){return{localeError:ld()}}var dd=()=>{let e={string:{unit:"\\u5B57\\u5143",verb:"\\u64C1\\u6709"},file:{unit:"\\u4F4D\\u5143\\u7D44",verb:"\\u64C1\\u6709"},array:{unit:"\\u9805\\u76EE",verb:"\\u64C1\\u6709"},set:{unit:"\\u9805\\u76EE",verb:"\\u64C1\\u6709"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"number";case"object":{if(Array.isArray(t))return"array";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u8F38\\u5165",email:"\\u90F5\\u4EF6\\u5730\\u5740",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO \\u65E5\\u671F\\u6642\\u9593",date:"ISO \\u65E5\\u671F",time:"ISO \\u6642\\u9593",duration:"ISO \\u671F\\u9593",ipv4:"IPv4 \\u4F4D\\u5740",ipv6:"IPv6 \\u4F4D\\u5740",cidrv4:"IPv4 \\u7BC4\\u570D",cidrv6:"IPv6 \\u7BC4\\u570D",base64:"base64 \\u7DE8\\u78BC\\u5B57\\u4E32",base64url:"base64url \\u7DE8\\u78BC\\u5B57\\u4E32",json_string:"JSON \\u5B57\\u4E32",e164:"E.164 \\u6578\\u503C",jwt:"JWT",template_literal:"\\u8F38\\u5165"};return t=>{switch(t.code){case"invalid_type":return`\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C\\uFF1A\\u9810\\u671F\\u70BA ${t.expected}\\uFF0C\\u4F46\\u6536\\u5230 ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C\\uFF1A\\u9810\\u671F\\u70BA ${p(t.values[0])}`:`\\u7121\\u6548\\u7684\\u9078\\u9805\\uFF1A\\u9810\\u671F\\u70BA\\u4EE5\\u4E0B\\u5176\\u4E2D\\u4E4B\\u4E00 ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`\\u6578\\u503C\\u904E\\u5927\\uFF1A\\u9810\\u671F ${t.origin??"\\u503C"} \\u61C9\\u70BA ${i}${t.maximum.toString()} ${a.unit??"\\u500B\\u5143\\u7D20"}`:`\\u6578\\u503C\\u904E\\u5927\\uFF1A\\u9810\\u671F ${t.origin??"\\u503C"} \\u61C9\\u70BA ${i}${t.maximum.toString()}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`\\u6578\\u503C\\u904E\\u5C0F\\uFF1A\\u9810\\u671F ${t.origin} \\u61C9\\u70BA ${i}${t.minimum.toString()} ${a.unit}`:`\\u6578\\u503C\\u904E\\u5C0F\\uFF1A\\u9810\\u671F ${t.origin} \\u61C9\\u70BA ${i}${t.minimum.toString()}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u4EE5 "${i.prefix}" \\u958B\\u982D`:i.format==="ends_with"?`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u4EE5 "${i.suffix}" \\u7D50\\u5C3E`:i.format==="includes"?`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u5305\\u542B "${i.includes}"`:i.format==="regex"?`\\u7121\\u6548\\u7684\\u5B57\\u4E32\\uFF1A\\u5FC5\\u9808\\u7B26\\u5408\\u683C\\u5F0F ${i.pattern}`:`\\u7121\\u6548\\u7684 ${o[i.format]??t.format}`}case"not_multiple_of":return`\\u7121\\u6548\\u7684\\u6578\\u5B57\\uFF1A\\u5FC5\\u9808\\u70BA ${t.divisor} \\u7684\\u500D\\u6578`;case"unrecognized_keys":return`\\u7121\\u6CD5\\u8B58\\u5225\\u7684\\u9375\\u503C${t.keys.length>1?"\\u5011":""}\\uFF1A${l(t.keys,"\\u3001")}`;case"invalid_key":return`${t.origin} \\u4E2D\\u6709\\u7121\\u6548\\u7684\\u9375\\u503C`;case"invalid_union":return"\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C";case"invalid_element":return`${t.origin} \\u4E2D\\u6709\\u7121\\u6548\\u7684\\u503C`;default:return"\\u7121\\u6548\\u7684\\u8F38\\u5165\\u503C"}}};function lc(){return{localeError:dd()}}var md=()=>{let e={string:{unit:"\\xE0mi",verb:"n\\xED"},file:{unit:"bytes",verb:"n\\xED"},array:{unit:"nkan",verb:"n\\xED"},set:{unit:"nkan",verb:"n\\xED"}};function r(t){return e[t]??null}let n=t=>{let i=typeof t;switch(i){case"number":return Number.isNaN(t)?"NaN":"n\\u1ECD\\u0301mb\\xE0";case"object":{if(Array.isArray(t))return"akop\\u1ECD";if(t===null)return"null";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name}}return i},o={regex:"\\u1EB9\\u0300r\\u1ECD \\xECb\\xE1w\\u1ECDl\\xE9",email:"\\xE0d\\xEDr\\u1EB9\\u0301s\\xEC \\xECm\\u1EB9\\u0301l\\xEC",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"\\xE0k\\xF3k\\xF2 ISO",date:"\\u1ECDj\\u1ECD\\u0301 ISO",time:"\\xE0k\\xF3k\\xF2 ISO",duration:"\\xE0k\\xF3k\\xF2 t\\xF3 p\\xE9 ISO",ipv4:"\\xE0d\\xEDr\\u1EB9\\u0301s\\xEC IPv4",ipv6:"\\xE0d\\xEDr\\u1EB9\\u0301s\\xEC IPv6",cidrv4:"\\xE0gb\\xE8gb\\xE8 IPv4",cidrv6:"\\xE0gb\\xE8gb\\xE8 IPv6",base64:"\\u1ECD\\u0300r\\u1ECD\\u0300 t\\xED a k\\u1ECD\\u0301 n\\xED base64",base64url:"\\u1ECD\\u0300r\\u1ECD\\u0300 base64url",json_string:"\\u1ECD\\u0300r\\u1ECD\\u0300 JSON",e164:"n\\u1ECD\\u0301mb\\xE0 E.164",jwt:"JWT",template_literal:"\\u1EB9\\u0300r\\u1ECD \\xECb\\xE1w\\u1ECDl\\xE9"};return t=>{switch(t.code){case"invalid_type":return`\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e: a n\\xED l\\xE1ti fi ${t.expected}, \\xE0m\\u1ECD\\u0300 a r\\xED ${n(t.input)}`;case"invalid_value":return t.values.length===1?`\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e: a n\\xED l\\xE1ti fi ${p(t.values[0])}`:`\\xC0\\u1E63\\xE0y\\xE0n a\\u1E63\\xEC\\u1E63e: yan \\u1ECD\\u0300kan l\\xE1ra ${l(t.values,"|")}`;case"too_big":{let i=t.inclusive?"<=":"<",a=r(t.origin);return a?`T\\xF3 p\\u1ECD\\u0300 j\\xF9: a n\\xED l\\xE1ti j\\u1EB9\\u0301 p\\xE9 ${t.origin??"iye"} ${a.verb} ${i}${t.maximum} ${a.unit}`:`T\\xF3 p\\u1ECD\\u0300 j\\xF9: a n\\xED l\\xE1ti j\\u1EB9\\u0301 ${i}${t.maximum}`}case"too_small":{let i=t.inclusive?">=":">",a=r(t.origin);return a?`K\\xE9r\\xE9 ju: a n\\xED l\\xE1ti j\\u1EB9\\u0301 p\\xE9 ${t.origin} ${a.verb} ${i}${t.minimum} ${a.unit}`:`K\\xE9r\\xE9 ju: a n\\xED l\\xE1ti j\\u1EB9\\u0301 ${i}${t.minimum}`}case"invalid_format":{let i=t;return i.format==="starts_with"?`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 b\\u1EB9\\u0300r\\u1EB9\\u0300 p\\u1EB9\\u0300l\\xFA "${i.prefix}"`:i.format==="ends_with"?`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 par\\xED p\\u1EB9\\u0300l\\xFA "${i.suffix}"`:i.format==="includes"?`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 n\\xED "${i.includes}"`:i.format==="regex"?`\\u1ECC\\u0300r\\u1ECD\\u0300 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 b\\xE1 \\xE0p\\u1EB9\\u1EB9r\\u1EB9 mu ${i.pattern}`:`A\\u1E63\\xEC\\u1E63e: ${o[i.format]??t.format}`}case"not_multiple_of":return`N\\u1ECD\\u0301mb\\xE0 a\\u1E63\\xEC\\u1E63e: gb\\u1ECD\\u0301d\\u1ECD\\u0300 j\\u1EB9\\u0301 \\xE8y\\xE0 p\\xEDp\\xEDn ti ${t.divisor}`;case"unrecognized_keys":return`B\\u1ECDt\\xECn\\xEC \\xE0\\xECm\\u1ECD\\u0300: ${l(t.keys,", ")}`;case"invalid_key":return`B\\u1ECDt\\xECn\\xEC a\\u1E63\\xEC\\u1E63e n\\xEDn\\xFA ${t.origin}`;case"invalid_union":return"\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e";case"invalid_element":return`Iye a\\u1E63\\xEC\\u1E63e n\\xEDn\\xFA ${t.origin}`;default:return"\\xCCb\\xE1w\\u1ECDl\\xE9 a\\u1E63\\xEC\\u1E63e"}}};function dc(){return{localeError:md()}}var eo=Symbol("ZodOutput"),to=Symbol("ZodInput"),je=class{constructor(){this._map=new WeakMap,this._idmap=new Map}add(r,...n){let o=n[0];if(this._map.set(r,o),o&&typeof o=="object"&&"id"in o){if(this._idmap.has(o.id))throw new Error(`ID ${o.id} already exists in the registry`);this._idmap.set(o.id,r)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(r){let n=this._map.get(r);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(r),this}get(r){let n=r._zod.parent;if(n){let o={...this.get(n)??{}};delete o.id;let t={...o,...this._map.get(r)};return Object.keys(t).length?t:void 0}return this._map.get(r)}has(r){return this._map.has(r)}};function Qt(){return new je}var q=Qt();function ro(e,r){return new e({type:"string",...v(r)})}function no(e,r){return new e({type:"string",coerce:!0,...v(r)})}function Ht(e,r){return new e({type:"string",format:"email",check:"string_format",abort:!1,...v(r)})}function rt(e,r){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...v(r)})}function er(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...v(r)})}function tr(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...v(r)})}function rr(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...v(r)})}function nr(e,r){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...v(r)})}function nt(e,r){return new e({type:"string",format:"url",check:"string_format",abort:!1,...v(r)})}function ir(e,r){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...v(r)})}function or(e,r){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...v(r)})}function ar(e,r){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...v(r)})}function ur(e,r){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...v(r)})}function cr(e,r){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...v(r)})}function sr(e,r){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...v(r)})}function lr(e,r){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...v(r)})}function dr(e,r){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...v(r)})}function mr(e,r){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...v(r)})}function fr(e,r){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...v(r)})}function pr(e,r){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...v(r)})}function gr(e,r){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...v(r)})}function vr(e,r){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...v(r)})}function hr(e,r){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...v(r)})}function $r(e,r){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...v(r)})}var io={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function oo(e,r){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...v(r)})}function ao(e,r){return new e({type:"string",format:"date",check:"string_format",...v(r)})}function uo(e,r){return new e({type:"string",format:"time",check:"string_format",precision:null,...v(r)})}function co(e,r){return new e({type:"string",format:"duration",check:"string_format",...v(r)})}function so(e,r){return new e({type:"number",checks:[],...v(r)})}function lo(e,r){return new e({type:"number",coerce:!0,checks:[],...v(r)})}function mo(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...v(r)})}function fo(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...v(r)})}function po(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...v(r)})}function go(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...v(r)})}function vo(e,r){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...v(r)})}function ho(e,r){return new e({type:"boolean",...v(r)})}function $o(e,r){return new e({type:"boolean",coerce:!0,...v(r)})}function bo(e,r){return new e({type:"bigint",...v(r)})}function _o(e,r){return new e({type:"bigint",coerce:!0,...v(r)})}function yo(e,r){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...v(r)})}function xo(e,r){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...v(r)})}function ko(e,r){return new e({type:"symbol",...v(r)})}function zo(e,r){return new e({type:"undefined",...v(r)})}function Io(e,r){return new e({type:"null",...v(r)})}function wo(e){return new e({type:"any"})}function So(e){return new e({type:"unknown"})}function jo(e,r){return new e({type:"never",...v(r)})}function Oo(e,r){return new e({type:"void",...v(r)})}function Po(e,r){return new e({type:"date",...v(r)})}function Uo(e,r){return new e({type:"date",coerce:!0,...v(r)})}function No(e,r){return new e({type:"nan",...v(r)})}function H(e,r){return new Rt({check:"less_than",...v(r),value:e,inclusive:!1})}function G(e,r){return new Rt({check:"less_than",...v(r),value:e,inclusive:!0})}function ee(e,r){return new Lt({check:"greater_than",...v(r),value:e,inclusive:!1})}function C(e,r){return new Lt({check:"greater_than",...v(r),value:e,inclusive:!0})}function Zo(e){return ee(0,e)}function Do(e){return H(0,e)}function To(e){return G(0,e)}function Eo(e){return C(0,e)}function $e(e,r){return new Sn({check:"multiple_of",...v(r),value:e})}function Oe(e,r){return new Pn({check:"max_size",...v(r),maximum:e})}function be(e,r){return new Un({check:"min_size",...v(r),minimum:e})}function it(e,r){return new Nn({check:"size_equals",...v(r),size:e})}function Pe(e,r){return new Zn({check:"max_length",...v(r),maximum:e})}function le(e,r){return new Dn({check:"min_length",...v(r),minimum:e})}function Ue(e,r){return new Tn({check:"length_equals",...v(r),length:e})}function ot(e,r){return new En({check:"string_format",format:"regex",...v(r),pattern:e})}function at(e){return new An({check:"string_format",format:"lowercase",...v(e)})}function ut(e){return new Rn({check:"string_format",format:"uppercase",...v(e)})}function ct(e,r){return new Ln({check:"string_format",format:"includes",...v(r),includes:e})}function st(e,r){return new Cn({check:"string_format",format:"starts_with",...v(r),prefix:e})}function lt(e,r){return new Vn({check:"string_format",format:"ends_with",...v(r),suffix:e})}function Ao(e,r,n){return new Fn({check:"property",property:e,schema:r,...v(n)})}function dt(e,r){return new Jn({check:"mime_type",mime:e,...v(r)})}function te(e){return new Mn({check:"overwrite",tx:e})}function mt(e){return te(r=>r.normalize(e))}function ft(){return te(e=>e.trim())}function pt(){return te(e=>e.toLowerCase())}function gt(){return te(e=>e.toUpperCase())}function Ro(e,r,n){return new e({type:"array",element:r,...v(n)})}function fd(e,r,n){return new e({type:"union",options:r,...v(n)})}function pd(e,r,n,o){return new e({type:"union",options:n,discriminator:r,...v(o)})}function gd(e,r,n){return new e({type:"intersection",left:r,right:n})}function vd(e,r,n,o){let t=n instanceof x,i=t?o:n,a=t?n:null;return new e({type:"tuple",items:r,rest:a,...v(i)})}function hd(e,r,n,o){return new e({type:"record",keyType:r,valueType:n,...v(o)})}function $d(e,r,n,o){return new e({type:"map",keyType:r,valueType:n,...v(o)})}function bd(e,r,n){return new e({type:"set",valueType:r,...v(n)})}function _d(e,r,n){let o=Array.isArray(r)?Object.fromEntries(r.map(t=>[t,t])):r;return new e({type:"enum",entries:o,...v(n)})}function yd(e,r,n){return new e({type:"enum",entries:r,...v(n)})}function xd(e,r,n){return new e({type:"literal",values:Array.isArray(r)?r:[r],...v(n)})}function Lo(e,r){return new e({type:"file",...v(r)})}function kd(e,r){return new e({type:"transform",transform:r})}function zd(e,r){return new e({type:"optional",innerType:r})}function Id(e,r){return new e({type:"nullable",innerType:r})}function wd(e,r,n){return new e({type:"default",innerType:r,get defaultValue(){return typeof n=="function"?n():Fr(n)}})}function Sd(e,r,n){return new e({type:"nonoptional",innerType:r,...v(n)})}function jd(e,r){return new e({type:"success",innerType:r})}function Od(e,r,n){return new e({type:"catch",innerType:r,catchValue:typeof n=="function"?n:()=>n})}function Pd(e,r,n){return new e({type:"pipe",in:r,out:n})}function Ud(e,r){return new e({type:"readonly",innerType:r})}function Nd(e,r,n){return new e({type:"template_literal",parts:r,...v(n)})}function Zd(e,r){return new e({type:"lazy",getter:r})}function Dd(e,r){return new e({type:"promise",innerType:r})}function Co(e,r,n){let o=v(n);return o.abort??(o.abort=!0),new e({type:"custom",check:"custom",fn:r,...o})}function Vo(e,r,n){return new e({type:"custom",check:"custom",fn:r,...v(n)})}function Fo(e){let r=mc(n=>(n.addIssue=o=>{if(typeof o=="string")n.issues.push(xe(o,n.value,r._zod.def));else{let t=o;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=r),t.continue??(t.continue=!r._zod.def.abort),n.issues.push(xe(t))}},e(n.value,n)));return r}function mc(e,r){let n=new Z({check:"custom",...v(r)});return n._zod.check=e,n}function Jo(e,r){let n=v(r),o=n.truthy??["true","1","yes","on","y","enabled"],t=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(o=o.map($=>typeof $=="string"?$.toLowerCase():$),t=t.map($=>typeof $=="string"?$.toLowerCase():$));let i=new Set(o),a=new Set(t),u=e.Codec??Qe,s=e.Boolean??Ye,m=e.String??he,f=new m({type:"string",error:n.error}),g=new s({type:"boolean",error:n.error}),y=new u({type:"pipe",in:f,out:g,transform:($,d)=>{let b=$;return n.case!=="sensitive"&&(b=b.toLowerCase()),i.has(b)?!0:a.has(b)?!1:(d.issues.push({code:"invalid_value",expected:"stringbool",values:[...i,...a],input:d.value,inst:y,continue:!1}),{})},reverseTransform:($,d)=>$===!0?o[0]||"true":t[0]||"false",error:n.error});return y}function Ne(e,r,n,o={}){let t=v(o),i={...v(o),check:"string_format",type:"string",format:r,fn:typeof n=="function"?n:u=>n.test(u),...t};return n instanceof RegExp&&(i.pattern=n),new e(i)}var vt=class{constructor(r){this.counter=0,this.metadataRegistry=r?.metadata??q,this.target=r?.target??"draft-2020-12",this.unrepresentable=r?.unrepresentable??"throw",this.override=r?.override??(()=>{}),this.io=r?.io??"output",this.seen=new Map}process(r,n={path:[],schemaPath:[]}){var o;let t=r._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},a=this.seen.get(r);if(a)return a.count++,n.schemaPath.includes(r)&&(a.cycle=n.path),a.schema;let u={schema:{},count:1,cycle:void 0,path:n.path};this.seen.set(r,u);let s=r._zod.toJSONSchema?.();if(s)u.schema=s;else{let g={...n,schemaPath:[...n.schemaPath,r],path:n.path},y=r._zod.parent;if(y)u.ref=y,this.process(y,g),this.seen.get(y).isParent=!0;else{let $=u.schema;switch(t.type){case"string":{let d=$;d.type="string";let{minimum:b,maximum:_,format:S,patterns:w,contentEncoding:z}=r._zod.bag;if(typeof b=="number"&&(d.minLength=b),typeof _=="number"&&(d.maxLength=_),S&&(d.format=i[S]??S,d.format===""&&delete d.format),z&&(d.contentEncoding=z),w&&w.size>0){let j=[...w];j.length===1?d.pattern=j[0].source:j.length>1&&(u.schema.allOf=[...j.map(A=>({...this.target==="draft-7"||this.target==="draft-4"||this.target==="openapi-3.0"?{type:"string"}:{},pattern:A.source}))])}break}case"number":{let d=$,{minimum:b,maximum:_,format:S,multipleOf:w,exclusiveMaximum:z,exclusiveMinimum:j}=r._zod.bag;typeof S=="string"&&S.includes("int")?d.type="integer":d.type="number",typeof j=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(d.minimum=j,d.exclusiveMinimum=!0):d.exclusiveMinimum=j),typeof b=="number"&&(d.minimum=b,typeof j=="number"&&this.target!=="draft-4"&&(j>=b?delete d.minimum:delete d.exclusiveMinimum)),typeof z=="number"&&(this.target==="draft-4"||this.target==="openapi-3.0"?(d.maximum=z,d.exclusiveMaximum=!0):d.exclusiveMaximum=z),typeof _=="number"&&(d.maximum=_,typeof z=="number"&&this.target!=="draft-4"&&(z<=_?delete d.maximum:delete d.exclusiveMaximum)),typeof w=="number"&&(d.multipleOf=w);break}case"boolean":{let d=$;d.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{this.target==="openapi-3.0"?($.type="string",$.nullable=!0,$.enum=[null]):$.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{$.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{let d=$,{minimum:b,maximum:_}=r._zod.bag;typeof b=="number"&&(d.minItems=b),typeof _=="number"&&(d.maxItems=_),d.type="array",d.items=this.process(t.element,{...g,path:[...g.path,"items"]});break}case"object":{let d=$;d.type="object",d.properties={};let b=t.shape;for(let w in b)d.properties[w]=this.process(b[w],{...g,path:[...g.path,"properties",w]});let _=new Set(Object.keys(b)),S=new Set([..._].filter(w=>{let z=t.shape[w]._zod;return this.io==="input"?z.optin===void 0:z.optout===void 0}));S.size>0&&(d.required=Array.from(S)),t.catchall?._zod.def.type==="never"?d.additionalProperties=!1:t.catchall?t.catchall&&(d.additionalProperties=this.process(t.catchall,{...g,path:[...g.path,"additionalProperties"]})):this.io==="output"&&(d.additionalProperties=!1);break}case"union":{let d=$,b=t.options.map((_,S)=>this.process(_,{...g,path:[...g.path,"anyOf",S]}));d.anyOf=b;break}case"intersection":{let d=$,b=this.process(t.left,{...g,path:[...g.path,"allOf",0]}),_=this.process(t.right,{...g,path:[...g.path,"allOf",1]}),S=z=>"allOf"in z&&Object.keys(z).length===1,w=[...S(b)?b.allOf:[b],...S(_)?_.allOf:[_]];d.allOf=w;break}case"tuple":{let d=$;d.type="array";let b=this.target==="draft-2020-12"?"prefixItems":"items",_=this.target==="draft-2020-12"||this.target==="openapi-3.0"?"items":"additionalItems",S=t.items.map((A,P)=>this.process(A,{...g,path:[...g.path,b,P]})),w=t.rest?this.process(t.rest,{...g,path:[...g.path,_,...this.target==="openapi-3.0"?[t.items.length]:[]]}):null;this.target==="draft-2020-12"?(d.prefixItems=S,w&&(d.items=w)):this.target==="openapi-3.0"?(d.items={anyOf:S},w&&d.items.anyOf.push(w),d.minItems=S.length,w||(d.maxItems=S.length)):(d.items=S,w&&(d.additionalItems=w));let{minimum:z,maximum:j}=r._zod.bag;typeof z=="number"&&(d.minItems=z),typeof j=="number"&&(d.maxItems=j);break}case"record":{let d=$;d.type="object",(this.target==="draft-7"||this.target==="draft-2020-12")&&(d.propertyNames=this.process(t.keyType,{...g,path:[...g.path,"propertyNames"]})),d.additionalProperties=this.process(t.valueType,{...g,path:[...g.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{let d=$,b=Ce(t.entries);b.every(_=>typeof _=="number")&&(d.type="number"),b.every(_=>typeof _=="string")&&(d.type="string"),d.enum=b;break}case"literal":{let d=$,b=[];for(let _ of t.values)if(_===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof _=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");b.push(Number(_))}else b.push(_);if(b.length!==0)if(b.length===1){let _=b[0];d.type=_===null?"null":typeof _,this.target==="draft-4"||this.target==="openapi-3.0"?d.enum=[_]:d.const=_}else b.every(_=>typeof _=="number")&&(d.type="number"),b.every(_=>typeof _=="string")&&(d.type="string"),b.every(_=>typeof _=="boolean")&&(d.type="string"),b.every(_=>_===null)&&(d.type="null"),d.enum=b;break}case"file":{let d=$,b={type:"string",format:"binary",contentEncoding:"binary"},{minimum:_,maximum:S,mime:w}=r._zod.bag;_!==void 0&&(b.minLength=_),S!==void 0&&(b.maxLength=S),w?w.length===1?(b.contentMediaType=w[0],Object.assign(d,b)):d.anyOf=w.map(z=>({...b,contentMediaType:z})):Object.assign(d,b);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{let d=this.process(t.innerType,g);this.target==="openapi-3.0"?(u.ref=t.innerType,$.nullable=!0):$.anyOf=[d,{type:"null"}];break}case"nonoptional":{this.process(t.innerType,g),u.ref=t.innerType;break}case"success":{let d=$;d.type="boolean";break}case"default":{this.process(t.innerType,g),u.ref=t.innerType,$.default=JSON.parse(JSON.stringify(t.defaultValue));break}case"prefault":{this.process(t.innerType,g),u.ref=t.innerType,this.io==="input"&&($._prefault=JSON.parse(JSON.stringify(t.defaultValue)));break}case"catch":{this.process(t.innerType,g),u.ref=t.innerType;let d;try{d=t.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}$.default=d;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{let d=$,b=r._zod.pattern;if(!b)throw new Error("Pattern not found in template literal");d.type="string",d.pattern=b.source;break}case"pipe":{let d=this.io==="input"?t.in._zod.def.type==="transform"?t.out:t.in:t.out;this.process(d,g),u.ref=d;break}case"readonly":{this.process(t.innerType,g),u.ref=t.innerType,$.readOnly=!0;break}case"promise":{this.process(t.innerType,g),u.ref=t.innerType;break}case"optional":{this.process(t.innerType,g),u.ref=t.innerType;break}case"lazy":{let d=r._zod.innerType;this.process(d,g),u.ref=d;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}case"function":{if(this.unrepresentable==="throw")throw new Error("Function types cannot be represented in JSON Schema");break}default:}}}let m=this.metadataRegistry.get(r);return m&&Object.assign(u.schema,m),this.io==="input"&&T(r)&&(delete u.schema.examples,delete u.schema.default),this.io==="input"&&u.schema._prefault&&((o=u.schema).default??(o.default=u.schema._prefault)),delete u.schema._prefault,this.seen.get(r).schema}emit(r,n){let o={cycles:n?.cycles??"ref",reused:n?.reused??"inline",external:n?.external??void 0},t=this.seen.get(r);if(!t)throw new Error("Unprocessed schema. This is a bug in Zod.");let i=f=>{let g=this.target==="draft-2020-12"?"$defs":"definitions";if(o.external){let b=o.external.registry.get(f[0])?.id,_=o.external.uri??(w=>w);if(b)return{ref:_(b)};let S=f[1].defId??f[1].schema.id??`schema${this.counter++}`;return f[1].defId=S,{defId:S,ref:`${_("__shared")}#/${g}/${S}`}}if(f[1]===t)return{ref:"#"};let $=`#/${g}/`,d=f[1].schema.id??`__schema${this.counter++}`;return{defId:d,ref:$+d}},a=f=>{if(f[1].schema.$ref)return;let g=f[1],{ref:y,defId:$}=i(f);g.def={...g.schema},$&&(g.defId=$);let d=g.schema;for(let b in d)delete d[b];d.$ref=y};if(o.cycles==="throw")for(let f of this.seen.entries()){let g=f[1];if(g.cycle)throw new Error(`Cycle detected: #/${g.cycle?.join("/")}/<root>\n\nSet the \\`cycles\\` parameter to \\`"ref"\\` to resolve cyclical schemas with defs.`)}for(let f of this.seen.entries()){let g=f[1];if(r===f[0]){a(f);continue}if(o.external){let $=o.external.registry.get(f[0])?.id;if(r!==f[0]&&$){a(f);continue}}if(this.metadataRegistry.get(f[0])?.id){a(f);continue}if(g.cycle){a(f);continue}if(g.count>1&&o.reused==="ref"){a(f);continue}}let u=(f,g)=>{let y=this.seen.get(f),$=y.def??y.schema,d={...$};if(y.ref===null)return;let b=y.ref;if(y.ref=null,b){u(b,g);let _=this.seen.get(b).schema;_.$ref&&(g.target==="draft-7"||g.target==="draft-4"||g.target==="openapi-3.0")?($.allOf=$.allOf??[],$.allOf.push(_)):(Object.assign($,_),Object.assign($,d))}y.isParent||this.override({zodSchema:f,jsonSchema:$,path:y.path??[]})};for(let f of[...this.seen.entries()].reverse())u(f[0],{target:this.target});let s={};if(this.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?s.$schema="http://json-schema.org/draft-07/schema#":this.target==="draft-4"?s.$schema="http://json-schema.org/draft-04/schema#":this.target==="openapi-3.0"||console.warn(`Invalid target: ${this.target}`),o.external?.uri){let f=o.external.registry.get(r)?.id;if(!f)throw new Error("Schema is missing an `id` property");s.$id=o.external.uri(f)}Object.assign(s,t.def);let m=o.external?.defs??{};for(let f of this.seen.entries()){let g=f[1];g.def&&g.defId&&(m[g.defId]=g.def)}o.external||Object.keys(m).length>0&&(this.target==="draft-2020-12"?s.$defs=m:s.definitions=m);try{return JSON.parse(JSON.stringify(s))}catch{throw new Error("Error converting schema to JSON.")}}};function Mo(e,r){if(e instanceof je){let o=new vt(r),t={};for(let u of e._idmap.entries()){let[s,m]=u;o.process(m)}let i={},a={registry:e,uri:r?.uri,defs:t};for(let u of e._idmap.entries()){let[s,m]=u;i[s]=o.emit(m,{...r,external:a})}if(Object.keys(t).length>0){let u=o.target==="draft-2020-12"?"$defs":"definitions";i.__shared={[u]:t}}return{schemas:i}}let n=new vt(r);return n.process(e),n.emit(e,r)}function T(e,r){let n=r??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);let t=e._zod.def;switch(t.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return T(t.element,n);case"object":{for(let i in t.shape)if(T(t.shape[i],n))return!0;return!1}case"union":{for(let i of t.options)if(T(i,n))return!0;return!1}case"intersection":return T(t.left,n)||T(t.right,n);case"tuple":{for(let i of t.items)if(T(i,n))return!0;return!!(t.rest&&T(t.rest,n))}case"record":return T(t.keyType,n)||T(t.valueType,n);case"map":return T(t.keyType,n)||T(t.valueType,n);case"set":return T(t.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return T(t.innerType,n);case"lazy":return T(t.getter(),n);case"default":return T(t.innerType,n);case"prefault":return T(t.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return T(t.in,n)||T(t.out,n);case"success":return!1;case"catch":return!1;case"function":return!1;default:}throw new Error(`Unknown schema type: ${t.type}`)}var fc={};var kr={};pe(kr,{ZodISODate:()=>_r,ZodISODateTime:()=>br,ZodISODuration:()=>xr,ZodISOTime:()=>yr,date:()=>Ko,datetime:()=>Bo,duration:()=>Wo,time:()=>Go});var br=c("ZodISODateTime",(e,r)=>{ii.init(e,r),N.init(e,r)});function Bo(e){return oo(br,e)}var _r=c("ZodISODate",(e,r)=>{oi.init(e,r),N.init(e,r)});function Ko(e){return ao(_r,e)}var yr=c("ZodISOTime",(e,r)=>{ai.init(e,r),N.init(e,r)});function Go(e){return uo(yr,e)}var xr=c("ZodISODuration",(e,r)=>{ui.init(e,r),N.init(e,r)});function Wo(e){return co(xr,e)}var gc=(e,r)=>{Be.init(e,r),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Ge(e,n)},flatten:{value:n=>Ke(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,_e,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,_e,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ed=c("ZodError",gc),V=c("ZodError",gc,{Parent:Error});var Xo=ke(V),qo=ze(V),Yo=Ie(V),Qo=we(V),Ho=Ot(V),ea=Pt(V),ta=Ut(V),ra=Nt(V),na=Zt(V),ia=Dt(V),oa=Tt(V),aa=Et(V);var k=c("ZodType",(e,r)=>(x.init(e,r),e.def=r,e.type=r.type,Object.defineProperty(e,"_def",{value:r}),e.check=(...n)=>e.clone(h.mergeDefs(r,{checks:[...r.checks??[],...n.map(o=>typeof o=="function"?{_zod:{check:o,def:{check:"custom"},onattach:[]}}:o)]})),e.clone=(n,o)=>R(e,n,o),e.brand=()=>e,e.register=(n,o)=>(n.add(e,o),e),e.parse=(n,o)=>Xo(e,n,o,{callee:e.parse}),e.safeParse=(n,o)=>Yo(e,n,o),e.parseAsync=async(n,o)=>qo(e,n,o,{callee:e.parseAsync}),e.safeParseAsync=async(n,o)=>Qo(e,n,o),e.spa=e.safeParseAsync,e.encode=(n,o)=>Ho(e,n,o),e.decode=(n,o)=>ea(e,n,o),e.encodeAsync=async(n,o)=>ta(e,n,o),e.decodeAsync=async(n,o)=>ra(e,n,o),e.safeEncode=(n,o)=>na(e,n,o),e.safeDecode=(n,o)=>ia(e,n,o),e.safeEncodeAsync=async(n,o)=>oa(e,n,o),e.safeDecodeAsync=async(n,o)=>aa(e,n,o),e.refine=(n,o)=>e.check(ts(n,o)),e.superRefine=n=>e.check(rs(n)),e.overwrite=n=>e.check(te(n)),e.optional=()=>Ir(e),e.nullable=()=>wr(e),e.nullish=()=>Ir(wr(e)),e.nonoptional=n=>Jc(e,n),e.array=()=>Pr(e),e.or=n=>Oa([e,n]),e.and=n=>Oc(e,n),e.transform=n=>Sr(e,Na(n)),e.default=n=>Cc(e,n),e.prefault=n=>Fc(e,n),e.catch=n=>Kc(e,n),e.pipe=n=>Sr(e,n),e.readonly=()=>Xc(e),e.describe=n=>{let o=e.clone();return q.add(o,{description:n}),o},Object.defineProperty(e,"description",{get(){return q.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return q.get(e);let o=e.clone();return q.add(o,n[0]),o},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),sa=c("_ZodString",(e,r)=>{he.init(e,r),k.init(e,r);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...o)=>e.check(ot(...o)),e.includes=(...o)=>e.check(ct(...o)),e.startsWith=(...o)=>e.check(st(...o)),e.endsWith=(...o)=>e.check(lt(...o)),e.min=(...o)=>e.check(le(...o)),e.max=(...o)=>e.check(Pe(...o)),e.length=(...o)=>e.check(Ue(...o)),e.nonempty=(...o)=>e.check(le(1,...o)),e.lowercase=o=>e.check(at(o)),e.uppercase=o=>e.check(ut(o)),e.trim=()=>e.check(ft()),e.normalize=(...o)=>e.check(mt(...o)),e.toLowerCase=()=>e.check(pt()),e.toUpperCase=()=>e.check(gt())}),$t=c("ZodString",(e,r)=>{he.init(e,r),sa.init(e,r),e.email=n=>e.check(Ht(la,n)),e.url=n=>e.check(nt(jr,n)),e.jwt=n=>e.check($r(Ia,n)),e.emoji=n=>e.check(ir(da,n)),e.guid=n=>e.check(rt(zr,n)),e.uuid=n=>e.check(er(ne,n)),e.uuidv4=n=>e.check(tr(ne,n)),e.uuidv6=n=>e.check(rr(ne,n)),e.uuidv7=n=>e.check(nr(ne,n)),e.nanoid=n=>e.check(or(ma,n)),e.guid=n=>e.check(rt(zr,n)),e.cuid=n=>e.check(ar(fa,n)),e.cuid2=n=>e.check(ur(pa,n)),e.ulid=n=>e.check(cr(ga,n)),e.base64=n=>e.check(gr(xa,n)),e.base64url=n=>e.check(vr(ka,n)),e.xid=n=>e.check(sr(va,n)),e.ksuid=n=>e.check(lr(ha,n)),e.ipv4=n=>e.check(dr($a,n)),e.ipv6=n=>e.check(mr(ba,n)),e.cidrv4=n=>e.check(fr(_a,n)),e.cidrv6=n=>e.check(pr(ya,n)),e.e164=n=>e.check(hr(za,n)),e.datetime=n=>e.check(Bo(n)),e.date=n=>e.check(Ko(n)),e.time=n=>e.check(Go(n)),e.duration=n=>e.check(Wo(n))});function ua(e){return ro($t,e)}var N=c("ZodStringFormat",(e,r)=>{O.init(e,r),sa.init(e,r)}),la=c("ZodEmail",(e,r)=>{Xn.init(e,r),N.init(e,r)});function Rd(e){return Ht(la,e)}var zr=c("ZodGUID",(e,r)=>{Gn.init(e,r),N.init(e,r)});function Ld(e){return rt(zr,e)}var ne=c("ZodUUID",(e,r)=>{Wn.init(e,r),N.init(e,r)});function Cd(e){return er(ne,e)}function Vd(e){return tr(ne,e)}function Fd(e){return rr(ne,e)}function Jd(e){return nr(ne,e)}var jr=c("ZodURL",(e,r)=>{qn.init(e,r),N.init(e,r)});function Md(e){return nt(jr,e)}function Bd(e){return nt(jr,{protocol:/^https?$/,hostname:K.domain,...h.normalizeParams(e)})}var da=c("ZodEmoji",(e,r)=>{Yn.init(e,r),N.init(e,r)});function Kd(e){return ir(da,e)}var ma=c("ZodNanoID",(e,r)=>{Qn.init(e,r),N.init(e,r)});function Gd(e){return or(ma,e)}var fa=c("ZodCUID",(e,r)=>{Hn.init(e,r),N.init(e,r)});function Wd(e){return ar(fa,e)}var pa=c("ZodCUID2",(e,r)=>{ei.init(e,r),N.init(e,r)});function Xd(e){return ur(pa,e)}var ga=c("ZodULID",(e,r)=>{ti.init(e,r),N.init(e,r)});function qd(e){return cr(ga,e)}var va=c("ZodXID",(e,r)=>{ri.init(e,r),N.init(e,r)});function Yd(e){return sr(va,e)}var ha=c("ZodKSUID",(e,r)=>{ni.init(e,r),N.init(e,r)});function Qd(e){return lr(ha,e)}var $a=c("ZodIPv4",(e,r)=>{ci.init(e,r),N.init(e,r)});function Hd(e){return dr($a,e)}var ba=c("ZodIPv6",(e,r)=>{si.init(e,r),N.init(e,r)});function em(e){return mr(ba,e)}var _a=c("ZodCIDRv4",(e,r)=>{li.init(e,r),N.init(e,r)});function tm(e){return fr(_a,e)}var ya=c("ZodCIDRv6",(e,r)=>{di.init(e,r),N.init(e,r)});function rm(e){return pr(ya,e)}var xa=c("ZodBase64",(e,r)=>{fi.init(e,r),N.init(e,r)});function nm(e){return gr(xa,e)}var ka=c("ZodBase64URL",(e,r)=>{pi.init(e,r),N.init(e,r)});function im(e){return vr(ka,e)}var za=c("ZodE164",(e,r)=>{gi.init(e,r),N.init(e,r)});function om(e){return hr(za,e)}var Ia=c("ZodJWT",(e,r)=>{vi.init(e,r),N.init(e,r)});function am(e){return $r(Ia,e)}var bt=c("ZodCustomStringFormat",(e,r)=>{hi.init(e,r),N.init(e,r)});function um(e,r,n={}){return Ne(bt,e,r,n)}function cm(e){return Ne(bt,"hostname",K.hostname,e)}function sm(e){return Ne(bt,"hex",K.hex,e)}function lm(e,r){let n=r?.enc??"hex",o=`${e}_${n}`,t=K[o];if(!t)throw new Error(`Unrecognized hash format: ${o}`);return Ne(bt,o,t,r)}var _t=c("ZodNumber",(e,r)=>{Bt.init(e,r),k.init(e,r),e.gt=(o,t)=>e.check(ee(o,t)),e.gte=(o,t)=>e.check(C(o,t)),e.min=(o,t)=>e.check(C(o,t)),e.lt=(o,t)=>e.check(H(o,t)),e.lte=(o,t)=>e.check(G(o,t)),e.max=(o,t)=>e.check(G(o,t)),e.int=o=>e.check(ca(o)),e.safe=o=>e.check(ca(o)),e.positive=o=>e.check(ee(0,o)),e.nonnegative=o=>e.check(C(0,o)),e.negative=o=>e.check(H(0,o)),e.nonpositive=o=>e.check(G(0,o)),e.multipleOf=(o,t)=>e.check($e(o,t)),e.step=(o,t)=>e.check($e(o,t)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function vc(e){return so(_t,e)}var De=c("ZodNumberFormat",(e,r)=>{$i.init(e,r),_t.init(e,r)});function ca(e){return mo(De,e)}function dm(e){return fo(De,e)}function mm(e){return po(De,e)}function fm(e){return go(De,e)}function pm(e){return vo(De,e)}var yt=c("ZodBoolean",(e,r)=>{Ye.init(e,r),k.init(e,r)});function hc(e){return ho(yt,e)}var xt=c("ZodBigInt",(e,r)=>{Kt.init(e,r),k.init(e,r),e.gte=(o,t)=>e.check(C(o,t)),e.min=(o,t)=>e.check(C(o,t)),e.gt=(o,t)=>e.check(ee(o,t)),e.gte=(o,t)=>e.check(C(o,t)),e.min=(o,t)=>e.check(C(o,t)),e.lt=(o,t)=>e.check(H(o,t)),e.lte=(o,t)=>e.check(G(o,t)),e.max=(o,t)=>e.check(G(o,t)),e.positive=o=>e.check(ee(BigInt(0),o)),e.negative=o=>e.check(H(BigInt(0),o)),e.nonpositive=o=>e.check(G(BigInt(0),o)),e.nonnegative=o=>e.check(C(BigInt(0),o)),e.multipleOf=(o,t)=>e.check($e(o,t));let n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function gm(e){return bo(xt,e)}var wa=c("ZodBigIntFormat",(e,r)=>{bi.init(e,r),xt.init(e,r)});function vm(e){return yo(wa,e)}function hm(e){return xo(wa,e)}var $c=c("ZodSymbol",(e,r)=>{_i.init(e,r),k.init(e,r)});function $m(e){return ko($c,e)}var bc=c("ZodUndefined",(e,r)=>{yi.init(e,r),k.init(e,r)});function bm(e){return zo(bc,e)}var _c=c("ZodNull",(e,r)=>{xi.init(e,r),k.init(e,r)});function yc(e){return Io(_c,e)}var xc=c("ZodAny",(e,r)=>{ki.init(e,r),k.init(e,r)});function _m(){return wo(xc)}var kc=c("ZodUnknown",(e,r)=>{zi.init(e,r),k.init(e,r)});function Ze(){return So(kc)}var zc=c("ZodNever",(e,r)=>{Ii.init(e,r),k.init(e,r)});function Sa(e){return jo(zc,e)}var Ic=c("ZodVoid",(e,r)=>{wi.init(e,r),k.init(e,r)});function ym(e){return Oo(Ic,e)}var Or=c("ZodDate",(e,r)=>{Si.init(e,r),k.init(e,r),e.min=(o,t)=>e.check(C(o,t)),e.max=(o,t)=>e.check(G(o,t));let n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function xm(e){return Po(Or,e)}var wc=c("ZodArray",(e,r)=>{ji.init(e,r),k.init(e,r),e.element=r.element,e.min=(n,o)=>e.check(le(n,o)),e.nonempty=n=>e.check(le(1,n)),e.max=(n,o)=>e.check(Pe(n,o)),e.length=(n,o)=>e.check(Ue(n,o)),e.unwrap=()=>e.element});function Pr(e,r){return Ro(wc,e,r)}function km(e){let r=e._zod.def.shape;return Ua(Object.keys(r))}var Ur=c("ZodObject",(e,r)=>{Oi.init(e,r),k.init(e,r),h.defineLazy(e,"shape",()=>r.shape),e.keyof=()=>Ua(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ze()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ze()}),e.strict=()=>e.clone({...e._zod.def,catchall:Sa()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>h.extend(e,n),e.safeExtend=n=>h.safeExtend(e,n),e.merge=n=>h.merge(e,n),e.pick=n=>h.pick(e,n),e.omit=n=>h.omit(e,n),e.partial=(...n)=>h.partial(Za,e,n[0]),e.required=(...n)=>h.required(Da,e,n[0])});function zm(e,r){let n={type:"object",shape:e??{},...h.normalizeParams(r)};return new Ur(n)}function Im(e,r){return new Ur({type:"object",shape:e,catchall:Sa(),...h.normalizeParams(r)})}function wm(e,r){return new Ur({type:"object",shape:e,catchall:Ze(),...h.normalizeParams(r)})}var ja=c("ZodUnion",(e,r)=>{Gt.init(e,r),k.init(e,r),e.options=r.options});function Oa(e,r){return new ja({type:"union",options:e,...h.normalizeParams(r)})}var Sc=c("ZodDiscriminatedUnion",(e,r)=>{ja.init(e,r),Pi.init(e,r)});function Sm(e,r,n){return new Sc({type:"union",options:r,discriminator:e,...h.normalizeParams(n)})}var jc=c("ZodIntersection",(e,r)=>{Ui.init(e,r),k.init(e,r)});function Oc(e,r){return new jc({type:"intersection",left:e,right:r})}var Pc=c("ZodTuple",(e,r)=>{Wt.init(e,r),k.init(e,r),e.rest=n=>e.clone({...e._zod.def,rest:n})});function Uc(e,r,n){let o=r instanceof x,t=o?n:r,i=o?r:null;return new Pc({type:"tuple",items:e,rest:i,...h.normalizeParams(t)})}var Pa=c("ZodRecord",(e,r)=>{Ni.init(e,r),k.init(e,r),e.keyType=r.keyType,e.valueType=r.valueType});function Nc(e,r,n){return new Pa({type:"record",keyType:e,valueType:r,...h.normalizeParams(n)})}function jm(e,r,n){let o=R(e);return o._zod.values=void 0,new Pa({type:"record",keyType:o,valueType:r,...h.normalizeParams(n)})}var Zc=c("ZodMap",(e,r)=>{Zi.init(e,r),k.init(e,r),e.keyType=r.keyType,e.valueType=r.valueType});function Om(e,r,n){return new Zc({type:"map",keyType:e,valueType:r,...h.normalizeParams(n)})}var Dc=c("ZodSet",(e,r)=>{Di.init(e,r),k.init(e,r),e.min=(...n)=>e.check(be(...n)),e.nonempty=n=>e.check(be(1,n)),e.max=(...n)=>e.check(Oe(...n)),e.size=(...n)=>e.check(it(...n))});function Pm(e,r){return new Dc({type:"set",valueType:e,...h.normalizeParams(r)})}var ht=c("ZodEnum",(e,r)=>{Ti.init(e,r),k.init(e,r),e.enum=r.entries,e.options=Object.values(r.entries);let n=new Set(Object.keys(r.entries));e.extract=(o,t)=>{let i={};for(let a of o)if(n.has(a))i[a]=r.entries[a];else throw new Error(`Key ${a} not found in enum`);return new ht({...r,checks:[],...h.normalizeParams(t),entries:i})},e.exclude=(o,t)=>{let i={...r.entries};for(let a of o)if(n.has(a))delete i[a];else throw new Error(`Key ${a} not found in enum`);return new ht({...r,checks:[],...h.normalizeParams(t),entries:i})}});function Ua(e,r){let n=Array.isArray(e)?Object.fromEntries(e.map(o=>[o,o])):e;return new ht({type:"enum",entries:n,...h.normalizeParams(r)})}function Um(e,r){return new ht({type:"enum",entries:e,...h.normalizeParams(r)})}var Tc=c("ZodLiteral",(e,r)=>{Ei.init(e,r),k.init(e,r),e.values=new Set(r.values),Object.defineProperty(e,"value",{get(){if(r.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return r.values[0]}})});function Nm(e,r){return new Tc({type:"literal",values:Array.isArray(e)?e:[e],...h.normalizeParams(r)})}var Ec=c("ZodFile",(e,r)=>{Ai.init(e,r),k.init(e,r),e.min=(n,o)=>e.check(be(n,o)),e.max=(n,o)=>e.check(Oe(n,o)),e.mime=(n,o)=>e.check(dt(Array.isArray(n)?n:[n],o))});function Zm(e){return Lo(Ec,e)}var Ac=c("ZodTransform",(e,r)=>{Ri.init(e,r),k.init(e,r),e._zod.parse=(n,o)=>{if(o.direction==="backward")throw new ie(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(h.issue(i,n.value,r));else{let a=i;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(h.issue(a))}};let t=r.transform(n.value,n);return t instanceof Promise?t.then(i=>(n.value=i,n)):(n.value=t,n)}});function Na(e){return new Ac({type:"transform",transform:e})}var Za=c("ZodOptional",(e,r)=>{Li.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType});function Ir(e){return new Za({type:"optional",innerType:e})}var Rc=c("ZodNullable",(e,r)=>{Ci.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType});function wr(e){return new Rc({type:"nullable",innerType:e})}function Dm(e){return Ir(wr(e))}var Lc=c("ZodDefault",(e,r)=>{Vi.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Cc(e,r){return new Lc({type:"default",innerType:e,get defaultValue(){return typeof r=="function"?r():h.shallowClone(r)}})}var Vc=c("ZodPrefault",(e,r)=>{Fi.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType});function Fc(e,r){return new Vc({type:"prefault",innerType:e,get defaultValue(){return typeof r=="function"?r():h.shallowClone(r)}})}var Da=c("ZodNonOptional",(e,r)=>{Ji.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType});function Jc(e,r){return new Da({type:"nonoptional",innerType:e,...h.normalizeParams(r)})}var Mc=c("ZodSuccess",(e,r)=>{Mi.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType});function Tm(e){return new Mc({type:"success",innerType:e})}var Bc=c("ZodCatch",(e,r)=>{Bi.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Kc(e,r){return new Bc({type:"catch",innerType:e,catchValue:typeof r=="function"?r:()=>r})}var Gc=c("ZodNaN",(e,r)=>{Ki.init(e,r),k.init(e,r)});function Em(e){return No(Gc,e)}var Ta=c("ZodPipe",(e,r)=>{Gi.init(e,r),k.init(e,r),e.in=r.in,e.out=r.out});function Sr(e,r){return new Ta({type:"pipe",in:e,out:r})}var Ea=c("ZodCodec",(e,r)=>{Ta.init(e,r),Qe.init(e,r)});function Am(e,r,n){return new Ea({type:"pipe",in:e,out:r,transform:n.decode,reverseTransform:n.encode})}var Wc=c("ZodReadonly",(e,r)=>{Wi.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType});function Xc(e){return new Wc({type:"readonly",innerType:e})}var qc=c("ZodTemplateLiteral",(e,r)=>{Xi.init(e,r),k.init(e,r)});function Rm(e,r){return new qc({type:"template_literal",parts:e,...h.normalizeParams(r)})}var Yc=c("ZodLazy",(e,r)=>{Qi.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.getter()});function Qc(e){return new Yc({type:"lazy",getter:e})}var Hc=c("ZodPromise",(e,r)=>{Yi.init(e,r),k.init(e,r),e.unwrap=()=>e._zod.def.innerType});function Lm(e){return new Hc({type:"promise",innerType:e})}var es=c("ZodFunction",(e,r)=>{qi.init(e,r),k.init(e,r)});function Cm(e){return new es({type:"function",input:Array.isArray(e?.input)?Uc(e?.input):e?.input??Pr(Ze()),output:e?.output??Ze()})}var Nr=c("ZodCustom",(e,r)=>{Hi.init(e,r),k.init(e,r)});function Vm(e){let r=new Z({check:"custom"});return r._zod.check=e,r}function Fm(e,r){return Co(Nr,e??(()=>!0),r)}function ts(e,r={}){return Vo(Nr,e,r)}function rs(e){return Fo(e)}function Jm(e,r={error:`Input not instance of ${e.name}`}){let n=new Nr({type:"custom",check:"custom",fn:o=>o instanceof e,abort:!0,...h.normalizeParams(r)});return n._zod.bag.Class=e,n}var Mm=(...e)=>Jo({Codec:Ea,Boolean:yt,String:$t},...e);function Bm(e){let r=Qc(()=>Oa([ua(e),vc(),hc(),yc(),Pr(r),Nc(ua(),r)]));return r}function Km(e,r){return Sr(Na(e),r)}var Gm={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function Wm(e){D({customError:e})}function Xm(){return D().customError}var Aa;Aa||(Aa={});var Ra={};pe(Ra,{bigint:()=>Hm,boolean:()=>Qm,date:()=>ef,number:()=>Ym,string:()=>qm});function qm(e){return no($t,e)}function Ym(e){return lo(_t,e)}function Qm(e){return $o(yt,e)}function Hm(e){return _o(xt,e)}function ef(e){return Uo(Or,e)}D(Xt());var rv=Te.union([Te.enum(["low","medium","high","always-visible"]),Te.number()]);var Zr=5;var tf=9,de=200,Dr=10;function ns(e,r,n,o,t,i,a="-1"){let u=1/0,s=1/0,m=-1/0,f=-1/0,g=new U(-Dr,0,5,n),y=new U(-Dr,0,r,5),$=new U(r-5,0,r+Dr,n),d=new U(0,n-5,r,n+Dr),b=rf(r,n,o,t,i),_=[g,y,$,d],S=new U(-de,-de,r+de*2,n+de*2);for(let P of e){let Y,Ee;for(let M=0;M<P.bboxes.length;M++){if(P.bboxes[M]==null||(Y=P.bboxes[M].boundingBox,Ee=P.bboxes[M].index,P.lockedToStrategyIndex!==-1&&Ee!==P.lockedToStrategyIndex))continue;let[kt,B,me,La]=Y,[fe,os,Ca,as]=[P.y-kt,P.y+B,P.x-me,P.x+La],Tr=Ca,Er=fe,Va=as-Ca,Fa=os-fe;u=Math.min(u,Tr)-de,s=Math.min(s,Er)-de,m=Math.max(m,Tr+Va)+de,f=Math.max(f,Er+Fa)+de,P.bboxes[M].boundingRect=new U(Tr,Er,Va,Fa)}}let w=new Ae(new U(u,s,m-u,f-s)),z={msgId:a,colliders:new Array(e.length),staticColliders:[],debug:[]},j=0;for(let P=0;P<e.length;P++){let Y=e[P];Y.bboxes?.[0]?.index===tf&&(z.staticColliders.push(Y.bboxes[0].boundingRect),w.insert(Y.bboxes[0].boundingRect),j++)}e=e.slice(j,e.length);let A;for(let P=0;P<e.length;P++)if(A=e[P],z.colliders[P]=[-1,0],A.enabledAndVisible){let[Y,Ee,M]=[1/0,-1,void 0];for(let{index:kt,boundingRect:B}of A.bboxes){if(B==null)continue;let me=[];if(me=w.queryRect(B).filter(fe=>B.intersects(fe)),A.shouldCollideWithScreenEdges&&_.forEach(fe=>{B.intersects(fe)&&me.push(fe)}),B.intersects(b)){z.colliders[P]=[-1,0,B];break}if(me.length<=Y&&(M=B,Ee=kt,Y=me.length),me.length===0){w.insert(B),z.colliders[P]=[kt,S.contains(B)?0:1,B];break}}A.rank===Zr&&M!=null&&(w.insert(M),z.colliders[P]=[Ee,S.contains(M)?0:1,M])}else z.colliders[P]=[-1,0];return z}function rf(e,r,n,o,t){switch(t){case"top-left":return new U(0,0,n,o);case"top-right":return new U(e-n,0,n,o);case"bottom-left":return new U(0,r-o,n,o);case"bottom-right":return new U(e-n,r-o,n,o);case"center":return new U((e-n)/2,(r-o)/2,n,o);case"top":return new U((e-n)/2,0,n,o);case"bottom":return new U((e-n)/2,r-o,n,o);case"left":return new U(0,(r-o)/2,n,o);case"right":return new U(e-n,(r-o)/2,n,o);default:return new U(0,r-o,n,o)}}function is(e){let r=e[0].map(n=>{let o=n[0].map(t=>({index:t[4],boundingBox:[t[0],t[1],t[2],t[3]]}));return{enabledAndVisible:n[1]===1,rank:n[2]===1?Zr:0,x:n[3],y:n[4],shouldCollideWithScreenEdges:n[5]===1,bboxes:o,lockedToStrategyIndex:n[6]}});return{msgId:"-1",totalWidth:e[3],totalHeight:e[2],watermarkWidth:e[4],watermarkHeight:e[5],watermarkPosition:e[6],colliders:r,devicePixelRatio:e[1]}}self.onmessage=e=>{let r=is(e.data);self.postMessage(ns(r.colliders,r.totalWidth,r.totalHeight,r.watermarkWidth,r.watermarkHeight,r.watermarkPosition,r.msgId))};})();\n';p();p();p();p();p();function WF(e,r){return r.x+r.w<e.x+e.w&&r.x>e.x&&r.y>e.y&&r.y+r.h<e.y+e.h}p();function XF(e,r){let[t,n]=r;return t>=e.x&&t<=e.x+e.w&&n>=e.y&&n<=e.y+e.h}p();function JF(e,r){let t=r.x,n=r.y,o=r.x+r.w,i=r.y+r.h,s=e.x,u=e.y,l=e.x+e.w,c=e.y+e.h;return t<l&&s<o&&n<c&&u<i}p();function bs(e,r){for(let t=0;t<r.length;t++)e.push(r[t])}p();var _e=class{constructor(r,t,n,o,i){m(this,"x");m(this,"y");m(this,"w");m(this,"h");m(this,"userData");this.userData=typeof i>"u"?null:i,this.x=r,this.y=t,this.w=n,this.h=o}contains(r){return r===this?!1:WF(this,r)}intersects(r){return JF(this,r)}intersectsPoint(r){return XF(this,r)}draw(r){r.fillStyle="rgba(123,222,26, 0.8)",r.fillRect(this.x,this.y,this.w,this.h)}};var Go=class e{constructor(r,t){m(this,"topLeft");m(this,"topRight");m(this,"bottomLeft");m(this,"bottomRight");m(this,"divided",!1);m(this,"boundary");m(this,"capacity",16);m(this,"objects",[]);m(this,"parent");this.parent=t,this.boundary=r}getSize(){return this.divided?this.objects.length+this.topLeft.getSize()+this.topRight.getSize()+this.bottomLeft.getSize()+this.bottomRight.getSize():this.objects.length}subdivide(){let{x:r,y:t,w:n,h:o}=this.boundary;this.topLeft=new e(new _e(r,t,n/2,o/2),this),this.topRight=new e(new _e(r+n/2,t,n/2,o/2),this),this.bottomLeft=new e(new _e(r,t+o/2,n/2,o/2),this),this.bottomRight=new e(new _e(r+n/2,t+o/2,n/2,o/2),this),this.divided=!0}queryRect(r){let t=[];if(this.boundary.intersects(r))t.push(...this.objects);else return[];return this.divided&&(bs(t,this.topLeft.queryRect(r)),bs(t,this.topRight.queryRect(r)),bs(t,this.bottomLeft.queryRect(r)),bs(t,this.bottomRight.queryRect(r))),t}queryPoint(r){let t=[];if(this.boundary.intersectsPoint(r))t.push(...this.objects);else return[];return this.divided&&(bs(t,this.topLeft.queryPoint(r)),bs(t,this.topRight.queryPoint(r)),bs(t,this.bottomLeft.queryPoint(r)),bs(t,this.bottomRight.queryPoint(r))),t}insert(r){return(this.parent?!this.boundary.contains(r):!this.boundary.intersects(r))?!1:this.objects.length<this.capacity?(this.objects.push(r),!0):(this.divided||this.subdivide(),(this.topLeft.insert(r)||this.topRight.insert(r)||this.bottomLeft.insert(r)||this.bottomRight.insert(r))===!1&&this.objects.push(r),!0)}drawObjects(r){this.objects.forEach(t=>t.draw(r)),this.divided&&(this.topLeft.drawObjects(r),this.topRight.drawObjects(r),this.bottomLeft.drawObjects(r),this.bottomRight.drawObjects(r))}draw(r){r.rect(this.boundary.x,this.boundary.y,this.boundary.w,this.boundary.h),this.divided&&(this.topLeft.draw(r),this.topRight.draw(r),this.bottomLeft.draw(r),this.bottomRight.draw(r)),r.strokeStyle="black",r.lineWidth=4,r.stroke()}};p();function YF(e,r,t){let n,o,i,s=null,u=0;t||(t={});let l=function(){u=t.leading===!1?0:Date.now(),s=null,i=e.apply(n,o),s||(n=o=null)};return function(){let c=Date.now();!u&&t.leading===!1&&(u=c);let d=r-(c-u);return n=globalThis,o=arguments,d<=0||d>r?(s&&(clearTimeout(s),s=null),u=c,i=e.apply(n,o),s||(n=o=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,d)),i}}function KF(e){let r=e[0].map(t=>{let n=t[0].map(o=>({index:o[4],boundingBox:[o[0],o[1],o[2],o[3]]}));return{enabledAndVisible:t[1]===1,rank:t[2]===1?Sc:0,x:t[3],y:t[4],shouldCollideWithScreenEdges:t[5]===1,bboxes:n,lockedToStrategyIndex:t[6]}});return{msgId:"-1",totalWidth:e[3],totalHeight:e[2],watermarkWidth:e[4],watermarkHeight:e[5],watermarkPosition:e[6],colliders:r,devicePixelRatio:e[1]}}p();var c2=9,bu=200,s1=10;function qF(e,r,t,n,o,i,s="-1"){let u=1/0,l=1/0,c=-1/0,d=-1/0,f=new _e(-s1,0,5,t),h=new _e(-s1,0,r,5),b=new _e(r-5,0,r+s1,t),I=new _e(0,t-5,r,t+s1),E=Rz(r,t,n,o,i),v=[f,h,b,I],x=new _e(-bu,-bu,r+bu*2,t+bu*2);for(let P of e){let L,N;for(let $=0;$<P.bboxes.length;$++){if(P.bboxes[$]==null||(L=P.bboxes[$].boundingBox,N=P.bboxes[$].index,P.lockedToStrategyIndex!==-1&&N!==P.lockedToStrategyIndex))continue;let[W,V,q,se]=L,[ue,ce,de,Ee]=[P.y-W,P.y+V,P.x-q,P.x+se],he=de,ne=ue,Ce=Ee-de,xe=ce-ue;u=Math.min(u,he)-bu,l=Math.min(l,ne)-bu,c=Math.max(c,he+Ce)+bu,d=Math.max(d,ne+xe)+bu,P.bboxes[$].boundingRect=new _e(he,ne,Ce,xe)}}let D=new Go(new _e(u,l,c-u,d-l)),w={msgId:s,colliders:new Array(e.length),staticColliders:[],debug:[]},S=0;for(let P=0;P<e.length;P++){let L=e[P];L.bboxes?.[0]?.index===c2&&(w.staticColliders.push(L.bboxes[0].boundingRect),D.insert(L.bboxes[0].boundingRect),S++)}e=e.slice(S,e.length);let F;for(let P=0;P<e.length;P++)if(F=e[P],w.colliders[P]=[-1,0],F.enabledAndVisible){let[L,N,$]=[1/0,-1,void 0];for(let{index:W,boundingRect:V}of F.bboxes){if(V==null)continue;let q=[];if(q=D.queryRect(V).filter(ue=>V.intersects(ue)),F.shouldCollideWithScreenEdges&&v.forEach(ue=>{V.intersects(ue)&&q.push(ue)}),V.intersects(E)){w.colliders[P]=[-1,0,V];break}if(q.length<=L&&($=V,N=W,L=q.length),q.length===0){D.insert(V),w.colliders[P]=[W,x.contains(V)?0:1,V];break}}F.rank===Sc&&$!=null&&(D.insert($),w.colliders[P]=[N,x.contains($)?0:1,$])}else w.colliders[P]=[-1,0];return w}function Rz(e,r,t,n,o){switch(o){case"top-left":return new _e(0,0,t,n);case"top-right":return new _e(e-t,0,t,n);case"bottom-left":return new _e(0,r-n,t,n);case"bottom-right":return new _e(e-t,r-n,t,n);case"center":return new _e((e-t)/2,(r-n)/2,t,n);case"top":return new _e((e-t)/2,0,t,n);case"bottom":return new _e((e-t)/2,r-n,t,n);case"left":return new _e(0,(r-n)/2,t,n);case"right":return new _e(e-t,(r-n)/2,t,n);default:return new _e(0,r-n,t,n)}}p();var Lf=class{constructor(){m(this,"onerror",()=>{});m(this,"onmessage",()=>{});m(this,"postMessage",r=>{let t=KF(r);this.onmessage({data:qF(t.colliders,t.totalWidth,t.totalHeight,t.watermarkWidth,t.watermarkHeight,t.watermarkPosition,t.msgId)})});m(this,"terminate",()=>{})}};var Id=!1,Nz=150,u1=class extends Oe{constructor(t,n,o=!0){super();m(this,"worker");m(this,"debugContext");m(this,"debugCanvas");m(this,"collidersDirty",!0);m(this,"packedMessage",[[],0,0,0,0,0,"bottom-left"]);m(this,"visibleCollidersQTree",new Go(new _e(0,0,0,0)));m(this,"interactiveCollidersQTree",new Go(new _e(0,0,0,0)));m(this,"coreState");m(this,"postMessage");m(this,"showCollisionBoxes",()=>{Id=!0,this.debugCanvas.style.display="block"});m(this,"hideCollisionBoxes",()=>{Id=!1,this.debugContext.clearRect(0,0,this.debugCanvas.width,this.debugCanvas.height),this.debugCanvas.style.display="none"});m(this,"currentMsgId","");m(this,"working",!1);m(this,"_postMessage",()=>{this.worker.postMessage(this.packedMessage)});m(this,"componentArray",[]);m(this,"update",(t,n,o="bottom-left",i=!1,s=[])=>{let u=!1;if(this.collidersDirty){this.packedMessage=[[],0,0,0,0,0,"bottom-left"],this.componentArray=[];let d;for(let f of this.coreState.geometry2DIdsInScene){let h=this.coreState.geometry2DMap.get(f);h&&(d=h.components[0],this.componentArray.push(d))}this.resize(t,n,o),this.collidersDirty=!1,u=!0}else u=this.componentArray.some(d=>d.collisionDirty===!0);u&&this.componentArray.sort((d,f)=>f.rank-d.rank);let l=0;for(let d of s)this.packedMessage[0][l]==null&&(this.packedMessage[0][l]=[]),this.packedMessage[0][l][0]==null&&(this.packedMessage[0][l][0]=[]),this.packedMessage[0][l][0]=[[d.h/2,d.h/2,d.w/2,d.w/2,c2]],this.packedMessage[0][l][1]=1,this.packedMessage[0][l][2]=1,this.packedMessage[0][l][3]=d.x,this.packedMessage[0][l][4]=d.y,this.packedMessage[0][l][5]=0,this.packedMessage[0][l][6]=-1,l++;let c=0;for(;l<this.componentArray.length+s.length;){if(this.packedMessage){let d=this.componentArray[c].toPackedMessage(i&&!u);this.packedMessage[0][l]==null&&(this.packedMessage[0][l]=[]),this.packedMessage[0][l][0]==null&&(this.packedMessage[0][l][0]=[]),this.packedMessage[0][l][0]=d.bboxes,this.packedMessage[0][l][1]=d.enabled&&this.componentArray[c].visible&&!this.componentArray[c].isOccluded?1:0,this.packedMessage[0][l][2]=d.rank===Sc?1:0,this.packedMessage[0][l][3]=d.x,this.packedMessage[0][l][4]=d.y,this.packedMessage[0][l][5]=d.shouldCollideWithScreenEdges?1:0,this.packedMessage[0][l][6]=d.lockedToStrategyIndex}l++,c++}this.working||this.postMessage()});m(this,"resolve",t=>{if(this.working=!1,this.collidersDirty||!t.data)return;let n=t.data.colliders,o=-1,i,s,u,l=new _e(0,0,this.debugCanvas.width,this.debugCanvas.height);if(this.visibleCollidersQTree=new Go(l),this.interactiveCollidersQTree=new Go(l),Id)for(let c of t.data.staticColliders)this.visibleCollidersQTree.insert(new _e(c.x,c.y,c.w,c.h));for(let c=0;c<this.componentArray.length;c++){let d=this.componentArray[c];n[c]!=null&&(o=n[c][0],i=n[c][2],d.offscreen=n[c][1]===1,o!==-1&&i!=null?(u=new _e(i.x,i.y,i.w,i.h,{entityId:d.id}),this.visibleCollidersQTree.insert(u),s=this.coreState.geometry2DMap.get(d.id),s?.components[1]!=null&&this.interactiveCollidersQTree.insert(u),(d.canShow===!1||d.visibilityNeedsUpdate!==!1)&&"visibilityNeedsUpdate"in d&&(d.visibilityNeedsUpdate="show"),o!==-1&&o!==d.currentStrategyIndex&&(d.activeBoundingBox=u,d.onStrategySelected(o))):((d.canShow===!0||d.visibilityNeedsUpdate!==!1)&&"visibilityNeedsUpdate"in d&&(d.visibilityNeedsUpdate="hide"),o!==-1&&o!==d.currentStrategyIndex&&d.onStrategySelected(o)))}Id&&this.drawDebug(),this.publish("visibility-changed")});m(this,"drawDebug",()=>{Id&&this.visibleCollidersQTree&&(this.debugContext.clearRect(0,0,this.debugCanvas.width,this.debugCanvas.height),this.debugContext.beginPath(),this.visibleCollidersQTree.drawObjects(this.debugContext))});m(this,"destroy",()=>{this.worker.terminate()});this.worker=o===!1?new Lf:$l!==""?new Worker($l):new Worker(URL.createObjectURL(new Blob([ZF],{type:"text/javascript"}))),this.worker.onerror=()=>{this.worker=new Lf,this.worker.onmessage=i=>this.resolve(i)},this.coreState=n,this.debugCanvas=t,this.debugContext=t.getContext("2d"),this.worker.onmessage=i=>this.resolve(i),this.postMessage=YF(this._postMessage,Nz,!1),Id?this.showCollisionBoxes():this.hideCollisionBoxes()}resize(t,n,o){this.packedMessage[6]=o,this.packedMessage[5]=n,this.packedMessage[4]=t,this.packedMessage[3]=this.debugCanvas.width,this.packedMessage[2]=this.debugCanvas.height}};p();p();p();p();var l1=class{constructor(r){m(this,"type");m(this,"event");this.type=0,this.event=r}get timestamp(){return this.event.timeStamp}},c1=class{constructor(){m(this,"taps",[])}add(r){this.lastPointerDown&&r.timestamp-this.lastPointerDown.timestamp<50?this.lastPointerDown.type=1:this.taps.push(r)}get lastPointerDown(){return this.taps.length>=1?this.taps[this.taps.length-1]:void 0}get isSingleTapWithTwoFingers(){return this.isSingleTap&&this.lastPointerDown?.type===1}get isSingleTapWithOneFinger(){return this.isSingleTap&&this.lastPointerDown?.type===0}get isDoubleTapWithOneFinger(){return this.isDoubleTap&&this.taps[0]?.type===0&&this.taps[1]?.type===0}get isSingleTap(){return this.taps.length===1}get isDoubleTap(){return this.taps.length===2}discardOutsideOfWaitWindow(r){this.taps=this.taps.filter(t=>r-t.timestamp<300)}flush(){this.taps=[]}get _taps(){return this.taps}destroy(){this.flush()}};p();function d2(e){let r=new Set;for(let t of e){let n=t.object;for(;n.visible&&n.parent&&n.parent.visible===!0&&!r.has(n.parent);)n=n.parent,n instanceof br&&n.type==="group-container"&&n.visible&&n.components[0]&&r.add(n)}return Array.from(r)}var Ed,Rf=class extends Oe{constructor(t,n,o,i,s){super();m(this,"raycaster",new Ui);m(this,"state",{hovered3DEntity:void 0,hovered2DEntity:void 0,hovered3DContainers:void 0,lastHover:void 0,interaction:{mouseDownStart:void 0,distanceFromMouseDown:void 0,isPanning:!1}});m(this,"coreState");m(this,"camera");m(this,"worldPlane");m(this,"_quadtree",new Go(new _e(0,0,0,0)));m(this,"_container");m(this,"lastPointerEvent");m(this,"cursor","grab");m(this,"touchesCount",0);m(this,"isUserInteracting");m(this,"hasTouched",!1);C(this,Ed);m(this,"onPointerMoveRaf",t=>{this.lastPointerEvent=t,a(this,Ed)&&cancelAnimationFrame(a(this,Ed)),T(this,Ed,requestAnimationFrame(()=>{this.onPointerMove(t)}))});m(this,"onPointerMove",t=>{t.preventDefault(),this.updateInteractionStateIfPanning(t),(t.pointerType!=="touch"||t.pointerType===void 0&&this.hasTouched)&&this.handleHover(t),this.handleCursor()});m(this,"tapsControl",new c1);m(this,"onPointerDown",t=>{t.target===this._container&&(this._container.addEventListener("pointerup",this.onPointerUp,!1),this._container.addEventListener("pointercancel",this.onPointerUp,!1),this.state.interaction.mouseDownStart={time:Date.now(),timestamp:t.timeStamp,offsetX:t.offsetX,offsetY:t.offsetY},this.lastPointerEvent=t,this.state.interaction.distanceFromMouseDown=0,this.handleCursor(),t.pointerType==="touch"&&(this.tapsControl.add(new l1(t)),this.touchesCount=Math.max(0,this.touchesCount+1)))});m(this,"clickTimeout");m(this,"onPointerUp",t=>{this.tapsControl.discardOutsideOfWaitWindow(t.timeStamp),this.lastPointerEvent=t,this.touchesCount=Math.max(0,this.touchesCount-1),this.touchesCount===0&&(this._container.removeEventListener("pointerup",this.onPointerUp,!1),this._container.removeEventListener("pointercancel",this.onPointerUp,!1)),this.updateInteractionStateIfPanning(t);let{mouseDownStart:n}=this.state.interaction;!n||this.state.interaction.distanceFromMouseDown==null||(Date.now()<n.time+300&&(this.tapsControl.isSingleTapWithTwoFingers||this.state.interaction.distanceFromMouseDown<=15)&&(t.pointerType==="touch"?this.tapsControl.isSingleTapWithTwoFingers?(this.publish("singletap-with-twofinger",t),this.flush()):this.tapsControl.isSingleTapWithOneFinger&&this.touchesCount===0?(this.clickTimeout&&clearTimeout(this.clickTimeout),this.clickTimeout=window.setTimeout(()=>{this.handleClick(t),this.flush()},300)):this.tapsControl.isDoubleTapWithOneFinger&&(this.publish("doubletap-with-onefinger",t),this.flush()):this.handleClick(t)),this.state.interaction.mouseDownStart=void 0,this.state.interaction.distanceFromMouseDown=void 0,this.state.interaction.isPanning=!1,this.handleCursor())});m(this,"dirty3D",!0);m(this,"cachedHitBoxes",{entities:[]});m(this,"ndcPoint",new ke);m(this,"debugPanel");this.isUserInteracting=s,this.raycaster.layers.enableAll(),this.raycaster.layers.disable(1),this.camera=o,this._container=t,this.coreState=n,this.worldPlane=i,this._container.addEventListener("pointerdown",this.onPointerDown,!1),this._container.addEventListener("pointermove",this.onPointerMoveRaf,!1),this._container.classList.add("mappedin-interactive")}updateQuadtree(t){this._quadtree=t}setHovered3DEntityInteractionComponentDirty(){if(this.state.hovered3DEntity){let t=this.state.hovered3DEntity.components[2];t&&(t.dirty=!0)}}getThreeDIntersectsFromXY(t){this.raycaster.setFromCamera(t,this.camera),this.raycaster.layers.enable(0);let n=this.raycaster.intersectObjects(this._hitBoxes.entities,!0).filter(i=>i.object?.name==="worldPlane"||i.object?.visible),o=n.findIndex(i=>i.object?.name==="worldPlane");return o!==-1&&n.push(n.splice(o,1)[0]),n}getGroupContainerIntersectsFromXY(t){let n=this.getThreeDIntersectsFromXY(t),o;return n!=null&&n.length>0&&(o=d2(n)),o}flush(){this.tapsControl.flush(),this.clickTimeout!=null&&(clearTimeout(this.clickTimeout),this.clickTimeout=void 0)}handleHover(t){let n=t||this.lastPointerEvent;if(this.state.interaction.mouseDownStart||!n||this.isUserInteracting())return;let{entity3D:o,entity2D:i,position:s,groupContainers:u}=this.intersect(n);(this.detect3DEntityHover(o)||this.detect2DEntityHover(i)||this.detect3DContainerHover(u))&&(this.state.hovered3DEntity=o,this.state.lastHover=o,this.state.hovered2DEntity=i,this.state.hovered3DContainers=u,this.publish("hover",{entity2D:this.state.hovered2DEntity,entity3D:this.state.hovered3DEntity,position:s,groupContainers:u})),this.handleCursor()}handleCursor(){let t=!!(this.state.hovered3DEntity&&this.state.hovered3DEntity?.components[2]||this.state.hovered2DEntity),n=!!this.state.interaction.mouseDownStart,o=this.state.interaction.isPanning,i=Uz(t,o,n);this.cursor!==i&&(this.cursor=i,i==="pointer"?this._container.classList.add("mappedin-interaction-hover"):this._container.classList.remove("mappedin-interaction-hover"))}detect2DEntityHover(t){return this.state.hovered2DEntity!==t}handleClick(t){let n=this.intersect(t);this.publish("click",{entity2D:n.entity2D,entity3D:n.entity3D,position:n.position,groupContainers:n.groupContainers,pointerEvent:{button:t.button}})}get _hitBoxes(){if(this.dirty3D){this.cachedHitBoxes.entities=[];let t;for(let n of this.coreState.geometry3DIdsInScene)t=this.coreState.geometry3DMap.get(n),(t?.type==="geometry"||t?.type==="model"||t?.type==="path"||t?.type==="custom-geometry")&&t.components[0].mesh&&!this.cachedHitBoxes.entities.includes(t.components[0].mesh)&&this.cachedHitBoxes.entities.push(t.components[0].mesh);return this.dirty3D=!1,this.cachedHitBoxes.entities.push(this.worldPlane),this.cachedHitBoxes}return this.cachedHitBoxes}intersect(t){let{offsetX:n,offsetY:o}=t,i=[n,o],s=this._quadtree.queryPoint(i),[u]=s.filter(x=>x.intersectsPoint(i));this.ndcPoint.x=n/this._container.clientWidth*2-1,this.ndcPoint.y=-(o/this._container.clientHeight)*2+1;let l=this.getThreeDIntersectsFromXY(this.ndcPoint),c=l[0]?.point,d=[],f=[],h=l.filter(x=>x.object.name!=="worldPlane");for(let x of h)x.object instanceof Pe&&x.object.material.depthTest===!1?d.push(x):f.push(x);let b=d[0]??f[0]??void 0,I,E;if(b!=null){if(I=zz(b.object,this.coreState.geometry3DMap),!I){let x=b?.instanceId??b?.batchId;I=x!=null&&b?.object.userData.entities?this.coreState.geometry3DMap.get(b?.object.userData.entities[x]):this.coreState.geometry3DMap.get(b?.object.userData.entityId)}I?.components[2]&&(E=I)}let v=d2(h);return{entity2D:u?.userData?.entityId==="watermark"?{id:"watermark"}:this.coreState.geometry2DMap.get(u?.userData.entityId),entity3D:E,position:c,groupContainers:v.length>0?v:void 0}}detect3DEntityHover(t){return this.state.lastHover!==t&&(this.state.lastHover&&tM(this.state.lastHover,!1,this.coreState),t&&tM(t,!0,this.coreState)),this.state.hovered3DEntity!==t}detect3DContainerHover(t){return!d6(this.state.hovered3DContainers,t)}updateInteractionStateIfPanning(t){this.state.interaction.mouseDownStart&&(this.state.interaction.distanceFromMouseDown=Math.sqrt(Math.pow(t.offsetX-this.state.interaction.mouseDownStart.offsetX,2)+Math.pow(t.offsetY-this.state.interaction.mouseDownStart.offsetY,2)),!this.state.interaction.isPanning&&this.state.interaction.distanceFromMouseDown>15&&(this.state.interaction.isPanning=!0))}getMouseRayIntersects(){return this.raycaster.intersectObjects([this.worldPlane],!1)}destroy(){this._container.removeEventListener("pointerdown",this.onPointerDown,!1),this._container.removeEventListener("pointermove",this.onPointerMoveRaf,!1),this._container.removeEventListener("pointerup",this.onPointerUp,!1),this._container.removeEventListener("pointercancel",this.onPointerUp,!1)}enableDebug(){let t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.right="0",t.style.backgroundColor="white",t.style.padding="10px",document.body.append(t),t.id="interaction-debug-panel",this.debugPanel=t,this.on("doubletap-with-onefinger",()=>{this.queueDebugMessage("doubletap-with-onefinger","#ffadad")}),this.on("singletap-with-twofinger",()=>{this.queueDebugMessage("singletap-with-twofinger","#ffd6a5")}),this.on("click",n=>{this.queueDebugMessage(`CLICK 
3D: ${n.entity3D?.id} 
2D: ${n.entity2D?.id} 
Pos: ${n.position?.toArray().join(", ")}`,"#fdffb6")}),this.on("hover",n=>{this.queueDebugMessage(`HOVER 
3D: ${n.entity3D?.id} 
2D: ${n.entity2D?.id} 
Pos: ${n.position?.toArray().join(", ")}`,"#caffbf")})}get _state(){return this.state}queueDebugMessage(t,n){let o=document.createElement("pre");o.style.maxWidth="300px",o.style.transition="opacity 500ms cubic-bezier(0.4, 0, 0.2, 1)",o.style.backgroundColor=n,o.textContent=t,this.debugPanel?.prepend(o),setTimeout(()=>{o.style.opacity="0",setTimeout(()=>{o.remove()},500)},2500)}getCursor(){return this.cursor}};Ed=new WeakMap;function tM(e,r,t){let n=e.components[2];n&&n.hover!==!0&&(n.hover=r?"user-interaction":!1,n.dirty=!0);let o=e.components[0].textMesh?.userData.entityId;if(!o)return;let i=t.geometry3DMap.get(o);i?.type==="text3d"&&(i.components[1].hoverByPolygon=r,i.components[1].dirty=!0)}function Uz(e,r,t){return r?"grabbing":e?"pointer":t?"grabbing":"grab"}function Gz(e){let r=e;for(;r?.parent;){if(r instanceof Gs)return;if(r.userData.isSingleModel)return r;r=r.parent}}function zz(e,r){let t=Gz(e);return t?r.get(t.userData.entityId):void 0}p();p();var jl,ba,p1,xu,rM,$f,d1,nM,oM,jf,m1,Uf,Gf,f1,Nf=class{constructor(r){C(this,xu);C(this,jl,null);C(this,ba);m(this,"getCurrentSceneGLTF",async r=>{let t={onlyVisible:!0,binary:!0,light:!0,scale:1,...r},n=await z(this,xu,rM).call(this),o=a(this,p1).call(this,t),i=await n.parseAsync(o,{trs:!1,maxTextureSize:1/0,onlyVisible:t.onlyVisible,binary:t.binary,scale:t.scale}),s;if(i instanceof ArrayBuffer)s=new Blob([i],{type:"application/octet-stream"});else{let u=JSON.stringify(i,null,2);s=new Blob([u],{type:"text/plain"})}return s});C(this,p1,r=>{let{scale:t,light:n,onlyVisible:o}=r,i=new Gs,s=new mr().setFromObject(a(this,ba).entityScene);if(a(this,$f).call(this,a(this,ba).entityScene,i,o),n){let u=new Ah(16777215,.3*Math.PI);u.position.set(0,Math.max(s.max.x,s.max.y)*t*.5,s.max.y*t*4),u.lookAt(0,0,-1),u.target.position.set(0,0,-1),u.add(u.target),i.add(u)}return i});C(this,$f,(r,t,n)=>{r.material&&(r instanceof wh?z(this,xu,nM).call(this,r).forEach(o=>t.add(o)):r instanceof am&&t.add(z(this,xu,oM).call(this,r))),r.children.forEach(o=>{(!n||o.visible)&&a(this,$f).call(this,o,t,n)})});C(this,d1,(r,t,n)=>{let o=new sm({color:new ar(r),metalness:0});return o.opacity=t,o.transparent=n,o});C(this,jf,r=>{let{geometry:t,material:n,position:o,rotation:i,quaternion:s,scale:u}=r;if(!t?.isBufferGeometry)return r;let l=t.attributes.position,c=t.attributes.normal,d=t.attributes.uv;return a(this,m1).call(this,l,c),a(this,Gf).call(this,o,u,i,s),d&&a(this,f1).call(this,d),n?.map&&t.type==="PlaneGeometry"&&(r.side=ka),r});C(this,m1,(r,t)=>{let n=new ie,o=new ie;for(let i=0;i<r.count;i++)n.fromBufferAttribute(r,i),a(this,Uf).call(this,n),r.setXYZ(i,n.x,n.y,n.z),t&&(o.fromBufferAttribute(t,i),a(this,Uf).call(this,o),t.setXYZ(i,o.x,o.y,o.z))});C(this,Uf,r=>{let t=r.y;r.y=r.z,r.z=-t});C(this,Gf,(r,t,n,o)=>{let i=r.y;r.y=r.z,r.z=-i;let s=t.y;if(t.y=t.z,t.z=s,n instanceof bc)n.order="YXZ",n.set(n.x,n.y,n.z,n.order);else{let u=o.y;o.set(o.x,o.z,-u,o.w)}});C(this,f1,r=>{for(let t=0;t<r.count;t++){let n=r.getX(t),o=r.getY(t);r.setXY(t,n,o)}});T(this,ba,r),a(this,ba).entityScene=r.entityScene,a(this,ba).geometry3DMap=r.geometry3DMap}destroy(){T(this,jl,null)}};jl=new WeakMap,ba=new WeakMap,p1=new WeakMap,xu=new WeakSet,rM=async function(){if(!a(this,jl)){let{GLTFExporter:r}=await import("./GLTFExporter-O4OUZTHE.js");T(this,jl,new r)}return a(this,jl)},$f=new WeakMap,d1=new WeakMap,nM=function(r){let t=[],o=(r.userData?.entities?Object.values(r.userData?.entities):[]).map(s=>a(this,ba).geometry3DMap.get(s)),i=new Map;return o.forEach(s=>{if(!s||!(s instanceof ft))return;let u=s.components[1],l=s.components[2];if(!u.visible||u instanceof Wi&&u.opacity===0||u instanceof hm||u instanceof $h)return;let d=`${l?.hover?u.hoverColor||a(this,ba).hoverColor:u.color}-${u.opacity}-${Number(u.visible)}`;i.has(d)||i.set(d,[]),i.get(d)?.push(s)}),i.forEach((s,u)=>{let[l,c,d]=u.split("-"),f=s.reduce((E,v)=>{if(v.type==="custom-geometry")return E;let x=v.components[0];return"geometry"in x&&x.geometry instanceof Sh&&E.push(x.geometry),E},[]),h=a(this,d1).call(this,l,Number(c),r.material.transparent),b=bo(f,!0),I=new Pe(b,h);I.position.copy(r.position),I.rotation.copy(r.rotation),I.scale.copy(r.scale),I.visible=!!d,a(this,Gf).call(this,I.position,I.scale,I.rotation,I.quaternion),t.push(a(this,jf).call(this,I))}),t},oM=function(r){let t=r.geometry.clone(),n=r.material,o=new yr({color:n.color,side:ka});o.opacity=n.opacity,o.transparent=n.transparent;let i=new am(t,o);return i.position.copy(r.position),i.rotation.copy(r.rotation),i.scale.copy(r.scale),i.visible=r.visible,a(this,jf).call(this,i)},jf=new WeakMap,m1=new WeakMap,Uf=new WeakMap,Gf=new WeakMap,f1=new WeakMap;p();p();var Vz="gray",Hz=.1,zf=100,m2=new Zi.ClipperOffset;function Zz(e,r){m2.Clear(),r/=2;let t=e.map(o=>({X:o.x*zf,Y:o.y*zf}));m2.AddPath(t,Zi.JoinType.jtMiter,Zi.EndType.etClosedPolygon);let n=new Zi.Paths;return m2.Execute(n,r*zf),n.length?n.map(i=>i.map(s=>({x:s.X/zf,y:s.Y/zf}))):[e]}function g1(e,r,t){let{color:n=Vz,opacity:o=1,altitude:i=0,height:s=Hz}=t||{};Array.isArray(o)&&(o=1);let u={min:{x:1/0,y:1/0,z:i},max:{x:-1/0,y:-1/0,z:s+i},center:{x:0,y:0,z:(s+i)/2}},c=e.geometry.coordinates[0].map(b=>{let I=r(b[1],b[0]);return u.min.x=Math.min(u.min.x,I.x),u.min.y=Math.min(u.min.y,I.y),u.max.x=Math.max(u.max.x,I.x),u.max.y=Math.max(u.max.y,I.y),I});e.properties?.style?.edgeOffset!=null&&e.properties.style.edgeOffset!==0||e.properties?.image!=null?c=Zz(c,e.properties?.style?.edgeOffset||0):c=[c];let d=[];for(let b of c){let I=new xc;I.moveTo(b[0].x,b[0].y),b.slice(1).forEach(D=>I.lineTo(D.x,D.y)),I.lineTo(b[0].x,b[0].y);let E=e.geometry.coordinates.slice(1);I.holes=E.map(D=>{let w=D.map(F=>r(F[1],F[0])),S=new vc;return S.moveTo(w[0].x,w[0].y),w.slice(1).forEach(F=>S.lineTo(F.x,F.y)),S.lineTo(w[0].x,w[0].y),S});let v=mm(t?.bevel,s),x=new Ic(I,v);x.userData={style:{color:n,opacity:o},usedBevelSettings:v},d.push(x)}if(d.length===1)return d[0];let f=bo(d);d.forEach(b=>b.dispose());let h=mm(t?.bevel,s);return f.userData={style:{color:n,opacity:o},usedBevelSettings:h,_split:!0},f}p();var Wz="gray",Xz=.1;function y1(e,r,t){let{color:n=Wz,opacity:o=1,altitude:i=0,height:s=Xz}=t||{};Array.isArray(o)&&(o=1);let u={min:{x:1/0,y:1/0,z:i},max:{x:-1/0,y:-1/0,z:s+i}},l=mm(t?.bevel,s),c=[];e.geometry.coordinates.forEach(f=>{let h=new xc,b=f[0].map(v=>{let x=r(v[1],v[0]);return u.min.x=Math.min(u.min.x,x.x),u.min.y=Math.min(u.min.y,x.y),u.max.x=Math.max(u.max.x,x.x),u.max.y=Math.max(u.max.y,x.y),x});h.moveTo(b[0].x,b[0].y),b.slice(1).forEach(v=>h.lineTo(v.x,v.y)),h.lineTo(b[0].x,b[0].y);let I=f.slice(1);h.holes=I.map(v=>{let x=v.map(w=>r(w[1],w[0])),D=new vc;return D.moveTo(x[0].x,x[0].y),x.slice(1).forEach(w=>D.lineTo(w.x,w.y)),D.lineTo(x[0].x,x[0].y),D});let E=new Ic(h,l);c.push(E)});let d=bo(c);return c.forEach(f=>f.dispose()),d.translate(0,0,i||0),d.userData={style:{color:n,opacity:o},usedBevelSettings:l},d}p();var In=100,Jz=.22,Yz=.01;function iM(e,r,t={}){let{width:n=Jz,height:o=Yz,color:i="gray",opacity:s=1,altitude:u=0}=t,l={min:{x:1/0,y:1/0,z:u},max:{x:-1/0,y:-1/0,z:u+o}},c={bevelEnabled:!1,depth:o},d=new Zi.ClipperOffset,f=e.geometry.coordinates.map(E=>E.map(v=>r(v[1],v[0])));d.AddPaths(f.map(E=>E.map(v=>({X:v.x*In,Y:v.y*In}))),Zi.JoinType.jsMiter,Zi.EndType.etOpenRound);let h=new Zi.PolyTree;d.Execute(h,n/2*In);let b=[];for(let E of h.m_AllPolys){let v=new xc;if(E.IsHole())continue;l.min.x=Math.min(l.min.x,E.m_polygon[0].X),l.min.y=Math.min(l.min.y,E.m_polygon[0].Y),l.max.x=Math.max(l.max.x,E.m_polygon[0].X),l.max.y=Math.max(l.max.y,E.m_polygon[0].Y);let x=E.m_polygon;v.moveTo(x[0].X/In,x[0].Y/In),x.slice(1).forEach(D=>v.lineTo(D.X/In,D.Y/In)),v.lineTo(x[0].X/In,x[0].Y/In),v.holes=E.m_Childs.map(D=>{let w=new vc,S=D.m_polygon;return w.moveTo(S[0].X/In,S[0].Y/In),S.slice(1).forEach(F=>w.lineTo(F.X/In,F.Y/In)),w.lineTo(S[0].X/In,S[0].Y/In),w}),b.push(new Ic(v,c))}let I=bo(b);return I.translate(0,0,u||0),I.userData={style:{color:i,opacity:s}},d.Clear(),I}p();p();import{z as b1}from"zod";var Cd=b1.object({type:b1.enum(["Point"]),coordinates:b1.array(b1.number()).min(2).max(3)});import{z as At}from"zod";var f2=At.object({rotation:At.array(At.number()).length(3).optional(),altitude:At.number().optional(),scale:At.array(At.number()).length(3).optional(),interactive:At.boolean().optional(),verticalOffset:At.number().optional(),id:At.union([At.number(),At.string()]).optional()}),Kz=At.object({type:At.enum(["Feature"]),geometry:Cd,properties:f2}),qz=At.object({type:At.enum(["FeatureCollection"]),features:At.array(Kz)}),h2=At.object({color:At.string()}),Qz=At.object({url:At.string(),color:At.string().optional(),opacity:At.number().optional(),material:At.record(At.string(),h2).optional()});function sM(e,r,t){At.union([At.number(),At.string()]).parse(e),qz.parse(r),Qz.parse(t)}var Vf,Hf,Zf,Sd,xi,Iu=class{constructor(r){m(this,"mesh");m(this,"type","model");m(this,"positionDirty",!0);m(this,"outline");m(this,"geometry");m(this,"material");m(this,"feature");m(this,"instanceIndex",-1);C(this,Vf,!0);m(this,"color",new ar);m(this,"clippingPlane");m(this,"position",new ie);C(this,Hf,0);C(this,Zf,1);C(this,Sd,yo.GEOMETRY);C(this,xi,!1);this.feature=r}get visible(){return this.mesh?.visible??a(this,Vf)}set visible(r){T(this,Vf,r),this.mesh&&(this.mesh.visible=r)}setOpacity(){}setColor(){}get altitude(){return a(this,Hf)}set altitude(r){this.mesh&&(this.mesh.position.z=r,T(this,Hf,r))}getRotation(){return this.mesh?[this.mesh.rotation.x,this.mesh.rotation.y,this.mesh.rotation.z]:void 0}setRotation(r){this.mesh&&this.mesh.rotation.set(Je.degToRad(r[0]),Je.degToRad(r[1]),Je.degToRad(r[2]))}getScale(){return this.mesh?[this.mesh.scale.x,this.mesh.scale.y,this.mesh.scale.z]:void 0}setScale(r){this.mesh&&this.mesh.scale.set(r[0],r[1],r[2])}get opacity(){return a(this,Zf)}set opacity(r){if(this.mesh){if(this.mesh.children[0]instanceof ji){for(let t of this.mesh.children)if(t instanceof ji){t.userData?.originalOpacity===void 0&&(t.userData.originalOpacity=t.material.opacity);let n=Gu(r,0,t.userData?.originalOpacity,0,1);t.material.opacity=n,t.material.transparent=n<1,t.material.needsUpdate=!0}}else this.mesh?.traverse(t=>{t instanceof Pe&&t.material&&(Array.isArray(t.material)?t.material.forEach(n=>{aM(n,r)}):aM(t.material,r))});T(this,Zf,r)}}get renderOrder(){return a(this,Sd)}set renderOrder(r){if(!(!this.mesh||r===a(this,Sd)))if(T(this,Sd,r),this.mesh.children[0]instanceof ji){this.mesh.renderOrder=r;for(let t of this.mesh.children)t instanceof ji&&(t.material.depthWrite=!a(this,xi),t.material.depthTest=!a(this,xi),t.material.needsUpdate=!0)}else this.mesh?.traverse(t=>{t instanceof Pe&&t.material&&(t.renderOrder=r,Array.isArray(t.material)?t.material.forEach(n=>{n.depthWrite=!a(this,xi),n.depthTest=!a(this,xi),n.needsUpdate=!0}):(t.material.depthWrite=!a(this,xi),t.material.depthTest=!a(this,xi),t.material.needsUpdate=!0))})}get visibleThroughGeometry(){return a(this,xi)}set visibleThroughGeometry(r){T(this,xi,r)}};Vf=new WeakMap,Hf=new WeakMap,Zf=new WeakMap,Sd=new WeakMap,xi=new WeakMap;function aM(e,r){e.opacity!==r&&(r===1?(e.opacity=1,e.transparent=!1):(e.opacity=r,e.transparent=!0),e.needsUpdate=!0)}p();function v1(e){let r=e.components[0],t=e.components[1];t.opacity!=null&&t.opacity!==r.opacity&&(r.opacity=t.opacity);let n=t.material,o=t.color;if(n||o){let u=eV(o,n);r.mesh?.traverse(l=>{l instanceof Pe&&l.material&&(Array.isArray(l.material)?l.material.forEach(c=>{u[c.name]?(c.color.set(u[c.name].color),c.vertexColors=!1):c.color.set(o)}):u[l.material.name]?(l.material.color.set(u[l.material.name].color),l.material.vertexColors=!1):l.material.color.set(o))})}let i=r.feature.geometry.coordinates[2]??0,s=t.verticalOffset+i;r.altitude!==s&&(r.altitude=s),t.visible!==r.visible&&(r.visible=t.visible),t.rotation&&r.setRotation(t.rotation),t.scale&&r.setScale(t.scale),t.visibleThroughGeometry!==r.visibleThroughGeometry&&(r.visibleThroughGeometry=t.visibleThroughGeometry)}function eV(e,r){let t={};if(r)for(let n in r)r[n].color&&(t[n]={color:r[n].color});if(e){let n=["Default","Fabric","Mpdn_Logo","CouchLogo"];for(let o of n)t[o]||(t[o]={color:e})}return t}function uM(e,r){let t=e.components[0],o=e.components[1].verticalOffset??0,i=t.feature.geometry.coordinates.slice();i[2]=(i[2]??0)+o,t.mesh?t.mesh.position.copy(r(i)):t.position.copy(r(i))}function vs(e){return e instanceof sr?e.material:null}function lM(e){return e.side===om?"back":e.side===$u?"front":"double"}function cM(e,r){e.side=r==="back"?om:r==="front"?$u:ka}function tV(e){let{color:r,opacity:t,topColor:n,texture:o,topTexture:i}=e;return`${r}${t}${n||""}${o||""}${i||""}`}var x1=class extends Oe{constructor(t,n){super();m(this,"state");m(this,"convertTo3DMapPosition");m(this,"loader");m(this,"optimizePromise",[]);this.state=t,this.convertTo3DMapPosition=n}async getGLTFLoader(){if(this.loader)return this.loader;let{GLTFLoader:t}=await import("./GLTFLoader-TLLNLQ5Y.js");return this.loader=new t,this.loader}createEntityFromFeature(t,n,o){let i=new sr(n),s=n?.properties?.bevel,u=o&&"bevel"in o?o.bevel:void 0,l;u?l={...s,...u}:s&&(l=s);let c=new ft(i,new Wi({...o,url:n.properties?.image?.path,bevel:l}));return o?.outline&&(c.components[3]=new eE(nE(o.color))),o?.focusable&&(c.components[4]=new gm),n.properties?.textures!=null&&Array.isArray(n.properties.textures)&&n.properties.textures.length>0?c.components[6]=new Vu(n.properties.textures.find(d=>d.face==="side"),n.properties.textures.find(d=>d.face==="top")):(o!=null&&"texture"in o&&o.texture!=null||o!=null&&"topTexture"in o&&o.topTexture!=null)&&(c.components[6]=new Vu(o.texture,o.topTexture)),c.id=t,c}createModelFromFeature(t,n,o){let i=new Iu(n),s={...o};n.properties.verticalOffset!=null&&(s.verticalOffset=n.properties.verticalOffset),n.properties.rotation!=null&&(s.rotation=n.properties.rotation),n.properties.scale!=null&&(s.scale=n.properties.scale);let u=new $h(s),l=new ft(i,u);return l.id=t,l}populateEntityMesh(t,n){let o=t.components[0];o.geometry=n,o.batchedProps={range:{start:0,count:1/0,indexCount:1/0,indexStart:0,vertexCount:1/0,vertexStart:0,reservedVertexCount:1/0,reservedIndexCount:1/0},geometryId:-1,positionCount:n.attributes.position.count},o.currentHeight=t.components[1].height,o.dirty=!1}async populateModelGroup(t,n,o){let i=new Wn,s=new bc,u=new Ch,l=new ie,c=new zs,d=await this.getGLTFLoader(),f=new Promise(h=>{let b=E=>{"entities3D"in o.userData&&(o.userData.entities3D.size>1?E.scene.traverse(v=>{let x=v;if("isMesh"in x&&x.isMesh===!0){let D=new ji(x.geometry,x.material,t.size);D.userData={entities:{}},c.add(D),o.add(c)}}):(E.scene.traverse(v=>{"isMesh"in v&&v.isMesh===!0&&(v.position.set(0,0,0),v.rotation.set(0,0,0),v.scale.set(1,1,1),v.updateMatrix())}),c.add(E.scene),o.add(c),c.userData.isSingleModel=!0,c.userData.entityId=t.values().next().value,c.userData.type="model")),h()};if(n.trimStart().startsWith("{")||n.startsWith("data:")&&n.includes("application/json")){let E=n.startsWith("data:")?atob(n.split(",")[1]):n;d.parse(E,"",b)}else d.load(n,b)});return this.optimizePromise.push(f.then(()=>{let h=0,b;for(let I of t.values()){if(b=this.state.geometry3DMap.get(I),!b||b?.type!=="model")continue;let E=b.components[0],v=b.components[1],x=b.components[0].feature;E.mesh=c,E.instanceIndex=h,v1(b),b.components[1].dirty=!1;let{x:D,y:w}=this.convertTo3DMapPosition(x.geometry.coordinates[1],x.geometry.coordinates[0],0);E.position.set(D,w,E.altitude),s.set(Je.degToRad(v.rotation?.[0]??Ac[0]),Je.degToRad(v.rotation?.[1]??Ac[1]),Je.degToRad(v.rotation?.[2]??Ac[2])),l.set(v.scale?.[0]??Mc[0],v.scale?.[1]??Mc[1],v.scale?.[2]??Mc[2]),u.setFromEuler(s),i.compose(E.position,u,l),c.children.forEach(S=>{!b||b?.type!=="model"||!(S instanceof ji)||(S.setMatrixAt(h,i),S.userData.entities[h]=b.id)}),E.mesh.userData.isSingleModel&&(E.mesh.matrix.copy(i),E.mesh.matrix.decompose(E.mesh.position,E.mesh.quaternion,E.mesh.scale)),h++}this.publish("model-loaded")})),c}populateEntityGroup(t){let n,o,i,s;for(let u of t.values())s=this.state.geometry3DMap.get(u),s.components[0]instanceof sr&&(o=s.components[0].feature,i=s.components[1],o.geometry.type==="Polygon"?(n=g1(o,this.convertTo3DMapPosition,i),o.properties?.textures&&o.properties.textures.length>0&&oE(n,o.properties.textures,this.state.naturalBearing,this.convertTo3DMapPosition),this.populateEntityMesh(s,n)):o.geometry.type==="MultiPolygon"?(n=y1(o,this.convertTo3DMapPosition,i),this.populateEntityMesh(s,n)):o.geometry.type==="LineString"?(n=DE(o,this.convertTo3DMapPosition,i),this.populateEntityMesh(s,n)):o.geometry.type==="MultiLineString"&&(n=iM(o,this.convertTo3DMapPosition,i),this.populateEntityMesh(s,n)));return t}update(){for(let t of this.state.geometryGroupIdsToLoad.values()){let n=this.state.geometry3DMap.get(t);if(n instanceof ei&&n.userData.dirty){if(n.userData.modelURL)n.userData.modelURL&&(this.populateModelGroup(n.userData.entities3D,n.userData.modelURL,n),n.userData.dirty=!1);else try{this.populateEntityGroup(n.userData.entities3D)}catch(s){R.warn(s)}let o,i={};for(let s of n.userData.entities3D.values()){o=this.state.geometry3DMap.get(s);let u=o?.components[0];if(o?.type==="geometry"){let l=o.components[1],c=tV(l);i[c]===void 0&&(i[c]={style:l,entities:[]}),i[c].entities.push(o)}else u&&"mesh"in u&&u.mesh&&u.mesh?.parent!==n&&n.add(u.mesh)}for(let s in i){let u=rE(i[s].entities,i[s].style);n.add(u)}for(let s of n.userData.entities3D.values())if(o=this.state.geometry3DMap.get(s),o!=null&&o.entities2D.size>0)for(let u of o.entities2D.values())u&&(o.attach(u),this.publish("geometry-2d-added"));this.publish("geometry-group-added"),n.userData.dirty=!1}}return Promise.resolve()}};p();var I1=class{constructor(r,t){m(this,"state");m(this,"dirty",!0);m(this,"domTree");this.state=r,this.domTree=t}update(){if(this.dirty){let r;for(let t of Array.from(this.domTree.children))if(r=this.state.geometry2DMap.get(t.userData.entityId),r){let n=r.components[0];(!n.enabled||!n.visible||!this.state.geometry2DIdsInScene.has(t.userData.entityId))&&this.domTree.removeChild(t)}else this.domTree.removeChild(t);for(let t of this.state.geometry2DIdsInScene)if(r=this.state.geometry2DMap.get(t),r){let n=r.components[0];n instanceof Na&&n.enabled&&n.markerContainer&&!this.domTree.contains(n.markerContainer)&&(n.markerContainer.userData={entityId:r.id},this.domTree.appendChild(n.markerContainer),n.updateDimensions())}this.dirty=!1}}};p();var E1=class{constructor(r,t){m(this,"state");m(this,"project");this.state=r,this.project=t}update(){let r,t=0,n=0,o,i;for(let s of this.state.geometry2DIdsInScene)if(r=this.state.geometry2DMap.get(s),r){i=r.components[0];let u=r.attachedTo?this.state.geometry3DMap.get(r.attachedTo):void 0;if(u instanceof ft)if(this.state.geometry3DIdsInScene.has(u.id)){o=u.components[1],i=r.components[0],(o.dirty||r.components[0].attachedDirty)&&(t=o.height,n=o.altitude,r.setAltitude(t+n));let l=o.visible;i.visible!==l&&(i.visible=l)}else i.visible===!0&&(i.visible=!1);this.project(r.components[0].projection,r.position),r.components[0].attachedDirty=!1}}};p();p();p();var rV=function(){let r,t;return n=>{if((!t||!t)&&(r=document.createElement("canvas"),r.width=500*n,r.height=500*n,r.style.width="500px",r.style.height="500px",t=r.getContext("2d")),!t)throw new Error("Could not get 2D context");return{measureCanvas:r,measureCanvasContext:t}}}(),pM=({text:e,size:r,maxWidth:t,pixelRatio:n,maxLines:o=2,lineHeight:i=1.2,options:s={strokeText:!0}})=>{let u=`bold ${r*n}px 'InterUI-Regular', Helvetica Neue, Arial, sans-serif`,{measureCanvasContext:l}=rV(n);l.font=u;let c=[],d=e.split(" "),f=0,h=0,b=0;for(;h<d.length;){let x=d[h];if(f===o&&f>0){c[f-1]+="...";break}if(c[f]==null&&(c[f]=x,h++),d.length===1){c[f]=x;break}if(d[h]==null)break;let{width:D}=l.measureText(c[f]+" "+d[h]);D<=t*n?(c[f]+=" "+d[h],h++):f++}c.forEach(x=>{let{width:D}=l.measureText(x);b=Math.max(D,b)});let I=r*n*i,E=c.length*I;return{maxWidth:b,maxHeight:E,lines:c.length,draw:(x,D,w)=>{c.length===1?(s.strokeText&&x.strokeText(c[0],D,w),x.fillText(c[0],D,w)):(s.strokeText&&(x.strokeText(c[0],D,w-I/2),x.strokeText(c[1],D,w+I/2)),x.fillText(c[0],D,w-I/2),x.fillText(c[1],D,w+I/2))}}};p();function dM(e){let r=new Image;return e&&(/<svg[\s\S]*>/i.test(e)?r.src=`data:image/svg+xml;base64,${btoa(e)}`:r.src=e),r}var C1=class extends Oe{constructor(t,n,o){super();m(this,"dirty",!1);m(this,"state");m(this,"colliderContext");m(this,"colliderCanvas");m(this,"transformRequestFunc");m(this,"transformRequest",async t=>this.transformRequestFunc?await this.transformRequestFunc(t):{url:t});m(this,"pinCache",{});m(this,"imageCache",{});m(this,"imagePromiseCache",{});m(this,"imageDimensionsCache",{});m(this,"textCache",{});m(this,"update",t=>{let n=this.state.pixelRatio;this.colliderContext.clearRect(0,0,this.colliderCanvas.width,this.colliderCanvas.height);let o,i,s,u,l,c,d;for(let f of this.state.geometry2DIdsInScene)if(d=this.state.geometry2DMap.get(f),d!=null&&(c=d.components[0],c instanceof Ra&&!d.disposed)){if(l=c.appearance.iconVisible,c.appearance.icon!=null&&l!=null){let b=typeof l=="boolean"?l:t>=l;b!==c.iconVisible&&(c.iconVisible=b,c.dirty=!0)}if((c.dirty||this.dirty)&&c.calculatePinSize(),i={active:c.appearance.pinColor,inactive:c.appearance.pinColorInactive},s={active:c.appearance.pinOutlineColor,inactive:c.appearance.pinOutlineColorInactive},u=zi(c.pinSize,2),o=`${i.active}-${i.inactive}-${s.active}-${s.inactive}-${u}-${c.iconVisible}`,c.labelCacheId=o,(!this.pinCache[o]||this.dirty)&&(this.prepare(c,o,this.colliderContext),c.dirty=!0),(c.appearance.icon&&(!c.imageHash||c.pinDirty)||this.dirty)&&this.cacheImage(c),this.textCache[c.id]==null||c.textDirty||this.dirty){c.dirty=!0,this.textCache[c.id]={};let{textDrawFn:b,width:I,height:E}=this.processText(c.text,c.appearance.textSize,c.appearance.maxWidth,c.appearance.maxLines,c.appearance.lineHeight);["left","center","right"].forEach(v=>{this.textCache[c.id][v]=this.textToCanvas(b,c.appearance.textSize,v,I,E,c.appearance.textColor,c.appearance.textOutlineColor)}),c.dimensions={width:Math.ceil(I/n),height:Math.ceil(E/n)}}let h=1;if(c.appearance.iconScale)if(typeof c.appearance.iconScale=="number")h=c.appearance.iconScale;else{let{on:b,input:I,output:E,easing:v}=c.appearance.iconScale;b==="zoom-level"?h=x6(t,I,E,v??"linear"):R.warn(`Unsupported interpolation property: ${b}`)}c.recomputeCurrentStrategy(c.iconVisible?h:1),c.canShow&&c.visible&&(c.enabled||c.visibilityNeedsUpdate!==!1)&&this.draw(c,o,this.colliderContext),c.textDirty=!1,c.pinDirty=!1}this.dirty=!1});m(this,"processText",(t,n,o,i,s)=>{let u=this.state.pixelRatio,{draw:l,maxWidth:c,maxHeight:d}=pM({text:t,size:n,pixelRatio:u,maxWidth:o,maxLines:i,lineHeight:s});return{textDrawFn:l,width:c+2.5*u*2,height:d+2.5*u*2}});m(this,"textToCanvas",(t,n,o,i,s,u,l)=>{let c=this.state.pixelRatio,d,f=i,h=s;window.OffscreenCanvas!=null&&!N6()?d=new OffscreenCanvas(f,h):(d=document.createElement("canvas"),d.width=f,d.height=h,d.style.width=f+"px",d.style.height=h+"px");let b=d.getContext("2d",{willReadFrequently:!0});if(!b)return;let I=2.5*c;b.textAlign=o,b.font=`bold ${n*c}px 'InterUI-Regular', Helvetica Neue, Arial, sans-serif`,b.textBaseline="middle",b.lineJoin="miter",b.miterLimit=2,b.strokeStyle="white",b.lineWidth=I,b.fillStyle=u,b.strokeStyle=l;let E=o==="left"?I/2:o==="center"?f/2:f-I/2;return t(b,E,(h+I/2)/2),d});m(this,"cacheImage",t=>{if(!t.appearance.icon)return;let n=V6(t.appearance.icon);this.imagePromiseCache[n]||(this.imagePromiseCache[n]=new Promise(o=>{this.transformRequest(t.appearance.icon).then(i=>{let s=dM(i.url);s.onload=()=>{this.imageCache[n]=s,this.publish("img:loaded"),o(s)}})})),t.imageHash!==n&&(t.imageHash=n,this.imagePromiseCache[n].then(()=>{t.dirty=!0}))});m(this,"createPinCanvas",(t,n,o,i,s=1)=>{let u,l=this.state.pixelRatio,c=t.totalPinSize*2*l*s;window.OffscreenCanvas!=null?u=new OffscreenCanvas(c,c):(u=document.createElement("canvas"),u.width=c,u.height=c,u.style.width=c/l+"px",u.style.height=c/l+"px");let d=u.getContext("2d");return d.shadowColor="rgba(0,0,0,0.3)",d.shadowOffsetY=2*l,d.shadowBlur=5*l,d.beginPath(),d.arc(c/2,c/2,(n/2+2.5*l/2)*s,0,2*Math.PI),d.fillStyle=o,d.fill(),d.beginPath(),d.arc(c/2,c/2,n/2*s,0,2*Math.PI),d.shadowColor="transparent",d.fillStyle=i,d.fill(),u});m(this,"prepare",(t,n,o)=>{let i=this.state.pixelRatio;o.lineWidth=4*i;let s=typeof t.appearance.iconScale=="number"?[t.appearance.iconScale]:t.appearance.iconScale==null?[]:t.appearance.iconScale.output,u=s.length>0?Math.max(...s):void 0,l=this.createPinCanvas(t,t.pinSize,t.appearance.pinOutlineColor,t.appearance.pinColor,u),c=this.createPinCanvas(t,3.5*i,t.appearance.pinOutlineColorInactive,t.appearance.pinColorInactive,u);this.pinCache[n]=[l,c]});this.state=t,this.colliderCanvas=n,this.colliderContext=n.getContext("2d"),this.transformRequestFunc=o}draw(t,n,o){if(!t.canShow||!t.visible)return;o.save(),o.globalAlpha=t.currentOpacity;let i=this.state.pixelRatio,s=t.projection.x*i,u=t.projection.y*i,l=t.style.pinVisibility===1?this.pinCache[n][0]:this.pinCache[n][1],c=t.style.pinVisibility===1?t.scaledPinSize*i:t.totalPinSize*i;if(t.style.pinVisibility!==0&&o.drawImage(l,s-c,u-c,c*2,c*2),t.appearance.icon&&t.iconVisible&&t.imageHash&&t.appearance.iconSize&&this.imageCache[t.imageHash]&&t.style.pinVisibility===1){let d=this.imageCache[t.imageHash],f=(t.scaledPinSize-t.scaledIconPadding)*i,h=t.appearance.iconFit,b=f,I=f,E=`${t.imageHash}_${h}`;if(this.imageDimensionsCache[E])b=this.imageDimensionsCache[E].width,I=this.imageDimensionsCache[E].height;else{let v=d.width*i,x=d.height*i;if(h==="contain"){let D=Math.sqrt(v**2+x**2),w=f/D;b=v*w,I=x*w}if(h==="cover"){let D=f/v,w=f/x,S=Math.max(D,w);b=v*S,I=x*S}}o.save(),o.beginPath(),o.arc(s,u,f/2,0,2*Math.PI),o.closePath(),t?.appearance?.iconOverflow!=="visible"&&o.clip(),o.drawImage(d,s-b/2,u-I/2,b,I),o.restore()}t.style.textLabelVisible&&t.style.textAlign!=null&&t.style.left!=null&&t.style.top!=null&&o.drawImage(this.textCache[t.id][t.style.textAlign],s+t.style.left*i,u+t.style.top*i),o.restore()}};p();function sV(e,r){let t=e.components[2],n=e.components[1];return t?.hover?[n.hoverColor||r,n.hoverColor||r]:[n.color,n.topColor||n.color]}var S1=class{constructor(r,t){m(this,"state");m(this,"convertTo3DMapPosition");this.convertTo3DMapPosition=t,this.state=r}determineTextureVisiblity(r,t,n){let o=vs(r);(o?.texture!=null||o?.topTexture!=null)&&(n?.hover&&o.texturesVisible?o.hideTextures(r.instanceIndex):o.texturesVisible||o.showTextures(r.instanceIndex),t.texture==null&&o.removeSideTexture(r.instanceIndex),t.topTexture==null&&o.removeTopTexture(r.instanceIndex))}update(){let r,t,n;for(let o of this.state.geometry3DIdsInScene)if(n=this.state.geometry3DMap.get(o),n&&(n.type==="geometry"||n.type==="custom-geometry")&&(n.components[1]?.dirty||n.components[2]?.dirty)){let i=n.components[0],s=n.components[1];t=n.components[2];let u=sV(n,this.state.hoverColor);i.setColor(u[0],u[1]);let l=vs(i);if(s.visible!==i.visible&&(i.visible=s.visible,i instanceof sr&&i.textMesh)){let d=this.state.geometry3DMap.get(i.textMesh.userData.entityId);d?.type==="text3d"&&d.components[0].polygonEntityId!=null&&(d.components[0].visible=s.visible)}s.altitude!==i.altitude&&(i.altitude=s.altitude);let c=s.opacity*wc(n);if(c!==i.opacity&&(i.opacity=c),s.renderOrder!==i.renderOrder&&(i.renderOrder=s.renderOrder),l&&s.side!==lM(l)&&cM(l,s.side),i instanceof sr&&s.shading!=null&&(s.shading?.start!==vs(i)?.getGradientShading().start||s.shading?.end!==vs(i)?.getGradientShading().end||s.shading?.intensity!==vs(i)?.getGradientShading().intensity)&&vs(i)?.setGradientShading(s.shading?.start??0,s.shading?.end??0,s.shading?.intensity??0),s.dirty=!1,i instanceof sr){let d=n.components[6];d instanceof Vu&&this.determineTextureVisiblity(i,d,t)}n.components[2]&&(n.components[2].dirty=!1)}else if(n?.type==="model")n.components[1].dirty&&(v1(n),n.components[1].dirty=!1),n.components[0].positionDirty&&(uM(n,this.convertTo3DMapPosition),n.components[0].positionDirty=!1);else if(n?.type==="image"&&n.components[1]?.dirty){r=n.components[0];let i=n.components[1];i.visible!==r.visible&&(r.visible=i.visible),i.dirty=!1}else if(n?.type==="text3d"&&n.components[1]?.dirty&&n.components[0].polygonEntityId!=null){r=n.components[0];let i=n.components[1];i.visible!=null&&i.visible!==r.visible&&(r.visible=i.visible);let{textMesh:s}=r;if(s){Object.assign(s,i.getState());let u=i.hoverColor??this.state.text3dHoverColor;s.color=i.hoverByPolygon?u:i.color??Fc.color,s.outlineColor=i.hoverByPolygon?u:i.outlineColor??Fc.outlineColor,s.strokeColor=i.hoverByPolygon?u:i.strokeColor??Fc.strokeColor}i.dirty=!1}}};p();var D1=class extends Oe{constructor(t){super();m(this,"state");m(this,"animating",new Map);m(this,"isAnimating",!1);m(this,"startTime",-1);m(this,"showDuration",300);m(this,"hideDuration",250);m(this,"update",()=>{this.animating.clear();let t,n;for(let o of this.state.geometry2DIdsInScene)t=this.state.geometry2DMap.get(o),t&&(n=t.components[0],n instanceof Ra&&(n.visibilityNeedsUpdate==="show"?(n.canShow=!0,this.animating.set(n,[n.currentOpacity,n.appearance.opacity??1])):n.visibilityNeedsUpdate==="hide"&&this.animating.set(n,[n.currentOpacity,0])));this.startTime=performance.now(),this.publish("animate:2d")});m(this,"playAnimations");this.state=t,this.playAnimations=this._playAnimations}_playAnimations(){let t=performance.now();for(let[n,[o,i]]of this.animating.entries()){let s=i===1?this.showDuration:this.hideDuration,u=(t-this.startTime)/s;n.currentOpacity=Gu(u,0,1,o,i,i===0?y6:b6),t-this.startTime>=s&&(i===1?n.canShow=!0:i===0&&(n.canShow=!1),n.visibilityNeedsUpdate=!1,this.animating.delete(n))}this.publish("draw:2d"),this.animating.size>0&&this.publish("animate:2d")}};p();var T1=class extends Oe{constructor(t,n,o,i,s,u,l){super();m(this,"state");m(this,"renderer");m(this,"mode");m(this,"scene");m(this,"cameraObject");m(this,"viewCamera");m(this,"systems");m(this,"needs2DRecompute",!1);m(this,"twoDdirty",!0);m(this,"threeDdirty",!0);m(this,"frameId",null);m(this,"twoDFrameId",null);m(this,"animationFrameId",null);m(this,"nextFrame",null);m(this,"update",(t=!1)=>{if(this.renderer?.renderer==null)return Promise.resolve();if(t){let n=this.commitRenderState();return this.paint(),n}else return this.frameId?Promise.resolve():new Promise((n,o)=>{this.frameId=requestAnimationFrame(()=>this.renderer?.renderer==null?n():this.mode==="standalone"?this.commitRenderState()?.then(()=>{this.paint(),n()}).catch(i=>{o(i)}):n())})});m(this,"animate2D",()=>{this.animationFrameId=requestAnimationFrame(()=>{this.animationFrameId=null,this.systems.twoDVisiblitySystem.playAnimations()})});m(this,"drawEntities2D",()=>{this.twoDFrameId||(this.twoDFrameId=requestAnimationFrame(()=>{this.twoDFrameId=null,this.systems.twoDDrawSystem.update(this.systems.cameraSystem.getZoomLevel())}))});m(this,"updateEntities2D",()=>{this.twoDFrameId&&(cancelAnimationFrame(this.twoDFrameId),this.twoDFrameId=null),this.twoDFrameId=requestAnimationFrame(()=>{this.twoDFrameId=null,this.systems.watermarkSystem.insertIntoQuadTree(this.systems.collisionSystem.interactiveCollidersQTree),this.systems.interactionSystem.updateQuadtree(this.systems.collisionSystem.interactiveCollidersQTree),this.systems.twoDVisiblitySystem.update(),this.systems.twoDDrawSystem.update(this.systems.cameraSystem.getZoomLevel()),this.systems.domDrawSystem.update(this.systems.cameraSystem.isUserInteracting())})});m(this,"commitRenderState",()=>{try{let t=[];this.frameId=null,this.publish("pre-render"),this.state.internalTweenGroup.update(),this.state.externalTweenGroup.update(),(this.mode==="outdoors-interleaved"||this.mode==="standalone")&&this.systems.cameraSystem.update(),this.state.shouldMeasureCanvas&&(this.state.shouldMeasureCanvas=!1,this.publish("measure-canvas")),this.twoDdirty&&(this.state.geometry2DIdsInScene.clear(),U6(this.state.entityScene,this.state.geometry2DIdsInScene),this.systems.domVisiblitySystem.dirty=!0,this.systems.collisionSystem.collidersDirty=!0,this.systems.domMutationSystem.dirty=!0,this.systems.panBoundsSystem.dirty=!0,this.twoDdirty=!1),this.threeDdirty&&(this.state.geometry3DIdsInScene.clear(),this.state.geometryGroupIdsToLoad.clear(),j6(this.state.entityScene,this.state.geometry3DIdsInScene,this.state.geometryGroupIdsToLoad),this.threeDdirty=!1,this.systems.interactionSystem.dirty3D=!0,this.systems.panBoundsSystem.dirty=!0,this.systems.outlineInterpolationSystem.geometries3DDirty=!0,this.systems.geometryInFocusSystem.focusablesDirty=!0);let n=this.systems.meshOptimizationSystem.update();n&&t.push(n),this.systems.borderSystem.update(),this.systems.meshModificationSystem.update(),this.systems.meshDetachmentSystem.update(),this.systems.renderOrderSystem.update(),this.systems.clippingPlaneSystem.update(),this.systems.imageSystem.update(this.systems.cameraSystem.getRotation()),t.push(this.systems.text3DSystem.update(this.systems.cameraSystem.getRotation())),this.systems.customGeometrySystem.update(),this.systems.panBoundsSystem.update(),this.systems.geometryInFocusSystem.update(this.systems.cameraSystem.isCameraMoving(),this.systems.cameraSystem.lastCameraStoppedMovingTime()),this.systems.outlineInterpolationSystem.update(this.systems.cameraSystem.getZoomLevel(),this.systems.cameraSystem.zoomDirty),this.systems.pathSystem.update(this.systems.cameraSystem.minZoomAltitude,this.systems.cameraSystem.maxZoomAltitude,this.systems.cameraSystem.getZoomAltitude()),this.systems.cameraSystem.postRender(),this.systems.domVisiblitySystem.update(),this.systems.domMutationSystem.update(),this.systems.twoDProjectionSystem.update(),this.systems.occlusion2DSystem.update(),this.systems.twoDDrawSystem.update(this.systems.cameraSystem.getZoomLevel()),this.systems.domDrawSystem.update(this.systems.cameraSystem.isUserInteracting()),this.systems.watermarkSystem.update();let o=this.needs2DRecompute;return this.nextFrame=requestAnimationFrame(()=>{this.systems.collisionSystem.update(this.systems.watermarkSystem.width,this.systems.watermarkSystem.height,this.systems.watermarkSystem.options.position,!o,this.systems.imageSystem.currentImageScreenBBoxes)}),this.systems.textureSystem.update(),this.systems.drawSystem.update(),this.systems.geometryDisposalSystem.update(),this.systems.cameraSystem.dirty=!1,this.systems.cameraSystem.zoomDirty=!1,this.systems.cameraSystem.rotationDirty=!1,this.systems.cameraSystem.stateDirty&&(this.publish("camera-state-change"),this.systems.cameraSystem.stateDirty=!1),this.publish("post-render"),this.needs2DRecompute=!1,Promise.all(t)}catch(t){return Promise.reject(t)}});this.renderer=t,this.state=n,this.mode=o,this.scene=i,this.cameraObject=s,this.viewCamera=u,this.systems=l,this.systems.collisionSystem.on("visibility-changed",this.updateEntities2D),this.systems.twoDVisiblitySystem.on("draw:2d",this.drawEntities2D),this.systems.twoDVisiblitySystem.on("animate:2d",this.animate2D),this.systems.cameraSystem.on("pan-start",()=>this.needs2DRecompute=!1),this.systems.cameraSystem.on("zoom-start",()=>this.needs2DRecompute=!1),this.systems.cameraSystem.on("zoom-end",()=>this.needs2DRecompute=!0),this.systems.cameraSystem.on("rotate-start",()=>this.needs2DRecompute=!1),this.systems.cameraSystem.on("rotate-end",()=>this.needs2DRecompute=!0)}paint(){this.renderer?.renderer&&(this.mode==="standalone"&&this.renderer.clear(),this.renderer.render(this.scene,this.state.useStandaloneCamera||this.mode==="standalone"?this.cameraObject:this.viewCamera))}destroy(){this.frameId&&cancelAnimationFrame(this.frameId),this.twoDFrameId&&cancelAnimationFrame(this.twoDFrameId),this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),this.nextFrame&&cancelAnimationFrame(this.nextFrame),this.state.geometry2DIdsInScene.clear(),this.state.geometry3DIdsInScene.clear(),this.systems.domVisiblitySystem.dirty=!0,this.systems.collisionSystem.collidersDirty=!0,this.update(),this.systems.collisionSystem.off("visibility-changed",this.updateEntities2D),this.systems.twoDVisiblitySystem.off("draw:2d",this.drawEntities2D),this.systems.twoDVisiblitySystem.off("animate:2d",this.animate2D)}};p();import{z as Kt}from"zod";var uV=Kt.object({interactive:Kt.boolean().optional(),id:Kt.string().optional(),width:Kt.union([Kt.number(),Kt.object({on:Kt.literal("zoom-level").optional(),input:Kt.array(Kt.number()).nonempty(),output:Kt.array(Kt.number()).nonempty(),easing:Kt.string().optional()})]).optional(),accentColor:Kt.string().optional(),displayArrowsOnPath:Kt.boolean().optional(),animateArrowsOnPath:Kt.boolean().optional(),visibleThroughGeometry:Kt.boolean().optional(),dashed:Kt.boolean().optional()}),lV=Kt.object({type:Kt.enum(["Feature"]),geometry:Cd,properties:Kt.object({parentId:Kt.any().optional()})});function mM(e,r){Kt.object({features:Kt.array(lV)}).parse(e),uV.parse(r)}var Wf,Eu=class{constructor(r,t){m(this,"type","path");m(this,"mesh",new zs);m(this,"material");m(this,"geometry");m(this,"outline");m(this,"feature");m(this,"options");m(this,"width",{on:"zoom-level",input:[17,22],output:[.8,.4]});m(this,"breakpoint",0);m(this,"altitudeBreakpoints");m(this,"accentColor","blue");m(this,"completeFraction",1);m(this,"altitudeAdjustment",1);m(this,"displayArrowsOnPath",!1);m(this,"animateArrowsOnPath",!1);m(this,"visibleThroughGeometry",!1);m(this,"highlightStartFraction",0);m(this,"highlightEndFraction",0);m(this,"highlightCompleteFraction",1);m(this,"highlightWidthMultiplier",1.1);m(this,"highlightColor","red");m(this,"dashed",!1);m(this,"isVertical",!1);m(this,"dirty",!0);m(this,"materialDirty",!0);m(this,"position",new ie);C(this,Wf,0);this.feature=r,this.options=t||{},this.width=t?.width??this.width,this.accentColor=t?.accentColor??this.accentColor,this.displayArrowsOnPath=t?.displayArrowsOnPath??this.displayArrowsOnPath,this.animateArrowsOnPath=t?.animateArrowsOnPath??this.animateArrowsOnPath,this.visibleThroughGeometry=t?.visibleThroughGeometry??this.visibleThroughGeometry,this.dashed=t?.dashed??this.dashed}setColor(){}setOpacity(){}set visible(r){this.mesh&&(this.mesh.visible=r)}get visible(){return this.mesh?this.mesh.visible:!1}get altitude(){return a(this,Wf)}set altitude(r){this.mesh&&(this.mesh.position.z=r,T(this,Wf,r))}set complete(r){this.material&&(this.material.uniforms.complete.value=r,this.material.needsUpdate=!0)}};Wf=new WeakMap;p();p();p();var zo=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var r=1.70158;return e===1?1:e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return e===0?0:--e*e*((r+1)*e+r)+1},InOut:function(e){var r=2.5949095;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}}),Bounce:Object.freeze({In:function(e){return 1-zo.Bounce.Out(1-e)},Out:function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},InOut:function(e){return e<.5?zo.Bounce.In(e*2)*.5:zo.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(r){return Math.pow(r,e)},Out:function(r){return 1-Math.pow(1-r,e)},InOut:function(r){return r<.5?Math.pow(r*2,e)/2:(1-Math.pow(2-r*2,e))/2+.5}}}}),Xf=function(){return performance.now()},w1=function(){function e(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,r)}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(t){return r._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var r,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var o=0,i=t;o<i.length;o++){var s=i[o];(r=s._group)===null||r===void 0||r.remove(s),s._group=this,this._tweens[s.getId()]=s,this._tweensAddedDuringUpdate[s.getId()]=s}},e.prototype.remove=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var n=0,o=r;n<o.length;n++){var i=o[n];i._group=void 0,delete this._tweens[i.getId()],delete this._tweensAddedDuringUpdate[i.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(r){return!r.isPlaying()})},e.prototype.update=function(r,t){r===void 0&&(r=Xf()),t===void 0&&(t=!0);var n=Object.keys(this._tweens);if(n.length!==0)for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<n.length;o++){var i=this._tweens[n[o]],s=!t;i&&i.update(r,s)===!1&&!t&&this.remove(i)}n=Object.keys(this._tweensAddedDuringUpdate)}},e}(),Dd={Linear:function(e,r){var t=e.length-1,n=t*r,o=Math.floor(n),i=Dd.Utils.Linear;return r<0?i(e[0],e[1],n):r>1?i(e[t],e[t-1],t-n):i(e[o],e[o+1>t?t:o+1],n-o)},Bezier:function(e,r){for(var t=0,n=e.length-1,o=Math.pow,i=Dd.Utils.Bernstein,s=0;s<=n;s++)t+=o(1-r,n-s)*o(r,s)*e[s]*i(n,s);return t},CatmullRom:function(e,r){var t=e.length-1,n=t*r,o=Math.floor(n),i=Dd.Utils.CatmullRom;return e[0]===e[t]?(r<0&&(o=Math.floor(n=t*(1+r))),i(e[(o-1+t)%t],e[o],e[(o+1)%t],e[(o+2)%t],n-o)):r<0?e[0]-(i(e[0],e[0],e[1],e[1],-n)-e[0]):r>1?e[t]-(i(e[t],e[t],e[t-1],e[t-1],n-t)-e[t]):i(e[o?o-1:0],e[o],e[t<o+1?t:o+1],e[t<o+2?t:o+2],n-o)},Utils:{Linear:function(e,r,t){return(r-e)*t+e},Bernstein:function(e,r){var t=Dd.Utils.Factorial;return t(e)/t(r)/t(e-r)},Factorial:function(){var e=[1];return function(r){var t=1;if(e[r])return e[r];for(var n=r;n>1;n--)t*=n;return e[r]=t,t}}(),CatmullRom:function(e,r,t,n,o){var i=(t-e)*.5,s=(n-r)*.5,u=o*o,l=o*u;return(2*r-2*t+i+s)*l+(-3*r+3*t-2*i-s)*u+i*o+r}}},fM=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),y2=new w1,Ii=function(){function e(r,t){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=zo.Linear.None,this._interpolationFunction=Dd.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=fM.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=r,typeof t=="object"?(this._group=t,t.add(this)):t===!0&&(this._group=y2,y2.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(r,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=r,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},e.prototype.duration=function(r){return r===void 0&&(r=1e3),this._duration=r<0?0:r,this},e.prototype.dynamic=function(r){return r===void 0&&(r=!1),this._isDynamic=r,this},e.prototype.start=function(r,t){if(r===void 0&&(r=Xf()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var o={};for(var i in this._valuesEnd)o[i]=this._valuesEnd[i];this._valuesEnd=o}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(r){return this.start(r,!0)},e.prototype._setupProperties=function(r,t,n,o,i){for(var s in n){var u=r[s],l=Array.isArray(u),c=l?"array":typeof u,d=!l&&Array.isArray(n[s]);if(!(c==="undefined"||c==="function")){if(d){var f=n[s];if(f.length===0)continue;for(var h=[u],b=0,I=f.length;b<I;b+=1){var E=this._handleRelativeValue(u,f[b]);if(isNaN(E)){d=!1,console.warn("Found invalid interpolation list. Skipping.");break}h.push(E)}d&&(n[s]=h)}if((c==="object"||l)&&u&&!d){t[s]=l?[]:{};var v=u;for(var x in v)t[s][x]=v[x];o[s]=l?[]:{};var f=n[s];if(!this._isDynamic){var D={};for(var x in f)D[x]=f[x];n[s]=f=D}this._setupProperties(v,t[s],f,o[s],i)}else(typeof t[s]>"u"||i)&&(t[s]=u),l||(t[s]*=1),d?o[s]=n[s].slice().reverse():o[s]=t[s]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(r){return r===void 0&&(r=Xf()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this)},e.prototype.resume=function(r){return r===void 0&&(r=Xf()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var r=0,t=this._chainedTweens.length;r<t;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return r?(r.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var r;return(r=this._group)===null||r===void 0||r.remove(this),this},e.prototype.delay=function(r){return r===void 0&&(r=0),this._delayTime=r,this},e.prototype.repeat=function(r){return r===void 0&&(r=0),this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return r===void 0&&(r=!1),this._yoyo=r,this},e.prototype.easing=function(r){return r===void 0&&(r=zo.Linear.None),this._easingFunction=r,this},e.prototype.interpolation=function(r){return r===void 0&&(r=Dd.Linear),this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onEveryStart=function(r){return this._onEveryStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,t){var n=this,o;if(r===void 0&&(r=Xf()),t===void 0&&(t=e.autoStartOnUpdate),this._isPaused)return!0;var i;if(!this._goToEnd&&!this._isPlaying)if(t)this.start(r,!0);else return!1;if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var s=r-this._startTime,u=this._duration+((o=this._repeatDelayTime)!==null&&o!==void 0?o:this._delayTime),l=this._duration+this._repeat*u,c=function(){if(n._duration===0||s>l)return 1;var E=Math.trunc(s/u),v=s-E*u,x=Math.min(v/n._duration,1);return x===0&&s===n._duration?1:x},d=c(),f=this._easingFunction(d);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,d),this._duration===0||s>=this._duration)if(this._repeat>0){var h=Math.min(Math.trunc((s-this._duration)/u)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=h);for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=u*h,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var b=0,I=this._chainedTweens.length;b<I;b++)this._chainedTweens[b].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,t,n,o){for(var i in n)if(t[i]!==void 0){var s=t[i]||0,u=n[i],l=Array.isArray(r[i]),c=Array.isArray(u),d=!l&&c;d?r[i]=this._interpolationFunction(u,o):typeof u=="object"&&u?this._updateProperties(r[i],s,u,o):(u=this._handleRelativeValue(s,u),typeof u=="number"&&(r[i]=s+(u-s)*o))}},e.prototype._handleRelativeValue=function(r,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?r+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(r){var t=this._valuesStartRepeat[r],n=this._valuesEnd[r];typeof n=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(n):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=t},e.autoStartOnUpdate=!1,e}();var w7e=fM.nextId,va=y2,F7e=va.getAll.bind(va),M7e=va.removeAll.bind(va),A7e=va.add.bind(va),O7e=va.remove.bind(va),B7e=va.update.bind(va);p();p();p();var hM=(e,r)=>(r-e+Math.PI)%(Math.PI*2)+Math.PI*2%(Math.PI*2)-Math.PI,gM=(e,r)=>new ke(e.clientX-r.offsetLeft,e.clientY-r.offsetTop),b2=(e,r)=>Math.atan2(r.y-e.y,r.x-e.x),Jf=(e,r)=>Math.sqrt((r.y-e.y)**2+(r.x-e.x)**2),v2=(e,r)=>new ke((e.x+r.x)/2,(e.y+r.y)/2),x2=e=>{let r=0,{wheelDelta:t,detail:n}=e;return t!==void 0?r=t:n!==void 0&&(r=-n),r};var F1=class{constructor(r,t){m(this,"input1");m(this,"input2");m(this,"lastAngle");m(this,"lastDistance");m(this,"totalDistance");m(this,"first");m(this,"second");this.input1=r,this.input2=t,this.lastAngle=b2(r,t),this.lastDistance=Jf(r,t),this.totalDistance=0,this.first=r,this.second=t}update(r,t){let n=Jf(r,t);this.input1=r,this.input2=t;let o=b2(r,t);this.lastAngle=o,this.lastDistance=n,this.totalDistance+=(Jf(this.first,r)+Jf(this.second,t))/2,this.first=v2(this.first,r),this.second=v2(this.second,t)}};p();var Yf=class{constructor(r,t,n){m(this,"touch");m(this,"camera");m(this,"cameraPlane");m(this,"viewCoordinate");m(this,"snapHolderMatrix");m(this,"snapCamera");m(this,"cameraPosition");m(this,"raycaster");m(this,"worldCoordinate");m(this,"snapshotted",!1);this.touch=r,this.camera=t,this.cameraPlane=n,this.viewCoordinate={x:r.x,y:r.y},this.camera.updateMatrixWorld(),this.camera.updateMatrix(),this.snapHolderMatrix=this.camera.matrixWorld.clone(),this.snapCamera=this.camera.clone(),this.snapshotCameraState()}snapshotCameraState(){this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraPosition=this.camera.position.clone();let r=new ke(this.viewCoordinate.x,this.viewCoordinate.y);this.raycaster=this.raycaster||new Ui,this.raycaster.setFromCamera(r,this.snapCamera);let t=this.raycaster.intersectObject(this.cameraPlane,!0);this.worldCoordinate=t&&t.length>0?t[0].point:null,this.snapshotted=!0}updateAnchorState(r,t){this.camera=r,this.snapCamera=r.clone(),this.snapHolderMatrix=r.matrixWorld.clone(),this.updateViewCoordinate(t),this.snapshotCameraState()}updateViewCoordinate(r){this.viewCoordinate={x:r.x,y:r.y}}reUnproject(){let r=new ke(this.viewCoordinate.x,this.viewCoordinate.y);this.raycaster?.setFromCamera(r,this.snapCamera);let t=this.raycaster?.intersectObject(this.cameraPlane,!0)[0];return t?t.point:void 0}};var Ei={};$s(Ei,{BLOCK_MERCATOR_ZOOM_LEVEL:()=>pV,CLIPPING_RADIUS:()=>Kf,CONTROL_OPTIONS:()=>cV,DEFAULT_ANIMATION_DURATION:()=>D2,DEFAULT_BEARING:()=>gV,DEFAULT_MAX_ZOOM_LEVEL:()=>fV,DEFAULT_MIN_ZOOM_LEVEL:()=>T2,DEFAULT_PITCH:()=>hV,DEFAULT_ZOOM_LEVEL:()=>mV,EVENTS:()=>B1,MAPLIBRE_TILE_SIZE:()=>M1,MAX_LAT:()=>E2,MAX_MERCATOR_ZOOM_LEVEL:()=>O1,MIN_LAT:()=>I2,MIN_MERCATOR_ZOOM_LEVEL:()=>A1,ROOM_MERCATOR_ZOOM_LEVEL:()=>dV,TWO_PI:()=>C2,WHEEL_ZOOM_MULTIPLIER:()=>S2,ZRANGE:()=>Td});p();var M1=512,I2=-85.051129,E2=85.051129,Kf=1e4,cV={chain:"chain",cancel:"cancel"},C2=Math.PI*2,Td=100,S2=1e4,A1=0,O1=24,pV=17,dV=20,D2=200,B1=["change","pan-start","pan-end","rotate-start","rotate-end","zoom-start","zoom-end","multi-start","multi-end","multi-cancel","pedestal-start","pedestal-change","pedestal-end","user-pan-start","user-pedestal-start","user-rotate-start","user-dolly-start","user-zoom-start","user-tilt-start","user-pan-end","user-pedestal-end","user-rotate-end","user-dolly-end","user-zoom-end","user-tilt-end","position-updated","zoom-updated","tilt-updated","rotation-updated"],mV=18,T2=12,fV=22,hV=0,gV=0;var P1=!1,yV=!1;var k1,Ul=class extends Oe{constructor(t,n,o,i,s){super();m(this,"dirty",!1);m(this,"zoomDirty",!1);m(this,"rotationDirty",!1);m(this,"panDirty",!1);m(this,"stateDirty",!1);C(this,k1,T2);m(this,"zoomSpeed",5);m(this,"rotateSpeed",100);m(this,"enabled",!0);m(this,"enableZoom",!0);m(this,"enablePan",!0);m(this,"enablePedestal",!1);m(this,"maxPedestal",1/0);m(this,"minPedestal",0);m(this,"enableRotate",!0);m(this,"minZoomAltitude",0);m(this,"maxZoomAltitude",1/0);m(this,"ignoreZoomLimits",!1);m(this,"zoomFactor",1);m(this,"panBounds",{min:new ie(1/0,1/0),max:new ie(-1/0,-1/0),center:new ie(0,0,0),radius:1/0});m(this,"minTilt",0);m(this,"maxTilt",1.2);m(this,"MOUSE_BUTTONS",{ORBIT:gh.RIGHT,ZOOM:gh.MIDDLE,PAN:gh.LEFT});m(this,"camera");m(this,"scene");m(this,"renderer");m(this,"elevation");m(this,"orbit");m(this,"cameraPlane");m(this,"raycaster",new Ui);m(this,"rendererState");m(this,"options");m(this,"state",-1);m(this,"intersection");m(this,"viewState",null);m(this,"tweens",new Map);m(this,"clock",new l6(!0));m(this,"coords",{mouse:new ke,rotateStart:new ke,rotateEnd:new ke,rotateDelta:new ke,panStart:new ie,panCameraStart:new ie,panEnd:new ie,panDelta:new ie,initialShiftPos:new ke,initialPedestal:0,floorAnchor:new ie});m(this,"touch",{origin:{offsetLeft:0,offsetTop:0},touches:[],anchor1:null,anchor2:null,inputs:null});m(this,"scrollTimer",null);m(this,"lastWheelTime",0);m(this,"resetZoom",!1);m(this,"zoomStart");m(this,"pedestalScaleFactor",1);m(this,"isUserZooming",!1);m(this,"stayInsideBounds",!0);m(this,"userInteracting",!1);m(this,"cameraMoving",!1);m(this,"lastCameraMoveTime",Date.now());m(this,"raycastToFloor",t=>{this.raycaster.setFromCamera(t,this.camera);let n=this.raycaster.intersectObject(this.cameraPlane,!1)[0];return n?n.point:new ie});m(this,"isUserInteracting",()=>this.userInteracting);m(this,"getPosition",()=>new ie(this.orbit.position.x,this.orbit.position.y,this.orbit.position.z));m(this,"getPedestal",()=>this.orbit.position.z);m(this,"pan",(t,n)=>{isNaN(t)||isNaN(n)||(this.setPosition(this.orbit.position.x+t,this.orbit.position.y+n),this.publish("position-updated"))});m(this,"postRender",()=>{(this.state===2||this.state===6)&&(this.raycaster.setFromCamera(this.coords.mouse,this.camera),this.intersection=this.raycaster.intersectObject(this.cameraPlane,!1)[0],this.intersection&&(this.coords.panStart.set(this.intersection.point.x,this.intersection.point.y,0),this.coords.panCameraStart.set(this.orbit.position.x,this.orbit.position.y,0))),this.state===3&&this.resetZoom&&(this.resetZoom=!1,this.zoomStart=this.getZoomAltitude(),this.coords.floorAnchor=this.raycastToFloor(this.coords.mouse),this.coords.panCameraStart.set(this.orbit.position.x,this.orbit.position.y,0)),this.state===7&&this.isAnimating===!1&&(this.state=-1,this.publish("multi-end"))});m(this,"isCameraMoving",()=>this.cameraMoving);m(this,"lastCameraStoppedMovingTime",()=>this.lastCameraMoveTime);m(this,"setPosition",(t,n)=>{t===void 0||n===void 0||isNaN(t)||isNaN(n)||(this.state===-1&&this.publish("pan-start"),this.updateCameraPosition(t,n),this.publish("position-updated"),this.publish("change"),this.state===-1&&this.publish("pan-end"),this.dirty=!0,this.stateDirty=!0)});m(this,"updateCameraPosition",(t,n)=>{let o=t-this.panBounds.center.x,i=n-this.panBounds.center.y,s=Math.sqrt(o*o+i*i);if(this.stayInsideBounds&&s>this.panBounds.radius){let u=Math.atan2(i,o),l={x:Math.cos(u)*this.panBounds.radius+this.panBounds.center.x,y:Math.sin(u)*this.panBounds.radius+this.panBounds.center.y};this.orbit.position.x=l.x,this.orbit.position.y=l.y}else this.orbit.position.x=t,this.orbit.position.y=n});m(this,"tilt",t=>{if(isNaN(t))return;this.state===-1&&this.publish("rotate-start");let n=this.stayInsideBounds?Math.max(Math.min(t+this.getTilt(),this.maxTilt),this.minTilt):t+this.getTilt();n!==this.elevation.rotation.x&&(this.elevation.rotation.x=n,this.publish("tilt-updated")),this.publish("change"),this.state===-1&&this.publish("rotate-end"),this.stateDirty=!0});m(this,"zoomIn",(t,n,o)=>{let i=this.getZoomAltitude();this.animateCamera({zoom:i/1.5},t,n,o)});m(this,"zoomOut",(t,n,o)=>{let i=this.getZoomAltitude();this.animateCamera({zoom:i*1.5},t,n,o)});m(this,"getRotation",()=>(-this.orbit.rotation.z+Math.PI*2)%(Math.PI*2));m(this,"cancelAnimation",()=>{let t=Array.from(this.tweens.keys());if(t.length<1)return;let n=t[t.length-1];n.state===7&&this.publish("multi-cancel",{zooming:!0,rotating:!0,tilting:!0}),this.completeTween(n)});m(this,"animateCamera",(t,n,o,i,s,u)=>{let l={interruptible:!0,...u},c={},d={},f=this.getPosition();if(t.position!=null&&(t.position.x!==void 0&&(c.x=f.x,d.x=t.position.x),t.position.y!==void 0&&(c.y=f.y,d.y=t.position.y),t.position.z!==void 0&&(c.z=f.z,d.z=t.position.z)),t.zoom!==void 0&&(c.zoom=this.stayInsideBounds?Math.min(Math.max(this.getZoomAltitude(),this.getZoomScaledMin()),this.getZoomScaledMax()):this.getZoomAltitude(),this.viewState==="multi_floor"||!this.stayInsideBounds?d.zoom=t.zoom:d.zoom=Math.min(Math.max(t.zoom,this.getZoomScaledMin()),this.getZoomScaledMax())),t.rotation!==void 0){let{start:w,end:S}=f6(this.getRotation(),t.rotation);c.rotation=w,d.rotation=S}t.tilt!==void 0&&(c.tilt=this.getTilt(),this.viewState==="multi_floor"||!this.stayInsideBounds?d.tilt=t.tilt:d.tilt=Math.max(Math.min(t.tilt,this.maxTilt),this.minTilt));let h=c.zoom!==d.zoom,b=c.rotation!==d.rotation,I=c.tilt!==d.tilt,E=new Ii(c).to(d,y.env.TESTING?0:n).onUpdate(w=>{this.setMulti({x:w.x,y:w.y,z:w.z},w.zoom,w.rotation,w.tilt)}).onComplete(()=>{this.completeTween(E),this.publish("multi-end",{zooming:h,rotating:b,tilting:I}),i&&i()}).onStart(()=>{this.state!==7&&(this.state=7,E.state=7,this.publish("multi-start",{zooming:h,rotating:b,tilting:I})),this.publish("change")});this.rendererState.internalTweenGroup.add(E);let v=Array.from(this.tweens.entries()),x=v[v.length-1],D=!1;return x!=null&&(x[1].interruptible?(typeof x[1].cancelledCallback=="function"&&x[1].cancelledCallback(),this.completeTween(x[0])):(D=!0,x[0].chain(E))),this.tweens.set(E,{cancelledCallback:s,interruptible:l.interruptible}),o?E.easing(o):E.easing(zo.Quadratic.In),!t.doNotAutoStart&&!D&&(E.start(),this.publish("change")),E.cameraAnimation=!0,E});m(this,"setMulti",(t,n,o,i,s=!0)=>{this.state===-1&&this.publish("multi-start");let u=!1;t!=null&&(t.x!==void 0&&!isNaN(t.x)&&t.y!==void 0&&!isNaN(t.y)&&(this.updateCameraPosition(t.x,t.y),u=!0),t.z!==void 0&&!isNaN(t.z)&&(this.setPedestal(t.z,!0,!1),u=!0)),u&&this.publish("position-updated");let l={zooming:!1,tilting:!!n,rotating:!1};if(n!==void 0&&!isNaN(n)){let c=this.stayInsideBounds?Math.min(Math.max(n,this.getZoomScaledMin()),this.getZoomScaledMax()):n;c!==this.camera.position.z&&(l.zooming=!0,this.camera.position.z=c,this.publish("zoom-updated"),this.zoomDirty=!0,this.viewState==="multi_floor"?n>Kf&&(this.camera.near=n-Kf,this.camera.far=n+Kf):(this.camera.near=n/Td,this.camera.far=n*Td),this.camera.updateProjectionMatrix())}if(o!==void 0&&!isNaN(o)&&o!==this.getRotation()&&(l.rotating=!0,this.orbit.rotation.z=-o,this.publish("rotation-updated")),i!==void 0&&!isNaN(i)){let c=this.stayInsideBounds?Math.max(Math.min(i,this.maxTilt),this.minTilt):i;c!==this.elevation.rotation.x&&(l.tilting=!0,this.elevation.rotation.x=c,this.publish("tilt-updated"))}s&&this.publish("change"),this.state===-1&&this.publish("multi-end",l),this.stateDirty=!0});m(this,"getZoomScaledMin",()=>this.minZoomAltitude*this.zoomFactor);m(this,"getZoomScaledMax",()=>{let t=this.minZoomAltitude*this.zoomFactor;return Math.max(this.maxZoomAltitude,t)});m(this,"setRotation",(t,n)=>{if(isNaN(t))return;this.state===-1&&!n&&this.publish("rotate-start");let o=-(t%C2);o!==this.orbit.rotation.z&&(this.orbit.rotation.z=o,n||this.publish("rotation-updated")),n||this.publish("change"),this.state===-1&&!n&&this.publish("rotate-end"),this.dirty=!0,this.rotationDirty=!0,n||(this.stateDirty=!0)});m(this,"setZoomAltitude",t=>{if(isNaN(t))return;this.state===-1&&this.publish("zoom-start");let n=this.stayInsideBounds?Math.min(Math.max(t,this.getZoomScaledMin()),this.getZoomScaledMax()):t;n!==this.camera.position.z&&(this.camera.position.z=n,this.publish("zoom-updated"),this.zoomDirty=!0),this.camera.near=n/Td,this.camera.far=n*Td,this.camera.updateProjectionMatrix(),this.publish("change"),this.state===-1&&this.publish("zoom-end"),this.dirty=!0,this.stateDirty=!0});m(this,"setZoomLevel",t=>{this.setZoomAltitude(this.convertZoomLevelToAltitude(t))});m(this,"getZoomAltitude",()=>this.camera.position.z);m(this,"getZoomLevel",()=>this.convertAltitudeToZoomLevel(this.getZoomAltitude()));m(this,"setTilt",(t,n)=>{if(isNaN(t))return;this.state===-1&&!n&&this.publish("rotate-start");let o=this.stayInsideBounds?Math.max(Math.min(t,this.maxTilt),this.minTilt):t;o!==this.elevation.rotation.x&&(this.elevation.rotation.x=o,n||this.publish("tilt-updated")),n||this.publish("change"),this.state===-1&&!n&&this.publish("rotate-end"),this.dirty=!0,n||(this.stateDirty=!0)});m(this,"getTilt",()=>this.elevation.rotation.x);m(this,"setCameraPlaneElevation",t=>{this.cameraPlane.position.z=t});m(this,"zoom",t=>{if(isNaN(t))return;this.state===-1&&this.publish("zoom-start");let n=this.getZoomAltitude()-t;this.camera.position.z=this.stayInsideBounds?Math.min(Math.max(n,this.minZoomAltitude*this.zoomFactor),this.maxZoomAltitude*this.zoomFactor):n,this.publish("zoom-updated"),this.zoomDirty=!0,this.publish("change"),this.state===-1&&this.publish("zoom-end"),this.stateDirty=!0});m(this,"getProjectionScaleFactor",(t,n,o)=>bb(t,n,o));m(this,"update",()=>{this.orbit.updateMatrixWorld(),this.lastWheelTime>0&&this.state===3&&this.clock.getElapsedTime()-this.lastWheelTime>.2&&(this.lastWheelTime=0,this.state=-1,this.publish("zoom-end"),this.removeMouseMoveEventListeners())});m(this,"setPedestal",(t,n=!1,o=!0)=>{typeof t=="number"&&!isNaN(t)&&(this.orbit.position.z=t,n&&(this.publishPedestalChangeEvent(t),this.publish("pedestal-change",{pedestal:t})),this.publish("change"),this.dirty=!0,o&&(this.stateDirty=!0))});m(this,"dispose",()=>{for(let t of B1)t.endsWith("start")?(this.off(t,this.setCameraMoving),t.startsWith("user")&&this.off(t,this.setUserInteracting)):(t.endsWith("end")||t.endsWith("cancel"))&&(this.off(t,this.unsetCameraMoving),t.startsWith("user")&&this.off(t,this.unsetUserInteracting));this.removeEventListeners(),this.scene.remove(this.cameraPlane),this.destroy()});m(this,"createCameraPlane",()=>{let t=P1?2e3:1e10,n=P1?100:1,o=new Qo(t,t,n,n),i=new yr({color:0,wireframe:P1,visible:P1}),s=new Pe(o,i);return this.scene.add(s),s});m(this,"addEventListeners",()=>{let{domElement:t}=this.renderer;for(let n of B1)n.endsWith("start")?(this.on(n,this.setCameraMoving),n.startsWith("user")&&this.on(n,this.setUserInteracting)):(n.endsWith("end")||n.endsWith("cancel"))&&(this.on(n,this.unsetCameraMoving),n.startsWith("user")&&this.on(n,this.unsetUserInteracting));t.addEventListener("contextmenu",this.onContextMenu,!1),t.addEventListener("mousedown",this.onMouseDown,!1),t.addEventListener("wheel",this.onMouseWheel,{passive:!1}),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchmove",this.onTouchMove,!1)});m(this,"addMouseEventListeners",()=>{this.addMouseMoveEventListeners(),window.addEventListener("mouseup",this.onMouseUp,!1),window.addEventListener("mouseout",this.onMouseUp,!1)});m(this,"addMouseMoveEventListeners",()=>{this.renderer.domElement.addEventListener("mousemove",this.onMouseMove,!1)});m(this,"removeMouseMoveEventListeners",()=>{this.renderer.domElement.removeEventListener("mousemove",this.onMouseMove,!1)});m(this,"removeEventListeners",()=>{let{domElement:t}=this.renderer;t.removeEventListener("contextmenu",this.onContextMenu,!1),t.removeEventListener("mousedown",this.onMouseDown,!1),t.removeEventListener("wheel",this.onMouseWheel,!1),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("mousemove",this.onMouseMove,!1),window.removeEventListener("mouseup",this.onMouseUp,!1),window.removeEventListener("mouseout",this.onMouseUp,!1)});m(this,"removeMouseUpEventListeners",()=>{this.renderer.domElement.removeEventListener("mousemove",this.onMouseMove,!1),window.removeEventListener("mouseup",this.onMouseUp,!1),window.removeEventListener("mouseout",this.onMouseUp,!1)});m(this,"onContextMenu",t=>{t.preventDefault()});m(this,"onMouseUp",()=>{if(this.enabled!==!1){switch(this.removeMouseUpEventListeners(),this.state){case 2:this.publish("pan-end"),this.publish("user-pan-end");break;case 1:this.publish("zoom-end"),this.publish("user-dolly-end");break;case 0:this.publish("rotate-end"),this.publish("user-rotate-end");break;case 8:this.publish("pedestal-end"),this.publish("user-pedestal-end");break}this.state=-1,this.panDirty=!1}});m(this,"onMouseMove",t=>{if(this.enabled!==!1)if(t.preventDefault(),this.mouseToScene(t),this.state===0){if(this.enableRotate===!1)return;this.handleMouseMoveRotate(t)}else if(this.state===2){if(this.enablePan===!1)return;this.handleMouseMovePan()}else this.state===3?(this.resetZoom=!0,this.state=-1):this.state===8&&this.handleMouseMovePedestal(t)});m(this,"onTouchStart",t=>{if(this.enabled!==!1){switch(this.updateTouchOrigin(),this.touchToScene(t),t.touches.length){case 1:this.enablePedestal?(this.handleTouchStartPedestal(t),this.state=9):this.enablePan&&(this.handleTouchStartPan(t),this.state=6);break;case 2:this.touch.inputs=new F1(this.touch.touches[0],this.touch.touches[1]);break;default:this.state=-1}this.state}});m(this,"onTouchMove",t=>{if(this.enabled!==!1)switch(this.touchToScene(t),t.touches.length){case 2:t.preventDefault(),t.stopPropagation();let n={...this.touch.inputs.first},o={...this.touch.inputs.second},i=new ke(this.touch.touches[0].x,this.touch.touches[0].y),s=new ke(this.touch.touches[1].x,this.touch.touches[1].y);if(this.touch.inputs.update(this.touch.touches[0],this.touch.touches[1]),this.enableRotate&&this.state===4)this.handleTouchMoveTilt(t);else if(this.state===5)this.handleTouchMoveDolly();else if(this.state!==5&&this.touch.inputs.totalDistance>.05){let u=n.y<i.y&&o.y<s.y,l=n.y>i.y&&o.y>s.y;this.enableRotate&&this.state!==4&&(l||u)?(this.handleTouchStartTilt(t),this.state=4):(this.handleTouchStartDolly(),this.state=5)}break;case 1:(this.enablePedestal||this.enablePan)&&(t.preventDefault(),t.stopPropagation()),this.enablePedestal&&this.state===9?this.handleTouchMovePedestal(t):this.enablePan&&this.state===6&&this.handleTouchMovePan(t);break;default:this.state=-1}});m(this,"onTouchEnd",t=>{if(this.enabled!==!1){switch(this.handleTouchEnd(),this.state){case 2:case 6:this.publish("user-pan-end");break;case 4:this.publish("pan-end"),this.publish("user-tilt-end");break;case 1:case 5:this.publish("zoom-end"),this.publish("user-dolly-end");break;case 0:this.publish("rotate-end"),this.publish("user-rotate-end");break;case 8:case 9:this.publish("pedestal-end"),this.publish("user-pedestal-end");break}t.touches.length?this.onTouchStart(t):this.state=-1}});m(this,"handleTouchMovePan",t=>{let n=Object.hasOwn(t,"x")?new ke(t.x,t.y):this.touch.touches[0],o=this.raycastToFloor(n);this.coords.panEnd.set(o.x,o.y,0),this.coords.panDelta.subVectors(this.coords.panEnd,this.coords.panStart),this.setPosition(this.coords.panCameraStart.x-this.coords.panDelta.x,this.coords.panCameraStart.y-this.coords.panDelta.y),this.publish("change"),this.panDirty=!0});m(this,"handleTouchStartDolly",()=>{let t=this.touch.touches[0].x-this.touch.touches[1].x,n=this.touch.touches[0].y-this.touch.touches[1].y;this.zoomStart=this.getZoomAltitude();let o=new ke(this.touch.touches[0].x-t/2,this.touch.touches[0].y-n/2);this.coords.floorAnchor=this.raycastToFloor(o),this.orbit.updateMatrixWorld(),this.touch.anchor1=new Yf(this.touch.touches[0],this.camera,this.cameraPlane),this.touch.anchor2=new Yf(this.touch.touches[1],this.camera,this.cameraPlane),this.coords.panCameraStart.set(this.orbit.position.x,this.orbit.position.y,0),this.publish("user-dolly-start"),this.publish("zoom-start"),this.publish("multi-start")});m(this,"handleMouseMovePan",()=>{let t=this.raycastToFloor(this.coords.mouse);this.coords.panEnd.set(t.x,t.y,0),this.coords.panDelta.subVectors(this.coords.panEnd,this.coords.panStart),this.setPosition(this.coords.panCameraStart.x-this.coords.panDelta.x,this.coords.panCameraStart.y-this.coords.panDelta.y),this.publish("change"),this.panDirty=!0});m(this,"handleTouchStartTilt",t=>{this.coords.rotateStart.set(t.touches[1].clientX,t.touches[1].clientY),this.publish("user-tilt-start"),this.publish("rotate-start")});m(this,"handleTouchMovePedestal",t=>{this.handleMouseMovePedestal(t.touches[0])});m(this,"handleTouchMoveTilt",t=>{this.coords.rotateEnd.set(t.touches[1].clientX,t.touches[1].clientY),this.coords.rotateDelta.subVectors(this.coords.rotateEnd,this.coords.rotateStart),this.setTilt(this.getTilt()-this.coords.rotateDelta.y/this.rotateSpeed),this.coords.rotateStart.copy(this.coords.rotateEnd)});m(this,"handleTouchMoveDolly",()=>{let t=this.touch.inputs.first,n=this.touch.inputs.second;this.touch.anchor1.viewCoordinate={x:t.x,y:t.y},this.touch.anchor2.viewCoordinate={x:n.x,y:n.y};let o=this.makeTransformFromTouchAnchors(this.touch.anchor1,this.touch.anchor2);o&&this.setCameraFromTransformMatrix(o),this.orbit.updateMatrixWorld(),this.touch.anchor1.updateAnchorState(this.camera,t),this.touch.anchor2.updateAnchorState(this.camera,n)});m(this,"handleTouchEnd",()=>{this.state===4||this.state===5?this.publish("multi-end"):this.state===6&&this.publish("pan-end"),this.panDirty=!1});m(this,"handleTouchStartPan",t=>{let n=Object.hasOwn(t,"x")?new ke(t.x,t.y):this.touch.touches[0],o=this.raycastToFloor(n);this.coords.panStart.set(o.x,o.y,0),this.coords.panCameraStart.set(this.orbit.position.x,this.orbit.position.y,0),this.publish("user-pan-start"),this.publish("pan-start")});m(this,"handleTouchStartPedestal",t=>{this.handleMouseDownPedestal(t.touches[0])});m(this,"onMouseDown",t=>{if(this.enabled!==!1){if(this.mouseToScene(t),t.preventDefault(),this.state===3&&this.publish("zoom-end"),t.button===this.MOUSE_BUTTONS.ORBIT){if(this.enableRotate===!1)return;this.handleMouseDownRotate(t),this.state=0}else t.button===this.MOUSE_BUTTONS.PAN&&(this.enablePan?(this.handleMouseDownPan(),this.state=2):this.enablePedestal&&(this.handleMouseDownPedestal(t),this.state=8));this.state!==-1&&this.addMouseEventListeners()}});m(this,"onMouseWheel",t=>{this.enabled===!1||this.enableZoom===!1||this.state!==-1&&this.state!==3||(t.preventDefault(),t.stopPropagation(),this.mouseToScene(t),this.canScrollZoom(t)&&(this.lastWheelTime=this.clock.getElapsedTime(),this.publishUserZoomEvent()),this.state!==3&&this.canScrollZoom(t)&&(this.addMouseMoveEventListeners(),this.state=3,this.zoomStart=this.getZoomAltitude(),this.coords.floorAnchor=this.raycastToFloor(this.coords.mouse),this.coords.panCameraStart.set(this.orbit.position.x,this.orbit.position.y,0),this.publish("zoom-start")),this.scrollTimer!=null&&clearTimeout(this.scrollTimer),this.scrollTimer=setTimeout(()=>{this.publish("zoom-end")},50),this.handleMouseWheel(t))});m(this,"handleMouseWheel",t=>{if(this.publish("zoom-start"),!this.canScrollZoom(t)){this.lastWheelTime>0&&this.publish("zoom-end"),this.lastWheelTime=0,this.state=-1;return}let n=this.getZoomAltitude(),o=n-x2(t)*n/S2*this.zoomSpeed;if(this.setZoomAltitude(o),this.enablePan){let i=o/this.zoomStart;this.coords.panDelta.subVectors(this.coords.floorAnchor,this.coords.panCameraStart).multiplyScalar(1-i),this.setPosition(this.coords.panCameraStart.x+this.coords.panDelta.x,this.coords.panCameraStart.y+this.coords.panDelta.y)}this.publish("change")});m(this,"setCameraFromTransformMatrix",t=>{this.orbit.updateMatrixWorld();let n=new bc;n.setFromRotationMatrix(t,"ZYX");let o=(t.elements[14]-this.cameraPlane.position.z)/Math.cos(n.x),i=n.z,s=new ie(0,0,1);s.applyEuler(n),s.setLength(o);let u=new ie;u.setFromMatrixPosition(t),u.sub(s),this.enablePan&&this.setPosition(u.x,u.y),this.enableZoom&&this.setZoomAltitude(o),this.enableRotate&&this.setRotation(-i)});m(this,"makeTransformFromTouchAnchors",(t,n)=>{this.orbit.updateMatrixWorld(),this.camera.updateProjectionMatrix();let o=this.camera.projectionMatrix.clone(),i=t.worldCoordinate,s=n.worldCoordinate,u=t.reUnproject(),l=n.reUnproject();if(!u||!l||!i||!s)return null;let c=t.viewCoordinate,d=n.viewCoordinate,f=s.x-i.x,h=s.y-i.y,b=Math.atan2(h,f),I=l.x-u.x,E=l.y-u.y,v=Math.atan2(E,I),x=hM(b,v),D=new Wn;D.makeRotationZ(-x);let w=D.clone();w.multiply(t.snapHolderMatrix);let S=(mh,mc,fc)=>mh.elements[(mc-1)*4+fc-1],F=S(o,1,1)*S(w,1,1)-c.x*S(o,3,4)*S(w,3,1),P=S(o,1,1)*S(w,1,2)-c.x*S(o,3,4)*S(w,3,2),L=S(o,1,1)*S(w,1,3)-c.x*S(o,3,4)*S(w,3,3),N=i.x*F+i.y*P+i.z*L,$=S(o,2,2)*S(w,2,1)-c.y*S(o,3,4)*S(w,3,1),W=S(o,2,2)*S(w,2,2)-c.y*S(o,3,4)*S(w,3,2),V=S(o,2,2)*S(w,2,3)-c.y*S(o,3,4)*S(w,3,3),q=i.x*$+i.y*W+i.z*V,se=S(o,1,1)*S(w,1,1)-d.x*S(o,3,4)*S(w,3,1),ue=S(o,1,1)*S(w,1,2)-d.x*S(o,3,4)*S(w,3,2),ce=S(o,1,1)*S(w,1,3)-d.x*S(o,3,4)*S(w,3,3),de=s.x*se+s.y*ue+s.z*ce,Ee=S(o,2,2)*S(w,2,1)-d.y*S(o,3,4)*S(w,3,1),he=S(o,2,2)*S(w,2,2)-d.y*S(o,3,4)*S(w,3,2),ne=S(o,2,2)*S(w,2,3)-d.y*S(o,3,4)*S(w,3,3),Ce=s.x*Ee+s.y*he+s.z*ne,xe=Math.abs(se-F),Re=Math.abs(ue-P),we=Math.abs(ce-L),Ve=Math.abs(se-$),me=Math.abs(ue-W),at=Math.abs(ce-V),xt=Math.abs(Ee-F),Ot=Math.abs(he-P),A=Math.abs(ne-L),Z=Math.abs(Ee-$),O=Math.abs(he-W),Q=Math.abs(ne-V),X=Math.min(xe+Re+we,Ve+me+at),Y=Math.min(xt+Ot+A,Z+O+Q);X<Y&&(se=Ee,ue=he,ce=ne,de=Ce);let K=$*L-F*V,ae=W*L-P*V,$e=q*L-N*V,Rt=se*V-$*ce,ir=ue*V-W*ce,ho=de*V-q*ce,Ni=(ho*ae-$e*ir)/(Rt*ae-K*ir),em=(ho*K-$e*Rt)/(ir*K-ae*Rt),dc=W*F-P*$,Ru=V*F-L*$,Rs=q*F-N*$,Aa=ue*$-W*se,dh=ce*$-V*se,tm=((de*$-q*se)*dc-Rs*Aa)/(dh*dc-Ru*Aa),Ns=w.clone();return Ns.elements[12]=Ni,Ns.elements[13]=em,Ns.elements[14]=tm,tm>0?Ns:null});m(this,"updateTouchOrigin",()=>{let t=this.renderer.domElement;this.touch.origin.offsetLeft=t.getBoundingClientRect().left,this.touch.origin.offsetTop=t.getBoundingClientRect().top});m(this,"touchToScene",t=>{this.touch.touches=[];for(let n=0,o=t.touches.length;n<o;n++){let i=t.touches[n],s=gM(i,this.touch.origin);this.touch.touches.push(new ke(s.x/this.renderer.domElement.width*this.rendererState.pixelRatio*2-1,-(s.y/this.renderer.domElement.height*this.rendererState.pixelRatio)*2+1))}this.coords.mouse=this.touch.touches[0]});m(this,"canScrollZoom",t=>{let n=x2(t),o=this.getZoomAltitude();return!(n<0&&o===this.getZoomScaledMax()||n>0&&o===this.getZoomScaledMin())});m(this,"mouseToScene",t=>{let n=this.getMousePos(t);return this.coords.mouse.x=n.x/this.renderer.domElement.width*this.rendererState.pixelRatio*2-1,this.coords.mouse.y=-(n.y/this.renderer.domElement.height*this.rendererState.pixelRatio)*2+1,this.coords.mouse});m(this,"getMousePos",t=>({x:t.offsetX,y:t.offsetY}));m(this,"handleMouseDownRotate",t=>{this.coords.rotateStart.set(t.clientX,t.clientY),this.publish("rotate-start"),this.publish("user-rotate-start")});m(this,"handleMouseDownPan",()=>{let t=this.raycastToFloor(this.coords.mouse);this.coords.panStart.set(t.x,t.y,0),this.coords.panCameraStart.set(this.orbit.position.x,this.orbit.position.y,0),this.publish("pan-start"),this.publish("user-pan-start")});m(this,"handleMouseDownPedestal",t=>{let n=new ke(t.clientX,t.clientY);this.coords.initialShiftPos=n,this.coords.initialPedestal=this.getPedestal(),this.pedestalScaleFactor=bb(this.camera.fov,this.renderer.domElement.clientHeight,this.getZoomAltitude()),this.publish("pedestal-start"),this.publish("user-pedestal-start")});m(this,"handleMouseMovePedestal",t=>{let n={x:t.clientX,y:t.clientY},o=this.coords.initialPedestal+this.pedestalScaleFactor*(n.y-this.coords.initialShiftPos.y);this.stayInsideBounds&&(o<this.minPedestal?o=Math.max(o,this.minPedestal):o>this.maxPedestal&&(o=Math.min(o,this.maxPedestal))),o!==this.getPedestal()&&this.setPedestal(o,!0)});m(this,"handleMouseMoveRotate",t=>{this.coords.rotateEnd.set(t.clientX,t.clientY),this.coords.rotateDelta.subVectors(this.coords.rotateEnd,this.coords.rotateStart),this.setRotation(this.getRotation()+this.coords.rotateDelta.x/this.rotateSpeed),this.setTilt(this.getTilt()-this.coords.rotateDelta.y/this.rotateSpeed),this.coords.rotateStart.copy(this.coords.rotateEnd),this.publish("change")});m(this,"publishUserZoomDebounced",fm(()=>{this.isUserZooming=!1,this.publish("user-zoom-end")},250));m(this,"publishUserZoomEvent",()=>{this.isUserZooming?this.publishUserZoomDebounced():(this.publish("user-zoom-start"),this.isUserZooming=!0,this.publishUserZoomDebounced())});m(this,"setCameraMoving",()=>{this.cameraMoving=!0});m(this,"unsetCameraMoving",()=>{this.cameraMoving=!1,this.lastCameraMoveTime=Date.now()});m(this,"setUserInteracting",()=>{this.userInteracting=!0});m(this,"unsetUserInteracting",()=>{this.userInteracting=!1});m(this,"publishPedestalChangeEvent",t=>{this.publish("pedestal-change",{pedestal:t,scrolledToTop:this.scrolledToTop,scrolledToBottom:this.scrolledToBottom,scrollPercent:this.scrollPercent})});m(this,"convertAltitudeToZoomLevel",t=>{let[,n]=this.center,o=this.computeMetersPerPixelFromAltitude(t),i=Math.cos(Je.degToRad(n))*2*Math.PI*nb/o;return Je.clamp(Math.log2(i/512),A1,O1)});m(this,"convertZoomLevelToAltitude",t=>this.computeMetersPerPixelFromZoomLevel(t)*this.options.canvasHeight/2/Math.tan(Je.degToRad(this.camera.fov)/2));m(this,"completeTween",t=>{t.isPlaying()&&t.stop(),this.rendererState.internalTweenGroup.remove(t),this.tweens.delete(t)});m(this,"debugContainer",new ju);this.camera=t,this.renderer=o,this.rendererState=i,this.scene=n,this.options=s,this.elevation=t.parent,this.orbit=this.elevation.parent,this.cameraPlane=this.createCameraPlane(),this.zoomStart=t.position.z,s.mode!=="outdoors-overlay"&&this.addEventListeners()}get maxZoomLevel(){return this.convertAltitudeToZoomLevel(this.minZoomAltitude)}setMaxZoomLevel(t){this.minZoomAltitude=this.convertZoomLevelToAltitude(t),this.stateDirty=!0}get defaultMinZoomLevel(){return a(this,k1)}get minZoomLevel(){return this.convertAltitudeToZoomLevel(this.maxZoomAltitude)}setMinZoomLevel(t){this.maxZoomAltitude=this.convertZoomLevelToAltitude(t),this.stateDirty=!0}get scrollPercent(){let t=this.minPedestal,n=this.maxPedestal,o=this.getPedestal();return o=Math.min(o,n),o=Math.max(o,t),(o-t)/(n-t)*100}get fov(){return this.camera.fov}get scrolledToBottom(){return this.minPedestal===0||Math.floor(this.getPedestal())<=this.minPedestal}get scrolledToTop(){return this.maxPedestal===0||Math.ceil(this.getPedestal())>=this.maxPedestal}get center(){let t=this.getPosition(),{lat:n,lon:o}=Lh(this.rendererState.center?.[1]??0,this.rendererState.center?.[0]??0,t.x,t.y);return[o,n]}setCenter(t,n){let{x:o,y:i}=Rh(this.rendererState.center?.[1]??0,this.rendererState.center?.[0]??0,n,t);this.setPosition(o,i)}get isAnimating(){return this.rendererState.internalTweenGroup.getAll().some(t=>t.cameraAnimation)}getCameraFrameForCoordinates(t,n){let o=n.minZoom!==void 0?n.minZoom:this.minZoomAltitude,i=n.maxZoom!==void 0?n.maxZoom:this.maxZoomAltitude,s=this.options.canvasWidth,u=this.options.canvasHeight,l=this.getRotation(),c=this.getTilt(),d=this.getPosition();this.setRotation(n.rotation??l,!0),this.setTilt(n.tilt??c,!0);let f=yM(t,{canvasWidth:s,canvasHeight:u,paddingOption:n.padding,verticalPadding:n.verticalPadding,minZoom:o,maxZoom:i,position:d,camera:this.camera,orbit:this.orbit});return this.setRotation(l,!0),this.setTilt(c,!0),{center:f.position,zoomLevel:this.convertAltitudeToZoomLevel(f.zoom)}}focusOn(t,n){if(yV){this.debugContainer&&Ht(this.debugContainer);let v=new qo(4,4,4),x=new yr({color:65280,depthTest:!1}),D=new ji(v,x,t.length),w=new Wn;t.forEach((S,F)=>{w.setPosition(S),D.setMatrixAt(F,w)}),D.instanceMatrix.needsUpdate=!0,this.debugContainer.add(D),this.scene.add(this.debugContainer)}let o=n.curve,i=n.callback,s=n.cancelledCallback,u=n.minZoom!==void 0?n.minZoom:this.minZoomAltitude,l=n.maxZoom!==void 0?n.maxZoom:this.maxZoomAltitude,c=this.options.canvasWidth,d=this.options.canvasHeight,f;n.duration!==void 0?f=n.duration:y.env.TESTING==="true"?f=0:f=D2;let h=n.padding,b=this.getRotation(),I=this.getTilt();n.rotation!=null&&this.setRotation(n.rotation),n.tilt!=null&&this.setTilt(n.tilt);let E=yM(t,{canvasHeight:d,paddingOption:h,canvasWidth:c,minZoom:u,maxZoom:l,camera:this.camera,orbit:this.orbit,position:this.getPosition(),verticalPadding:n.verticalPadding});this.setRotation(b),this.setTilt(I),this.animateCamera({position:E.position,tilt:n.tilt,rotation:n.rotation,zoom:E.zoom},f,o,i,s,n)}resize(t,n){this.options.canvasWidth=t,this.options.canvasHeight=n}computeMetersPerPixelFromZoomLevel(t){let[,n]=this.center,o=Je.clamp(t,A1,O1),i=Math.pow(2,o),s=Je.clamp(n,I2,E2),u=i*512;return Math.cos(Je.degToRad(s))*Math.PI*2*nb/u}computeMetersPerPixelFromAltitude(t){return t*2*Math.tan(Je.degToRad(this.camera.fov)/2)/this.options.canvasHeight}getCurrentMetersPerPixel(){return this.computeMetersPerPixelFromAltitude(this.getZoomAltitude())}};k1=new WeakMap,m(Ul,"CAMERA_FRAME_PADDING_SIDES",["top","bottom","left","right"]);function yM(e,{canvasWidth:r,orbit:t,paddingOption:n,verticalPadding:o=0,canvasHeight:i,minZoom:s,maxZoom:u,camera:l,position:c}){let d={zoom:s,position:c};if(e.length===0)return d;for(let K of Ul.CAMERA_FRAME_PADDING_SIDES)typeof n[K]!="number"&&(n[K]=0);let f=n.type==="portion"?{top:n.top*i,bottom:n.bottom*i,left:n.left*r,right:n.right*r,type:"pixel"}:n;if(f.left+f.right>=r||f.top+f.bottom>=i)return d;t.updateMatrixWorld();let h=l.matrixWorldInverse,b=l.fov*(Math.PI/180)/2,I=b,v=Math.atan(Math.tan(b)*(r/i)),x=new ie(1/0,1/0,1/0),D=new ie(-1/0,-1/0,-1/0),w=new mr,S=new ie;for(let K=0,ae=e.length;K<ae;K++)S.copy(e[K]),w.expandByPoint(S),S.applyMatrix4(h),x.min(S),D.max(S),S.copy(e[K]),S.z-=o,S.applyMatrix4(h),x.min(S),D.max(S),S.copy(e[K]),S.z+=o,S.applyMatrix4(h),x.min(S),D.max(S);let F=D.x-x.x,P=D.y-x.y,L=r-f.left-f.right,N=i-f.top-f.bottom,$=(D.x+x.x)/2,W=(D.y+x.y)/2,V=F/L,q=P/N,se=s,ue=u,ce=se*Math.tan(v)*2,de=ue*Math.tan(v)*2,Ee=ce/r,he=de/r,ne=Math.max(V,q);ne=Je.clamp(ne,Ee,he);let Ce=L*ne,xe=N*ne,Re={min:{x:$-Ce/2-f.left*ne,y:W-xe/2-f.bottom*ne},max:{x:$+Ce/2+f.right*ne,y:W+xe/2+f.top*ne}},we=(Re.min.x+Re.max.x)/2,Ve=(Re.min.y+Re.max.y)/2,me=w.getCenter(new ie),at=Math.abs(we-Re.min.x),xt=Math.abs(Ve-Re.min.y),Ot=at/Math.tan(v),A=xt/Math.tan(I),Z=new ie;Z.set(we,Ve,D.z+Math.max(Ot,A)),Z.applyMatrix4(l.matrixWorld);let O=new ie;O.set(we,Ve,D.z),O.applyMatrix4(l.matrixWorld);let Q=new ie().subVectors(O,Z),X=(me.z-Z.z)/Q.z,Y=new ie().copy(Z).add(Q.clone().multiplyScalar(X));return O.set(Y.x,Y.y,Y.z),Z.sub(O),{position:Y,zoom:Z.length()}}p();var bV=300,qf,Qf,_1=class{constructor(r){m(this,"state");C(this,qf,new ie);C(this,Qf,new ie);this.state=r}update(r){let t,n;this.state.cameraObject.getWorldPosition(a(this,Qf));for(let o of this.state.geometry2DIdsInScene)if(t=this.state.geometry2DMap.get(o),t&&(n=t.components[0],n&&"containerEl"in n&&n.markerContainer!=null)){if(n.visibilityNeedsUpdate!==!1&&(n.visibilityNeedsUpdate==="show"?n.canShow=!0:n.canShow=!1),(n.canShow&&n.visible===!0||n.animation?.pending===!0)&&!n.offscreen)if(n.options.zIndex!=null)n.markerContainer.style.transform=`translate3D(${n.projection.x}px, ${n.projection.y}px, ${n.options.zIndex}px)`;else{t.object3d.getWorldPosition(a(this,qf));let i=a(this,Qf).distanceTo(a(this,qf));n.markerContainer.style.transform=`translate3D(${n.projection.x}px, ${n.projection.y}px, ${-i}px)`}if(n.canShow===!0&&n.visible===!0?n.markerContainer.style.pointerEvents=r?"none":n.pointerEvents:n.markerContainer.style.pointerEvents="none",n.currentStrategyIndex===-1&&n.visible&&n.visibilityNeedsUpdate==="show")continue;n.visibilityNeedsUpdate!==!1&&!n.offscreen&&(n.visibilityNeedsUpdate==="show"&&(n.markerContainer.style.opacity="0"),n.animation&&n.animation.cancel(),n.animation=n.markerContainer.animate([{opacity:n.canShow&&n.visible?"1":"0"}],{duration:bV,easing:"ease-in-out",fill:"forwards"}),n.visibilityNeedsUpdate=!1)}}};qf=new WeakMap,Qf=new WeakMap;p();var L1=class extends Oe{constructor(t,n){super();m(this,"state");m(this,"dirty",!0);m(this,"domTree");m(this,"observers",new Map);m(this,"updateDimensions",t=>{t.forEach(n=>{let i=n.target.parentElement?.getAttribute("data-marker-id");if(i){let s=this.state.geometry2DMap.get(i),u=s?.components[0];s&&u instanceof Na&&(u.updateDimensions(n.contentRect.width,n.contentRect.height),u.collisionDirty=!0)}}),this.publish("dimensions-update")});this.state=t,this.domTree=n}setupObserver(){if(this.observers){for(let o of this.observers.values())o.disconnect();this.observers.clear()}let t,n;for(let o of this.domTree.children){let i=o.getAttribute("data-marker-id");if(i!=null&&(t=this.state.geometry2DMap.get(i),n=t.components[0],n.options?.dynamicResize)){let s=new ResizeObserver(this.updateDimensions);s.observe(n.containerEl),this.observers.set(o.userData.entityId,s)}}}update(){this.dirty&&(this.setupObserver(),this.dirty=!1)}destroy(){for(let t of this.observers.values())t.disconnect();this.observers.clear()}};p();var vV=0,xV=90,IV=(y.env.NODE_ENV==="test",!1),xa={linear:zo.Linear.None,"ease-in":zo.Quadratic.In,"ease-out":zo.Quadratic.Out,"ease-in-out":zo.Quadratic.InOut},EV=-50,fe,Fe,xs,e0,t0,F2,R1=class{constructor(r,t,n){C(this,t0);C(this,fe);C(this,Fe);C(this,xs);C(this,e0);T(this,fe,r),T(this,Fe,t),T(this,xs,n),a(this,fe).map&&a(this,fe).map.transform.setMinElevationForCurrentTile(EV),a(this,Fe).cameraSystem.on("pedestal-change",({pedestal:o})=>{a(this,Fe).cameraSystem.setCameraPlaneElevation(o)})}get center(){return a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map?a(this,fe).map.getCenter?.().toArray():a(this,Fe).cameraSystem.center}setCenter(r){if(a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map){a(this,fe).map?.setCenter(r),a(this,Fe).interactionSystem.handleHover();return}a(this,Fe).cameraSystem.setCenter(r[0],r[1]),a(this,Fe).interactionSystem.handleHover()}get zoomLevel(){return a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map?a(this,fe).map?.getZoom():a(this,Fe).cameraSystem.getZoomLevel()}setZoomLevel(r){a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map&&a(this,fe).map?.setZoom(r),a(this,Fe).cameraSystem.setZoomLevel(Gi(r,this.minZoomLevel,this.maxZoomLevel,"zoomLevel was clamped to minZoomLevel/maxZoomLevel bounds. Use mapView.Camera.setMinZoomLevel() and mapView.Camera.setMaxZoomLevel() to adjust limits."))}getState(){return{zoomLevel:this.zoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,minPitch:this.minPitch,maxPitch:this.maxPitch,autoMinZoomLevel:this.autoMinZoomLevel,panMode:this.panMode,screenOffsets:this.insetsPadding,center:this.center,bearing:this.bearing,pitch:this.pitch,elevation:this.elevation}}get isAnimating(){return a(this,Fe).cameraSystem.isAnimating}cancelAnimation(){a(this,Fe).cameraSystem.cancelAnimation()}get maxZoomLevel(){return a(this,Fe).cameraSystem.maxZoomLevel}get minZoomLevel(){return a(this,Fe).cameraSystem.minZoomLevel}setAutoMinZoomLevel(r){a(this,Fe).panBoundsSystem.autoMinZoomLevel=r,r&&(a(this,Fe).panBoundsSystem.dirty=!0,a(this,Fe).panBoundsSystem.update())}get autoMinZoomLevel(){return a(this,Fe).panBoundsSystem.autoMinZoomLevel}setMinZoomLevel(r,t=!1){t&&this.setAutoMinZoomLevel(!1);let n=Gi(r,Ei.MIN_MERCATOR_ZOOM_LEVEL,this.maxZoomLevel,`setMinZoomLevel was clamped. minZoomLevel must be between ${Ei.MIN_MERCATOR_ZOOM_LEVEL} and maxZoomLevel.`);a(this,Fe).cameraSystem.setMinZoomLevel(n),this.zoomLevel<n&&this.setZoomLevel(n),a(this,fe).map?.setMinZoom(n)}setMaxZoomLevel(r){let t=Gi(r,this.minZoomLevel,Ei.MAX_MERCATOR_ZOOM_LEVEL,`setMaxZoomLevel was clamped. maxZoomLevel must be between minZoomLevel and ${Ei.MAX_MERCATOR_ZOOM_LEVEL}.`);a(this,Fe).cameraSystem.setMaxZoomLevel(t),this.zoomLevel>t&&this.setZoomLevel(t),a(this,fe).map?.setMaxZoom(t)}get maxPitch(){return a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map?a(this,fe).map?.getMaxPitch?.():Je.radToDeg(a(this,Fe).cameraSystem.maxTilt)}get minPitch(){return a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map?a(this,fe).map?.getMinPitch?.():Je.radToDeg(a(this,Fe).cameraSystem.minTilt)}setMinPitch(r){let t=Math.max(vV,r);a(this,fe).map?.setMinPitch(t),a(this,Fe).cameraSystem.minTilt=Je.degToRad(t)}setMaxPitch(r){let t=Math.min(xV,r);a(this,fe).map?.setMaxPitch(t),a(this,Fe).cameraSystem.maxTilt=Je.degToRad(t)}get bearing(){return a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map?a(this,fe).map?.getBearing():Je.radToDeg(a(this,Fe).cameraSystem.getRotation())}setBearing(r){if(a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map){a(this,fe).map?.setBearing(r);return}a(this,Fe).cameraSystem.setRotation(Je.degToRad(r))}get pitch(){return a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map?a(this,fe).map?.getPitch():Je.radToDeg(a(this,Fe).cameraSystem.getTilt())}setPitch(r){if(a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map){a(this,fe).map?.setPitch(r);return}a(this,Fe).cameraSystem.setTilt(Je.degToRad(Gi(r,this.minPitch,this.maxPitch,"pitch was clamped to minPitch/maxPitch bounds. Use mapView.Camera.setMinPitch() and mapView.Camera.setMaxPitch() to adjust limits.")))}get elevation(){return a(this,Fe).cameraSystem.getPedestal()}setElevation(r){a(this,Fe).cameraSystem.setPedestal(r,!0)}animateElevation(r,t){return a(this,e0)&&a(this,e0).stop(),new Promise(n=>{a(this,Fe).cameraSystem.animateCamera({position:{z:r}},t?.duration||300,xa[t?.easing||"ease-in-out"],n,n,{interruptible:t?.interruptible??!0})})}get insetsPadding(){return a(this,xs).insetsPadding}get panMode(){return a(this,Fe).cameraSystem.enablePan===!1&&a(this,Fe).cameraSystem.enablePedestal===!0?"elevation":"default"}setPanMode(r){if(r!=="default"&&r!=="elevation")throw new Error("Invalid pan mode");r!==this.panMode&&(r==="default"?(a(this,Fe).cameraSystem.enablePan=!0,a(this,Fe).cameraSystem.enablePedestal=!1):(a(this,Fe).cameraSystem.enablePan=!1,a(this,Fe).cameraSystem.enablePedestal=!0))}setInsetPadding(r){a(this,xs).insetsPadding=Object.assign({},a(this,xs).insetsPadding,r)}animateTo(r){if(a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map)return a(this,fe).map?.flyTo({center:r.center??this.center,zoom:r.zoomLevel??this.zoomLevel,bearing:r.bearing??this.bearing,pitch:r.pitch??this.pitch,duration:r.duration??600}),Promise.resolve();let t=r.center?a(this,fe).convertTo3DMapPosition(r.center[1],r.center[0],r.center[2]||this.elevation):void 0,n=r.zoomLevel!==void 0?a(this,Fe).cameraSystem.convertZoomLevelToAltitude(Gi(r.zoomLevel,this.minZoomLevel,this.maxZoomLevel,"zoomLevel was clamped to minZoomLevel/maxZoomLevel bounds. Use mapView.Camera.setMinZoomLevel() and mapView.Camera.setMaxZoomLevel() to adjust limits.")):void 0,o=r.bearing!==void 0?Je.degToRad(r.bearing):void 0,i=r.pitch!==void 0?Je.degToRad(Gi(r.pitch,this.minPitch,this.maxPitch,"pitch was clamped to minPitch/maxPitch bounds. Use mapView.Camera.setMinPitch() and mapView.Camera.setMaxPitch() to adjust limits.")):void 0;return new Promise(s=>{a(this,Fe).cameraSystem.animateCamera({position:t,zoom:n,rotation:o,tilt:i},r.duration||0,xa[r.easing||"ease-in-out"],()=>{a(this,Fe).interactionSystem.handleHover(),s()},s,{interruptible:r?.interruptible??!0})})}getCameraFrameForCoordinates(r,t){let n=z(this,t0,F2).call(this,t||{},()=>Promise.resolve()),{pointCloud:o}=bM(r,a(this,fe),a(this,xs).geometry3DMap);if(o.length===0)return R.error("No valid coordinates found in targets:",r),{center:this.center,zoomLevel:this.zoomLevel};let{center:i,zoomLevel:s}=a(this,Fe).cameraSystem.getCameraFrameForCoordinates(o,n);return{center:a(this,fe).convert3DMapPositionToCoordinate(i),zoomLevel:s}}focusOn(r,t){let{pointCloud:n,geoBounds:o,firstPosition:i}=bM(r,a(this,fe),a(this,xs).geometry3DMap);return n.length===0?(R.error("No valid coordinates found in targets:",r),Promise.resolve()):a(this,fe).mode==="outdoors-overlay"&&a(this,fe).map?(n.length===1&&i?a(this,fe).map?.flyTo({center:[i[0],i[1]],duration:t?.duration||a(this,fe).map.getBearing(),animate:!0,bearing:t?.bearing===void 0?a(this,fe).map.getBearing():t?.bearing,pitch:t?.pitch===void 0?a(this,fe).map.getPitch():t?.pitch,zoom:t?.maxZoomLevel||a(this,fe).map.getMaxZoom()}):(IV&&CV(a(this,fe),o),a(this,fe).map?.fitBounds(o,{duration:t?.duration??Ei.DEFAULT_ANIMATION_DURATION,bearing:t?.bearing===void 0?a(this,fe).map.getBearing():t?.bearing,pitch:t?.pitch===void 0?a(this,fe).map.getPitch():t?.pitch,maxZoom:t?.maxZoomLevel??a(this,fe).map.getMaxZoom()})),a(this,Fe).interactionSystem.handleHover(),Promise.resolve()):new Promise(s=>{a(this,Fe).cameraSystem.focusOn(n,z(this,t0,F2).call(this,t||{},s))})}};fe=new WeakMap,Fe=new WeakMap,xs=new WeakMap,e0=new WeakMap,t0=new WeakSet,F2=function(r,t){return{minZoom:r?.maxZoomLevel===void 0?void 0:a(this,Fe).cameraSystem.convertZoomLevelToAltitude(Gi(r.maxZoomLevel,this.minZoomLevel,this.maxZoomLevel,"maxZoomLevel was clamped to minZoomLevel/maxZoomLevel bounds. Use mapView.Camera.setMaxZoomLevel() to adjust limits.")),maxZoom:r?.minZoomLevel===void 0?void 0:a(this,Fe).cameraSystem.convertZoomLevelToAltitude(Gi(r.minZoomLevel,this.minZoomLevel,this.maxZoomLevel,"minZoomLevel was clamped to minZoomLevel/maxZoomLevel bounds. Use mapView.Camera.setMinZoomLevel() to adjust limits.")),padding:r?.padding?Object.assign({},_h,r?.padding):this.insetsPadding,curve:xa[r?.easing||"ease-in-out"],rotation:r?.bearing===void 0?void 0:Je.degToRad(r.bearing),tilt:r?.pitch!==void 0?Je.degToRad(Gi(r.pitch,this.minPitch,this.maxPitch,"pitch was clamped to minPitch/maxPitch bounds. Use mapView.Camera.setMinPitch() and mapView.Camera.setMaxPitch() to adjust limits.")):void 0,duration:r?.duration,callback:()=>{a(this,Fe).interactionSystem.handleHover(),t()},cancelledCallback:t,interruptible:r?.interruptible??!0,verticalPadding:r?.verticalPadding}};function w2(e,r){e[0]=Math.min(e[0],r[0]),e[1]=Math.min(e[1],r[1]),e[2]=Math.max(e[2],r[0]),e[3]=Math.max(e[3],r[1])}function bM(e,r,t){let n=[],o=[1/0,1/0,-1/0,-1/0],i=null;if(!e||!Array.isArray(e)||e.length===0)return{pointCloud:n,geoBounds:o,firstPosition:i};let s=r.getSystems().renderSystem;for(let u of e)if(typeof u=="string"){(s.threeDdirty||s.twoDdirty)&&r.renderSync();let l=t.get(u);if(!l){R.error("Entity not found with id:",u);continue}let c=new mr;R6(r,"userData"in l?l.userData.entityId??l.id:l.id,n,c,l instanceof br?l.position.z:void 0);let d=r.convert3DMapPositionToCoordinate(c.min),f=r.convert3DMapPositionToCoordinate(c.max);w2(o,d),w2(o,f),i||(i=r.convert3DMapPositionToCoordinate(c.getCenter(new ie)))}else n.push(r.convertTo3DMapPosition(u[1],u[0],u[2]||0)),w2(o,u),i||(i=u);return{pointCloud:n,geoBounds:o,firstPosition:i}}function CV(e,r){let t=[[r[0],r[1]],[r[0],r[3]],[r[2],r[3]],[r[2],r[1]],[r[0],r[1]]];e.map?.getLayer("bounds-outline")&&e.map.removeLayer("bounds-outline"),e.map?.getSource("bounds-source")&&e.map.removeSource("bounds-source"),e.map?.addSource("bounds-source",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}}),e.map?.addLayer({id:"bounds-outline",type:"line",source:"bounds-source",layout:{},paint:{"line-color":"#FF0000","line-width":2,"line-opacity":.8}})}p();p();var vM=`uniform vec4 uSize;
varying vec2 vUv;
void main() {
  vUv = uv;
  // Scale the position by the size of the quad
  // and shift to top left corner for 0,0
	vec2 transformed = position.xy * uSize.xy - vec2(1.0, -1.0);
  // Apply width .x and height .y of image
  transformed += vec2(uSize.x, -uSize.y);
  // Apply left .w and top .z offset
  transformed += vec2(uSize.w, -uSize.z) * 2.0;
  gl_Position = vec4(transformed, 1.0, 1.0);
}`;p();var xM=`varying vec2 vUv;
uniform sampler2D uTexture;
uniform float uOpacity;
void main() {
  #ifndef debug
  vec4 texture = texture2D(uTexture, vUv);
  gl_FragColor = vec4(texture.rgb, texture.a * uOpacity);
  #else
  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);
  #endif
}`;p();var IM=4.291666666666667,EM=15,CM=25,SM=43/60;p();var DM=["horizontal","icon"],SV=new Map([[DM[0],`<svg viewBox="0 0 206 48">
      <path d="M27.2678 14.2261H22.3187C21.0695 14.2261 20.4695 14.7801 20.4695 15.9852V31.142L10.3966 15.5591C9.69665 14.4784 9.2475 14.2773 7.8475 14.2261H2.97462C1.67462 14.2261 1.07631 14.7801 1.07631 15.9852V44.7665C1.07631 45.9716 1.67462 46.5256 2.97462 46.5256H7.92377C9.22207 46.5256 9.82207 45.9716 9.82207 44.7665V29.6847L19.9441 45.1926C20.695 46.3244 21.095 46.5256 22.4933 46.5256H27.2933C28.5916 46.5256 29.1916 45.9716 29.1916 44.7665V15.9852C29.1407 14.7801 28.5424 14.2261 27.2678 14.2261Z"/>
      <path d="M5.44915 10.9602C8.45863 10.9602 10.8983 8.50669 10.8983 5.48011C10.8983 2.45353 8.45863 0 5.44915 0C2.43967 0 0 2.45353 0 5.48011C0 8.50669 2.43967 10.9602 5.44915 10.9602Z"/>
      <path d="M61.7899 25.0449C63.2306 23.1903 65.078 22.2051 67.556 22.2051C72.0526 22.2051 74.7611 25.3347 74.7611 29.4511V39.2489C74.8187 39.7125 74.5306 39.9443 74.0695 39.9443H72.5136C72.0526 39.9443 71.7645 39.7125 71.8221 39.2489V29.5091C71.8221 27.1909 69.9187 25.2187 67.4984 25.2187C65.1339 25.2187 63.2323 27.1329 63.2323 29.2773V39.2489C63.2899 39.7125 63.0018 39.9443 62.5407 39.9443H60.9831C60.5221 39.9443 60.2916 39.7125 60.2916 39.2489V29.4511C60.2916 27.1329 58.3899 25.2187 56.0255 25.2187C53.7204 25.2187 51.7594 27.075 51.7594 29.2773V39.3068C51.817 39.7705 51.5289 40.0023 51.0102 40.0023H49.5119C49.0509 40.0023 48.7628 39.7705 48.7628 39.3068V23.25C48.7051 22.7864 48.9933 22.4966 49.5119 22.4966H50.9526C51.356 22.4966 51.5289 22.6704 51.5289 23.0182V24.2352C52.7407 22.9602 54.239 22.2648 56.0255 22.2648C58.4475 22.2068 60.3492 23.192 61.7899 25.0466V25.0449ZM77.1255 31.2477C77.1255 26.3216 81.1018 22.2051 86.1187 22.2051C88.539 22.2051 90.6136 23.1903 92.3441 25.1608V23.1903C92.3441 22.7267 92.5746 22.5528 93.0357 22.5528H94.4187C94.8797 22.5528 95.1102 22.7847 95.1102 23.3062V39.3648C95.1102 39.8284 94.8797 40.0602 94.4187 40.0602H93.0357C92.5746 40.0602 92.3441 39.8284 92.3441 39.4227V37.4523C90.6712 39.3648 88.5967 40.35 86.1746 40.35C81.1018 40.2341 77.1238 36.1773 77.1238 31.2477H77.1255ZM92.1136 31.2477C92.1136 27.8284 89.4611 25.2187 86.0594 25.2187C82.7746 25.2187 80.1221 27.8864 80.1221 31.2477C80.1221 34.6687 82.7746 37.2784 86.1187 37.2784C86.9062 37.2789 87.6861 37.1232 88.4138 36.8202C89.1414 36.5173 89.8026 36.0731 90.3593 35.513C90.9161 34.9528 91.3577 34.2878 91.6587 33.556C91.9597 32.8241 92.1143 32.0397 92.1136 31.2477ZM100.992 37.3943V46.3807C101.049 46.8443 100.761 47.1341 100.298 47.1341H98.7424C98.2814 47.1341 97.9933 46.9023 97.9933 46.3807V23.1903C97.9933 22.7267 98.2238 22.4369 98.7424 22.4369H100.183C100.646 22.379 100.934 22.6687 100.934 23.0744V24.9869C102.605 23.0744 104.68 22.1472 107.044 22.1472C112.002 22.1472 116.037 26.2619 116.037 31.1898C116.037 36.1176 112.059 40.2341 107.044 40.2341C104.622 40.2341 102.603 39.3068 100.992 37.3943ZM106.987 25.2187C103.7 25.2187 101.049 27.8864 101.049 31.2477C101.049 34.6687 103.7 37.2784 107.044 37.2784C110.446 37.2784 113.039 34.6108 113.039 31.2477C113.039 27.8864 110.388 25.2187 106.987 25.2187ZM121.11 37.3943V46.3807C121.168 46.8443 120.88 47.1341 120.419 47.1341H118.861C118.4 47.1341 118.112 46.9023 118.112 46.3807V23.1903C118.112 22.7267 118.342 22.4369 118.861 22.4369H120.302C120.764 22.379 121.053 22.6687 121.053 23.0744V24.9869C122.724 23.0744 124.798 22.1472 127.163 22.1472C132.12 22.1472 136.156 26.2619 136.156 31.1898C136.156 36.1176 132.178 40.2341 127.163 40.2341C124.742 40.2341 122.781 39.3068 121.11 37.3943ZM127.105 25.2187C123.819 25.2187 121.168 27.8864 121.168 31.2477C121.168 34.6687 123.819 37.2784 127.163 37.2784C130.564 37.2784 133.158 34.6108 133.158 31.2477C133.158 27.8864 130.507 25.2187 127.107 25.2187H127.105ZM153.97 32.3506H141.054C141.342 35.2483 143.995 37.4523 147.164 37.4523C148.893 37.4523 150.393 37.0466 151.719 36.0597C152.007 35.8858 152.295 35.7699 152.353 35.7699C152.583 35.7699 152.756 35.8858 152.929 36.1773L153.505 37.1625C153.622 37.3364 153.68 37.4523 153.68 37.5682C153.68 37.8 153.507 38.0318 153.103 38.3216C151.258 39.5966 149.183 40.292 146.992 40.292C141.688 40.292 137.883 36.3511 137.883 31.2477C137.883 26.204 141.803 22.2051 146.703 22.2051C151.546 22.2051 154.717 25.7983 154.717 31.0176C154.717 31.5972 154.717 32.3506 153.968 32.3506H153.97ZM141.056 30.0324H151.72C151.432 26.8432 149.473 24.929 146.648 24.929C145.241 24.8904 143.875 25.3995 142.833 26.3501C141.791 27.3007 141.154 28.6194 141.056 30.0307V30.0324ZM156.332 31.2477C156.332 26.3216 160.31 22.2051 165.326 22.2051C167.748 22.2051 169.707 23.1324 171.32 25.0449V16.2324C171.263 15.7687 171.551 15.479 172.012 15.479H173.57C174.031 15.479 174.319 15.7108 174.319 16.2324V39.3068C174.319 39.7705 174.088 40.0023 173.57 40.0023H172.129C171.666 40.0602 171.378 39.7705 171.378 39.3648V37.3943C169.649 39.3068 167.632 40.292 165.268 40.292C160.31 40.2341 156.332 36.1773 156.332 31.2477ZM171.264 31.2477C171.264 27.8284 168.612 25.2187 165.21 25.2187C161.924 25.2187 159.273 27.8864 159.273 31.2477C159.273 34.6687 161.924 37.2784 165.268 37.2784C166.057 37.2838 166.839 37.1316 167.569 36.8304C168.299 36.5292 168.962 36.0852 169.52 35.5241C170.077 34.963 170.519 34.296 170.818 33.5619C171.117 32.8277 171.268 32.0411 171.263 31.2477H171.264ZM177.72 19.0739C177.715 18.8594 177.754 18.646 177.833 18.4468C177.912 18.2476 178.031 18.0667 178.182 17.915C178.333 17.7633 178.512 17.6439 178.71 17.5642C178.909 17.4845 179.121 17.446 179.334 17.4511C179.546 17.4507 179.756 17.4923 179.952 17.5737C180.148 17.6551 180.326 17.7746 180.476 17.9254C180.626 18.0762 180.745 18.2553 180.826 18.4523C180.907 18.6494 180.948 18.8606 180.948 19.0739C180.953 19.2884 180.914 19.5017 180.835 19.7009C180.756 19.9001 180.637 20.081 180.486 20.2327C180.335 20.3845 180.156 20.5038 179.957 20.5835C179.759 20.6633 179.547 20.7017 179.334 20.6966C178.412 20.7545 177.72 20.0591 177.72 19.0739ZM177.836 39.2489V23.1903C177.836 22.7267 178.066 22.4369 178.527 22.4369H180.083C180.544 22.4369 180.832 22.6687 180.775 23.1903V39.2489C180.832 39.7125 180.544 39.9443 180.083 39.9443H178.527C178.066 39.9443 177.836 39.7125 177.836 39.2489ZM186.944 23.0165V24.1756C188.212 22.8426 189.71 22.2051 191.497 22.2051C195.937 22.2051 198.646 25.2767 198.646 29.3932V39.2489C198.703 39.7125 198.415 39.9443 197.954 39.9443H196.398C195.936 39.9443 195.705 39.7125 195.705 39.2489V29.4511C195.705 27.1329 193.803 25.2187 191.439 25.2187C189.134 25.2187 187.175 27.075 187.175 29.2773V39.3068C187.232 39.7705 186.944 40.0023 186.424 40.0023H184.868C184.407 40.0023 184.119 39.7705 184.119 39.3068V23.1903C184.061 22.7267 184.349 22.4949 184.868 22.4949H186.309C186.712 22.4949 186.944 22.6687 186.944 23.0165Z"/>
      <path d="M204 40C205.115 40 206 39.0857 206 38V37.9886C206 36.9029 205.126 36 204 36C202.885 36 202 36.9143 202 38V38.0114C202 39.0971 202.874 40 204 40ZM204 39.7829C202.989 39.7829 202.23 38.9829 202.23 38.0114V38C202.23 37.0286 203 36.2171 204 36.2171C205.011 36.2171 205.77 37.0171 205.77 37.9886V38C205.77 38.9714 205 39.7829 204 39.7829ZM203.218 38.9714H203.609V38.2743H204.034L204.517 38.9714H204.989L204.448 38.2057C204.724 38.1257 204.92 37.92 204.92 37.5886C204.92 37.1657 204.586 36.9486 204.138 36.9486H203.218V38.9714ZM203.609 37.9543V37.2914H204.103C204.368 37.2914 204.517 37.4057 204.517 37.6229C204.517 37.8171 204.368 37.9543 204.103 37.9543H203.609Z"/>
    </svg>`],[DM[1],`<svg viewBox="0 0 43 60">
      <path d="M14.0291 7.06645C14.0291 10.9691 10.8885 14.1329 7.01453 14.1329C3.14051 14.1329 0 10.9691 0 7.06645C0 3.16376 3.14051 0 7.01453 0C10.8885 0 14.0291 3.16376 14.0291 7.06645Z"/>
      <path d="M28.7335 18.3468H35.1045C36.7455 18.3468 37.5178 19.0599 37.5821 20.6158V57.7309C37.5821 59.2868 36.8099 60 35.1367 60H28.9588C27.1569 60 26.642 59.7406 25.6767 58.282L12.6452 38.282V57.7309C12.6452 59.2868 11.8729 60 10.1997 60H3.82873C2.15554 60 1.3833 59.2868 1.3833 57.7309V20.6158C1.3833 19.0599 2.15554 18.3468 3.82873 18.3468H10.1032C11.9051 18.4116 12.4843 18.671 13.3852 20.0648L26.3524 40.162V20.6158C26.3524 19.0599 27.1247 18.3468 28.7335 18.3468Z"/>
      <path d="M41.5 60C42.3362 60 43 59.3143 43 58.5V58.4914C43 57.6771 42.3448 57 41.5 57C40.6638 57 40 57.6857 40 58.5V58.5086C40 59.3229 40.6552 60 41.5 60ZM41.5 59.8371C40.7414 59.8371 40.1724 59.2371 40.1724 58.5086V58.5C40.1724 57.7714 40.75 57.1629 41.5 57.1629C42.2586 57.1629 42.8276 57.7629 42.8276 58.4914V58.5C42.8276 59.2286 42.25 59.8371 41.5 59.8371ZM40.9138 59.2286H41.2069V58.7057H41.5259L41.8879 59.2286H42.2414L41.8362 58.6543C42.0431 58.5943 42.1897 58.44 42.1897 58.1914C42.1897 57.8743 41.9397 57.7114 41.6034 57.7114H40.9138V59.2286ZM41.2069 58.4657V57.9686H41.5776C41.7759 57.9686 41.8879 58.0543 41.8879 58.2171C41.8879 58.3629 41.7759 58.4657 41.5776 58.4657H41.2069Z"/>
    </svg>`]]),DV=/<svg([^>]*)>/g;function TM(e,r,t,n){let o=SV.get(e);return o?o.replace(DV,`<svg$1 width="${t}" height="${n}" xmlns="http://www.w3.org/2000/svg" style="fill: ${r};">`):""}p();var Gl=class Gl{constructor(){m(this,"loader");this.loader=new Mh}static getInstance(){return Gl.instance||(Gl.instance=new Gl),Gl.instance}getLoader(){return this.loader}load(r){return new Promise((t,n)=>{this.loader.load(r,t,void 0,n)})}};m(Gl,"instance");var M2=Gl,Cu=M2.getInstance();var wM=!1,Dt,Is,wd,Dr,En,zl,Ci,Ia,N1=class extends Oe{constructor(t,n,o){super();C(this,Dt,{padding:16,scale:1,iconOnly:!1,position:"bottom-left",color:"dark",onClick:()=>{window?.open("https://www.mappedin.com")},interactive:!0,visible:!0});C(this,Is);C(this,wd);C(this,Dr);C(this,En);C(this,zl);C(this,Ci,0);C(this,Ia,0);m(this,"dirty",!0);m(this,"getPositionAlignedCanvasCoordinates",(t,n)=>({"top-left":{x:0,y:0},"top-right":{x:t,y:0},"bottom-left":{x:0,y:n},"bottom-right":{x:t,y:n},center:{x:t/2,y:n/2},top:{x:t/2,y:0},bottom:{x:t/2,y:n},left:{x:0,y:n/2},right:{x:t,y:n/2}})[a(this,Dt).position]);m(this,"getPositionAlignedPadding",()=>{let t=a(this,Dt).padding;if(typeof t=="number")return{"top-left":{x:t,y:t},"top-right":{x:-t,y:t},"bottom-left":{x:t,y:-t},"bottom-right":{x:-t,y:-t},center:{x:0,y:0},top:{x:0,y:t},bottom:{x:0,y:-t},left:{x:t,y:0},right:{x:-t,y:0}}[a(this,Dt).position];let n={top:t.top??0,right:t.right??0,bottom:t.bottom??0,left:t.left??0};return{x:n.left-n.right,y:n.top-n.bottom}});o&&Object.entries(o).forEach(([i,s])=>{s!==void 0&&(a(this,Dt)[i]=s)}),T(this,wd,t),T(this,Is,n)}get color(){return a(this,Dt).color==="light"?"white":"#293136"}get iconName(){return a(this,Dt).iconOnly?"icon":"horizontal"}get minWidth(){return a(this,Dt).iconOnly?EM:75}get defaultWidth(){return a(this,Dt).iconOnly?CM:150}get aspectRatio(){return a(this,Dt).iconOnly?SM:IM}get options(){return{...a(this,Dt)}}set options(t){T(this,Dt,{padding:t.padding||a(this,Dt).padding,position:t.position||a(this,Dt).position,iconOnly:t.iconOnly||a(this,Dt).iconOnly,color:t.color||a(this,Dt).color,scale:t.scale||a(this,Dt).scale,onClick:a(this,Dt).onClick,interactive:t.interactive??a(this,Dt).interactive,visible:t.visible??a(this,Dt).visible})}get icon(){return TM(this.iconName,this.color,a(this,Ci)*a(this,Is).pixelRatio,a(this,Ia)*a(this,Is).pixelRatio)}setSize(t,n){a(this,En)&&(a(this,En).uniforms.uSize.value.x=t,a(this,En).uniforms.uSize.value.y=n)}setXY(t,n){a(this,En)&&(a(this,En).uniforms.uSize.value.w=t,a(this,En).uniforms.uSize.value.z=n)}get width(){return a(this,Ci)}get height(){return a(this,Ia)}getPositionAlignedOffset(t,n){return{"top-left":{x:0,y:0},"top-right":{x:-t,y:0},"bottom-left":{x:0,y:-n},"bottom-right":{x:-t,y:-n},center:{x:-(t/2),y:-(n/2)},top:{x:-(t/2),y:0},bottom:{x:-(t/2),y:-n},left:{x:0,y:-(n/2)},right:{x:-t,y:-(n/2)}}[a(this,Dt).position]}insertIntoQuadTree(t){a(this,zl)!=null&&typeof a(this,Dt).onClick=="function"&&a(this,Dt).interactive&&t.insert(a(this,zl))}resize(t,n){if(a(this,Dt).visible!==!0)return;let o=this.getPositionAlignedCanvasCoordinates(t,n),i=this.getPositionAlignedPadding(),s=this.getPositionAlignedOffset(a(this,Ci),a(this,Ia)),u=Math.min(t-a(this,Ci),Math.max(0,o.x+i.x+s.x)),l=Math.min(n-a(this,Ia),Math.max(0,o.y+i.y+s.y));this.setSize(a(this,Ci)/t,a(this,Ia)/n),this.setXY(u/t,l/n),T(this,zl,new _e(u,l,a(this,Ci),a(this,Ia),{entityId:"watermark"}))}update(){this.dirty&&(a(this,Dt).visible===!0?(T(this,Ci,Math.min(a(this,Is).canvasWidth,Math.max(this.minWidth,this.defaultWidth*a(this,Dt).scale))),T(this,Ia,a(this,Ci)/this.aspectRatio),Cu.getLoader().load(`data:image/svg+xml;base64,${btoa(this.icon)}`,t=>{if(T(this,En,new Us({uniforms:{uTexture:{value:t},uSize:{value:new QI(0,0,0,0)},uOpacity:{value:.7}},vertexShader:vM,fragmentShader:xM,depthWrite:!1,depthTest:!1,defines:{debug:wM},wireframe:wM,transparent:!0,visible:!0})),a(this,Dr))a(this,Dr).visible=!0,a(this,Dr).material=a(this,En),a(this,Dr).material.needsUpdate=!0;else{let n=new Qo(2,2,1,1);T(this,Dr,new Pe(n,a(this,En))),a(this,Dr).position.set(0,0,-1),a(this,Dr).frustumCulled=!1,a(this,Dr).renderOrder=999;let o=new qo(1,1,1),i=new Pe(o,new yr({transparent:!0,opacity:0,depthTest:!1,depthWrite:!1}));i.frustumCulled=!1,i.layers.set(1),a(this,Dr).add(i),a(this,wd).add(a(this,Dr))}this.resize(a(this,Is).canvasWidth,a(this,Is).canvasHeight),this.publish("texture-loaded")})):a(this,Dr)&&(a(this,Dr).visible=!1),this.dirty=!1)}destroy(){a(this,Dr)&&(a(this,wd).remove(a(this,Dr)),Ht(a(this,Dr))),T(this,Dr,void 0),a(this,En)&&a(this,En).dispose(),T(this,En,void 0),T(this,zl,void 0)}};Dt=new WeakMap,Is=new WeakMap,wd=new WeakMap,Dr=new WeakMap,En=new WeakMap,zl=new WeakMap,Ci=new WeakMap,Ia=new WeakMap;p();var $1=100,FV=!1,U1=class extends Oe{constructor(t,n){super();m(this,"currentTotalBoundingBox");m(this,"state");m(this,"cameraSystem");m(this,"debugMesh",null);m(this,"dirty",!0);m(this,"autoMinZoomLevel",!0);this.state=t,this.cameraSystem=n}update(){if(this.dirty){this.currentTotalBoundingBox==null&&(this.currentTotalBoundingBox=new mr,this.state.entityScene.children.length===0?this.currentTotalBoundingBox.setFromCenterAndSize(new ie(0,0,0),new ie($1*2,$1*2,0)):(this.currentTotalBoundingBox.setFromObject(this.state.entityScene),this.currentTotalBoundingBox.expandByScalar($1)));let t=new mr().setFromObject(this.state.entityScene);this.currentTotalBoundingBox.union(t);let n=t.getSize(new ie),o=Math.max(n.x,n.y,n.z);for(let s of this.state.geometry2DMap.values())s.positionDirty===!0&&(this.currentTotalBoundingBox.expandByPoint(s.position),s.positionDirty=!1);let i=j1.copy(this.currentTotalBoundingBox).expandByScalar(Math.max(o,$1)).getBoundingSphere(MV).radius;if(this.cameraSystem.panBounds={center:this.currentTotalBoundingBox.getCenter(new ie),min:j1.min,max:j1.max,radius:i},this.publish("update"),this.cameraSystem.dirty=!0,this.dirty=!1,FV&&this.state.entityScene.parent instanceof Gs){this.debugMesh&&(this.state.entityScene.parent.remove(this.debugMesh),this.debugMesh=null),this.debugMesh=new ju,this.debugMesh.add(new Pe(new Fh(this.cameraSystem.panBounds.radius),new yr({color:16711680,transparent:!0,opacity:.2}))),this.debugMesh.position.copy(this.cameraSystem.panBounds.center),this.state.entityScene.parent.add(this.debugMesh);let s=new ie;j1.getSize(s);let u=new qo(s.x,s.y,s.z),l=new yr({color:65280,wireframe:!0,transparent:!0,opacity:.5}),c=new Pe(u,l);c.position.copy(this.currentTotalBoundingBox.getCenter(new ie)),this.debugMesh.add(c)}}}},j1=new mr,MV=new t6;p();var A2="\xA9 Mappedin",AV="https://info.mappedin.com/feedback",B2=["top-left","top-right","bottom-left","bottom-right"],OV=640,BV=()=>`<svg xmlns='http://www.w3.org/2000/svg' width='15' height='15' fill-rule='evenodd' viewBox='0 0 20 20'>
						<circle cx='10' cy='10' r='5.9' style='fill:rgba(255,255,255,1);'/>
						<path style='fill:rgba(0,0,0,0.7);' d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/>
					</svg>`,O2={custom:[],position:"bottom-right",feedback:!0},Fd,G1=class{constructor(r,t={}){m(this,"controlContainerEl");m(this,"controlPositions");m(this,"compact");C(this,Fd);m(this,"attribContainerEl");m(this,"attribInnerEl");m(this,"attribButtonEl");m(this,"feedbackLinkEl");m(this,"attribHTML",A2);m(this,"customAttributions",[]);m(this,"toggleAttribution",r=>{this.attribContainerEl!=null&&(r.preventDefault(),this.attribContainerEl.classList.contains("mappedin-compact")&&(this.attribContainerEl.classList.contains("mappedin-compact-show")?(this.attribContainerEl.removeAttribute("open"),this.attribContainerEl.classList.remove("mappedin-compact-show")):(this.attribContainerEl.classList.add("mappedin-compact-show"),this.attribContainerEl.setAttribute("open",""))))});T(this,Fd,!!t.outdoorEnabled),this.controlContainerEl=document.createElement("div"),this.controlContainerEl.classList.add("mappedin-control-container"),r.appendChild(this.controlContainerEl),this.controlPositions=B2.reduce((n,o)=>{let i=document.createElement("div");return i.classList.add(`mappedin-ctrl-${o}`),this.controlContainerEl.appendChild(i),n[o]=i,n},{})}addAttributionControl(r=O2){let t=r.position&&B2.includes(r.position)?r.position:O2.position;this.attribContainerEl=document.createElement("details"),this.attribContainerEl.classList.add("mappedin-ctrl-attrib",`mappedin-ctrl-attrib-${t}`),this.attribContainerEl.open=!0,this.attribContainerEl.ariaLabel="Attribution",this.controlPositions[t].appendChild(this.attribContainerEl),this.attribButtonEl=document.createElement("summary"),this.attribButtonEl.addEventListener("click",this.toggleAttribution),this.attribButtonEl.classList.add("mappedin-ctrl-attrib-button"),this.attribButtonEl.title="Toggle attribution",this.attribButtonEl.ariaLabel="Toggle attribution",this.attribButtonEl.tabIndex=0,this.attribButtonEl.innerHTML=BV(),this.attribContainerEl.appendChild(this.attribButtonEl),this.attribInnerEl=document.createElement("div"),this.attribInnerEl.classList.add("mappedin-ctrl-attrib-inner"),this.attribHTML=a(this,Fd)?A2:"",this.attribInnerEl.innerHTML=this.attribHTML,this.attribContainerEl.appendChild(this.attribInnerEl),(r.feedback??O2.feedback)&&(this.feedbackLinkEl=document.createElement("a"),this.feedbackLinkEl.href=AV,this.feedbackLinkEl.target="_blank",this.feedbackLinkEl.rel="noopener",this.feedbackLinkEl.textContent="Provide Feedback",this.feedbackLinkEl.classList.add("mappedin-ctrl-attrib-inner"),this.feedbackLinkEl.classList.add("mappedin-ctrl-attrib-inner-bold"),this.attribContainerEl.appendChild(this.feedbackLinkEl)),r.custom&&(this.customAttributions=r.custom),this.updateAttributionDisplay()}updateAttribution(r){if(!r.style||!this.attribInnerEl||!this.attribContainerEl)return;let t=a(this,Fd)?[A2]:[],n=r.style.sourceCaches;for(let o in n){let i=n[o];if(i.used||i.usedForTerrain){let s=i.getSource();s.attribution&&t.indexOf(s.attribution)<0&&t.push(s.attribution)}}t=t.filter(o=>String(o).trim()),t=t.filter((o,i)=>{for(let s=i+1;s<t.length;s++)if(t[s].indexOf(o)>=0)return!1;return!0}),this.attribHTML=t.join(" "),this.updateAttributionDisplay()}updateAttributionDisplay(){let r=[...new Set([this.attribHTML,...this.customAttributions])].filter(Boolean).join(" ");this.attribInnerEl&&(this.attribInnerEl.innerHTML=r)}resizeAttribution(r){this.attribContainerEl&&(r<=OV||this.compact?this.compact===!1?this.attribContainerEl.setAttribute("open",""):!this.attribContainerEl.classList.contains("mappedin-compact")&&!this.attribContainerEl.classList.contains("mappedin-attrib-empty")&&(this.attribContainerEl.setAttribute("open",""),this.attribContainerEl.classList.add("mappedin-compact","mappedin-compact-show")):(this.attribContainerEl.setAttribute("open",""),this.attribContainerEl.classList.contains("mappedin-compact")&&this.attribContainerEl.classList.remove("mappedin-compact","mappedin-compact-show")))}destroyAttributionControl(){this.attribButtonEl&&this.attribButtonEl.removeEventListener("click",this.toggleAttribution),this.attribContainerEl&&(this.attribContainerEl.remove(),this.attribContainerEl=void 0,this.attribInnerEl=void 0,this.attribButtonEl=void 0)}resize(r){this.resizeAttribution(r)}updateData(r){this.updateAttribution(r)}destroy(){this.destroyAttributionControl(),this.controlContainerEl.remove(),this.compact=void 0}};Fd=new WeakMap;p();var r0,n0,Md=class{constructor(r,t){m(this,"mesh");m(this,"type","custom-geometry");m(this,"dirty",!0);m(this,"feature");m(this,"builder");m(this,"outline");C(this,r0,1);m(this,"color",new ar);C(this,n0,0);this.mesh=new zs,this.feature=r,this.builder=t}get visible(){return this.mesh.visible}set visible(r){this.mesh.visible=r}set opacity(r){T(this,r0,r)}get opacity(){return a(this,r0)}setColor(r){this.color.set(r)}get position(){return this.mesh?.position}get altitude(){return a(this,n0)}set altitude(r){this.mesh&&(this.mesh.position.z=r,T(this,n0,r))}get renderOrder(){return this.mesh?this.mesh.renderOrder:0}set renderOrder(r){this.mesh&&(this.mesh.renderOrder=r)}};r0=new WeakMap,n0=new WeakMap;p();var z1=class{constructor(r,t){m(this,"state");m(this,"convertTo3DMapPosition");this.state=r,this.convertTo3DMapPosition=t}update(){let r,t;for(let n of this.state.geometry3DIdsInScene){let o=this.state.geometry3DMap.get(n);o?.type==="custom-geometry"&&(r=o.components[0],t=o.components[1],r.dirty&&t.visible!==!1&&(r.position.copy(this.convertTo3DMapPosition(r.feature.geometry.coordinates[1],r.feature.geometry.coordinates[0],t.altitude)),r.builder.setup(r.mesh),r.mesh.traverse(i=>{i.userData={...i.userData,entityId:n,type:"custom-geometry"}}),r.dirty=!1),t.visible!==!1&&r.builder.update(r.mesh))}}};p();p();function FM(e){return e.children.some(r=>r.userData.isOutline)}function MM(e,r){let t=e.userData.entities3D.values().next().value;return t?r.geometry3DMap.get(t)?.components[3]!==void 0:!1}function V1(e,r,t,n){let i=e.getAttribute("position").array,s=-1/0;for(let u=0;u<r.count;u++){let c=(r.start+u)*3,d=i[c+2];s=Math.max(s,d)}for(let u=0;u<r.count;u++){let c=(r.start+u)*3,d=i[c+2];Math.abs(d-s)<1e-4?i[c+2]=Math.max(t+n,2e-4+n):i[c+2]=n}e.attributes.position.needsUpdate=!0}p();function P2(e){let r=new Sh,t=e.mesh?.geometry;if(!t||!e.batchedProps?.range)return;let n=e.batchedProps.range,o=n.start,i=n.count,s=t.getAttribute("position");if(s){let c=new Float32Array(i*3);for(let d=0;d<i;d++){let f=o+d;c[d*3]=s.array[f*3],c[d*3+1]=s.array[f*3+1],c[d*3+2]=s.array[f*3+2]}r.setAttribute("position",new dn(c,3))}let u=t.getAttribute("normal");if(u){let c=new Float32Array(i*3);for(let d=0;d<i;d++){let f=o+d;c[d*3]=u.array[f*3],c[d*3+1]=u.array[f*3+1],c[d*3+2]=u.array[f*3+2]}r.setAttribute("normal",new dn(c,3))}let l=t.getAttribute("uv");if(l){let c=new Float32Array(i*2);for(let d=0;d<i;d++){let f=o+d;c[d*2]=l.array[f*2],c[d*2+1]=l.array[f*2+1]}r.setAttribute("uv",new dn(c,2))}if(t.index){let c=t.index,d=new Uint32Array(i);for(let f=0;f<i;f++)d[f]=c.array[o+f];r.setIndex(new dn(d,1))}return r}function AM(e,r,t){let n=P2(e);if(!n||!e.mesh)return;e.mesh.getMatrixAt(e.instanceIndex,t),e.mesh.deleteInstance(e.instanceIndex),e.mesh.optimize();let o=r.addGeometry(n);r.addInstance(o),r.setMatrixAt(o,t);let i=r.getGeometryIdAt(o),s=r.getGeometryRangeAt(i);return s&&e.batchedProps&&(e.batchedProps.range=s),n.dispose(),o}p();p();var OM=`// Modified from https://github.com/mrdoob/three.js/blob/dev/src/renderers/shaders/ShaderLib/linedashed.glsl.js
uniform float scale;
attribute float lineDistance;

varying float vLineDistance;
attribute float visibility;
varying vec4 v_color;

#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {

	vLineDistance = scale * lineDistance;
	v_color = color;

	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
    if (visibility < 0.5) {
        gl_Position = vec4(-2.0, -2.0, -2.0, 1.0);
    }
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>

}`;p();var BM=`// Modified from https://github.com/mrdoob/three.js/blob/dev/src/renderers/shaders/ShaderLib/linedashed.glsl.js
uniform vec3 diffuse;
uniform float opacity;

uniform float dashSize;
uniform float totalSize;

varying float vLineDistance;
varying vec4 v_color;

#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {

	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>

	if ( mod( vLineDistance, totalSize ) > dashSize ) {

		discard;

	}

	vec3 outgoingLight = vec3( 0.0 );

	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>

	outgoingLight = diffuseColor.rgb; // simple shader

	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>

	// Discard alpha lower than 0.01 to avoid opacity fighting
    if (v_color.a <= 0.01) { 
		discard;
	}
}
`;var H1=class extends o6{constructor(r){super(r),this.onBeforeCompile=t=>{t.vertexShader=OM,t.fragmentShader=BM}}};p();var Si,Vl,Su,Du,o0,k2,Hl=class{constructor(){C(this,o0);C(this,Si,[]);C(this,Vl,!1);C(this,Su);C(this,Du)}get size(){return a(this,Si).length}add(r){a(this,Si).push(r),a(this,Vl)||z(this,o0,k2).call(this)}onComplete(r){T(this,Su,r)}clearOnComplete(){T(this,Su,void 0)}clearAll(){T(this,Si,[]),T(this,Vl,!1),T(this,Su,void 0),a(this,Du)!==void 0&&(cancelIdleCallback(a(this,Du)),T(this,Du,void 0))}};Si=new WeakMap,Vl=new WeakMap,Su=new WeakMap,Du=new WeakMap,o0=new WeakSet,k2=function(){T(this,Vl,!0),T(this,Du,requestIdleCallback(r=>{let t=0;for(;a(this,Si).length>0&&r.timeRemaining()>2;){let n=a(this,Si).shift();n&&(n(),t++)}if(t===0&&a(this,Si).length>0&&r.timeRemaining()<2){let n=a(this,Si).shift();n&&n()}T(this,Du,void 0),a(this,Si).length>0?z(this,o0,k2).call(this):(T(this,Vl,!1),a(this,Su)&&a(this,Su).call(this))},{timeout:3e3}))};var _V=80,Zl,Ad,W1,X1,J1,Z1=class extends Oe{constructor(t){super();m(this,"rendererState");m(this,"outlineOpacitiesDirty",!0);m(this,"useIdleFramesOnly",!0);C(this,Zl,!0);C(this,Ad,-1/0);m(this,"idleBuildQueue",new Hl);m(this,"idleComputeBoundingSphereQueue",new Hl);C(this,W1,new Map);C(this,X1,new H1({vertexColors:!0,linewidth:1,transparent:!0,opacity:1,side:$u}));C(this,J1,()=>{this.publish("needs-render")});this.rendererState=t,this.idleBuildQueue.onComplete(a(this,J1))}get geometries3DDirty(){return a(this,Zl)}set geometries3DDirty(t){T(this,Zl,t)}buildOutlines(t){let n=[];for(let h of t.userData.entities3D.values()){let b=this.rendererState.geometry3DMap.get(h);if(b instanceof ft&&b.type==="geometry"&&b.components[3]&&b.components[3].dirty===!0&&b.components[0].material!=null){let I=b.components[0].geometry,E=!1;I||(I=P2(b.components[0]),E=!0);let v=b.components[1];n.push([b.components[3],new a6(I,v.bevel?.enabled?1:_V)]),E&&(I?.dispose(),I=void 0)}}if(n.length===0)return;let o=bo(n.map(h=>h[1]),!1);if(o==null)return;let i=o.getAttribute("position"),s=new Float32Array(i.count*4),u=new dn(s,4);o.setAttribute("color",u);let l=new Uint8Array(i.count);l.fill(0);let c=new dn(l,1,!1);o.setAttribute("visibility",c);let d=0;for(let h=0;h<n.length;h++){let[b,I]=n[h],E=I.getAttribute("position").count;b.edgeColors=u,b.edgeVisibility=c,b.geometry=o,b.ranges={count:E,start:d},d+=E,I.dispose()}let f=new am(o,a(this,X1));f.userData.isOutline=!0,t.add(f)}update(t,n=!0){let o;if(this.geometries3DDirty){for(let s of this.rendererState.geometry3DIdsInScene){let u=this.rendererState.geometry3DMap.get(s);u instanceof ei&&MM(u,this.rendererState)&&!FM(u)&&u.userData.entities3D.size>0&&(this.useIdleFramesOnly?this.idleBuildQueue.add(()=>this.buildOutlines(u)):this.buildOutlines(u))}T(this,Zl,!1),this.outlineOpacitiesDirty=!0}for(let s of this.rendererState.geometry3DIdsInScene){let u=this.rendererState.geometry3DMap.get(s);if(u instanceof ft&&u.type==="geometry"&&u.components[3]&&u.components[3].dirty===!0&&u.components[0].material!=null&&u.parentObject3D instanceof ei){let l=u.components[3].geometry;if(!l)continue;let c=u.components[3];if(!c)continue;let d=c.enabled&&u.components[1].visible;if(c.visible!==d&&(c.visible=d),!c.visible)continue;let f=c.edgeColors;if(!f||!c.ranges)continue;let h=new ar(c.color);for(let v=0;v<c.ranges.count;v++){let x=c.ranges.start+v;f.setXYZ(x,h.r,h.g,h.b)}let b=u.components[1].height,I=u.components[1].altitude;u.components[1]?.bevel?.enabled||V1(l,c.ranges,b,I),l.attributes.color.needsUpdate=!0,this.idleComputeBoundingSphereQueue.add(()=>l.computeBoundingSphere()),c.dirty=!1}}let i=n?Gu(t,16,19,0,1):a(this,Ad);if((i!==a(this,Ad)||this.outlineOpacitiesDirty)&&this.rendererState.geometry3DIdsInScene.size>0){for(let s of this.rendererState.geometry3DIdsInScene)if(o=this.rendererState.geometry3DMap.get(s),o?.type==="geometry"&&o.components[0]instanceof sr){let u=o.components[3];if(u&&u.edgeColors&&u.geometry&&u.visible){let l=Math.min(i,o.components[1].opacity*wc(o));if(u.currentOpacity!==l){for(let c=0;c<u.ranges.count;c++){let d=u.ranges.start+c;u.edgeColors.setW(d,l)}u.geometry.attributes.color.needsUpdate=!0}}}}T(this,Ad,i),T(this,Zl,!1),this.outlineOpacitiesDirty=!1}destroy(){a(this,W1).clear(),this.idleBuildQueue.clearAll(),this.idleComputeBoundingSphereQueue.clearAll()}};Zl=new WeakMap,Ad=new WeakMap,W1=new WeakMap,X1=new WeakMap,J1=new WeakMap;p();p();import{z as fo}from"zod";var Y1=class extends Pe{constructor(){super(...arguments);m(this,"userData",{entityId:""})}},LV=fo.object({flipImageToFaceCamera:fo.boolean().optional(),url:fo.string()}),RV=fo.object({type:fo.enum(["Feature"]),properties:fo.object({width:fo.number(),height:fo.number(),rotation:fo.number().min(0).max(360).optional(),verticalOffset:fo.number().optional()}),geometry:Cd});function PM(e,r,t){fo.union([fo.number(),fo.string()]).parse(e),RV.parse(r),LV.parse(t)}var K1=class{constructor(r){m(this,"mesh",new zs);m(this,"imageMesh");m(this,"outline");m(this,"type","image");m(this,"instanceIndex",-1);m(this,"geometry");m(this,"material");m(this,"feature");m(this,"position",new ie);this.feature=r}get visible(){return this.mesh?.visible??!1}set visible(r){this.mesh&&(this.mesh.visible=r)}};p();function _2(e,r){return{x:e.x*Math.cos(r)-e.y*Math.sin(r),y:e.x*Math.sin(r)+e.y*Math.cos(r)}}function NV(e,r){return e.map(t=>_2(t,r))}function $V(e){let r=1/0,t=1/0,n=-1/0,o=-1/0;for(let i of e)r=Math.min(r,i.x),t=Math.min(t,i.y),n=Math.max(n,i.x),o=Math.max(o,i.y);return{minX:r,minY:t,maxX:n,maxY:o}}function jV(e,r){let t=!1;for(let n=0,o=r.length-1;n<r.length;o=n++){let i=r[n].x,s=r[n].y,u=r[o].x,l=r[o].y;s>e.y!=l>e.y&&e.x<(u-i)*(e.y-s)/(l-s)+i&&(t=!t)}return t}function kM(e,r,t,n,o){for(let i=0;i<o;i++)for(let s=0;s<n;s++)if(e[t+i][r+s]!==1)return!1;return!0}function UV(e,r,t){let n=e.maxX-e.minX,o=e.maxY-e.minY,i,s,u={...e};return n/o>r?(s=o/t,i=s*r,u.minX+=(n-i*t)/2):(i=n/t,s=i/r,u.minY+=(o-s*t)/2),{dx:i,dy:s,gridBounds:u}}function GV(e,r,t,n,o){let i=Array(t).fill(0).map(()=>Array(t).fill(0));for(let s=0;s<t;s++)for(let u=0;u<t;u++){let l={x:r.minX+u*n,y:r.minY+s*o};jV(l,e)&&(i[s][u]=1)}return i}function zV(e,r){let t=Array(r).fill(0).map(()=>Array(r).fill(0));for(let n=0;n<r;n++)for(let o=0;o<r;o++)if(e[n][o]===1){let i=0;for(let s=1;s<=Math.min(r-o,r-n)&&kM(e,o,n,s,s);s++)i=s;t[n][o]=i}return t}function VV(e,r,t,n,o,i){let s=0,u=0,l=0;for(let c=0;c<n;c++)for(let d=0;d<n;d++)if(e[c][d]===1){let f=Math.pow(r[c][d],2),h=t.minX+d*o,b=t.minY+c*i;s+=f,u+=h*f,l+=b*f}return{x:u/s,y:l/s}}function HV(e,r,t,n,o,i,s){let u=-1/0,l=null,c=e.length,d=Math.sqrt(Math.pow(r.maxX-r.minX,2)+Math.pow(r.maxY-r.minY,2));for(let f=0;f<c;f++)for(let h=0;h<c;h++)if(e[f][h]===1)for(let b=1;b<=c-h;b++){let I=b;if(!(I>c-f)&&kM(e,h,f,b,I)){let E=b*I,v=r.minX+(h+b/2)*t,x=r.minY+(f+I/2)*n,D={x:v,y:x},S=Math.sqrt(Math.pow(D.x-o.x,2)+Math.pow(D.y-o.y,2))/d,F=E*(1-i)-S*i*E;F>u&&(u=F,l={center:D,width:b*t*s,height:b*n*s})}}return l}function L2(e,r,t,n={}){let{scaleFactor:o=.9,centerPriority:i=.5,resolution:s=100,minimumSizeRatio:u=.5}=n,l=m6(t),c=e.width/e.height,d=NV(r,l),f=$V(d),{dx:h,dy:b,gridBounds:I}=UV(f,c,s),E=GV(d,I,s,h,b),v=zV(E,s),x=VV(E,v,I,s,h,b),D=HV(E,I,h,b,x,i,o);return!D||D.width<e.width*u||D.height<e.height*u?e:{...D,center:_2(D.center,-l),rotation:t,polygonCenter:_2(x,-l)}}var i0=Math.PI*2,ZV=Math.PI/2,WV=Math.PI*1.5,XV=zi(ZV,2),JV=zi(WV,2),YV=.01,_M=!1,q1=class extends Oe{constructor(t,n,o,i=0,s=0,u={}){super();m(this,"rendererState");m(this,"convertTo3DMapPosition");m(this,"projectToScreen");m(this,"initialBearing",0);m(this,"naturalBearing",0);m(this,"imagePlacementOptions");m(this,"cameraFrustum",new Th);m(this,"imageLoadingCache",new Map);m(this,"currentImageScreenBBoxes",[]);m(this,"viewProjectionMatrix",new Wn);this.rendererState=t,this.convertTo3DMapPosition=n,this.projectToScreen=o,this.initialBearing=i,this.naturalBearing=s,this.imagePlacementOptions=u}createImageMesh(t,n,o,i=0,s,u){let l={width:o.width,height:o.height,center:this.convertTo3DMapPosition(s),rotation:o.rotation??0},c=this.imagePlacementOptions.mode??"default",d=(()=>{switch(c){case"fit-nearest-90":let I=(this.initialBearing-this.naturalBearing+360)%180;return I>=45&&I<=135?L2(l,u,l.rotation+90,this.imagePlacementOptions):l;case"fit-initial-bearing":return L2(l,u,this.initialBearing,this.imagePlacementOptions);case"default":case"none":default:return l}})();if(_M&&d.polygonCenter){let I=new Pe(new Fh(1),new um({color:65280}));I.position.set(d.polygonCenter.x,d.polygonCenter.y,i),this.rendererState.entityScene.add(I)}let f=new um({transparent:!0,depthWrite:!1,side:ka}),h=new Qo(d.width,d.height),b=new Y1(h);if(b.visible=!1,b.renderOrder=yo.IMAGE_MESH,this.getOrDownloadImage(n)?.then(I=>{f.map=I,f.needsUpdate=!0,f.map.colorSpace=yh,b.visible=!0,this.publish("image-loaded")}),b.userData.entityId=t,b.material=f,_M){let I=new Pe(new Qo(o.width,o.height),new um({color:"gray"}));b.add(I);let E=new c6;b.add(E),E.scale.set(10,10,10)}return b.position.set(d.center.x,d.center.y,i+YV),b.rotation.z=(-Je.degToRad(d.rotation)+i0)%i0,b}getOrDownloadImage(t){if(this.imageLoadingCache.has(t))return this.imageLoadingCache.get(t)?.promise;{let n=new Promise(o=>{Cu.getLoader().load(t,i=>{let s=this.imageLoadingCache.get(t);s&&!s.loaded&&(s.loaded=!0),o(i)})});return this.imageLoadingCache.set(t,{loaded:!1,promise:n}),n}}flipIfNeeded(t,n){if(t.imageMesh==null)return;let o=-n,i=t.imageMesh.rotation.z,s=zi((i-o+i0)%i0,2);s>XV&&s<JV&&(t.imageMesh.rotation.z=(i+Math.PI)%i0)}update(t){this.currentImageScreenBBoxes=[],this.viewProjectionMatrix.identity().multiply(this.rendererState.cameraObject.projectionMatrix).multiply(this.rendererState.cameraObject.matrixWorldInverse),this.cameraFrustum.setFromProjectionMatrix(this.viewProjectionMatrix);let n,o,i;for(let s of this.rendererState.geometry3DIdsInScene)if(n=this.rendererState.geometry3DMap.get(s),n?.type==="image"){if(o=n.components[0],i=n.components[1],i.url&&o.imageMesh==null){let u=this.convertTo3DMapPosition(o.feature.geometry.coordinates),l={x:u.x,y:u.y};o.imageMesh=this.createImageMesh(n.id,i.url,o.feature.properties,o.feature.properties.verticalOffset,o.feature.geometry.coordinates,[l]),o.mesh.add(o.imageMesh),o.position.copy(o.imageMesh.position)}o.imageMesh&&(i.flipImageToFaceCamera&&this.flipIfNeeded(o,t),o.imageMesh.material instanceof um&&i.dirty&&(o.imageMesh.material.opacity=i.opacity))}else if(n?.type==="geometry"){if(o=n.components[0],i=n.components[1],i.showImage&&o.feature.properties?.image&&o.imageMesh==null&&o.visible&&o.mesh!=null&&o.mesh.parent!=null&&o.feature.properties?.image.position!=null&&o.feature.geometry.coordinates!=null&&o.feature.geometry.coordinates.length>0){let u=o.feature.geometry.coordinates[0].map(c=>{let d=this.convertTo3DMapPosition(c);return{x:d.x,y:d.y}}),l=this.createImageMesh(s,o.feature.properties?.image.path,o.feature.properties?.image,i.height,o.feature.properties?.image.position,u);o.mesh.parent.add(l),o.imageMesh=l}if(o.imageMesh){if(!o.visible)o.imageMesh.visible=!1;else if(i.showImage&&!o.imageMesh.visible)if(i.url){let u=this.imageLoadingCache.get(i.url);u&&u.loaded&&(o.imageMesh.visible=!0)}else o.imageMesh.visible=!0;else!i.showImage&&o.imageMesh.visible&&(o.imageMesh.visible=!1);i.flipImageToFaceCamera&&this.flipIfNeeded(o,t),i.enableImageCollisions===!0&&this.updateImageScreenBBoxes(o)}}}updateImageScreenBBoxes(t){if(t.imageMesh==null)return;let n=t.imageMesh.geometry.boundingBox;if(n!=null){let o=new ie;if(t.imageMesh.getWorldPosition(o),!this.cameraFrustum.containsPoint(o))return;let i=new ke;this.projectToScreen(i,o);let s=[new ie(n.min.x,n.min.y,n.min.z),new ie(n.max.x,n.min.y,n.min.z),new ie(n.min.x,n.max.y,n.min.z),new ie(n.max.x,n.max.y,n.min.z),new ie(n.min.x,n.min.y,n.max.z),new ie(n.max.x,n.min.y,n.max.z),new ie(n.min.x,n.max.y,n.max.z),new ie(n.max.x,n.max.y,n.max.z)],u=[];for(let b of s){let I=b.clone().applyMatrix4(t.imageMesh.matrixWorld),E=new ke;this.projectToScreen(E,I),u.push(E)}let l=1/0,c=1/0,d=-1/0,f=-1/0;for(let b of u)l=Math.min(l,b.x),c=Math.min(c,b.y),d=Math.max(d,b.x),f=Math.max(f,b.y);let h=new _e(i.x,i.y,d-l,f-c);this.currentImageScreenBBoxes.push(h)}}};p();var KV=250,Tu,Q1=class extends Oe{constructor(t,n){super();m(this,"cameraDirty",!0);m(this,"focusablesDirty",!0);m(this,"state");m(this,"camera");m(this,"debugEl",null);m(this,"raycasters",[]);m(this,"collisions",new Map);m(this,"focusableEntities",new Set);m(this,"debugRaycasters",!1);C(this,Tu);m(this,"update",(t=!1,n=Date.now())=>{this.focusablesDirty&&this.updateFocusableEntities(),!t&&(Date.now()-n>KV||(a(this,Tu)&&cancelAnimationFrame(a(this,Tu)),T(this,Tu,requestAnimationFrame(()=>{this.updateRaf()}))))});this.state=t,this.camera=n,this.buildRaycasters()}resize(){this.buildRaycasters()}buildRaycasters(){this.debugEl&&this.debugEl.remove();let t=new ke(this.state.canvasWidth/2,this.state.canvasHeight/2),n=new ke(t.x/1.2,t.y/1.2),o=new ke(t.x+(t.x-n.x),n.y),i=new ke(n.x,t.y+(t.y-n.y)),s=new ke(o.x,i.y),u=new ke(t.x,t.y/1.5),l=new ke(t.x,t.y+(t.y-u.y));this.debugEl=document.createElement("div"),Object.assign(this.debugEl.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",pointerEvents:"none"}),document.body.append(this.debugEl),this.raycasters=[t,u,l,n,o,i,s].map((c,d)=>{if(this.debugRaycasters){let E=document.createElement("div");E.style.position="absolute",E.style.top=c.y+"px",E.style.left=c.x+"px",E.style.width="10px",E.style.height="10px",E.style.backgroundColor="red",this.debugEl.append(E)}let f=c.x/this.state.canvasWidth*2-1,h=-(c.y/this.state.canvasHeight)*2+1,b=new ke(f,h),I=new Ui;return I.setFromCamera(b,this.camera),[I,b,d===0?10:d<7?2:1]})}updateFocusableEntities(){this.focusableEntities.clear();let t,n,o;for(let i of this.state.geometry3DIdsInScene)if(o=this.state.geometry3DMap.get(i),o!=null){if(o.type==="group-container"&&o.components[1]!==void 0&&o.components[1]instanceof gm){if(n=o.components[1],n.dirty===!0||n.focusMesh==null){n.focusMesh&&Ht(n.focusMesh);let s=new mr;s.setFromObject(o);let u=s.max.x-s.min.x,l=s.max.y-s.min.y,c=s.max.z-s.min.z;if(!isFinite(u)||!isFinite(l)||!isFinite(c)||isNaN(u)||isNaN(l)||isNaN(c)||u<=0||l<=0||c<=0)continue;let d=new qo(u,l,c),f={transparent:!0,opacity:this.debugRaycasters?1:0,visible:this.debugRaycasters};if(this.debugRaycasters){let I=["red","green","blue","yellow","purple","orange","pink","brown","gray","black"];f.color=I[Math.floor(Math.random()*I.length)]}let h=new yr(f),b=new Pe(d,h);b.position.set((s.min.x+s.max.x)/2,(s.min.y+s.max.y)/2,0),b.userData={entityId:o.userData.entityId},n.focusMesh=b,o.add(b),o.components[1].dirty=!1}this.focusableEntities.add(n.focusMesh)}else if(o.type==="geometry"&&o.components[4]&&o.components[4]instanceof gm&&(t=o.components[0],n=o.components[4],t instanceof sr&&t.geometry!=null&&(n.dirty===!0||n.focusMesh==null))){if(n.focusMesh==null){let s=new Pe(t.geometry);s.userData={entityId:o.id},n.focusMesh=s}this.focusableEntities.add(n.focusMesh)}}this.focusablesDirty=!1}updateRaf(){if(this.focusableEntities.size===0){this.publish("geometry-in-focus",[]);return}this.cameraDirty&&this.raycast()}raycast(){this.collisions.clear();for(let[n,o]of this.raycasters)n.setFromCamera(o,this.camera);for(let[n,o,i]of this.raycasters)n.intersectObjects(Array.from(this.focusableEntities.values())).forEach(u=>{if(u?.object!=null&&"isMesh"in u.object&&u?.object.isMesh){let l=u.object.userData.entityId,c=this.collisions.get(l)??0;this.collisions.set(l,c+i)}});let t=Array.from(this.collisions,([n,o])=>({entityId:n,weight:o})).sort((n,o)=>o.weight-n.weight).map(({entityId:n})=>n);this.publish("geometry-in-focus",t),this.cameraDirty=!1}showRaycasters(){this.debugRaycasters=!0,this.buildRaycasters()}hideRaycasters(){this.debugRaycasters=!1,this.buildRaycasters()}destroy(){a(this,Tu)&&cancelAnimationFrame(a(this,Tu)),this.debugEl&&this.debugEl.remove(),this.collisions.clear(),this.focusableEntities.clear(),this.raycasters=[]}};Tu=new WeakMap;p();p();p();p();function e4(e,r){r===void 0&&(r={});var t=wp(e);switch(!r.properties&&e.type==="Feature"&&(r.properties=e.properties),t.type){case"Polygon":return qV(t,r);case"MultiPolygon":return QV(t,r);default:throw new Error("invalid poly")}}function qV(e,r){r===void 0&&(r={});var t=wp(e),n=t.coordinates,o=r.properties?r.properties:e.type==="Feature"?e.properties:{};return LM(n,o)}function QV(e,r){r===void 0&&(r={});var t=wp(e),n=t.coordinates,o=r.properties?r.properties:e.type==="Feature"?e.properties:{},i=[];return n.forEach(function(s){i.push(LM(s,o))}),zu(i)}function LM(e,r){return e.length>1?I6(e,r):La(e[0],r)}function eH(e,r){var t=!0;return Hi(e,function(n){Hi(r,function(o){if(t===!1)return!1;t=tH(n.geometry,o.geometry)})}),t}function tH(e,r){switch(e.type){case"Point":switch(r.type){case"Point":return!iH(e.coordinates,r.coordinates);case"LineString":return!RM(r,e);case"Polygon":return!gs(e,r)}break;case"LineString":switch(r.type){case"Point":return!RM(e,r);case"LineString":return!rH(e,r);case"Polygon":return!NM(r,e)}break;case"Polygon":switch(r.type){case"Point":return!gs(r,e);case"LineString":return!NM(e,r);case"Polygon":return!nH(r,e)}}return!1}function RM(e,r){for(var t=0;t<e.coordinates.length-1;t++)if(oH(e.coordinates[t],e.coordinates[t+1],r.coordinates))return!0;return!1}function rH(e,r){var t=Ap(e,r);return t.features.length>0}function NM(e,r){for(var t=0,n=r.coordinates;t<n.length;t++){var o=n[t];if(gs(o,e))return!0}var i=Ap(r,e4(e));return i.features.length>0}function nH(e,r){for(var t=0,n=e.coordinates[0];t<n.length;t++){var o=n[t];if(gs(o,r))return!0}for(var i=0,s=r.coordinates[0];i<s.length;i++){var u=s[i];if(gs(u,e))return!0}var l=Ap(e4(e),e4(r));return l.features.length>0}function oH(e,r,t){var n=t[0]-e[0],o=t[1]-e[1],i=r[0]-e[0],s=r[1]-e[1],u=n*s-o*i;return u!==0?!1:Math.abs(i)>=Math.abs(s)?i>0?e[0]<=t[0]&&t[0]<=r[0]:r[0]<=t[0]&&t[0]<=e[0]:s>0?e[1]<=t[1]&&t[1]<=r[1]:r[1]<=t[1]&&t[1]<=e[1]}function iH(e,r){return e[0]===r[0]&&e[1]===r[1]}var $M=eH;function R2(e,r){var t=!1;return Hi(e,function(n){Hi(r,function(o){if(t===!0)return!0;t=!$M(n.geometry,o.geometry)})}),t}var aH=5e3,N2="outdoor-system-debug-container",jM=!1,Es,cr,a0,Od,Cs,wu,Wl,Vo,Bd,s0,r4,n4,Di,$2,Pd,Xl,UM,o4,u0,GM,zM,t4=class{constructor(r){C(this,Di);C(this,Es,!0);C(this,cr);m(this,"idleQueue",new Hl);C(this,a0,"");C(this,Od,new Set);C(this,Cs,new Set);C(this,wu);C(this,Wl);C(this,Vo,null);C(this,Bd,!1);C(this,s0,r=>{if(!a(this,cr))throw new Error("Map not initialized");let n=[[r[0],r[1]],[r[2],r[1]],[r[2],r[3]],[r[0],r[3]]].map(l=>a(this,cr).project(l)),o=Math.max(...n.map(l=>l.x)),i=Math.min(...n.map(l=>l.x)),s=Math.max(...n.map(l=>l.y)),u=Math.min(...n.map(l=>l.y));return[new db.default(i,u),new db.default(o,s)]});C(this,r4,()=>{a(this,Vo)&&(clearTimeout(a(this,Vo)),T(this,Vo,null),T(this,Es,!1))});C(this,n4,()=>{a(this,Vo)&&(clearTimeout(a(this,Vo)),T(this,Vo,null)),T(this,Vo,setTimeout(()=>{a(this,r4).call(this)},aH))});C(this,Pd,async()=>{if(jM&&a(this,wu)){let r=a(this,s0).call(this,a(this,wu));z(this,Di,zM).call(this,r)}if(!(!a(this,cr)||!a(this,Bd))&&a(this,Es)&&!(!a(this,Cs)||a(this,Cs).size===0)&&(a(this,Di,UM)&&a(this,o4).call(this),a(this,wu)&&a(this,Wl))){let r=a(this,s0).call(this,a(this,wu)),t=a(this,cr).queryRenderedFeatures(r,{layers:Array.from(a(this,Cs))});if(t.length>0){this.idleQueue.onComplete(()=>{a(this,Xl).length>0&&(a(this,Cs).forEach(n=>{a(this,cr)?.setFilter(n,["all",...a(this,Xl)])}),T(this,Es,!1)),T(this,Xl,[])});for(let n of t)this.idleQueue.add(()=>{if(n.geometry!=null&&"coordinates"in n.geometry){if(a(this,Wl)==null)return;let o;if(n.geometry.type==="Polygon"?o=Ph(n.geometry.coordinates):n.geometry.type==="MultiPolygon"&&(o=E6(n.geometry.coordinates)),!o)return;for(let i of a(this,Wl))if(R2(i,o)){a(this,Xl).push(["!=",["id"],n.id]);return}}})}}});C(this,Xl,[]);C(this,o4,()=>{this.idleQueue.clearAll()});C(this,u0,r=>{if(a(this,cr)&&r&&r.dataType==="style"&&r.type==="styledata"&&a(this,Od).size>0){let t=r?.style?.stylesheet?.id;(!t||t!==a(this,a0))&&(T(this,a0,t),z(this,Di,$2).call(this),T(this,Es,!0))}});r&&(T(this,cr,r),a(this,cr).on("styledata",a(this,u0)),a(this,cr).on("render",a(this,Pd)),T(this,Bd,a(this,cr).loaded()),a(this,cr).on("load",()=>{T(this,Bd,!0)})),jM&&z(this,Di,GM).call(this)}hideLayersIntersectingPolygons(r,t,n){a(this,Vo)&&clearTimeout(a(this,Vo)),a(this,n4).call(this),T(this,wu,r),T(this,Wl,t.reduce((o,i)=>{if(i.geometry.type==="Polygon"){let s=Ph(i.geometry.coordinates);o.push(s)}else i.geometry.type==="MultiPolygon"&&o.push(...i.geometry.coordinates.map(s=>Ph(s)));return o},[]));for(let o of n)a(this,Od).add(o);T(this,Es,!0),z(this,Di,$2).call(this),a(this,Pd).call(this)}destroy(){a(this,cr)&&(a(this,cr).off("styledata",a(this,u0)),a(this,cr).off("render",a(this,Pd))),this.idleQueue.clearAll()}};Es=new WeakMap,cr=new WeakMap,a0=new WeakMap,Od=new WeakMap,Cs=new WeakMap,wu=new WeakMap,Wl=new WeakMap,Vo=new WeakMap,Bd=new WeakMap,s0=new WeakMap,r4=new WeakMap,n4=new WeakMap,Di=new WeakSet,$2=function(){if(T(this,Cs,new Set),a(this,cr))for(let r of a(this,Od))a(this,cr).getLayer(r)&&a(this,Cs).add(r)},Pd=new WeakMap,Xl=new WeakMap,UM=function(){return this.idleQueue.size!==0},o4=new WeakMap,u0=new WeakMap,GM=function(){if(!document.getElementById(N2)&&a(this,cr)){let r=document.createElement("div");r.id=N2,r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.bottom="0",r.style.right="0",r.style.pointerEvents="none",r.style.zIndex="1000",a(this,cr).getContainer().appendChild(r)}},zM=function(r){let t=document.getElementById(N2);if(!t)return;let n=document.getElementById("bbox");n==null&&(n=document.createElement("div"),n.id="bbox",n.style.position="absolute",t.appendChild(n));let o=[Math.min(r[0].x,r[1].x),Math.min(r[0].y,r[1].y)],i=[Math.max(r[0].x,r[1].x),Math.max(r[0].y,r[1].y)];n.style.top=o[1]+"px",n.style.left=o[0]+"px",n.style.width=i[0]-o[0]+"px",n.style.height=i[1]-o[1]+"px",n.style.border=`2px solid ${a(this,Es)?"red":"blue"}`};p();p();p();p();var i4=`attribute float pathDistance;
attribute vec3 pathNormal;
attribute vec3 pathTangent;


uniform vec2 uvScale;
uniform float vertexes;
uniform float complete;
uniform float nearRadius;
uniform float farRadius;
uniform float nearZoom;
uniform float farZoom;
uniform float pulse;
uniform float pulseLength;
uniform bool pathIsVertical;
uniform bool displayArrowsOnPath;
uniform vec2 cameraParameters;

varying float zoomLevel;
varying float radius;
varying vec2 fragTexcoord;
varying float fragTopTextureU;
varying float fragPathDistance;

uniform float highlightStartFraction;
uniform float highlightEndFraction;
uniform float highlightCompleteFraction;
uniform float highlightWidthMultiplier;
uniform vec3 highlightColor;

float flattenFactor = 0.0;
// Map the x value from the range [xMin, xMax] to the range [yMin, yMax] using
// linear interpolation/extrapolation.
//
// This performs a pure linear mapping y = mx + b where
// 'm = (yMax - yMin) / (xMax - xMin)',
// 'b = -xMin * (yMax - yMin) / (xMax - xMin) + yMin'.
float remap(float x, float xMin, float xMax, float yMin, float yMax) {
	return (x - xMin) / (xMax - xMin) * (yMax - yMin) + yMin;
}

// Map the x value from [xMin, xMax] to the range [yMin, yMax] using linear
// interpolation, clamping result values outside [yMin, yMax].
float clampRemap(float x, float xMin, float xMax, float yMin, float yMax) {
	return clamp(remap(x, xMin, xMax, yMin, yMax), yMin, yMax);
}

void main() {
	fragPathDistance = pathDistance;

	// We can get an origin point for the cross-section of the path by
	// subtracting the surface normal times the radius, since the surface normal
	// points strictly away from the centre.
	vec3 origin = position - nearRadius * normal;
	
	// Inflate the path along its surface normal to increase its radius from
	// 'nearRadius' to 'farRadius' when the camera is at 'farZoom'.
	vec3 adjustedPosition = position;
	zoomLevel = clampRemap(cameraParameters.x, nearZoom, farZoom, 0.0, 1.0);

	// expansion factor uses the zoom level to increase/decrease the radius
	// for fixed widths, this number is ZERO
	float expansionFactor = (farRadius - nearRadius) * zoomLevel;

	adjustedPosition += normal * expansionFactor;


	// TODO: optimize by removing branching
	bool isHighlighted = fragPathDistance >= highlightStartFraction && fragPathDistance <= (highlightEndFraction * highlightCompleteFraction);
	// adjust the color based on the highlight but only if the fragment is within the highlight start and end
	if (isHighlighted) {
		// we have to subtract 1., don't ask why
		adjustedPosition += normal * (highlightWidthMultiplier - 1.) / 2.;
	}
	

	// Determine how far the path extends "up" or "down" in the direction of the
	// path normal.
	float height = dot(adjustedPosition - origin, pathNormal);

	// For horizontal paths, flatten the bottom half entirely so that it's flat
	// against the floor. This makes the path look nicer when it's
	// semitransparent behind opaque geometry, so you don't see it
	// peeking through. For vertical paths, preserve the full tube geometry.
	if (!pathIsVertical) {
		float desiredHeight = max(height, 0.0);
		desiredHeight = desiredHeight * flattenFactor;
		float flattenMagnitude = height - desiredHeight;
		adjustedPosition = adjustedPosition - pathNormal * flattenMagnitude;
	}

	// Transform the vertices into NDC.
	vec4 mvPosition = modelViewMatrix * vec4(adjustedPosition, 1.0);
	gl_Position = projectionMatrix * mvPosition;

	fragTexcoord = uv;

	// Compute a texture coordinate for mapping the arrow texture to the path.
	// We don't want to use the u-value that Three.js provides, because the
	// path may end up twisting arbitrarily -- but we want the arrow texture to
	// always be on the top of the path.
	vec3 bitangent = cross(normal, pathTangent);
	fragTopTextureU = -dot(bitangent, pathNormal) * 0.5 + 0.5;
	// adjust the color based on the highlight but only if the fragment is within the highlight start and end
	if (isHighlighted) {
		// TODO: fix scaling
		fragTopTextureU = -dot(bitangent, pathNormal * highlightWidthMultiplier) * 0.5 + 0.5;
	}

	radius = mix(nearRadius, farRadius, zoomLevel);
}
`;p();var j2=`#define ARROW_FADING_POINT 0.15

uniform float complete;
uniform float nearRadius;
uniform float farRadius;
uniform vec2 resolution;
uniform vec2 cameraParameters;
uniform vec3 color;
uniform float pathLength;
uniform bool showPulse;
uniform vec3 pulseColor;
uniform float pulse;
uniform float pulseLength;
uniform bool pathIsVertical;
uniform bool displayArrowsOnPath;
uniform float arrowAnimationTimer;
uniform float opacityMultiplier;
uniform bool dashed;
uniform sampler2D arrowTexture;

varying float zoomLevel;
varying float radius;
varying vec2 fragTexcoord;
varying float fragTopTextureU;
varying float fragPathDistance;


uniform float highlightStartFraction;
uniform float highlightEndFraction;
uniform float highlightCompleteFraction;
uniform vec3 highlightColor;

// How long the arrow should be, as a factor of pathRadius. Since we've
// mostly flattened the top of the path, values near 2.0 (the diameter)
// will probably look best.
const float arrowLength = 2.0;

// How much of a relative margin the arrow texture should have inside the
// area laid out for it. Useful to pull the arrow away from the edges of the
// path, which slope down.
const float arrowMargin = 0.1;

// How many arrow-lengths of space should be between arrows on a short path.
const float arrowSpacingOnShortPath = 6.0;

// How many arrow-lengths of space should be between arrows on a long path.
const float arrowSpacingOnLongPath = 7.5;

// How long a path must be to be considered "long", as a factor of
// the path radius.
const float longPathLength = 200.;

// How long a path must be to be considered "short", as a factor of the
// path radius.
const float shortPathLength = 75.;

// How much of the path's length the fade-in should comprise when going from
// zero opacity to full opacity.
const float completeLength = 0.1;

// Map the x value from the range [xMin, xMax] to the range [yMin, yMax] using
// linear interpolation/extrapolation.
//
// This performs a pure linear mapping 'y = mx + b' where
// 'm = (yMax - yMin) / (xMax - xMin)',
// 'b = -xMin * (yMax - yMin) / (xMax - xMin) + yMin'.
float remap(float x, float xMin, float xMax, float yMin, float yMax) {
	return (x - xMin) / (xMax - xMin) * (yMax - yMin) + yMin;
}

// Map the x value from [xMin, xMax] to the range [yMin, yMax] using linear
// interpolation, clamping result values outside [yMin, yMax].
float clampRemap(float x, float xMin, float xMax, float yMin, float yMax) {
	return clamp(remap(x, xMin, xMax, yMin, yMax), yMin, yMax);
}

void main(void) {
	// Compute the opacity of the path based on the distance from the current
	// fragment to the 'complete' value as it varies from 0.0 to 1.0.
	// Fragments that are at the 'complete' value or past it will be fully
	// transparent, while fragments that are at 'complete - completeLength'
	// or before it will be fully opaque. However, we adjust the 'complete'
	// value here so that it overshoots by one full 'completeLength', so that
	// the entire path will be opaque when the 'complete' value is at 1.0.
	float completeLocation = complete * (1.0 + completeLength);
	float completeAmount = clampRemap(
		fragPathDistance,
		completeLocation - completeLength,
		completeLocation,
		0.0,
		1.0
	);
	float opacity = 1.0 - smoothstep(0.0, 1.0, completeAmount);

	// 2020/01/09 Terence Dickson
	// When we render the background and overlay for the mapbox outdoor context
	// behind everything else in single-buffer rendering, the fact that the path
	// writes to the depth buffer means that the background and overlay will not
	// be drawn behind the path even when the path is still fading in. The effect
	// is subtle and is only visible in single-buffer rendering so this quick fix
	// prevents writes to the depth buffer for zero opacity fragments, which gets
	// rid of the most visually-offensive ghosting.
	if (opacity <= 0.0) {
		discard;
	}

	// Push in the texture coordinates so that they ramp up
	// at 'arrowMargin' instead of at zero; this remapping looks somewhat
	// like this:
	// 1 ^        ___
	//   |       /
	//   |      /
	//   |     /
	//   |    /
	//   |___/
	// 0 +---------->
	//   0   ^      1
	//       arrowMargin
	// Making the arrows narrower on the path.
	float u = fragTopTextureU;
	u = clamp(
		u * (1. / (1. - arrowMargin * 2.)) - (1. / (1. - arrowMargin * 2.) - 1.) / 2.,
		0.0,
		1.0
	);

	float arrowSpacing = clampRemap(
		pathLength,
		shortPathLength * radius,
		longPathLength * radius,
		arrowSpacingOnShortPath,
		arrowSpacingOnLongPath
	);

	// Reduce the spacing between arrows when the camera zooms out, as increasing
	// the path radius will increase the arrow size and thus be able to fit
	// fewer arrows on in total, and this secondary movement of the arrows
	// "zooming off" the end of the path is unpleasant
	float expandAmount = mix(1.0, farRadius / nearRadius, zoomLevel);
	float effectiveArrowSpacing =
		arrowSpacing * 1.0 / expandAmount +
		arrowMargin * 2.0;

	float effectiveArrowLength = arrowLength * radius * (1. - arrowMargin * 2.0);

	// Adjust the slope of the vertical texture coordinate so that it goes
	// from 0 to 1 along the length of the arrow plus the spacing between
	// arrows, and adjust its x-intercept so that one arrow moves to the
	// exact position of the next arrow as 'arrowAnimationTimer' goes
	// from 0 to 1
	float v = (
		fragTexcoord.x * (pathLength / effectiveArrowLength)
		- arrowAnimationTimer * (1. + effectiveArrowSpacing)
	);

	// Compute a "looping sawtooth" wave for determining the vertical texture
	// coordinates of the arrow texture, roughly as follows:
	// 3 ^              /
	//   |          ___/
	// 2 |         /
	//   |     ___/
	// 1 |    /
	//   |___/
	// 0 +--------------->
	//   0   ^ ^
	//   ^   |_|
	//   |   effectiveArrowLength
	//   |___|
	//   effectiveArrowSpacing
	//
	// This is effectively equivalent to this sort of sawtooth wave:
	//   ^
	// 1 |    /    /    /
	//   |___/ ___/ ___/
	// 0 +--------------->
	//
	// Causing the image of the arrow to repeat, with dead space (the bottom
	// edge of the texture stretched out) between the arrows at the provided
	// spacing. The reason why the "looping" design is preferred is because
	// it takes advantage of WebGL's 'GL_REPEAT' texture wrapping behaviour
	// to avoid the discontinuity that can end up causing visual artifacts.
	if (mod(v, (1. + effectiveArrowSpacing)) < 1.) {
		v = v - effectiveArrowSpacing * floor(v / (1. + effectiveArrowSpacing));
	} else {
		v = ceil(v / (1. + effectiveArrowSpacing));
	}

	// Use the r-component of the texture to determine whether the arrow covers
	// this fragment or not
	vec2 sampleTexcoord = vec2(u, v);
	float arrowAmount = 0.0;
	vec3 secondColor = pulseColor;

	vec3 finalColor = color;


	
	// adjust the color based on the highlight but only if the fragment is within the highlight start and end
	// [Anzor] I added 0.005 to make the highlight transition a little smoother when the width multiplier is too high
	if (fragPathDistance >= highlightStartFraction - 0.005 && fragPathDistance <= (highlightEndFraction * highlightCompleteFraction)) {
		finalColor = highlightColor;
	}


	if (displayArrowsOnPath) {
		arrowAmount = texture2D(arrowTexture, sampleTexcoord).r;
		float delta = 1.0 - abs(fragPathDistance * 2.0 - 1.0);
		secondColor = mix(finalColor, pulseColor, 1.0 - smoothstep(ARROW_FADING_POINT, 0.0, delta));
	}

	if (dashed) {
		float dashLength = 0.1; // Adjust this value to change the dash length
		float gapLength = 0.1; // Adjust this value to change the gap length
		float totalLength = dashLength + gapLength;
		float numSegments = ceil(1.0 / totalLength);
		float adjustedTotalLength = 1.0 / numSegments;
		float adjustedDashLength = adjustedTotalLength * (dashLength / (dashLength + gapLength));
		float pattern = mod(fragPathDistance, adjustedTotalLength);
		opacity = pattern < adjustedDashLength ? 1.0 : 0.0;
	}



	if (showPulse) {
		// Add the pulse color to the path by determining how far the current fragment
		// is from 'pulse'
		float pulseLocation = remap(
		pulse,
		0.0,
		1.0,
		-pulseLength,
		1.0 + pulseLength
		);
		float pulseDistance = smoothstep(
		0.0,
		pulseLength,
		abs(fragPathDistance - pulseLocation)
		);

		// Blend the pulse color to the path based on how close this fragment is to
		// the 'pulse' value and whether it's covered by an arrow -- but if it's
		// covered by *both*, then we go back to using the regular path color
		// (making arrows look like "holes" when they're overlapping the pulse.)
		float pulseLevel = abs(1.0 - pulseDistance - arrowAmount);

		
		gl_FragColor = vec4(mix(finalColor, secondColor, pulseLevel), opacity * opacityMultiplier);
	} else if (displayArrowsOnPath) {
		gl_FragColor = vec4(mix(finalColor, pulseColor, arrowAmount), opacity * opacityMultiplier);
	} else {
		
		gl_FragColor = vec4(finalColor, opacity * opacityMultiplier);
	}
	#include <colorspace_fragment>
}
`;p();var VM=`uniform float complete;
uniform float nearRadius;
uniform float farRadius;
varying float fragPathDistance;
const float completeLength = 0.1;

// Map the x value from the range [xMin, xMax] to the range [yMin, yMax] using
// linear interpolation/extrapolation.
//
// This performs a pure linear mapping 'y = mx + b' where
// 'm = (yMax - yMin) / (xMax - xMin)',
// 'b = -xMin * (yMax - yMin) / (xMax - xMin) + yMin'.
float remap(float x, float xMin, float xMax, float yMin, float yMax) {
	return (x - xMin) / (xMax - xMin) * (yMax - yMin) + yMin;
}

// Map the x value from [xMin, xMax] to the range [yMin, yMax] using linear
// interpolation, clamping result values outside [yMin, yMax].
float clampRemap(float x, float xMin, float xMax, float yMin, float yMax) {
	return clamp(remap(x, xMin, xMax, yMin, yMax), yMin, yMax);
}

void main(void) {
	// this ensures that the stencil mask moves along with the path above it, to avoid the progress bar effect
	float completeLocation = complete * (1.0 + completeLength);
	float completeAmount = clampRemap(
		fragPathDistance,
		completeLocation - completeLength,
		completeLocation,
		0.0,
		1.0
	);
	float opacity = 1.0 - smoothstep(0.0, 1.0, completeAmount);

	// 2020/01/09 Terence Dickson
	// When we render the background and overlay for the mapbox outdoor context
	// behind everything else in single-buffer rendering, the fact that the path
	// writes to the depth buffer means that the background and overlay will not
	// be drawn behind the path even when the path is still fading in. The effect
	// is subtle and is only visible in single-buffer rendering so this quick fix
	// prevents writes to the depth buffer for zero opacity fragments, which gets
	// rid of the most visually-offensive ghosting.
	if (opacity <= 0.0) {
		discard;
	}

	gl_FragColor = vec4(0.0, 1.0, 0.0, opacity);
}`;var HM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAAAAAB5Gfe6AAAQkHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZpZciQ7rkT/uYpeAicQ5HI4mr0dvOX3ATOl0li3q3SVJkUqFMEBcHc4IuX2///fcf/hK7cSXRatpZXi+cott9h5U/3j63EMPt+fL1/h+fPdeff6NnJMHNPjD2U/7+qcl183aH6eH+/PO52PN7E+B3qZ+Tlgspkjb57X1edAKT7Oh+fvrj3v6/nNdp7ftd057abHnz78npVgLGG8FF3cKSTPz2oXJFaQWuocCz9D0mhnEu8Tx54k6dexc98F77vY+f48n96HwvnyvKB8iNHzfJCvY3cj9HZF4dfM7/6QZ4j+7deb2J2z6jn7sbueC5Eq7rmpl63cd1w4GCrd2wov5Vt4r/fVeFW2OMnYIpuD13ShhUi0T8hhhR5O2Pc4w2SJOe5IuGOMM6Z7rhL+FudNSrZXOFFJz3KpkqtJ1hKn4+tawp233flmqMy8AlfGwGCBOz693Fcn/+b1OtA5Bt0QfH2NFeuKFnCWYZmzn1xFQsJ5xlRufO/LvcGNf5PYRAblhrmywe7HY4gh4Re20s1z4jrx2fkHNYKu5wCEiLmFxYREBnwJSUIJXmPUEIhjJT+dlceU4yADQSSu4A65SamQnBptbu7RcK+NEh+nkRYSIZBGSQ0EIlk5C/jRXMFQlyTZiUgRlSpNekklFymlaDGN6po0q2hR1apNe001V6mlaq211d5iS0iYtNLUtdpa651JO0N37u5c0fuII408ZJSho442+gQ+M0+ZZeqss82+4koL+q+y1K262uo7bKC085Zdtu662+4HrJ108pFTjp562umvWXtm9X3WwofM/T5r4Zk1y1i+1+mvrHFa9WWIYHIiljMyFnMg42oZANDRcuZryDla5ixnvkVIIZGsBbHkrGAZI4N5hygnvObuV+Z+mzcn+Y/yFr/LnLPU/RuZc5a6Z+Y+5+2LrK1+K0q6CTIWWkx9OggbF+zaY+1Wk/766H46wF8ONFY+O8hBMEc7oc4Vdh+8JsE+PUSrVjr70Zz1+H56PH3o9sRR1ql5Ha8bUMQxpe89Tki8Sb0tE23cw3DcfEo+ugnj2G3WEmononVfoag71pVjR+EmAE53eT5tqYfEHl/7ThMusaI+St0jktFa9gKnreiQqCNpZ2mJdSkbaiK6DrovYR4/JhJfRsx5d5EVZnEIPetHnU5KynJPTSuCPuC0lOuXH7n1DNq7DpUtHbhM5lDA0c2bnDCJoOObMnyj+aPjPwx0yiDUxKKsg35VnRnBEVhonKwK5hOk5NttUrhr2+tMOXkPJb1RZ+iAelYjL2MuO3pGRQ78GdxwOOaTAcJZcewq7ilB1RJCSozUdSEdwVJVb6asiBsHH1Bqgbiv3Cmkkis6ktVnZGRRwMNJjUA3Ao2127YWdhAIblxF51hzMcZsVZc0r0dJo5Liqfn41Q+q193SGhhkMkgaLJRNnEpqBtyVvbcVffIk+LE9QPFBTMTQe0aWkMXMnx3dy5sfHreDE60Ql50E+SqRcmfK16L2p0Ol8JFATu3qASXy7SvmiGW2cdMBxsty44CvtLogfGlv7WkCSV0WId2270EaD5Ym40cs+SAwZuNjPSTywAvEfLmzQhtLDntfCnhl/fNmUNnzyA2g76Zn0SP+c+I6bCC0FONUQ4L50e95dif+DH/m9htQjBEhPPpOjYjmm2ChbfEMIUaYtAIxmWJHlilLU8ZRs9pCsHbDpFaRgZljz2QandjDIBPZDGTuoZW1KdlYh52ALzisKJRNWSQmLAWx8iv9mGttT15bBc2oxd57bZtVF98CYtK3UH22Yd/A7WaKa+ZjNTOXEzNhMJ5kmQOvfzsbxbZALJ2xwGBjX2HFQybhi7kpbA7DVpS3RxMJwFyHwGk5gs6a4lrRHVqhYT0QTJC9UZcC9Yrelkn6yXch68NKNtG7CiU3vf/zMZAYXPWdrR9XZ/ctMV1sJQ2wJEGxzaHs7LmmHIwnUwbwnNAapBY9xhE19DNJW3ua0dDk/AjwITacR0PqZxkbyJ+E5jYbxI84x1TBE+y90hwDCYZIM0tqAKPZfCzFrbH8kYCm3eqQkZ2+2GovcL8Suokyg8yyCJes6dcouSLiNSLb0ETJU+/N/WFsBBSOXBbm9Cwp4CzlOag7ro7R2vC19nSsCPmAjIEMiobFwaoVXhjTU2XMpgEsDH/L3Sx54OCTMUSXI/IIA2V4QcLQpwVz12pInI0bY56pIQ2BSGRLL+yLfZ7JkiimbK+aepsbwRStpokx5gCqe1hjdMAwcINbkk5jmedrNRAG5pUXPe0sZIoXy1h7lSDxApzheg24JeDNtDS1oBDBUC4iWZFilBPhZx0Kqx2lihpbG9q4sYidksCN4yRYhNM4nxfBbTi4E3AT6B3igbvs9Gv8ZkHsIfdlep+2HelEDbkJdNjqZQ90B7k6OIoFfkkPNoY+z0gzACa1f2qcBYxVJpT2QQgS19dKQlbC24S92xiEAFRKB5Uy1qrBgOtwIge55G0kRPfIytGx0tMOrGfrijB2FHOk/TKcMjDTMPeBo4FnXD5cQ8vtdgoAN0yuzZQHQI09wm/5vAB6RHyI9rYKiZ6YWC6rbaiLmDtoaToC1bViXQFNtgWsOfEEKCleC3GWPSfgQWRQWMgw/9FDgvOZrFAT3SmsA3DLbqlsSppQG5QeOjPXavUUkxF/qgLM05vW5o7UakuBqo2ZW8Nj0LB7imVJC9QSA+wd7RPztIUZ80xQZq0ROrc8CSVncWzkTA/RwmunldCPAQKjqVC7bhRuTIv0plbk7gOX4m5OAi2YesYZ0KBQRToG8iv9x8dgGtgECYRBeEU87OxoSc8epu+s7Mq/MN0VbBT19dii7ekO66UZwdAMtoAVQd13J5nwZe98OgGslmVqAGBkeLZNVNVlWpV18qihntXKnBZvrDIVgFpx4q5poLqREOVplMPSpTF2KvjBAzDpprkruXIaaUmUD4Xo2yrGWcYlixKIwRFjl0jPQhKznUXZAoSjlg9c/NwAI4p3Q/w5bCNfhUZS7bGfqesHqKAlyZZxZgNrhGevZXccaqBys4NEqB3Vqfptji9uUrhCL6yXFqxtm0hhLyYU3Tjd8I/HZaWD1oyVjnG5hhpCN5yHSf8BQUZlVNd00OP4M0TK+JSM7iqWi01SinFkCQXWxiZJLqqAHiEt3G3I2WYd46KU9pIJIOkoRQYCcEAAPguHo0Y4k8Hl6SW50MoW0uZU8jJOUghKo38Nl5ZSwsJNAUC2/lFZWkfMjrU8dFrTjHpJnUrLCILQIxINiYdQlDXaE/razQ4jjQluN5jW1Eh/S7yYvI5gigSjdLYU9TiFXAcHjISiLhQd9obb3OQmwY+YqVwiBMCkOGLXaK/ljBShh56c1g0uyIb2lBRKO7ZTAFncw5c5UGjGSy3CsI1Jt2mtruZkfhBZmbR+842Yu1eDiWEl0V6LZcGem6Ct+LW4Wy3oAjyNObazKBHomhJ3HMKEKHgiGksH+Ig1nTidfNMyA+oYHqVFaRGLiQreVLc9GvQgftKjW9cfUSKNYL80rqU7Um2rwqQJR1ai31Wq7vzKJEsFHDj0bAEMUKXgvfD5bWbaLPBTKz1Nk/Fg+GUZvUzFw80CLaKtPAACVAWrismh863FU4IJ0716SXBUNVb/SDMVvZgDt34CXoOq1JKvg0n08gPHTwXBNgD5W8pZZ8E9EVWcv1DZMB2NFysIwkqBSaH5QRmsAHdkHB+UANvLJvFpQKAahSmYTLEd2AFO+5rsqRRU6sVv5IP0wsSPLcWsbC1Y95mte71CUm6RJJWwkg6Q4k+xWMM0ByElJPQ6j2ED5hY42ALpZRytx9RlgQlJLijzhKi5eX5JBSIRGfo9o2xhd/0aWku8OS+4D9ZnovHDQMPaYo4qm2mlZbUnd7pR6oQj29Z2BqJ9n3LRT+MTLu3IR+ZP2TCPh3EDw8H1NHpoT7FibNYU8WHd9ESHcY12aDOQCUBddi4Ucp+4yuzz8ybcCCu1h8zvzXhDN4HYLq1R+U0xzUqg5QSA3iSBgdDouy55Ifx0DaeEhgezxBRGmoEJ6AJitVuzwtKPlUskHgU2F0LS7AFIwW5jPu0RUL7sp+fkNk0ee8P6uXYgl40WM+cdCOW21r13e0ivt0ff/mYcUfrQZWs2BiN6G+MDTGz1BKORmUTNQp9YGSHFxAeTkQrKd6FoVUogyytW25OLy3OpaO5oZCQp46aPzb5LnJiFEIwAKkmbYVYIjzVv3vj7rA6HignEeQAXTAHKDhoD7Uujh0QjtsB6fTP1NzO7T1Nzq4F1GnfHdXCG1Yxjwdtjf+PGRGTzEtEAUCz7KLfTdItLwCXuSOAzVjaZB6LvbUZhYGWmifSZlcMDnGHPd6gPeiK9erhpiw7ZP9ahTrMhFDa1J53m9ri2DloziqGETTcVSppCbTDDjExg6RrZ6cPEzB8XArEjQSB29odrUoLyoS/65RfM9fprGGjlHpbhGgbYD8MtmW1eFcAWX5dbcMHcl8sUI2k+H7GPW9VrArw3G+BefcCrCaAT/N53YLvP26Uy0kMFnDEZz0DJkmQqEOlL7SlKweYhH8gxpYeAYi0f9magqPbMYZuUI6007lSZQoyoGfYQHsNRzHXR3MMINTSMZpq1KD2A5MDJgtMLdRU6R4CEOJcKGiIJ7K6P/vAM6xpECHI8rRHsaEj6smkngAUjXTzrRoSI48ZpHOqgOY5OejKVdpnmiYUChQnVdIPa6ekGqRSRgEO119oDHOiIUQ5ciYVgaF1oG8Udo8WYtD+DEi8D/w8rAJE2k2PoyV0oMtpauxreaFjpujAvxFlwBhjuNqM9P0IfI5iD8Nh8y1kG4igjJkDNkOijnlLhItAd9lhRd670yNRTu95cR/Xuu0c5WO4DEFk5YQAPtLvU4TYPGRh4APPEDNiuuwR6SC21JoFbQBBMr+zJmT32QplNI6p16PbculN/pCX1wAyTWGTeJ774aln0gvQikw7TmkfsNbdQNs0adutYUDqNtGc0RqngUYdhUYuHSL1/eLrgvqDTC5neu++vufRkEgP9D2T64Kg/c4n+s7k3dDr3me8nOr0c72MRNmgF7D4WySPP0YAI/bI4eixwc7K13QiRiL85A8fnSsUj+mvTrsZtVUEQZ6sTpVafW8nYJZyaZS0U+0xIb6et9PhhtoObozQbjKAoDf6eiFgx1UUvpUYj1GweH0MNMrofhynfWn7+KYu7n5r83hN9aqm+6qjcH7dUlgvZVLV3xqq4fbP16qv+eofuTz43eomAqfS7GBAB9zEE31WJ37eVIPtdGN5A8nMYPvvLt8t2/V/6gM19G4g/hIL7UXf9JgbuLRZ+AoW//AzyMxTcWyz8BAruLRZ+AgX3r3y2+mT/PwfiN1DoVI+QT3CZDmvb8022JeYb6HiQPQpPPvboFB+i1MZdcqWZqthHmix6vttw0UAI1z8oEnGwVe++c7JamxslC+8xKJE41XJmug1npz+6CUAKyURd9gSxo+kWxvtZth848GBlws/0SKjYhmbZ9IiV+mcGBSdWHk8sqSr2zz5J7QME/0yD+z4Pe+JuGn1MV/vUyZwOHojWPlmPXgf9CuoeN9UAT+FGwaLg44v3dWe6QpvuL3Ln/p3k/2AgqNDcfwHgqUmIIqn+hwAAAAJiS0dEAACqjSMyAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH4wYRESAMujenGAAAB9FJREFUeNrtnWlsFVUUx899fS1gUoKioEY+WBRUEohGkUhAKxgEjSgGoRGB4AJCNKAIJBJZJSiyGYMKKkIoLlEUKhUraxFkKUE2kU1aCrRgW2jpg9f29R2/sBTo67v3zL2zvfP73MzM+XU6mf+5504BGIZhGIZhGIZhGIZhGMZGGq3JvSmR62++BXHH7Ylbf9ouRMT99yVq/e0PICIiHumUmPV3PooXOf5EItafXoCXOdUn8ep/pgjrUDY40ervX4JXUTEiocoXL5/FawiNEwlU/6hzeB3hqQljQIwJYT3UzEkQA2JiGOslsiAhDIgZ1RiD6NIEMBD8NIKxyQr6vv7FtdgQa31uILg0ig2zsZmv4//yePUj7rjNv/U3yUEJ/r7Xr/XfvBmlOPKwT+vfhpIUdvdj/Wm7UZpTz/mv/g4HUYGyQb5r/+SjEhXD/VV/j5OoSGisj16LRe9iVCY8xTcGxIulSKBmtk8MiKHlSMIn8ViMqkQivojHgfcuIJ0VAc/XPzmMVljrcQOBmdVojY1NvVx/8mcRtEqeh+NxypJatM6+ezxb/7Io6uBwR4/e/1moicJunvz956A2ip/1Xv3Nt6JGSgd6rf47/0KtlHssHrfZi5rxVDwWDx5C7XgoHotHC9AANbO8YqBXERohMt8bv/8X/kNDRDM9cA+IgWVojhWuNxAYXo4mWePyeBwYHUKz5Lo6HidNvICmybvVxfXPqEbz7Gvr2vrn1KAdHH7IpX//8yNoD8dcGY+TM6NoF26MxzLTL26Mx0majtM4q5ed7yhNulVsd5WAxqset/mGS6/d5CIBLXI62/7I6ZKyzjUC0rIfsP+hE3zkxt9c8vy7tPnJbiKfuyP+Xdn8ZDeuiMei+zF0juWOGyBNv+iMxw4bEBkl6CzOxmPx6ll0mryWDtb/ViU6z17H4rEYG0I3cMiheByYFEZ34Ew8Dn5UjW7BiXisY/rFDfGYmgWCCwcngXto0q08z1YBSUsy3NWgb5Qe2WSjgJRlfdy2RJPcNXm9bQIarexpsP5VdxHjcbMcm2Q3/5P64i71U8k/ELuLNsVjcct2cnST+rGg+Jo4XmhLPBZ376GOfoOkAIB5NWTHxuu/nzj9ElkA8gLgA+pLlvF43IU4/VI9G1QEAHnIPjfVaP1PnqRdVngKqAkActDMa2Hw/u9zijjjNg5UBcBr1FbD3jbG6h9QSruk8ovfyFESABnUWSNT8VgMI06/lF7aBqomAJ4n3m+G4nHgbeJfZfHljcCKAqDHcWo87m2g/gnE53LhlS+lqQqATv9S4/FL2u//qcT2T34XoAuAdvuJBspf11z/LOKbyYG6q4bqAqDVTqKByjFa21/U6ZfdaWBNADTdTDQQnqSv/pRMYjrZevVLCUUAiF+JBqpnaqv/J2I+zb3mxZwkAMTPDq8ep1A3P/1y3ZOEJABgiaPxuOnvxLN/B7oEwELq/sPl1utvSdz8VPsl6BMAn1AbBKut1t96F+3ENXOFTgFiehXRwAZL8Vi0JW5+qppW7+HIAgDGnyca2G4hHouOh2knvTARdAuAkedsj8cinTj9Ujka9AuAV87YHI/F08TNT2eHgQkB0I/aIDhGmuIU/YnnKxkAZgTAU8SGHC0eDyJufiqKfTKrAqBrPtFAiXo8HlFBO1VBA7ebZQHQifhUVo7H4p2QgQeOdQHQbp8t8Tg4idj+2dPgwJIGAdBqhw3xmDz9EuelQ4cASP3DeDwOziW+ecdbldEiACDbcDxOWkBs/8QNHpoEAPXjLNFMmfpv+IZ4+PjRU5cAWGwwHqcQNz/J2NUmAMgjavHjMfEPTGpvvz4BQH1MrzMkoHoW2CsAppEaBFskemQUA+HJYLcAeJfQINgpNVuvbiA0FuwXAG8qNwh2S07WqxqQ/saPXgEwRDGu7W8te2Q1A6XSH0HWLAD6nVa5zoPS9asZKJb/DLZuAdDzhPx1Hu2gkobkDRQq/J8w7QJAfstevuI3+WQN1F39dkAAtP9H7jpPdFVtiMgZOKC0Z9aAAEiT+mrbScLQjIyBXWngtABokRf/kKefonRF4xvYqrjmYEQApG6Md8SyvrS+eDwDG5QbzUYExL3QMxnUlZGGD5wFbhEADQ7YVwyhr401YCD6LbhHACyK3SA4N9TK6mhMA5EvwE0CYF6sBkFopLXl8exYq9/gLgHwYf3x+PxoqwMC9RoIvw9uE1D/gH3VeOsjItnSq9/OCqhvwL5qAoABA5XU28qsAHjj2tW8mukABgzEXP12WgAMvrpBEPkYwICB2KvfjguAvnUH7GvnARgwUGRhEt24gLoD9tGvAAwYKLDyySzzAqDzpQH76CIAAwYOWtqNYoMAaH9xwP57AAMG9ljbj2SHALhjJyLijwAGDGyzuCPNFgGQuhlxpfw1yR94dfAxi5cmojI/lRyx+rtaX9XDhADr2CVABc//JycWwAJYAAtgASyABbAAFsACWAALYAEsgAWwABbAAlgAC2ABLIAFsAAWwAJYAAtgASyABbAAFsACWAALYAEsgAWwABbAAlgAC2ABLIAFsAAWwAJYAAtgASyABbAAFsACWAALYAEsgAWwABbAAlgAC2ABLIAFsAAWwAJYAAtgASyABbAAFsACWIDToH8FyJUWtVWAALedDoFhGIZhGIZhGIZhGIYxyf+YwEMsIhMo/AAAAABJRU5ErkJggg==";var uH=new Mh;function ZM(e,r,t){let{breakpoint:n,width:o,accentColor:i,completeFraction:s,isVertical:u,visibleThroughGeometry:l,dashed:c,highlightCompleteFraction:d,highlightStartFraction:f,highlightEndFraction:h,highlightColor:b,highlightWidthMultiplier:I}=r,{color:E}=t,v=!0,x=0,D=1/0,w=r.displayArrowsOnPath,S=!0,F=w,P=typeof o=="object"?Number(o.output[n])/2:o/2,L=typeof o=="object"?Number(o.output[n+1]??o.output[n])/2:o/2,N=(t.altitude??0)+lH,$=0;e[0].z+=N;for(let K=1;K<e.length;++K){e[K].z+=N;let ae=e[K].x-e[K-1].x,$e=e[K].z-e[K-1].z;if(u)$+=Math.sqrt(ae*ae+$e*$e);else{let Rt=e[K].y-e[K-1].y;$+=Math.sqrt(ae*ae+Rt*Rt+$e*$e)}}if(!u){let K=e[0],ae=e[e.length-1];e.push(ae.clone().setZ(ae.z-.01)),e.unshift(K.clone().setZ(K.z-.01))}let W=new qI;F&&(W=uH.load(HM),W.colorSpace=yh);let V=new ar(E),q=new ar(i),se={vertexes:{type:"f",value:1},resolution:{type:"v2",value:new ke(1,1)},cameraParameters:{type:"v2",value:new ke(x,0)},complete:{type:"f",value:v?0:1},color:{type:"c",value:V},pathLength:{type:"f",value:$},nearRadius:{type:"f",value:P},farRadius:{type:"f",value:L},nearZoom:{type:"f",value:x},farZoom:{type:"f",value:D},pulseColor:{type:"c",value:q},pulse:{type:"f",value:0},pulseLength:{type:"f",value:.075},pathIsVertical:{type:"b",value:u},arrowAnimationTimer:{type:"f",value:0},arrowTexture:{type:"t",value:W},displayArrowsOnPath:{type:"b",value:w},showPulse:{type:"b",value:S},opacityMultiplier:{type:"f",value:1},dashed:{type:"b",value:c},highlightCompleteFraction:{type:"f",value:d},highlightStartFraction:{type:"f",value:f},highlightEndFraction:{type:"f",value:h},highlightColor:{type:"c",value:new ar(b)},highlightWidthMultiplier:{type:"f",value:I}},ue=new i6(e);ue.curveType="catmullrom",ue.tension=0;let ce=30,de=8,Ee=ce*e.length,he=new s6(ue,Ee,P,de,!1),ne=new Float32Array(he.attributes.position.count);for(let K=e.length;K<ne.length;K++)ne[K]=K;he.setAttribute("vertexIndex",new dn(ne,1));let Ce=new Float32Array(he.attributes.position.count),xe=new dn(Ce,1);for(let K=0;K<=Ee;K++)for(let ae=0;ae<=de;++ae)xe.setX(K*(de+1)+ae,K/Ee);he.setAttribute("pathDistance",xe);let Re=new Float32Array(he.attributes.normal.count*3),we=new dn(Re,3);for(let K=0;K<Ee;K++){let ae=he.tangents[K];for(let $e=0;$e<=de;++$e)we.setXYZ(K*(de+1)+$e,ae.x,ae.y,ae.z)}he.setAttribute("pathTangent",we);let Ve=new Float32Array(he.attributes.normal.count*3),me=new dn(Ve,3);for(let K=0;K<Ee;K++){let ae=he.tangents[K];var at,xt,Ot;u?(at=ae.x*ae.y,xt=-1+ae.y*ae.y,Ot=ae.z*ae.y):(at=-ae.x*ae.z,xt=-ae.y*ae.z,Ot=1-ae.z*ae.z);let $e=Math.sqrt(at*at+xt*xt+Ot*Ot);$e===0&&($e=1);let Rt=at/$e,ir=xt/$e,ho=Ot/$e;for(let Ni=0;Ni<=de;++Ni)me.setXYZ(K*(de+1)+Ni,Rt,ir,ho)}he.setAttribute("pathNormal",me);let A=new Us({uniforms:se,vertexShader:i4,fragmentShader:j2});A.transparent=!0,A.alphaTest=.5,se.resolution.value.x=1,se.resolution.value.y=1,se.vertexes.value=ne.length,se.arrowTexture.value.wrapS=im,se.arrowTexture.value.wrapT=im,se.arrowTexture.value.anisotropy=16;let Z=new Pe(he,A),O=Z.clone(),Q={...se,opacityMultiplier:{type:"f",value:.25},pathIsVertical:{type:"b",value:u}};Q.complete.value=1,O.material=new Us({uniforms:Q,vertexShader:i4,fragmentShader:j2}),O.material.transparent=!0,O.material.alphaTest=.5,O.material.depthWrite=!1,O.material.depthTest=!1,Q.resolution.value.x=1,Q.resolution.value.y=1,Q.vertexes.value=ne.length,Q.arrowTexture.value.wrapS=im,Q.arrowTexture.value.wrapT=im,Q.arrowTexture.value.anisotropy=16,Q.complete.value=s,Z.userData=O.userData=r.mesh.userData;let X=r.mesh;if(!l){let K=new Us({uniforms:se,vertexShader:i4,fragmentShader:VM}),ae=new Pe(he,K);ae.name="stencil",ae.material.colorWrite=!1,ae.material.stencilWrite=!0,ae.material.stencilRef=1,ae.material.stencilFunc=Eh,ae.material.stencilZPass=js,ae.material.stencilZFail=js,ae.material.stencilFail=js,ae.material.depthWrite=!1,ae.material.depthTest=!1,ae.userData=r.mesh.userData,X.add(ae),X.add(O),O.renderOrder=0,Z.renderOrder=1}if(X.add(Z),u){let K=new mr().setFromObject(Z),ae=new ie;K.getCenter(ae),X.children.forEach($e=>{$e.geometry.center(),$e.position.copy(ae)})}l&&(Z.material.stencilWrite=!0,Z.material.stencilRef=1,Z.material.stencilFunc=Ih,Z.material.stencilZPass=bh,Z.material.stencilZFail=bh,Z.material.stencilFail=bh,Z.material.needsUpdate=!0,Z.layers.disableAll(),Z.layers.enable(yo.ALWAYS_ON_TOP_PATHS)),he.computeBoundingBox();let Y=new ie;return he.boundingBox.getCenter(Y),{mesh:X,material:A,center:Y}}var lH=.15;var cH=.5,l0=class extends Oe{constructor(t,n,o,i){super();m(this,"rendererState");m(this,"verticalDistanceDirty",!0);m(this,"convertTo3DMapPosition");m(this,"getParentContainer");m(this,"convertZoomLevelToAltitude");this.rendererState=t,this.convertTo3DMapPosition=n,this.getParentContainer=o,this.convertZoomLevelToAltitude=i}update(t,n,o){let i,s=!1;for(let u of this.rendererState.geometry3DIdsInScene)if(i=this.rendererState.geometry3DMap.get(u),i&&i.type==="path"&&i.components[0].type==="path"){let l=i.components[0],c=i.components[1],d=l.isVertical&&this.verticalDistanceDirty;if(!(l instanceof Eu))continue;let f=[];if(l.dirty||c.dirty||d){if(l.mesh.parent!=null)for(let h=l.mesh.children.length-1;h>=0;h--)Ht(l.mesh.children[0]);if(l.feature.features.length===2&&l.feature.features[0].properties.parentId&&l.feature.features[1].properties.parentId){let h=l.feature.features[0],b=l.feature.features[l.feature.features.length-1],I,E,v=h.geometry.coordinates[2]||0,x=b.geometry.coordinates[2]||0;h.properties.parentId&&(I=this.getParentContainer(h.properties.parentId,!0),I!=null&&I.altitude!=null&&(v+=I.altitude,l.isVertical=!0)),b.properties.parentId&&(E=this.getParentContainer(b.properties.parentId,!0),E!=null&&E.altitude!=null&&(x+=E.altitude,l.isVertical=!0));let D=this.convertTo3DMapPosition(h.geometry.coordinates[1],h.geometry.coordinates[0],v),w=this.convertTo3DMapPosition(b.geometry.coordinates[1],b.geometry.coordinates[0],x);Math.abs(D.z-w.z)>cH&&I!=null&&I.visible&&E!=null&&E.visible&&(f=[D,w])}else{let h=l.feature.features;for(let b=0;b<h.length;b++)if(b===0||!W6(h[b].geometry.coordinates,h[b-1].geometry.coordinates)){let I=this.convertTo3DMapPosition(h[b].geometry.coordinates[1],h[b].geometry.coordinates[0],h[b].geometry.coordinates[2]||0);f.push(I)}}if(f.length>1){let{mesh:h,material:b,center:I}=ZM(f,l,{color:c.color,altitude:c.altitude,isVertical:l.isVertical});l.mesh=h,l.material=b,l.position=I}l.dirty&&typeof l.width=="object"&&l.width.on==="zoom-level"&&(l.altitudeBreakpoints=l.width.input.map(h=>this.convertZoomLevelToAltitude(h))),l.dirty=!1}c.dirty&&(l.mesh.children.forEach(h=>{h.name!=="stencil"&&(h.material.uniforms.color.value.set(c.color),h.material.visible=c.visible,h.material.needsUpdate=!0)}),l.mesh.position.z=c.altitude,c.dirty=!1),l.material&&(l.mesh.children.forEach(h=>{let b=h.material.uniforms;if(h.name==="stencil"){l.materialDirty&&WM(l,h.material);return}if(typeof l.width=="object"&&l.width.on==="zoom-level"){l.altitudeBreakpoints&&l.altitudeBreakpoints.length>2&&R.warn("Path width interpolation does not yet support more than 2 breakpoints! This will be added in a future version. Path width will only use the first two breakpoints.");let I=v6(o,l.altitudeBreakpoints?.slice(0,2)??[t,n]);l.breakpoint=I,b.nearZoom.value=l.altitudeBreakpoints?.[I]??t,b.farZoom.value=l.altitudeBreakpoints?.[I+1]??n,b.nearRadius.value=Number(l.width.output[I])/2,b.farRadius.value=Number(l.width.output[I+1]??l.width.output[I])/2}b.cameraParameters.value.x=o,l.materialDirty&&(b.displayArrowsOnPath.value=l.displayArrowsOnPath,b.pulseColor.value.set(l.accentColor),b.complete.value=l.completeFraction,WM(l,h.material),typeof l.width=="number"&&(b.nearZoom.value=t,b.farZoom.value=n,b.nearRadius.value=Number(l.width)/2,b.farRadius.value=Number(l.width)/2))}),l.displayArrowsOnPath&&l.animateArrowsOnPath&&(l.mesh.children.forEach(h=>{h.name!=="stencil"&&(h.material.uniforms.arrowAnimationTimer.value=performance.now()/3e3,h.material.needsUpdate=!0)}),s=!0),l.materialDirty=!1)}this.verticalDistanceDirty=!1,s&&this.publish("animate:path")}};function WM(e,r){let t=r.uniforms;t.highlightCompleteFraction.value=e.highlightCompleteFraction,t.highlightStartFraction.value=e.highlightStartFraction,t.highlightEndFraction.value=e.highlightEndFraction,t.highlightWidthMultiplier.value=e.highlightWidthMultiplier,t.highlightColor.value.set(e.highlightColor)}p();var pr,kd,Ss,s4,a4=class{constructor(r){m(this,"rendererState");m(this,"dirty",!1);C(this,pr);C(this,kd);C(this,Ss);C(this,s4,new Wn);this.rendererState=r}updateOne(r){if(r instanceof ft&&r.components[0]instanceof sr&&r.components[1]instanceof Wi&&r.parentObject3D instanceof ei&&(T(this,pr,r.components[0]),T(this,Ss,r.components[1]),!a(this,pr).detached&&a(this,pr).shouldDetach&&a(this,pr).mesh!=null&&a(this,pr).material!=null&&a(this,pr).batchedProps!=null)){T(this,kd,r.parentObject3D),a(this,pr).visible=!1;let t=new ar(a(this,Ss).color),n=a(this,Ss).opacity*wc(r),o=new tE({color:t,side:ka,opacity:n??1,transparent:n!==void 0?n<1:!1},1,a(this,pr).material.repeatYFactor),i=new FE(1,a(this,pr).batchedProps.positionCount,0,o),s=AM(a(this,pr),i,a(this,s4));if(s==null)return;i.userData={entities:{0:r.id},detached:!0},a(this,pr).instanceIndex=s,a(this,pr).material.setColor(a(this,pr).instanceIndex,t,a(this,Ss).topColor?new ar(a(this,Ss).topColor):t),a(this,pr).mesh=i,a(this,pr).material=o,a(this,kd).add(i),a(this,pr).shouldDetach=!1,a(this,pr).detached=!0}}update(){if(!this.dirty)return;let r;for(let t of this.rendererState.geometry3DIdsInScene)r=this.rendererState.geometry3DMap.get(t),this.updateOne(r);this.dirty=!1,this.cleanup()}cleanup(){T(this,pr,void 0),T(this,kd,void 0),T(this,Ss,void 0)}};pr=new WeakMap,kd=new WeakMap,Ss=new WeakMap,s4=new WeakMap;p();p();function XM(e,r,t){if(e.batchedProps?.range&&e.mesh){let n=r||1e-4,o=n/Math.max(t,1e-4);return V1(e.mesh.geometry,e.batchedProps.range,n,0),e.material&&(e.material.repeatYFactor=o),e.currentHeight=n,!0}return!1}function JM(e,r,t,n,o,i){return e.mesh&&e.instanceIndex!==-1?(e.mesh.getMatrixAt(e.instanceIndex,t),t.decompose(n,o,i),n.z=r,t.compose(n,o,i),e.mesh.setMatrixAt(e.instanceIndex,t),e.altitude=r,!0):!1}var Ti,Ea,l4,c4,p4,d4,u4=class{constructor(r){m(this,"rendererState");m(this,"dirty",!1);C(this,Ti);C(this,Ea);C(this,l4,new Wn);C(this,c4,new ie);C(this,p4,new Ch);C(this,d4,new ie);this.rendererState=r}updateOne(r){if(r instanceof ft&&r.type==="geometry"&&r.components[1]?.dirty&&(T(this,Ti,r.components[0]),T(this,Ea,r.components[1]),r.type==="geometry")){let t=!1;a(this,Ea).height!==a(this,Ti).currentHeight&&(t=XM(a(this,Ti),a(this,Ea).height,a(this,Ea).initialHeight)),a(this,Ea).altitude!==a(this,Ti).altitude&&(t=JM(a(this,Ti),a(this,Ea).altitude,a(this,l4),a(this,c4),a(this,p4),a(this,d4))),t&&a(this,Ti).mesh!=null&&a(this,Ti).mesh.computeBoundingSphere()}}update(){let r;for(let t of this.rendererState.geometry3DIdsInScene)r=this.rendererState.geometry3DMap.get(t),this.updateOne(r);this.cleanup()}cleanup(){T(this,Ti,void 0),T(this,Ea,void 0)}};Ti=new WeakMap,Ea=new WeakMap,l4=new WeakMap,c4=new WeakMap,p4=new WeakMap,d4=new WeakMap;p();var pH={showPolygonLabelTextAreaMesh:!1,showEnvMap:!1,showCollisionBoxes:!1},m4=class{constructor(r){m(this,"state",pH);m(this,"core");this.core=r}update(r){let t={};for(let[n,o]of Object.entries(r))n in this.state&&this.state[n]!==r[n]&&(this.state[n]=o,t[n]=o);this.handleUpdate(t)}handleUpdate(r){r.showPolygonLabelTextAreaMesh!=null&&(r.showPolygonLabelTextAreaMesh?this.core.getSystems().text3DSystem.showTextAreaMesh():this.core.getSystems().text3DSystem.hideTextAreaMesh()),r.showEnvMap!=null&&(r.showEnvMap?this.core.setEnvironment("basic"):this.core.setEnvironment(!1)),r.showCollisionBoxes!=null&&(r.showCollisionBoxes?(this.core.getSystems().collisionSystem.showCollisionBoxes(),this.core.render()):this.core.getSystems().collisionSystem.hideCollisionBoxes())}};p();var c0=9,dH=!1,YM=.1;function mH(e,r,t){for(let n=0;n<r;n++){let o=(t&16711680)>>16,i=(t&65280)>>8,s=t&255;e[n*3]=o/255,e[n*3+1]=i/255,e[n*3+2]=s/255}}var f4=class{constructor(r,t,n){m(this,"state");m(this,"renderer");m(this,"renderService");m(this,"pickingTexture");m(this,"pickingMaterial");m(this,"pixelBuffer");m(this,"width",0);m(this,"height",0);m(this,"scale",1/2);m(this,"color",1);m(this,"convertTo3DMapPosition");m(this,"destroyed",!1);m(this,"enabled",!1);m(this,"backgroundId",16777215);m(this,"resize",()=>{let r=this.state.pixelRatio;this.width=Math.floor(this.renderer.domElement.width/r*this.scale),this.height=Math.floor(this.renderer.domElement.height/r*this.scale),this.pixelBuffer=new Uint8Array(4*this.width*this.height),this.pickingTexture=new e6(this.width,this.height,{format:YI,type:JI,internalFormat:"RGBA"})});m(this,"shouldShowByXY",(r,t,n)=>{if(this.pixelBuffer==null)return!1;let o=r+(this.height-t-1)*this.width,i=this.pixelBuffer[o*4],s=this.pixelBuffer[o*4+1],u=this.pixelBuffer[o*4+2],l=i<<16|s<<8|u;return l===n||l===this.backgroundId});m(this,"activeOccluders",new Set);m(this,"update",()=>{if(!this.enabled||this.destroyed||(this.activeOccluders.clear(),this.activeOccluders.add(this.backgroundId),!this.pickingTexture||!this.pixelBuffer))return;let r,t;for(let o of this.state.geometry3DIdsInScene){let i=this.state.geometry3DMap.get(o);if(i&&i instanceof br&&i.userData.occluderFeature!=null&&i.userData.occluderId!=null&&(this.activeOccluders.add(i.userData.occluderId),i.userData.occluderDirty)){if(r=i.userData.occluderFeature,r.geometry.type==="Polygon"){let s=g1(r,this.convertTo3DMapPosition,{color:"white",height:YM});t=this.createOccluderMesh(s,i.userData.occluderId),i.add(t)}else if(r.geometry.type==="MultiPolygon"){let s=y1(r,this.convertTo3DMapPosition,{color:"white",height:YM});t=this.createOccluderMesh(s,i.userData.occluderId),i?.add(t)}i.userData.occluderDirty=!1}}this.renderer.setRenderTarget(this.pickingTexture);let n=new ar(this.backgroundId);this.renderer.setClearColor(n),this.renderer.clear(),this.state.cameraObject.layers.disableAll(),this.state.cameraObject.layers.enable(c0),this.renderer.render(this.state.entityScene.parent,this.state.cameraObject),this.renderer.setRenderTarget(null),this.state.cameraObject.layers.disable(c0),dH?this.renderService.enabledLayers.add(c0):this.renderService.enabledLayers.delete(c0),this.renderer.readRenderTargetPixelsAsync(this.pickingTexture,0,0,this.width,this.height,this.pixelBuffer).then(()=>{if(!this.destroyed)for(let o of this.state.geometry2DIdsInScene){let i=this.state.geometry2DMap.get(o);if(i&&i?.occluderId!=null&&this.activeOccluders.has(i?.occluderId)){let s=i.components[0].projection,u=Math.floor(s.x*this.scale),l=Math.floor(s.y*this.scale),c=this.shouldShowByXY(u,l,i.occluderId);i.components[0].isOccluded=!c}}}).catch(o=>{this.destroyed||R.error(o)})});if(this.state=r,this.convertTo3DMapPosition=t,n?.renderer==null)throw new Error("No Renderer");this.renderService=n,this.renderer=n.renderer,this.resize(),this.pickingMaterial=new Us({glslVersion:KI,vertexShader:`
				attribute vec3 color;
				varying vec3 vColor;
				void main() {
					vColor = color;
					gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
				}
			`,fragmentShader:`
				varying vec3 vColor;
				out vec4 fragColor;

				void main() {
					fragColor = vec4(vColor, 1.0);
				}
			`})}applyId(r,t){let n=r.attributes.position,o=new Float32Array(n.count*3);mH(o,n.count,t),r.setAttribute("color",new dn(o,3))}createOccluderMesh(r,t){let n=new Pe(r,this.pickingMaterial);return n.layers.set(c0),this.applyId(n.geometry,t),n.userData.occluderId=t,n}reserveOccluderId(){return this.color++,this.color}enable(){this.enabled=!0}disable(){this.enabled=!1}destroy(){this.destroyed=!0,this.pickingTexture?.dispose(),this.pickingMaterial.dispose(),this.pickingTexture=void 0,this.pixelBuffer=void 0}};p();var h4=class{constructor(r){this.state=r;m(this,"dirty",!0)}update(){if(this.dirty){for(let r of this.state.geometry3DIdsInScene){let t=this.state.geometry3DMap.get(r);if(t instanceof ft&&t.type==="geometry"&&t.components[0]?.geometry!=null){let n=t.components[0];n.geometry&&(n.geometry.dispose(),n.geometry=void 0)}}this.dirty=!1}}};p();var g4=class extends Oe{constructor(t){super();m(this,"dirty",!0);m(this,"state");m(this,"texturePromiseCache",new Map);this.state=t}async loadTexture(t){if(this.texturePromiseCache.has(t))return this.texturePromiseCache.get(t);let n=new Promise((o,i)=>{Cu.getLoader().load(t,o,void 0,i)});return this.texturePromiseCache.set(t,n),n}update(){for(let t of this.state.geometry3DIdsInScene){let n=this.state.geometry3DMap.get(t);if(!(n instanceof ft))continue;let o=n.components[6];if(!(o instanceof Vu))continue;let i=n.components[0];if(!(i instanceof sr)||!o.dirty)continue;let s=vs(i);s!=null&&(o.texture!=null&&(o.texture.path===""?(s.texture=null,s.hideTextures(i.instanceIndex),o.dirty=!1):this.loadTexture(o.texture.path).then(u=>{u&&(o.textureInstance=u,s.texture=u,s.blendTexture=!0,s.showTextures(i.instanceIndex)),this.publish("texture-added")})),o.topTexture!=null&&(o.topTexture.path===""?(s.topTexture=null,s.hideTextures(i.instanceIndex),o.dirty=!1):this.loadTexture(o.topTexture.path).then(u=>{u&&(o.topTextureInstance=u,s.topTexture=u,s.blendTexture=!0,s.showTextures(i.instanceIndex)),this.publish("texture-added")})),o.dirty=!1)}}destroy(){this.texturePromiseCache.forEach(async t=>{(await t).dispose()}),this.texturePromiseCache.clear()}};p();var y4=class{constructor(r){m(this,"currentOrder",yo.ALWAYS_ON_TOP_MODELS);m(this,"assignedOrders",new WeakMap);m(this,"state");this.state=r}assignOrder(r){return this.assignedOrders.has(r)?this.assignedOrders.get(r):(this.currentOrder+=1,this.assignedOrders.set(r,this.currentOrder),this.currentOrder)}releaseOrder(r){return this.assignedOrders.delete(r),yo.GEOMETRY}getHighestOrder(){return this.currentOrder}getOrder(r){return this.assignedOrders.get(r)}update(){let r,t,n;for(let o of this.state.geometry3DIdsInScene)if(n=this.state.geometry3DMap.get(o),n&&n.type==="model"&&n.components[1]?.dirty)if(r=n.components[1],t=n.components[0],r.visibleThroughGeometry===!0){let i=this.assignOrder(t);t.renderOrder!==i&&(t.renderOrder=i)}else t.renderOrder>yo.GEOMETRY&&(t.renderOrder=this.releaseOrder(t))}};p();var KM=500,b4=class{constructor(r){m(this,"rendererState");m(this,"dirty",!1);this.rendererState=r}update(){let r,t,n;for(let o of this.rendererState.geometry3DIdsInScene)if(r=this.rendererState.geometry3DMap.get(o),r?.type==="model"&&r.components[7]!=null&&(n=r.components[0],t=r.components[7],t.dirty&&n.mesh!=null&&t?.verticalOffset!==1/0&&(t.plane==null&&(t.plane=new n6(new ie(0,0,-1),t.verticalOffset),this.process(n,t)),t.plane.constant!==t.verticalOffset&&(t.plane.constant=t.verticalOffset),t.topColor!=null&&t.holeFillMesh?.material instanceof sm&&t.holeFillMesh.material.color.set(t.topColor),t.topVisible!=null&&t.holeFillMesh!=null&&(t.holeFillMesh.visible=t.topVisible),t.dirty=!1),t.plane!=null&&t.holeFillMesh!=null&&t.topVisible===!0)){let i=t.plane,s=t.holeFillMesh;i.coplanarPoint(s.position),s.lookAt(s.position.x-i.normal.x,s.position.y-i.normal.y,s.position.z-i.normal.z)}}process(r,t){if(r.mesh==null)return;let n=r.mesh.parent,o=[];r.mesh.traverse(h=>{if(h instanceof Pe){let b=h.geometry.clone();h.updateWorldMatrix(!0,!1),b.applyMatrix4(h.matrixWorld),o.push(b),b.computeVertexNormals(),h.material.clippingPlanes=[t.plane],h.material.transparent=!1}});let i=bo(o),s=new Dh,u=new Dh,l=this.createHoleFillGeometry(i,t.plane,1);l.name="hole-fill-group";let c=new sm({color:t.topColor??"#E67B5B",clippingPlanes:[],stencilWrite:!0,stencilFunc:Ih,stencilFail:js,stencilZFail:js,stencilZPass:js}),d=new Qo(KM,KM),f=new Pe(d,c);f.name="hole-fill-mesh",t.holeFillMesh=f,f.renderOrder=1.1,u.add(l),u.add(r.mesh),s.add(u),s.add(f),n?.add(s),r.mesh=s}createHoleFillGeometry(r,t,n=0){let o=new Dh,i=new yr;i.depthWrite=!1,i.depthTest=!1,i.colorWrite=!1,i.stencilWrite=!0,i.stencilFunc=Eh;let s=i.clone();s.side=om,s.clippingPlanes=[t],s.stencilFail=vh,s.stencilZFail=vh,s.stencilZPass=vh;let u=new Pe(r,s);u.renderOrder=n,o.add(u);let l=i.clone();l.side=$u,l.clippingPlanes=[t],l.stencilFail=xh,l.stencilZFail=xh,l.stencilZPass=xh;let c=new Pe(r,l);return c.renderOrder=n,o.add(c),o}};var qM=new Ui;var{DEFAULT_PITCH:H2,DEFAULT_BEARING:Z2,DEFAULT_ZOOM_LEVEL:W2,DEFAULT_MIN_ZOOM_LEVEL:fH,DEFAULT_MAX_ZOOM_LEVEL:hH}=Ei,gH=Je.radToDeg(.6435011087932844),qt,Vt,Jl,p0,_d,Fu,Yl,Ld,Qr,G2,_,Ho,Kl,dt,wi,Qt,Zo,jr,k,d0,Tr,Tt,QM,eA,tA,Ds,m0,f0,h0,g0,Rd,v4,y0,Nd,b0,ql,z2,Ql,v0,x0,Cn,Sn,V2,x4,I4,$d,I0,U2=class extends Oe{constructor(t,n={}){super();C(this,Qr);m(this,"options");m(this,"container");m(this,"Debug");C(this,qt);C(this,Vt);C(this,Jl);C(this,p0);C(this,_d);C(this,Fu);C(this,Yl);C(this,Ld);m(this,"rendererDomElement");C(this,_,{geometry3DMap:new Map,geometry2DMap:new Map,geometry2DIdsInScene:new Set,geometry3DIdsInScene:new Set,geometryGroupIdsToLoad:new Set,entityScene:new br("__scene"),hoverColor:"#f6efff",text3dHoverColor:"white",insetsPadding:_h,shouldMeasureCanvas:!0,pixelRatio:this.resolutionScale,canvasWidth:0,canvasHeight:0,internalTweenGroup:new w1,externalTweenGroup:new w1,cameraObject:new ob,naturalBearing:0,containerOffset:[0,0],useStandaloneCamera:!1});C(this,Ho,{});C(this,Kl,new AbortController);m(this,"camera");C(this,dt);C(this,wi);C(this,Qt);C(this,Zo);C(this,jr);C(this,k,{});C(this,d0,window.matchMedia("screen and (min-resolution: 2dppx)"));m(this,"map");C(this,Tr,()=>{this.aborted||!a(this,k)?.renderSystem||(a(this,k).renderSystem.twoDdirty=!0)});C(this,Tt,()=>{this.aborted||!a(this,k)?.renderSystem||(a(this,k).renderSystem.threeDdirty=!0)});C(this,Ds,"standalone");C(this,m0,()=>{a(this,k).geometryDisposalSystem.dirty=!0,this.render()});C(this,f0,t=>Math.trunc(t*10)/10);C(this,h0,()=>{z(this,Qr,G2).call(this,Tc()),a(this,k).twoDDrawSystem.dirty=!0,a(this,Rd).call(this,void 0,void 0,!0)});C(this,g0,()=>{a(this,Rd).call(this)});C(this,Rd,(t,n,o=!1)=>{let i=t??this.rendererDomElement.clientWidth,s=n??this.rendererDomElement.clientHeight;if((i===0||s===0)&&!o)return;a(this,_).canvasWidth=i,a(this,_).canvasHeight=s,z(this,Qr,G2).call(this,Tc()),a(this,ql).call(this),z(this,Qr,tA).call(this),a(this,k).cameraSystem.resize(this.canvasWidth,this.canvasHeight),a(this,k).cameraSystem.dirty=!0,this.map!=null&&(this.map.setMinZoom(this.camera.minZoomLevel),this.map.setMaxZoom(this.camera.maxZoomLevel)),a(this,k).watermarkSystem.resize(this.canvasWidth,this.canvasHeight),a(this,k).htmlControlsSystem.resize(this.canvasWidth),a(this,k).geometryInFocusSystem.resize(),a(this,k).occlusion2DSystem.resize();let{top:u,left:l}=this.container.getBoundingClientRect();a(this,_).containerOffset=[u,l],this.publish("resize"),this.render()});C(this,v4,()=>{this.renderSync()});C(this,y0,new ie);C(this,Nd,(t,n)=>{let o=this.mode==="standalone"?a(this,Vt):this.viewCamera;if(a(this,Vt).position.z+this.camera.elevation>n.z){a(this,y0).copy(n);let i=a(this,y0).project(o),s=(i.x+1)/2*this.canvasWidth-0/2,u=(-i.y+1)/2*this.canvasHeight-0/2,l=a(this,f0).call(this,s),c=a(this,f0).call(this,u);t.x=l,t.y=c}else t.x=-1e3,t.y=-1e3});C(this,b0,(t,n)=>{a(this,jr).setBufferSize(t,n),a(this,Vt).aspect=t/n,a(this,Vt).updateProjectionMatrix(),a(this,Vt).updateMatrixWorld(!0),a(this,_d).x=t,a(this,_d).y=n});C(this,ql,()=>{let t=a(this,_).canvasWidth=this.rendererDomElement.clientWidth,n=a(this,_).canvasHeight=this.rendererDomElement.clientHeight,o=Math.floor(t*this.resolutionScale),i=Math.floor(n*this.resolutionScale);a(this,b0).call(this,o,i),this.map?.resize(),a(this,_).shouldMeasureCanvas=!1});m(this,"getParentContainer",(t,n=!0)=>{if(!t)return n?a(this,_).entityScene:void 0;if(typeof t=="string"||typeof t=="number"){let o=a(this,_).geometry3DMap.get(t);return o instanceof br?o:(R.warn(`Parent (${typeof t=="object"?t.id:t}) is not a valid container, adding to scene`),n?a(this,_).entityScene:void 0)}else if(t.type==="group-container"){let o=a(this,_).geometry3DMap.get(t.id);if(o instanceof br)return o}return n?a(this,_).entityScene:void 0});m(this,"showCollisionBoxes",()=>{a(this,k).collisionSystem.showCollisionBoxes(),this.render()});m(this,"hideCollisionBoxes",()=>{a(this,k).collisionSystem.hideCollisionBoxes(),this.render()});m(this,"projectScreenXYToCoordinate",(t,n,o=!1)=>{let i=this.container.getBoundingClientRect(),s=(t-i.left)/a(this,_).canvasWidth*2-1,u=-((n-i.top)/a(this,_).canvasHeight)*2+1,l=new ke(s,u),c,d;if(o?(qM.setFromCamera(l,a(this,Vt)),c=qM.intersectObject(a(this,Fu),!1)[0]?.point):(c=a(this,k).interactionSystem.getThreeDIntersectsFromXY(l)?.[0]?.point,d=a(this,k).interactionSystem.getGroupContainerIntersectsFromXY(l)),c)return{coordinate:this.convert3DMapPositionToCoordinate(c),groupContainers:d}});m(this,"projectCoordinateToScreenXY",t=>{let n=this.convertTo3DMapPosition(t[1],t[0],t[2]||0),o=new ke;return a(this,Nd).call(this,o,n),{x:o.x,y:o.y}});m(this,"convert3DMapPositionToCoordinate",t=>{let{lat:n,lon:o}=Lh(a(this,_).center?.[1]??0,a(this,_).center?.[0]??0,t.x,t.y);return[o,n,t.z]});m(this,"setBackgroundColor",(t,n)=>{a(this,jr).setBackgroundColor(t,n)});m(this,"getMetersPerPixel",()=>a(this,k).cameraSystem.getCurrentMetersPerPixel());m(this,"hideOutdoorLayersIntersectingPolygons",(t,n,o)=>{a(this,k).outdoorLayersSystem.hideLayersIntersectingPolygons(t,n,o),this.render()});C(this,Ql,new Th);C(this,v0,new Wn);C(this,x0,t=>{R.error("Render failed: ",t,t.stack??"No stack trace available"),this.publish("render-error",{error:t})});m(this,"render",()=>{if(!(a(this,k)?.renderSystem==null||this.aborted))if(this.map&&(this.mode==="outdoors-interleaved"||this.mode==="outdoors-overlay"))this.map.triggerRepaint();else return a(this,k).renderSystem.update().catch(a(this,x0))});m(this,"renderSync",()=>this.aborted?Promise.resolve():a(this,k).renderSystem.update(!0).catch(a(this,x0)));C(this,Cn,fm(()=>{this.publish("user-interaction-start",void 0)},0,!0));C(this,Sn,fm(()=>{this.publish("user-interaction-end",void 0),this.render()},0,!0));m(this,"on",(t,n)=>{this.aborted||(super.on(t,n),["outdoor-view-loaded","outdoor-style-loaded"].includes(t)&&this.mode==="standalone"&&y.env.NODE_ENV!=="test"&&(R.warn(`"${t}" was subscribed to but outdoor view is disabled. The event has been triggered immediately. Enable outdoor view or remove the listener.`),this.publish(t)))});m(this,"off",(t,n)=>{super.off(t,n)});m(this,"getCursor",()=>a(this,k).interactionSystem.getCursor());C(this,x4,()=>{if(a(this,_).entityScene.removeEventListener("childadded",a(this,Tt)),a(this,_).entityScene.removeEventListener("childadded",a(this,Tr)),a(this,_).entityScene.removeEventListener("childremoved",a(this,Tt)),a(this,_).entityScene.removeEventListener("childremoved",a(this,Tr)),window.removeEventListener("resize",a(this,g0),!1),a(this,d0).removeEventListener("change",a(this,h0)),this.map){for(let t in a(this,Ho))for(let n of a(this,Ho)[t])this.map.off(t,n);T(this,Ho,{})}this._subscribers={}});C(this,I4,()=>{try{a(this,Ds)!=="outdoors-overlay"&&(this.map&&this.map.remove(),this.container&&this.rendererDomElement&&this.container.contains(this.rendererDomElement)&&this.container.removeChild(this.rendererDomElement)),this.container&&(a(this,Zo)&&this.container.contains(a(this,Zo))&&this.container.removeChild(a(this,Zo)),a(this,dt)&&this.container.contains(a(this,dt))&&this.container.removeChild(a(this,dt)))}catch(t){R.warn("Error during DOM cleanup, some elements may not have been removed:",t)}});m(this,"destroy",()=>{a(this,k)&&(a(this,k).textureSystem.destroy(),this.aborted||a(this,Kl).abort(),a(this,x4).call(this),this.remove("__scene"),a(this,k).renderSystem.destroy(),a(this,k).cameraSystem.dispose(),a(this,k).exporterSystem.destroy(),a(this,k).outdoorLayersSystem.destroy(),a(this,k).borderSystem.destroy(),a(this,Yl)&&a(this,Yl).disconnect(),a(this,jr).destroy(),a(this,qt)?.traverse(t=>{Ht(t),"dispose"in t&&typeof t.dispose=="function"&&t.dispose()}),T(this,qt,void 0),a(this,k).htmlControlsSystem.destroy(),a(this,k).collisionSystem.destroy(),a(this,k).interactionSystem.destroy(),a(this,k).domMutationSystem.destroy(),a(this,k).geometryInFocusSystem.destroy(),a(this,k).occlusion2DSystem.destroy(),T(this,k,void 0),a(this,I4).call(this),T(this,jr,void 0))});C(this,$d,new ie);C(this,I0,new ie);if(T(this,Kl,new AbortController),a(this,_).useStandaloneCamera=n.useStandaloneCamera??!1,a(this,_).naturalBearing=n.naturalBearing??0,this.convertTo3DMapPosition=this.convertTo3DMapPosition.bind(this),!t.clientWidth||!t.clientHeight)throw new Error("[MappedinJS] Container width and height must be greater than 0");this.convertTo3DMapPosition=this.convertTo3DMapPosition.bind(this),(n.mode==="outdoors-interleaved"||n.mode==="outdoors-overlay")&&n.map&&(T(this,Ds,n.mode),this.map=n.map),a(this,_).entityScene.addEventListener("childadded",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),a(this,_).entityScene.addEventListener("childremoved",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),a(this,_).geometry3DMap.set(a(this,_).entityScene.userData.entityId,a(this,_).entityScene),n.center&&(a(this,_).center=n.center?[...n.center]:[0,0]),this.options=n,this.container=t,z(this,Qr,QM).call(this),z(this,Qr,eA).call(this),a(this,k).htmlControlsSystem=new G1(this.container,{outdoorEnabled:!!this.map}),a(this,Ds)!=="outdoors-overlay"&&a(this,k).htmlControlsSystem.addAttributionControl(this.options.attribution),window.MappedinDebug||(window.MappedinDebug={}),y.env.NODE_ENV==="test"&&(window.MappedinDebug.mapViewCoreInstance=this),T(this,jr,new a1({antialias:typeof n.antialias=="boolean"?n.antialias:!0,alpha:!1,canvas:this.mode!=="standalone"?n.gl?.canvas:void 0,onWebGLContextCreationError:n.onWebGLContextCreationError,onWebGLContextLost:n.onWebGLContextLost,onWebGLContextRestored:I=>{n.onWebGLContextRestored?.(I),a(this,Tr).call(this),a(this,Tt).call(this),this.render()},onWebGLRendererError:n.onWebGLRendererError,backgroundColor:n.backgroundColor||"#ffffff",backgroundAlpha:n.backgroundAlpha??1})),T(this,qt,new Gs),a(this,Ds)!=="standalone"&&a(this,qt).add(X6()),a(this,qt).add(a(this,_).entityScene);let o=window.__THREE_DEVTOOLS__;y.env.NODE_ENV==="dev"&&typeof o<"u"&&(o.dispatchEvent(new CustomEvent("observe",{detail:a(this,qt)})),o.dispatchEvent(new CustomEvent("observe",{detail:a(this,jr)}))),T(this,Vt,new ob(gH,this.aspect,50,1e5)),a(this,_).cameraObject=a(this,Vt),T(this,p0,new r6),a(this,Vt).renderOrder=999;let i=new ju;i.add(a(this,Vt)),T(this,Ld,new ju),a(this,Ld).add(i),a(this,qt).add(a(this,Ld)),a(this,Vt).updateProjectionMatrix(),a(this,Vt).updateMatrixWorld(!0),this.referenceMap={scale:1,latitude:0,longitude:0,getNorth:()=>0,georeference:[{target:{x:0,y:0}},{target:{x:0,y:0}},{target:{x:0,y:0}},{target:{x:0,y:0}}]},this.rendererDomElement=a(this,jr).domElement(),T(this,_d,new ke);let s=new Qo(1e6,1e6),u=new yr({color:0,visible:!1});T(this,Fu,new Pe(s,u)),a(this,Fu).name="worldPlane",a(this,qt).add(a(this,Fu)),n.gl?.canvas||t.appendChild(this.rendererDomElement),window.addEventListener("resize",a(this,g0),!1),a(this,d0).addEventListener("change",a(this,h0)),typeof ResizeObserver=="function"&&y.env?.NODE_ENV!=="test"&&(T(this,Yl,new ResizeObserver(P6(I=>{a(this,Rd).call(this,I[0].contentRect.width,I[0].contentRect.height)},50))),a(this,Yl)?.observe(t)),t.classList.add("mappedin-map"),this.rendererDomElement.style.width=globalThis.MappedinDebug?.TEST_IOS?"1080px":"100%",this.rendererDomElement.style.height=globalThis.MappedinDebug?.TEST_IOS?"1920px":"100%",y.env.NODE_ENV==="test"&&this.rendererDomElement.setAttribute("data-testid","mappedin-canvas"),this.mode!=="outdoors-overlay"&&this.rendererDomElement.tabIndex!==void 0&&this.rendererDomElement.removeAttribute("tabindex"),a(this,_).canvasWidth=this.rendererDomElement.clientWidth,a(this,_).canvasHeight=this.rendererDomElement.clientHeight,this.rendererDomElement.style.touchAction="manipulation";let l=this.canvasWidth,c=this.canvasHeight;a(this,k).watermarkSystem=new N1(a(this,Vt),a(this,_),n?.watermark),a(this,k).watermarkSystem.on("texture-loaded",this.render),a(this,_).shouldMeasureCanvas=!0,a(this,_).pixelRatio=this.resolutionScale,a(this,b0).call(this,Math.floor(l*this.resolutionScale),Math.floor(c*this.resolutionScale));let d=new Ah(16777215,.3*Math.PI);d.position.set(-150,-150,350),a(this,qt).add(d);let f=new u6(16777215,.741*Math.PI);a(this,qt).add(f),a(this,k).cameraSystem=new Ul(a(this,Vt),a(this,qt),a(this,jr).renderer,a(this,_),{mode:this.mode,canvasHeight:c,canvasWidth:l}),a(this,k).cameraSystem.on("user-dolly-start",a(this,Cn)),a(this,k).cameraSystem.on("user-pan-start",a(this,Cn)),a(this,k).cameraSystem.on("user-rotate-start",a(this,Cn)),a(this,k).cameraSystem.on("user-zoom-start",a(this,Cn)),a(this,k).cameraSystem.on("user-tilt-start",a(this,Cn)),a(this,k).cameraSystem.on("user-pedestal-start",a(this,Cn)),a(this,k).cameraSystem.on("user-dolly-end",a(this,Sn)),a(this,k).cameraSystem.on("user-pan-end",a(this,Sn)),a(this,k).cameraSystem.on("user-rotate-end",a(this,Sn)),a(this,k).cameraSystem.on("user-zoom-end",a(this,Sn)),a(this,k).cameraSystem.on("user-tilt-end",a(this,Sn)),a(this,k).cameraSystem.on("user-pedestal-end",a(this,Sn)),a(this,k).cameraSystem.on("change",()=>{this.publish("camera-change",this.camera),a(this,k).geometryInFocusSystem&&(a(this,k).geometryInFocusSystem.cameraDirty=!0),this.render()}),this.onAbort(()=>{a(this,k).cameraSystem.off("user-dolly-start",a(this,Cn)),a(this,k).cameraSystem.off("user-pan-start",a(this,Cn)),a(this,k).cameraSystem.off("user-rotate-start",a(this,Cn)),a(this,k).cameraSystem.off("user-zoom-start",a(this,Cn)),a(this,k).cameraSystem.off("user-tilt-start",a(this,Cn)),a(this,k).cameraSystem.off("user-pedestal-start",a(this,Cn)),a(this,k).cameraSystem.off("user-dolly-end",a(this,Sn)),a(this,k).cameraSystem.off("user-pan-end",a(this,Sn)),a(this,k).cameraSystem.off("user-rotate-end",a(this,Sn)),a(this,k).cameraSystem.off("user-zoom-end",a(this,Sn)),a(this,k).cameraSystem.off("user-tilt-end",a(this,Sn)),a(this,k).cameraSystem.off("user-pedestal-end",a(this,Sn)),a(this,k).renderSystem.off("measure-canvas",a(this,ql)),a(this,k).cameraSystem.off("change",this.render),a(this,k).outlineInterpolationSystem.off("needs-render",this.render)}),a(this,k).pathSystem=new l0(a(this,_),this.convertTo3DMapPosition,this.getParentContainer,a(this,k).cameraSystem.convertZoomLevelToAltitude),a(this,k).pathSystem.on("animate:path",this.render),this.onAbort(()=>{a(this,k).pathSystem.off("animate:path",this.render)}),a(this,k).panBoundsSystem=new U1(a(this,_),a(this,k).cameraSystem);let h=()=>{let{panBounds:I,fov:E,convertAltitudeToZoomLevel:v}=a(this,k).cameraSystem;if(a(this,k).panBoundsSystem.autoMinZoomLevel){if(I.radius<=0)return;let x=Math.min(a(this,_).canvasWidth/a(this,_).canvasHeight,1),D=E*Math.PI/180*x,w=Math.tan(D/2),{radius:S,center:F}=a(this,k).cameraSystem.panBounds,P=S/w,L=this.getThreeCamera().getWorldPosition(new ie),N=F.distanceTo(L),$=Math.abs(L.z-F.z),W=P*$/N,V=v(W);Z6(V,this.camera.minZoomLevel)&&this.camera.setMinZoomLevel(V)}this.publish("pan-bounds-change",a(this,k).cameraSystem.panBounds)};a(this,k).panBoundsSystem.on("update",h),this.onAbort(()=>{a(this,k).panBoundsSystem.off("update",h)}),this.camera=new R1(this,a(this,k),a(this,_)),this.camera.setZoomLevel(n.zoomLevel??W2),this.camera.setBearing(n.bearing??Z2),this.camera.setPitch(n.pitch??H2),this.camera.setMaxZoomLevel(hH),this.camera.setMinZoomLevel(fH),a(this,k).domVisiblitySystem=new I1(a(this,_),a(this,Zo)),a(this,k).domMutationSystem=new L1(a(this,_),a(this,Zo)),a(this,k).domMutationSystem.on("dimensions-update",()=>{a(this,k).collisionSystem.collidersDirty=!0,this.render()}),a(this,k).domDrawSystem=new _1(a(this,_)),a(this,k).collisionSystem=new u1(a(this,wi),a(this,_),(n.useCollisionWorker??!0)&&(n.useWorkers??!0)),a(this,k).twoDDrawSystem=new C1(a(this,_),a(this,Qt),n.transformImageRequest),a(this,k).twoDDrawSystem.on("img:loaded",this.render),a(this,k).interactionSystem=new Rf(this.rendererDomElement,a(this,_),a(this,Vt),a(this,Fu),a(this,k).cameraSystem.isUserInteracting),a(this,k).interactionSystem.on("doubletap-with-onefinger",I=>{a(this,k).cameraSystem.enableZoom&&this.camera.animateTo({center:this.projectScreenXYToCoordinate(I.clientX,I.clientY)?.coordinate,zoomLevel:this.camera.zoomLevel+1,duration:hb,easing:"ease-out"})}),a(this,k).interactionSystem.on("singletap-with-twofinger",()=>{a(this,k).cameraSystem.enableZoom&&this.camera.animateTo({zoomLevel:this.camera.zoomLevel-1,duration:hb,easing:"ease-out"})}),a(this,k).interactionSystem.on("hover",this.render),a(this,k).interactionSystem.on("click",I=>{if(I.entity2D?.id==="watermark"&&typeof a(this,k).watermarkSystem.options.onClick=="function"&&a(this,k).watermarkSystem.options.interactive){a(this,k).watermarkSystem.options.onClick();return}let E=I.entity3D?[I.entity3D?.id]:[];I.entity3D?.parentObject3D?.userData?.entityId&&E.push(I.entity3D?.parentObject3D?.userData?.entityId),this.publish("click",{coordinate:this.convert3DMapPositionToCoordinate(I.position),geometry:E,paths:I.entity3D?.components[0]instanceof Eu?[I.entity3D.id]:[],markers:I.entity2D?.components[0]instanceof Na?[I.entity2D.id]:[],models:I.entity3D?.components[0]instanceof Iu?[I.entity3D.id]:[],labels:I.entity2D?.components[0]instanceof Ra?[I.entity2D.id]:[],containers:Array.isArray(I.groupContainers)?I.groupContainers.map(v=>v.userData.entityId):[],pointerEvent:I.pointerEvent})}),a(this,k).interactionSystem.on("hover",I=>{I.position&&this.publish("hover",{coordinate:this.convert3DMapPositionToCoordinate(I.position),geometry:I.entity3D?[I.entity3D?.id]:[],paths:I.entity3D?.components[0]instanceof Eu?[I.entity3D.id]:[],markers:I.entity2D?.components[0]instanceof Na?[I.entity2D.id]:[],models:I.entity3D?.components[0]instanceof Iu?[I.entity3D.id]:[],labels:I.entity2D?.components[0]instanceof Ra?[I.entity2D.id]:[],containers:Array.isArray(I.groupContainers)?I.groupContainers.map(E=>E.userData.entityId):[]})}),a(this,k).geometryInFocusSystem=new Q1(a(this,_),a(this,Vt));let b=I=>{this.publish("geometry-in-focus",I)};a(this,k).geometryInFocusSystem.on("geometry-in-focus",b),this.onAbort(()=>{a(this,k).geometryInFocusSystem.off("geometry-in-focus",b)}),a(this,k).twoDVisiblitySystem=new D1(a(this,_)),a(this,k).drawSystem=new S1(a(this,_),this.convertTo3DMapPosition),a(this,k).twoDProjectionSystem=new E1(a(this,_),a(this,Nd)),a(this,k).exporterSystem=new Nf(a(this,_)),a(this,k).meshOptimizationSystem=new x1(a(this,_),this.convertTo3DMapPosition),a(this,k).meshOptimizationSystem.on("model-loaded",this.render),a(this,k).meshOptimizationSystem.on("geometry-2d-added",this.render),a(this,k).meshOptimizationSystem.on("geometry-group-added",a(this,m0)),this.onAbort(()=>{a(this,k).meshOptimizationSystem.off("model-loaded",this.render),a(this,k).meshOptimizationSystem.off("geometry-2d-added",this.render),a(this,k).meshOptimizationSystem.off("geometry-group-added",a(this,m0))}),a(this,k).meshDetachmentSystem=new a4(a(this,_)),a(this,k).meshModificationSystem=new u4(a(this,_)),a(this,k).geometryDisposalSystem=new h4(a(this,_)),a(this,k).textureSystem=new g4(a(this,_)),a(this,k).textureSystem.on("texture-added",this.render),this.onAbort(()=>{a(this,k).textureSystem.off("texture-added",this.render)}),a(this,k).borderSystem=new TE(a(this,_),this.convertTo3DMapPosition),a(this,k).clippingPlaneSystem=new b4(a(this,_)),a(this,k).renderOrderSystem=new y4(a(this,_)),a(this,k).customGeometrySystem=new z1(a(this,_),this.convertTo3DMapPosition),a(this,k).outlineInterpolationSystem=new Z1(a(this,_)),a(this,k).outlineInterpolationSystem.on("needs-render",this.render),a(this,k).renderSystem=new T1(a(this,jr),a(this,_),this.mode,a(this,qt),a(this,Vt),this.viewCamera,a(this,k)),a(this,k).imageSystem=new q1(a(this,_),this.convertTo3DMapPosition,a(this,Nd),n.bearing,n.naturalBearing,n.imagePlacementOptions),a(this,k).text3DSystem=new Y6(a(this,_),this.convertTo3DMapPosition,n.useWorkers??!0),a(this,k).text3DSystem.on("render",this.render),a(this,k).imageSystem.on("image-loaded",this.render),a(this,k).renderSystem.on("pre-render",()=>this.publish("pre-render")),a(this,k).renderSystem.on("post-render",()=>this.publish("post-render")),a(this,k).renderSystem.on("measure-canvas",a(this,ql)),this.onAbort(()=>{a(this,k).renderSystem.off("pre-render",()=>this.publish("pre-render")),a(this,k).renderSystem.off("post-render",()=>this.publish("post-render")),a(this,k).renderSystem.off("measure-canvas",a(this,ql))}),a(this,k).outdoorLayersSystem=new t4(this.map),a(this,k).occlusion2DSystem=new f4(a(this,_),this.convertTo3DMapPosition,a(this,jr)),n.occlusionEnabled&&a(this,k).occlusion2DSystem.enable(),this.Debug=new m4(this),n.environment!==!1&&T(this,Jl,z(this,Qr,V2).call(this)),a(this,v4).call(this)}get viewCamera(){return a(this,p0)}get canvasWidth(){return a(this,_).canvasWidth}get canvasHeight(){return a(this,_).canvasHeight}get resolutionScale(){return this.map?._getClampedPixelRatio(this.canvasWidth,this.canvasHeight)??Tc()}get aspect(){return this.canvasWidth/this.canvasHeight}get mode(){return a(this,Ds)}addGroupContainer(t,n,o){if(!a(this,_).geometry3DMap.has(t)&&!a(this,_).geometry2DMap.has(t)){let i=new br(t);i.addEventListener("childadded",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),i.addEventListener("childremoved",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),n?.visible!==void 0&&(i.visible=n.visible),n?.altitude!==void 0&&i.setAltitude(n.altitude),n?.interactive!==void 0&&Xn(i,n.interactive,a(this,_)),n?.focusable!==void 0&&zh(i,n.focusable),n?.preloadGeometry!==void 0&&(i.userData.preloadGeometry=n.preloadGeometry),a(this,_).geometry3DMap.set(t,i);let s=this.getParentContainer(o);s instanceof br&&s.addEntity(i),a(this,Tt).call(this),this.render()}else R.error(`Group container with ID '${t}' already exists. The group container cannot be added.`);return{id:t,type:"group-container"}}addCustomGeometry(t,n,o,i,s){if(a(this,_).geometry3DMap.has(t))R.error(`Custom geometry with ID '${t}' already exists. The custom geometry cannot be added.`);else{let u=new Md(n,o),l=new ft(u,new Wi(i));i?.interactive!==void 0&&Xn(l,i.interactive,a(this,_)),l.id=t,u.mesh.userData={entityId:t,type:"custom-geometry"},a(this,_).geometry3DMap.set(l.id,l);let c=this.getParentContainer(s);s&&c instanceof br?c.addEntity(l):a(this,_).entityScene.addEntity(l),a(this,Tt).call(this),this.render()}return{id:t,type:"custom-geometry"}}addGeometryGroup(t,n,o,i){if(!a(this,_).geometry3DMap.has(t)&&!a(this,_).geometry2DMap.has(t)){let s=new ei(t);s.addEventListener("childadded",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),s.addEventListener("childremoved",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),s.userData.dirty=!0,a(this,_).geometry3DMap.set(t,s);let{visible:u,...l}=o||{color:wE};for(let d of n.features){if(d.geometry==null||!["Polygon","MultiPolygon","LineString","MultiLineString"].includes(d.geometry.type))continue;let f=d?.id||d?.properties?.id||It(),h=a(this,k).meshOptimizationSystem.createEntityFromFeature(f,d,{outline:!0,...l});a(this,_).geometry3DMap.set(f,h),s.userData.entities3D.add(f),a(this,k).textureSystem.dirty=!0}s.setVisible(u??!0);let c=this.getParentContainer(i);c instanceof br&&c.addEntity(s),a(this,Tt).call(this),this.render()}else R.error(`Geometry group with ID '${t}' already exists. The geometry group cannot be added.`);return a(this,k).outlineInterpolationSystem.geometries3DDirty=!0,{id:t,type:"geometry-group"}}addOccluder(t,n){let o=this.getParentContainer(n),i=a(this,k).occlusion2DSystem.reserveOccluderId();return o?.addOccluderFeature(t,i),i}addImage(t,n,o,i){try{PM(t,n,o)}catch(s){R.error(s);return}if(!a(this,_).geometry3DMap.has(t)&&!a(this,_).geometry2DMap.has(t)){let s=new K1(n),u=new ft(s,new Wi(o));u.id=t||It(),s.mesh.userData={entityId:u.id,type:"path"},a(this,_).geometry3DMap.set(u.id,u);let l=this.getParentContainer(i);l instanceof br&&l.addEntity(u),a(this,Tt).call(this),this.render()}else R.error(`Image with ID '${t}' already exists. The image cannot be added.`);return{id:t,type:"image"}}addModelGroup(t,n,o,{parent:i,onComplete:s}={}){try{sM(t,n,o)}catch(u){R.error(u);return}if(!a(this,_).geometry3DMap.has(t)&&!a(this,_).geometry2DMap.has(t)){let u=new ei(t);u.addEventListener("childadded",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),u.addEventListener("childremoved",()=>{a(this,Tt).call(this),a(this,Tr).call(this)}),a(this,_).geometry3DMap.set(t,u),u.userData.dirty=!0,u.userData.modelURL=o.url;for(let c of n.features){let d=c.id||c.properties.id||It(),f=a(this,k).meshOptimizationSystem.createModelFromFeature(d,c,{...o});(c.properties.interactive!==void 0||o.interactive!=null)&&Xn(f,c.properties.interactive??o.interactive,a(this,_)),o.clippingPlaneZOffset!=null&&(f.components[7]=new iE,f.components[7].verticalOffset=o.clippingPlaneZOffset),f.parentId=u.userData.entityId,a(this,_).geometry3DMap.set(d,f),u.userData.entities3D.add(d)}let l=this.getParentContainer(i);l instanceof br&&l.addEntity(u),a(this,Tt).call(this),this.render()?.then(s)}else R.error(`Model group with ID '${t}' already exists. The model group cannot be added.`);return{id:t,type:"geometry-group"}}addMarker2D(t,n,o,i){let s=o?.id;try{O6(t,n,o||{})}catch(u){R.error(u);return}if(s===void 0||!a(this,_).geometry2DMap.has(s)&&!a(this,_).geometry3DMap.has(s)){let u=z(this,Qr,z2).call(this,t,new Na(n,o),o?.occluderId,o?.verticalOffset);u.id=s||String(u.id),s=u.id,o?.interactive!=null&&o.interactive!=="pointer-events-auto"&&Xn(u,o?.interactive,a(this,_)),o?.enabled!=null&&Uh(u,o.enabled);let l=typeof o?.attachTo=="string"||typeof o?.attachTo=="number"?a(this,_).geometry3DMap.get(o.attachTo):void 0;l instanceof ft&&l.attach(u),this.getParentContainer(i)?.addEntity(u),this.render()}else R.error(`Marker2D with ID '${s}' already exists. The marker cannot be added.`);return{id:s,type:"marker"}}addText3D(t,n,o,i){if(!a(this,_).geometry3DMap.has(t)&&!a(this,_).geometry2DMap.has(t)){let s=new jh({...n,properties:{...n.properties,id:t,content:n.properties.text}}),u=new ft(s,new hm(o?.appearance));u.id=t,s.mesh.userData.entityId=t.toString(),s.mesh.userData.type="text3d",a(this,_).geometry3DMap.set(t,u);let l=this.getParentContainer(i);l instanceof br&&l.addEntity(u),a(this,Tt).call(this),this.render()}else R.error(`Text3D with ID '${t}' already exists. The text3d cannot be added.`);return{id:t,type:"text3d"}}labelText3D(t,n,o={}){try{if(!n||!t)throw new Error("content and meshGeometryId are required");Q6.parse(o)}catch(c){R.error(c);return}let i=a(this,_).geometry3DMap.get(t);if(i?.type!=="geometry"){R.error(".labelText3D failed: target incorrect");return}let s=i?.components[0];if(!s.feature.properties.textArea)return;if(s.textEntityId){let c=a(this,_).geometry3DMap.get(s.textEntityId);if(c?.type!=="text3d"){R.error(".labelText3D failed: existing text3d not found");return}return{id:c.id,type:c.type}}let u=new jh({type:"Feature",geometry:{coordinates:s.feature.properties.textArea?.position,type:"Point"},properties:{textArea:s.feature.properties.textArea,content:n,id:It()}});u.polygonEntityId=t;let l=new ft(u,new hm(o?.appearance));return s.textEntityId=l.id.toString(),u.mesh.userData.entityId=l.id.toString(),u.mesh.userData.type="text3d",a(this,_).geometry3DMap.set(l.id.toString(),l),o.parentId&&this.getParentContainer(o.parentId)?.addEntity(l),this.render(),{id:l.id,type:"text3d"}}addLabel2D(t,n,o,i){let s=o?.id;try{A6(t,n,o||{})}catch(u){R.error(u);return}if(s===void 0||!a(this,_).geometry2DMap.has(s)&&!a(this,_).geometry3DMap.has(s)){let u=z(this,Qr,z2).call(this,t,new Ra(n,o||{},a(this,_)),o?.occluderId,o?.verticalOffset);u.id=s||String(u.id),s=u.id,o?.interactive!=null&&Xn(u,o?.interactive,a(this,_)),o?.enabled!=null&&Uh(u,o.enabled);let l=typeof o?.attachTo=="string"||typeof o?.attachTo=="number"?a(this,_).geometry3DMap.get(o.attachTo):void 0;l instanceof ft&&l.attach(u),this.getParentContainer(i)?.addEntity(u),a(this,Tr).call(this),this.render()}else R.error(`Label2D with ID '${s}' already exists. The label cannot be added.`);return{id:s,type:"label"}}addPath(t,n={},o){try{mM(t,n||{})}catch(l){R.error(l);return}let i=new Eu(t,xE(n)),s=new ft(i,new Wi({color:n?.color??"#ff834c",altitude:n?.verticalOffset??.1}));s.id=n?.id||It(),i.mesh.userData={entityId:s.id,type:"path"},a(this,_).geometry3DMap.set(s.id,s),n?.interactive!=null&&Xn(s,n?.interactive,a(this,_));let u=this.getParentContainer(o);return u instanceof br&&u.addEntity(s),a(this,Tt).call(this),this.render(),{id:s.id,type:"path"}}updateWatermark(t){a(this,k).watermarkSystem.options=t,a(this,k).watermarkSystem.dirty=!0,a(this,k).collisionSystem.collidersDirty=!0,this.render()}remove(t){let n;if(typeof t=="string"||typeof t=="number"?(n=a(this,_).geometry2DMap.get(t),n==null&&(n=a(this,_).geometry3DMap.get(t))):typeof t.id=="string"||typeof t.id=="number"?(n=a(this,_).geometry2DMap.get(t.id),n==null&&(n=a(this,_).geometry3DMap.get(t.id))):n=t,n!=null){if(n.type==="custom-geometry")a(this,_).geometry3DMap.delete(n.id),n.object3d&&Ht(n.object3d);else if(n.type==="group-container"){a(this,_).geometry3DMap.delete(n.userData.entityId);for(let i of n.childrenIds.values())this.remove(i),n.userData.entities2D.delete(i);let o=n.components[1];o&&o.focusMesh&&Ht(o.focusMesh),Ht(n)}else if(n.type==="geometry-group"){a(this,_).geometry3DMap.delete(n.userData.entityId);for(let o of n.userData.entities3D.values())this.remove(o),n.userData.entities3D.delete(o);Ht(n)}else if(n.type==="geometry"||n.type==="model"||n.type==="path"){let o=n.components[0],i=n.components[4];if(n.entities2D.size>0){for(let u of n.entities2D.values())this.remove(u);n.removeAllEntities()}let s=n.parentObject3D?.userData.entityId??n.parentId;if(s){let u=a(this,_).geometry3DMap.get(s);u instanceof ei&&u.userData.entities3D.delete(n.id)}if(n.object3d&&Ht(n.object3d),n.type==="geometry"){let u=n.components[3];u&&(u.enabled=!1,u.dirty=!0)}i&&"focusMesh"in i&&i.focusMesh!=null&&Ht(i.focusMesh),"textMesh"in o&&o.textMesh!=null&&this.remove(o.textMesh.userData.entityId),a(this,_).geometry3DMap.delete(n.id)}else if(n.type==="marker"||n.type==="label"){let o=n.attachedTo;if(o){let i=a(this,_).geometry3DMap.get(o);i instanceof ft&&i.detach(n)}n.object3d&&Ht(n.object3d),n.type==="label"&&delete a(this,k).twoDDrawSystem.textCache[n.id],a(this,_).geometry2DMap.delete(n.id)}else if(n.type==="image")n.object3d&&Ht(n.object3d),a(this,_).geometry3DMap.delete(n.id);else if(n.type==="text3d"){Ht(n.object3d);let{batchedText:o,textMesh:i,polygonEntityId:s}=n.components[0];if(i&&(o&&o.removeText(i),Ht(i)),s){a(this,k).text3DSystem.remove(s);let u=a(this,_).geometry3DMap.get(s);u?.type==="geometry"&&(u.components[0].textMesh=void 0,u.components[0].textEntityId=void 0)}a(this,_).geometry3DMap.delete(n.id)}a(this,Tt).call(this),a(this,Tr).call(this),this.render()}}getScene(){return this.getState("__scene")}getThreeScene(){return a(this,qt)}getThreeCamera(){return a(this,Vt)}async setEnvironment(t){if(a(this,qt))if(t==="basic"){a(this,Jl)||T(this,Jl,z(this,Qr,V2).call(this));let n=await a(this,Jl);a(this,qt).environment=n}else a(this,qt).environment=null}getEnvironment(){return a(this,qt)?.environment?"basic":!1}getCurrentSceneGLTF(t){return a(this,k).exporterSystem.getCurrentSceneGLTF(t)}getBoundingArea(t){(a(this,k).renderSystem.threeDdirty||a(this,k).renderSystem.twoDdirty)&&this.renderSync();let n=new mr;if(t==null)n.setFromObject(a(this,_).entityScene);else{let o=Dc(a(this,_),t);if(o?.type==="geometry"&&o?.object3d!=null){let i=o.components[0],s=i instanceof sr?i.geometry:void 0;i.mesh instanceof wh&&s?(s.computeBoundingBox(),s.boundingBox&&n.union(s.boundingBox)):n.setFromObject(o.object3d)}else(o?.type==="geometry-group"||o?.type==="group-container")&&o?.userData.entityId!=null&&n.setFromObject(o)}if(Uu(n))return L6(n).map(this.convert3DMapPositionToCoordinate)}hasState(t){return Dc(a(this,_),t)!=null}getState(t){if(t==null)return{type:"map-view",hoverColor:a(this,_).hoverColor,text3dHoverColor:a(this,_).text3dHoverColor};let n=Dc(a(this,_),t);if(n?.type==="custom-geometry"){let o=n.components[0],i=n.components[1];return{id:n.id,type:"custom-geometry",visible:i.visible,altitude:i.altitude,parent:n.parentObject3D?.userData.entityId,position:this.convert3DMapPositionToCoordinate(o.position)}}else if(n?.type==="geometry-group"){let o=Array.from(n.userData.entities3D.values()),i=o?.[0],s=i?this.getState(i):{};return{id:n.userData.entityId,type:"geometry-group",visible:n.visible,altitude:s?.altitude,initialColor:s?.initialColor,color:s?.color,side:s?.side??"double",opacity:s?.opacity,height:s?.height,texture:s?.texture,topColor:s?.topColor,topTexture:s?.topTexture,interactive:Array.from(n.userData.entities3D.values()).map(u=>a(this,_).geometry3DMap.get(u)).every(u=>u&&u.components[2]!=null),children:o,bevel:s?.bevel}}else{if(n?.type==="group-container")return{id:n.userData.entityId,type:"group-container",visible:n.visible,altitude:n.getWorldPosition(yH).z??0,opacity:n.opacity,interactive:!!n.components[0],children:Array.from(n.childrenIds.values()).map(o=>this.getState(o)).filter(Boolean)};if(n?.type==="label"){let o=n.components[0],i=n.object3d.parent,s=i?.userData.entityId;return{id:n.id,type:"label",text:o.text||"",parent:{id:s,type:i?.type},position:this.convert3DMapPositionToCoordinate(n.position),enabled:o.enabled,visible:o.visible,initialRank:dm(o.initialRank),options:{rank:dm(o.rank),appearance:o.appearance,interactive:n.components[1]!=null,verticalOffset:n.verticalOffset,attachTo:n.attachedTo}}}else if(n?.type==="marker"){let o=n.components[0],i=n.object3d.parent,s=i?.userData.entityId;return{id:n.id,type:"marker",enabled:o.enabled,visible:o.visible,placement:o.options.placement,dynamicResize:o.options.dynamicResize,parent:{id:s,type:i?.type},position:this.convert3DMapPositionToCoordinate(n.position),element:o.containerEl,initialRank:dm(o.initialRank),contentHTML:o.contentHtml,options:{rank:dm(o.rank),interactive:n.components[1]!=null||!1,verticalOffset:n.verticalOffset,attachTo:n.attachedTo,lowPriorityPin:o.options.lowPriorityPin}}}else if(n?.type==="geometry"){let{color:o,hoverColor:i,initialColor:s,initialTopColor:u,topColor:l,altitude:c}=n.components[1],d=n.components[0],f=n.components[1],h=n.components[1],b=n.components[6],I=n.components[2],E=n.components[3],v=n.parentObject3D;return{id:n.id,type:"geometry",opacity:h.opacity,initialColor:s,color:o,focusable:f!=null&&f.focusMesh!=null,initialTopColor:u,topColor:l,side:h.side,hoverColor:i,hovered:!!I?.hover,height:h.height,visible:h.visible,outline:E?.enabled,showImage:h.showImage,texture:b?.texture?.path,topTexture:b?.topTexture?.path,flipImageToFaceCamera:h.flipImageToFaceCamera,enableImageCollisions:h.enableImageCollisions,parent:{id:v?.userData.entityId,type:v?.type},altitude:c,bevel:h.bevel,position:this.convert3DMapPositionToCoordinate(d.position),interactive:n.components[2]!=null,borderVisible:h.borderVisible,borderColor:h.borderColor,borderWidth:h.borderWidth}}else if(n?.type==="model"){let o=n.components[0],i=n.components[1],s=n.components[2];return{id:n.id,type:"model",position:o.mesh?this.convert3DMapPositionToCoordinate(o.mesh?.getWorldPosition(new ie)):this.convert3DMapPositionToCoordinate(o.position),interactive:s!=null,material:i.material,parent:n.parentObject3D?.parent?{id:n.parentObject3D.parent.userData.entityId,type:n.parentObject3D.parent.type}:void 0,visible:i.visible,verticalOffset:i.verticalOffset,color:i.color,opacity:i.opacity,rotation:i.rotation??Ac,scale:i.scale??Mc}}else if(n?.type==="path"){let o=n.components[0],i=n.components[2],s=n.components[1];return{id:n.id,type:"path",position:this.convert3DMapPositionToCoordinate(o.position),visible:s.visible,interactive:i!=null,completeFraction:o.completeFraction,color:s.color,accentColor:o.accentColor,width:o.width,animateArrowsOnPath:o.animateArrowsOnPath,displayArrowsOnPath:o.displayArrowsOnPath,verticalOffset:s.altitude,highlightCompleteFraction:o.highlightCompleteFraction,highlightStartFraction:o.highlightStartFraction,highlightEndFraction:o.highlightEndFraction,highlightColor:o.highlightColor,highlightWidthMultiplier:o.highlightWidthMultiplier}}else if(n?.type==="image"){let o=n.components[0];return{id:n.id,type:"image",position:this.convert3DMapPositionToCoordinate(o.position),visible:n.components[1].visible,verticalOffset:o.feature.properties.verticalOffset??0,opacity:n.components[1].opacity,flipImageToFaceCamera:n.components[1].flipImageToFaceCamera,width:o.feature.properties.width??0,height:o.feature.properties.height??0,rotation:o.feature.properties.rotation??0}}else if(n?.type==="text3d"&&n.components[0]instanceof jh&&"textArea"in n.components[0].feature.properties){IE(n);let o=n.components[0],i=n.components[1],{textMesh:s}=o,u=o.mesh?.parent;u instanceof br&&u.children.find(d=>d.type==="batchedtext")?.getWorldPosition(a(this,I0)),a(this,$d).set(0,0,0);let l=s?s.getWorldPosition(a(this,$d)):a(this,$d);return Object.assign({},Fc,i.getState(),{id:n.id,type:"text3d",position:this.convert3DMapPositionToCoordinate(l.add(a(this,I0))),visible:o.visible??!1,content:o.feature.properties.content??""})}else return}}setState(t,n){if(typeof t=="object"&&n==null){"hoverColor"in t&&(cm(t.hoverColor)?a(this,_).hoverColor=t.hoverColor??a(this,_).hoverColor:R.warn(`Failed to update global hover color. Invalid color "${t.hoverColor}".`)),"text3dHoverColor"in t&&(a(this,_).text3dHoverColor=t.text3dHoverColor??a(this,_).text3dHoverColor);return}let o=Dc(a(this,_),t);if(o!=null){if(o.type==="custom-geometry"){let i=a(this,_).geometry3DMap.get(o.id);if(i instanceof ft&&i.components[0]instanceof Md){let s=n;Vs(o,a(this,_),s.visible),Oc(o,a(this,_),s.altitude),Eb(o,s.position,this.convertTo3DMapPosition),Cb(o,this.getParentContainer(s.parent,!1)),Xn(o,s.interactive,a(this,_))&&a(this,Tt).call(this)}}else if(o.type==="path"){let i=n;Xn(o,i.interactive,a(this,_))&&a(this,Tt).call(this),Oc(o,a(this,_),i.verticalOffset),vE(o,a(this,_),i)}else if(o.type==="model"){let i=n;Xn(o,i.interactive,a(this,_))&&a(this,Tt).call(this),Vs(o,a(this,_),i.visible),CE(o,i),SE(o,i)}else if(o.type==="group-container"){let i=n;Vs(o,a(this,_),i.visible)&&(a(this,k).pathSystem.verticalDistanceDirty=!0,a(this,k).geometryInFocusSystem.focusablesDirty=!0),Oc(o,a(this,_),i.altitude)&&(a(this,k).pathSystem.verticalDistanceDirty=!0),Xn(o,i.interactive,a(this,_))&&a(this,Tt).call(this),Gh(o,a(this,_),i.opacity)&&(a(this,k).outlineInterpolationSystem.outlineOpacitiesDirty=!0),i.preloadGeometry&&o.userData.preloadGeometry!==!0&&(o.userData.preloadGeometry=!0,a(this,k).outlineInterpolationSystem.geometries3DDirty=!0),zh(o,i.focusable)&&(a(this,k).geometryInFocusSystem.focusablesDirty=!0)}else if(o.type==="geometry-group"){let i=n;Vs(o,a(this,_),i.visible),aE(o,a(this,_),i),Tb(o,a(this,_),i.outline),i.height!=null&&Ib(o,a(this,_),i.height),Oc(o,a(this,_),i.altitude),Db(o,a(this,_),i)&&(a(this,k).textureSystem.dirty=!0),Db(o,a(this,_),i),sE(o,a(this,_),i.shading),Gh(o,a(this,_),i.opacity)&&(a(this,k).outlineInterpolationSystem.outlineOpacitiesDirty=!0),Xn(o,i.interactive,a(this,_))&&(a(this,Tt).call(this),a(this,Tr).call(this)),wb(o,a(this,_),i.side)}else if(o.type==="geometry"){if(o.components[0]instanceof sr){let i=n;Vs(o,a(this,_),i.visible),Tb(o,a(this,_),i.outline),uE(o,i),zh(o,i.focusable)&&(a(this,k).geometryInFocusSystem.focusablesDirty=!0),yE(o,i.renderOrder)&&(a(this,k).meshDetachmentSystem.dirty=!0),gE(o,i.opacity)&&(a(this,k).meshDetachmentSystem.dirty=!0,a(this,k).interactionSystem.dirty3D=!0,a(this,k).outlineInterpolationSystem.outlineOpacitiesDirty=!0),Sb(o,i.flipImageToFaceCamera),fE(o,i.enableImageCollisions),Oc(o,a(this,_),i.altitude),i.height!=null&&Ib(o,a(this,_),i.height),hE(o,i)&&(a(this,k).meshDetachmentSystem.dirty=!0,a(this,k).textureSystem.dirty=!0),lE(o,i),dE(o,i.hoverColor),Xn(o,i.interactive,a(this,_)),mE(o,i.hovered),wb(o,a(this,_),i.side),bE(o,i)}a(this,Tt).call(this)}else if(o.type==="label"||o.type==="marker"){let i=n;pE(o,n,a(this,_)),cE(o,n,a(this,_))&&(a(this,Tr).call(this),a(this,k).domMutationSystem.dirty=!0),Eb(o,i.position,this.convertTo3DMapPosition),Cb(o,this.getParentContainer(i.parent,!1))&&(a(this,Tr).call(this),a(this,k).panBoundsSystem.dirty=!0),Uh(o,i.enabled),Vs(o,a(this,_),i.visible)}else if(o.type==="image"){let i=n;Vs(o,a(this,_),i.visible),Gh(o,a(this,_),i.opacity),Sb(o,i.flipImageToFaceCamera)}else if(o.type==="text3d"){let i=n;EE(o,a(this,_),i)}this.render()}}convertTo3DMapPosition(t,n,o=0,i){if(Array.isArray(t))return this.convertTo3DMapPosition(t[1],t[0],t[2]??o,typeof n=="function"?n:void 0);if(typeof n!="number")throw new Error("convertTo3DMapPosition failed: longitude must be a number");let{x:s,y:u}=Rh(a(this,_).center?.[1]??0,a(this,_).center?.[0]??0,t,n);return i?(i.set(s,u,o),i):new ie(s,u,o)}get backgroundColor(){return typeof a(this,jr).backgroundColor=="string"?a(this,jr).backgroundColor:`#${a(this,jr).backgroundColor.getHexString()}`}get backgroundAlpha(){return a(this,jr).backgroundAlpha}getThreeRenderer(){return a(this,jr)}getCenter(t){let n=Array.isArray(t)?t:this.getBoundingArea(t);return n?H6(n):void 0}isInView(t){let n=Dc(a(this,_),t);if(a(this,v0).identity().multiply(a(this,Vt).projectionMatrix).multiply(a(this,Vt).matrixWorldInverse),a(this,Ql).setFromProjectionMatrix(a(this,v0)),n instanceof mb)return a(this,Ql).containsPoint(n.position);if(n instanceof ft){let o=n?.components[0];if(o instanceof Md||o instanceof Iu)return a(this,Ql).containsPoint(this.convertTo3DMapPosition(o.feature.geometry.coordinates));if(o instanceof sr){let i=new mr(this.convertTo3DMapPosition(o.featureBbox[1],o.featureBbox[0],0),this.convertTo3DMapPosition(o.featureBbox[3],o.featureBbox[2],0));return a(this,Ql).intersectsBox(i)}}return!1}queryGeometry2DInView(t){let{screenOffsets:n,fullyContains:o}=t??{},[i,s,u,l]=J6(this.container,n),c=new _e(i,s,u,l);return a(this,k).collisionSystem.visibleCollidersQTree.queryRect(c).filter(b=>o?c.contains(b):c.intersects(b)).map(b=>a(this,_).geometry2DMap.get(b.userData.entityId)).filter(b=>b!=null).filter(b=>b.components[0]instanceof Ra||b.components[0]instanceof Na).map(b=>b.id.toString())}onMapLibreEvent(t,n){if(!this.map){R.warn(`Tried to add event listener "${t}" but MapLibre map is not initialized.`);return}this.map.on(t,n),a(this,Ho)[t]=a(this,Ho)[t]||[],a(this,Ho)[t].push(n)}offMapLibreEvent(t,n){!this.map||!Array.isArray(a(this,Ho)[t])||(this.map.off(t,n),a(this,Ho)[t]=a(this,Ho)[t].filter(o=>o!==n))}get aborted(){return a(this,Kl).signal.aborted}onAbort(t){a(this,Kl).signal.addEventListener("abort",t,{once:!0})}getSystems(){return a(this,k)}getInternalState(){return a(this,_)}getInternalTweenGroup(){return a(this,_).internalTweenGroup}getExternalTweenGroup(){return a(this,_).externalTweenGroup}computeMinZOffsetBetweenContainers(t,n,o){if(!t||!n)return-1;Ec(t,"group-container"),Ec(n,"group-container");let i=Nh(t,this.getThreeCamera()),s=n.clone(),u=Nh(s,this.getThreeCamera());if(!Uu(i)||!Uu(u))return-1;let l=0,c;o&&this.container.querySelectorAll(".debug-box").forEach(f=>f.remove());do{if(l>1e4)return-1;if(l+=20,s.position.z=l,s.updateMatrixWorld(),u.makeEmpty(),Nh(s,a(this,Vt),u),c=i.intersectsBox(u),o){let d=vb(i,"blue",this.container),f=vb(u,c?"red":"green",this.container);d.classList.add("debug-box"),f.classList.add("debug-box")}}while(c);return l}};qt=new WeakMap,Vt=new WeakMap,Jl=new WeakMap,p0=new WeakMap,_d=new WeakMap,Fu=new WeakMap,Yl=new WeakMap,Ld=new WeakMap,Qr=new WeakSet,G2=function(t){a(this,Ds)!=="outdoors-overlay"&&this.map?.setPixelRatio(t),a(this,_).pixelRatio=this.resolutionScale},_=new WeakMap,Ho=new WeakMap,Kl=new WeakMap,dt=new WeakMap,wi=new WeakMap,Qt=new WeakMap,Zo=new WeakMap,jr=new WeakMap,k=new WeakMap,d0=new WeakMap,Tr=new WeakMap,Tt=new WeakMap,QM=function(){T(this,dt,document.createElement("div")),a(this,dt).classList.add("mappedin__smart-collision-engine__container"),T(this,wi,document.createElement("canvas")),a(this,wi).classList.add("mappedin__smart-collision-engine-debug__container"),this.container.appendChild(a(this,dt)),T(this,Qt,document.createElement("canvas")),a(this,Qt).classList.add("mappedin__smart-collision-engine__container"),a(this,Qt).width=a(this,dt).clientWidth*this.resolutionScale,a(this,Qt).height=a(this,dt).clientHeight*this.resolutionScale,a(this,Qt).style.width=a(this,dt).clientWidth+"px",a(this,Qt).style.height=a(this,dt).clientHeight+"px",a(this,dt).appendChild(a(this,wi)),a(this,dt).appendChild(a(this,Qt)),a(this,wi).width=a(this,dt).clientWidth,a(this,wi).height=a(this,dt).clientHeight,a(this,Qt).width=a(this,dt).clientWidth*this.resolutionScale,a(this,Qt).height=a(this,dt).clientHeight*this.resolutionScale,a(this,Qt).style.width=a(this,dt).clientWidth+"px",a(this,Qt).style.height=a(this,dt).clientHeight+"px"},eA=function(){T(this,Zo,document.createElement("div")),a(this,Zo).classList.add("mappedin-2d-entities"),Object.assign(a(this,Zo).style,{position:"absolute",top:"0",left:"0",bottom:"0",right:"0",pointerEvents:"none","transform-style":"preserve-3d"}),this.container.appendChild(a(this,Zo))},tA=function(){a(this,Qt).width=a(this,dt).clientWidth*this.resolutionScale,a(this,Qt).height=a(this,dt).clientHeight*this.resolutionScale,a(this,Qt).style.width=a(this,dt).clientWidth+"px",a(this,Qt).style.height=a(this,dt).clientHeight+"px",a(this,wi).width=a(this,dt).clientWidth,a(this,wi).height=a(this,dt).clientHeight,a(this,Qt).width=a(this,dt).clientWidth*this.resolutionScale,a(this,Qt).height=a(this,dt).clientHeight*this.resolutionScale,a(this,Qt).style.width=a(this,dt).clientWidth+"px",a(this,Qt).style.height=a(this,dt).clientHeight+"px",a(this,k).collisionSystem.collidersDirty=!0},Ds=new WeakMap,m0=new WeakMap,f0=new WeakMap,h0=new WeakMap,g0=new WeakMap,Rd=new WeakMap,v4=new WeakMap,y0=new WeakMap,Nd=new WeakMap,b0=new WeakMap,ql=new WeakMap,z2=function(t,n,o,i){let s=new mb(n,this.convertTo3DMapPosition(t[1],t[0],t[2]||0),i);return s.occluderId=o??a(this,k).occlusion2DSystem.backgroundId,a(this,_).geometry2DMap.set(s.id,s),s},Ql=new WeakMap,v0=new WeakMap,x0=new WeakMap,Cn=new WeakMap,Sn=new WeakMap,V2=async function(){return Cu.load(GF).then(t=>(a(this,qt)&&(a(this,qt).environment?.dispose(),t.mapping=XI,a(this,qt).environment=t,this.render()),t))},x4=new WeakMap,I4=new WeakMap,$d=new WeakMap,I0=new WeakMap;var yH=new ie,X2=U2;p();function bH(e,r){vH(e,r)(e.getScene(),r),xH(e,r),r.addFolder("Export").add({export:async()=>{let s=await e.getCurrentSceneGLTF({binary:!0}),u=new Blob([s],{type:"application/octet-stream"});var l=document.createElement("a");document.body.appendChild(l),l.style.display="none";let c=window.URL.createObjectURL(u);l.href=c,l.download="scene.glb",l.click(),window.URL.revokeObjectURL(c)}},"export");let o=r.addFolder("Camera"),i={get bearing(){return e.camera.bearing},set bearing(s){e.camera.setBearing(s)},get pitch(){return e.camera.pitch},set pitch(s){e.camera.setPitch(s)},get zoomLevel(){return e.camera.zoomLevel},set zoomLevel(s){e.camera.setZoomLevel(s)}};o.add(i,"bearing",-359,359,1),o.add(i,"pitch",e.camera.minPitch,e.camera.maxPitch,1),o.add(i,"zoomLevel",e.camera.minZoomLevel,e.camera.maxZoomLevel,.1)}function vH(e,r){let t=r;return function n(o,i){let s=i.addFolder(`${[o.type]} ${o.id.slice(0,16)}`);if(i.close(),o.type==="geometry"||o.type==="model"||o.type==="path"||o.type==="image"){let u={get height(){let l=e.getState(o.id);return l?.type==="geometry"?l.height:0},set height(l){e.getState(o.id)?.type==="geometry"&&e.setState(o,{height:l})},set flipImageToFaceCamera(l){e.getState(o.id)?.type==="image"&&e.setState(o,{flipImageToFaceCamera:l})},get flipImageToFaceCamera(){let l=e.getState(o.id);return l?.type==="image"?l.flipImageToFaceCamera:!1},set visible(l){let c=e.getState(o.id);(c?.type==="geometry"||c?.type==="path"||c?.type==="image")&&e.setState(o,{visible:l})},get visible(){let l=e.getState(o.id);return l?.type==="geometry"||l?.type==="path"||l?.type==="image"?l.visible:!1},set outline(l){e.getState(o.id)?.type==="geometry"&&e.setState(o,{outline:l})},get outline(){let l=e.getState(o.id);return l?.type==="geometry"?l.outline:!1},get opacity(){let l=e.getState(o.id);return l?.type==="geometry"?l.opacity:1},set opacity(l){let c=e.getState(o.id);c?.type==="geometry"&&e.setState(c,{opacity:l})},get color(){let l=e.getState(o.id);return l?.type==="geometry"&&l.color?w6(l.color).toHexString():"#ffffff"},set color(l){let c=e.getState(o.id);c?.type==="geometry"&&e.setState(c,{color:l})},set interactive(l){let c=e.getState(o.id);(c?.type==="geometry"||c?.type==="model"||c?.type==="path")&&(e.setState(o,{interactive:l}),t.controllersRecursive().forEach(d=>d.updateDisplay()))},get interactive(){let l=e.getState(o.id);return l?.type==="geometry"||l?.type==="model"||l?.type==="path"?l.interactive:!1},get completeFraction(){let l=e.getState(o.id);return l?.type==="path"?l.completeFraction:1},set completeFraction(l){let c=e.getState(o.id);c?.type==="path"&&e.setState(c,{completeFraction:l})},focus:()=>{}};s.add(u,"focus").onChange(()=>{let l=e.getState(o.id);l?.type==="model"||l?.type==="path"||l?.type==="image"?e.camera.focusOn([l.position]):l?.type==="geometry"&&e.camera.focusOn(e.getBoundingArea(l))}),s.add(u,"visible"),o.type==="image"?s.add(u,"flipImageToFaceCamera"):(s.add(u,"interactive"),o.type==="path"&&s.add(u,"completeFraction",0,1,.1),o.type!=="model"&&(s.addColor(u,"color"),s.add(u,"outline"))),o.type==="geometry"&&(s.add(u,"height"),s.add(u,"opacity",0,1,.1))}else if(o.type==="marker"){let u={get interactive(){let l=e.getState(o.id);return l?.type==="marker"?l.options?.interactive:!1},set interactive(l){let c=e.getState(o.id);c?.type==="marker"&&(e.setState(c,{options:{interactive:l}}),t.controllersRecursive().forEach(d=>d.updateDisplay()))},focus:()=>{}};s.add(u,"focus").onChange(()=>{let l=e.getState(o.id);l?.type==="marker"&&e.camera.focusOn([l.position])}),s.add(u,"interactive")}else if(o.type==="label"){let u={get interactive(){let l=e.getState(o.id);return l?.type==="label"?l.options?.interactive:!1},set interactive(l){let c=e.getState(o.id);c?.type==="label"&&(e.setState(c,{options:{interactive:l}}),t.controllersRecursive().forEach(d=>d.updateDisplay()))},get text(){let l=e.getState(o.id);return l?.type==="label"?l.text:""},set text(l){let c=e.getState(o.id);c?.type==="label"&&e.setState(c,{text:l})},get"Text Color"(){let l=e.getState(o.id);return l?.type==="label"?l.options.appearance?.textColor:"#000000"},set"Text Color"(l){e.getState(o.id)?.type==="label"&&e.setState(o.id,{text:u.text,options:{appearance:{textColor:l}}})},get"Text Size"(){let l=e.getState(o.id);return l?.type==="label"?l.options.appearance?.textSize:10},set"Text Size"(l){let c=e.getState(o.id);c?.type==="label"&&e.setState(c,{text:u.text,options:{appearance:{textSize:l}}})},get"Icon Size"(){let l=e.getState(o.id);return l?.type==="label"?l.options.appearance?.iconSize:10},set"Icon Size"(l){let c=e.getState(o.id);c?.type==="label"&&e.setState(c,{text:u.text,options:{appearance:{iconSize:l}}})},get"Pin Color"(){let l=e.getState(o.id);return l?.type==="label"?l.options.appearance?.pinColor:"#000000"},set"Pin Color"(l){let c=e.getState(o.id);c?.type==="label"&&e.setState(c,{text:u.text,options:{appearance:{pinColor:l}}})},get"Pin Color Inactive"(){let l=e.getState(o.id);return l?.type==="label"?l.options.appearance?.pinColorInactive:"#000000"},set"Pin Color Inactive"(l){let c=e.getState(o.id);c?.type==="label"&&e.setState(c,{text:u.text,options:{appearance:{pinColorInactive:l}}})},get"Pin Outline Color"(){let l=e.getState(o.id);return l?.type==="label"?l.options.appearance?.pinOutlineColor:"#000000"},set"Pin Outline Color"(l){let c=e.getState(o.id);c?.type==="label"&&e.setState(c,{text:u.text,options:{appearance:{pinOutlineColor:l}}})},get"Pin Outline Color Inactive"(){let l=e.getState(o.id);return l?.type==="label"?l.options.appearance?.pinOutlineColorInactive:"#000000"},set"Pin Outline Color Inactive"(l){let c=e.getState(o.id);c?.type==="label"&&e.setState(c,{text:u.text,options:{appearance:{pinOutlineColorInactive:l}}})},focus:()=>{}};s.add(u,"focus").onChange(()=>{let l=e.getState(o.id);l?.type==="label"&&e.camera.focusOn([l.position])}),s.add(u,"interactive"),s.add(u,"text"),s.add(u,"Text Size",10,50),s.add(u,"Icon Size",10,50),s.addColor(u,"Text Color"),s.addColor(u,"Active Background Color"),s.addColor(u,"Inactive Background Color"),s.addColor(u,"Active Foreground Color"),s.addColor(u,"Inactive Foreground Color")}else if(o.type==="geometry-group"){let u={get opacity(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.opacity:1},set opacity(l){e.getState(o.id)?.type==="geometry-group"&&e.setState(o,{opacity:l})},set visible(l){e.getState(o.id)?.type==="geometry-group"&&e.setState(o,{visible:l})},get visible(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.visible:!1},set outline(l){e.getState(o.id)?.type==="geometry-group"&&e.setState(o,{outline:l})},get outline(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.outline:!1},set altitude(l){e.getState(o.id)?.type==="geometry-group"&&e.setState(o,{altitude:l})},get altitude(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.altitude:0},set interactive(l){e.getState(o.id)?.type==="geometry-group"&&(e.setState(o,{interactive:l}),t.controllersRecursive().forEach(d=>d.updateDisplay()))},get interactive(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.interactive:!1},get shadingStart(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.shading?.start??0:0},set shadingStart(l){let c=e.getState(o.id);c?.type==="geometry-group"&&e.setState(c,{shading:{start:l}})},get shadingEnd(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.shading?.end??0:0},set shadingEnd(l){let c=e.getState(o.id);c?.type==="geometry-group"&&e.setState(c,{shading:{end:l}})},get shadingIntensity(){let l=e.getState(o.id);return l?.type==="geometry-group"?l.shading?.intensity??0:0},set shadingIntensity(l){let c=e.getState(o.id);c?.type==="geometry-group"&&e.setState(c,{shading:{intensity:l}})}};s.add(u,"visible"),s.add(u,"opacity",0,1,.1),s.add(u,"interactive"),s.add(u,"outline"),s.add(u,"altitude",0,100,1),s.add(u,"shadingStart",0,1,.1),s.add(u,"shadingEnd",0,1,.1),s.add(u,"shadingIntensity",0,1,.1)}else if(o.type==="group-container"){let u={set visible(l){e.getState(o.id)?.type==="group-container"&&e.setState(o,{visible:l})},get visible(){let l=e.getState(o.id);return l?.type==="group-container"?l.visible:!1},set interactive(l){let c=e.getState(o.id);c?.type==="group-container"&&(e.setState(c,{interactive:l}),t.controllersRecursive().forEach(d=>d.updateDisplay()))},get interactive(){let l=e.getState(o.id);return l?.type==="group-container"?l.interactive:!1}};s.add(u,"visible"),s.add(u,"interactive")}if(s.close(),o.children)for(let u of o.children.values())n(u,s)}}function xH(e,r){let t=r.addFolder("Watermark"),n={padding:16,iconOnly:!1,position:"bottom-left",color:"dark",scale:1};t.add(n,"padding",0,100,1),t.add(n,"scale",.5,1.5,.1),t.add(n,"color",["dark","light"]),t.add(n,"position",["top-left","top-right","bottom-left","bottom-right","center","top","bottom","left","right"]),t.add(n,"iconOnly"),t.onChange(()=>{e.updateWatermark(n)})}var rA="https://tiles-cdn.mappedin.com/styles/mappedin/style.json",EH="https://auth.mappedin.com/oauth2/token";var E4="";function J2(e){E4=e,_6(e)}var $l="";function Y2(e){$l=e}async function nA(e,r){let t=r?.useWorkers??!0,n={...r,watermark:r?.watermark,attribution:r?.attribution,antialias:r?.antialias,occlusionEnabled:r?.occlusionEnabled,transformImageRequest:r?.transformImageRequest,naturalBearing:r?.naturalBearing??0,imagePlacementOptions:r?.imagePlacementOptions,onWebGLContextCreationError:r?.onWebGLContextCreationError,onWebGLContextLost:r?.onWebGLContextLost,onWebGLContextRestored:r?.onWebGLContextRestored,onWebGLRendererError:r?.onWebGLRendererError,useStandaloneCamera:r?.useStandaloneCamera??!1,useCollisionWorker:r?.useCollisionWorker??!0,useWorkers:t};if(t===!0&&r?.outdoorView?.enabled){let o=r.outdoorView.headers;o==null&&(o=await z6(EH));let i=r.center||[0,0],s=new k6({container:e,style:r.outdoorView.style||rA,center:i,attributionControl:!1,zoom:r.zoomLevel??W2,pitch:r.pitch??H2,bearing:r.bearing??Z2,transformRequest:$6(o),trackResize:!1,pixelRatio:r.outdoorView.lowDpi?1:Tc(),canvasContextAttributes:{antialias:typeof r.antialias=="boolean"?r.antialias:!0,powerPreference:"high-performance"},interactive:!1,validateStyle:!1,centerClampedToGround:!1,boxZoom:!1,doubleClickZoom:!1,scrollZoom:!1,dragPan:!1,dragRotate:!1,keyboard:!1,touchZoomRotate:!1}),u=s.painter.context.gl,l=new X2(e,{center:i,zoomLevel:s.getZoom(),pitch:s.getPitch(),bearing:s.getBearing(),gl:u,map:s,mode:"outdoors-interleaved",...n}),c={center:s.getCenter().toArray(),zoom:s.getZoom(),bearing:s.getBearing(),pitch:s.getPitch(),elevation:s.getCenterElevation()};s.setMinZoom(l.camera.minZoomLevel),s.setMaxZoom(l.camera.maxZoomLevel),s.setMaxPitch(l.camera.maxPitch),s.setMinPitch(l.camera.minPitch),l.on("camera-change",w=>{c.center=w.center,c.zoom=w.zoomLevel,c.bearing=w.bearing,c.pitch=w.pitch,c.elevation=w.elevation,s.jumpTo(c)});let d=B6.fromLngLat(i,0),f=G6(d,l.viewCamera,()=>{l.renderSync()}),h=async()=>{s&&(s.addLayer(f),l.renderSync())};l.onMapLibreEvent("style.load",h);let b=!1,I=!1,E=()=>{s&&(b||(l.publish("outdoor-view-loaded"),b=!0),I||(I=!0,l.publish("outdoor-style-loaded")))};l.onMapLibreEvent("idle",E);let v=w=>{w&&(w.sourceDataType==="metadata"||w.sourceDataType==="visibility"||w.dataType==="style"||w.type==="terrain")&&l.getSystems().htmlControlsSystem.updateData(s)},x=w=>{s&&w&&w.dataType==="style"&&w.type==="styledata"&&(I=!1),v(w)};l.onMapLibreEvent("styledata",x),l.onMapLibreEvent("sourcedata",v),l.onMapLibreEvent("terrain",v);let D=w=>{if(w.error?.url===rA){R.error(`Failed to load outdoor view style, possibly due to invalid token "${o["x-mappedin-tiles-key"]}"`);return}R.warn(w)};return l.onMapLibreEvent("error",D),l}else return new X2(e,n)}p();p();p();p();var E0=class E0{constructor(r,t,n){m(this,"id");m(this,"text");m(this,"target");m(this,"__type",E0.__type);this.id=r,this.text=t,this.target=n}static is(r){return r.__type===E0.__type}get focusTarget(){return this.target.anchorTarget}};m(E0,"__type","label");var Ts=E0;p();var ec,jd=class jd{constructor(r,t,n){m(this,"id");C(this,ec);m(this,"__type",jd.__type);m(this,"contentEl");this.id=r,this.contentEl=t,T(this,ec,n)}get target(){return a(this,ec)}get coordinate(){return a(this,ec).anchorTarget}toJSON(){return{id:this.id,__type:jd.__type,target:this.target,coordinate:this.coordinate}}static is(r){return r.__type===jd.__type}get focusTarget(){return this.target.anchorTarget}updateTarget(r){T(this,ec,r)}};ec=new WeakMap,m(jd,"__type","marker");var Ca=jd;p();var S0,D0,C0=class C0{constructor(r,t,n){C(this,S0);C(this,D0);m(this,"target");m(this,"__type",C0.__type);T(this,S0,r),T(this,D0,t),this.target=n}static is(r){return r.__type===C0.__type}get id(){return a(this,S0)}get url(){return a(this,D0)}};S0=new WeakMap,D0=new WeakMap,m(C0,"__type","image-3d");var tc=C0;p();var rc,Ud=class Ud{constructor(r,t,n){m(this,"id");m(this,"groupId");m(this,"__type",Ud.__type);C(this,rc);this.id=r,this.groupId=t,T(this,rc,n)}get target(){return a(this,rc)}static is(r){return r.__type===Ud.__type}updateTarget(r){T(this,rc,r)}toJSON(){return{id:this.id,__type:Ud.__type,groupId:this.groupId,target:a(this,rc)}}};rc=new WeakMap,m(Ud,"__type","model");var nc=Ud;p();var oc,T0=class T0{constructor(r,t){m(this,"id");m(this,"coordinates");C(this,oc);m(this,"__type",T0.__type);this.id=r,this.coordinates=t}static is(r){return r.__type===T0.__type}get isConnectionSegment(){return this.coordinates.length===2&&this.coordinates[0].floorId!==this.coordinates[1].floorId}get distance(){return a(this,oc)?a(this,oc):(T(this,oc,Fx(this.coordinates)),a(this,oc))}get focusTarget(){return this.coordinates}};oc=new WeakMap,m(T0,"__type","path-segment");var Mu=T0,ic,Gd=class Gd{constructor(r,t,n,o){m(this,"id");m(this,"animation");m(this,"coordinates");m(this,"segments");C(this,ic);m(this,"__type",Gd.__type);this.id=r,this.animation=t,this.coordinates=n,this.segments=o.map(({id:i,coordinates:s})=>new Mu(i.toString(),s))}static is(r){return r.__type===Gd.__type}get focusTarget(){return this.coordinates}get distance(){return a(this,ic)?a(this,ic):(T(this,ic,Fx(this.coordinates)),a(this,ic))}toJSON(){return{__type:Gd.__type,id:this.id,coordinates:this.coordinates,segments:this.segments}}};ic=new WeakMap,m(Gd,"__type","path");var Fi=Gd;p();var CH=7,Au,ac,w0=class{constructor(r,t){C(this,Au);C(this,ac);T(this,Au,r),T(this,ac,t?.precision??CH)}toJSON(){return{center:this.center,bearing:this.bearing,pitch:this.pitch,zoomLevel:this.zoomLevel}}get center(){let r=a(this,Au).center;if(a(this,ac)===-1)return r;let t=zi(r.latitude,a(this,ac)),n=zi(r.longitude,a(this,ac));return new ge({latitude:t,longitude:n,floorId:r.floorId,verticalOffset:r.verticalOffset})}get bearing(){return a(this,Au).bearing}get pitch(){return a(this,Au).pitch}get zoomLevel(){return zi(a(this,Au).zoomLevel,5)}};Au=new WeakMap,ac=new WeakMap;p();var F0=class F0{constructor(r){m(this,"id");m(this,"__type",F0.__type);this.id=r}static is(r){return r.__type===F0.__type}get focusTarget(){return this}};m(F0,"__type","shape");var ws=F0;p();var M0=class M0{constructor(r,t){m(this,"id");m(this,"target");m(this,"__type",M0.__type);this.id=r,this.target=t}static is(r){return r.__type===M0.__type}};m(M0,"__type","text-3d");var Ou=M0;p();p();p();var SH=new Map([["search-16x16",`<svg viewBox="0 0 16 16">
			<path
				fillRule="evenodd"
				clipRule="evenodd"
				d="M1 7C1 3.68629 3.68629 1 7 1C10.3137 1 13 3.68629 13 7C13 8.29583 12.5892 9.49572 11.8907 10.4765L15.4614 14.0472C15.6567 14.2425 15.6567 14.559 15.4614 14.7543L14.7543 15.4614C14.559 15.6567 14.2424 15.6567 14.0472 15.4614L10.4765 11.8907C9.49571 12.5892 8.29583 13 7 13C3.68629 13 1 10.3137 1 7ZM7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3C9.20914 3 11 4.79086 11 7C11 9.20914 9.20914 11 7 11Z"
				stroke="none"
			/>
		</svg>`],["close-16x16",`<svg viewBox="0 0 16 16">
			<path
				d="M12.5963 1.98959C12.7916 1.79433 13.1082 1.79433 13.3034 1.98959L14.0105 2.6967C14.2058 2.89196 14.2058 3.20855 14.0105 3.40381L3.40392 14.0104C3.20866 14.2057 2.89208 14.2057 2.69682 14.0104L1.98971 13.3033C1.79445 13.108 1.79445 12.7915 1.98971 12.5962L12.5963 1.98959Z"
				stroke="none"
			/>
			<path
				d="M1.98971 3.40381C1.79445 3.20855 1.79445 2.89196 1.98971 2.6967L2.69682 1.98959C2.89208 1.79433 3.20866 1.79433 3.40392 1.98959L14.0105 12.5962C14.2058 12.7915 14.2058 13.108 14.0105 13.3033L13.3034 14.0104C13.1082 14.2057 12.7916 14.2057 12.5963 14.0104L1.98971 3.40381Z"
				stroke="none"
			/>
		</svg>`],["empty-64x40",`<svg viewBox="0 0 64 40">
			<g>
				<g clipPath="url(#clip0_499_175492)">
					<path
						d="M32 39.7032C49.6731 39.7032 64 36.5925 64 32.7552C64 28.9179 49.6731 25.8071 32 25.8071C14.3269 25.8071 0 28.9179 0 32.7552C0 36.5925 14.3269 39.7032 32 39.7032Z"
						stroke="none"
						fill="#F5F5F5"
					/>
					<path
						d="M55 13.6653L44.854 2.24866C44.367 1.47048 43.656 1 42.907 1H21.093C20.344 1 19.633 1.47048 19.146 2.24767L9 13.6663V22.8367H55V13.6653Z"
						fill="none"
					/>
					<path
						d="M41.613 16.8128C41.613 15.2197 42.607 13.9046 43.84 13.9036H55V31.9059C55 34.0132 53.68 35.7402 52.05 35.7402H11.95C10.32 35.7402 9 34.0122 9 31.9059V13.9036H20.16C21.393 13.9036 22.387 15.2167 22.387 16.8098V16.8317C22.387 18.4248 23.392 19.7111 24.624 19.7111H39.376C40.608 19.7111 41.613 18.4128 41.613 16.8198V16.8128Z"
						fill="#FAFAFA"
					/>
				</g>
				<defs>
					<clipPath id="clip0_499_175492">
						<rect width="64" height="40" fill="white" />
					</clipPath>
				</defs>
			</g>
		</svg>`],["caret-12x12",`<svg viewBox="0 0 12 12">
			<path
				stroke="none"
				d="M8.38828 5.78337L3.92578 1.93493C3.75938 1.79196 3.51562 1.92087 3.51562 2.15173V9.84861C3.51562 10.0795 3.75938 10.2084 3.92578 10.0654L8.38828 6.21696C8.51602 6.10681 8.51602 5.89353 8.38828 5.78337Z"
			/>
		</svg>`],["plus-16x16",`<svg viewBox="0 0 16 16">
			<path
				d="M7.5 1C7.22386 1 7 1.22386 7 1.5V7H1.5C1.22386 7 1 7.22386 1 7.5L1 8.5C1 8.77614 1.22386 9 1.5 9H7V14.5C7 14.7761 7.22386 15 7.5 15H8.5C8.77614 15 9 14.7761 9 14.5V9H14.5C14.7761 9 15 8.77614 15 8.5V7.5C15 7.22386 14.7761 7 14.5 7H9V1.5C9 1.22386 8.77614 1 8.5 1H7.5Z"
				stroke="none"
			/>
		</svg>`],["recenter-16x16",`<svg viewBox="0 0 16 16">
			<g stroke="none">
				<path d="M0 2.5C0 2.22386 0.223858 2 0.5 2H1.5C1.77614 2 2 2.22386 2 2.5V13.5C2 13.7761 1.77614 14 1.5 14H0.5C0.223858 14 0 13.7761 0 13.5V2.5Z" />
				<path
					fillRule="evenodd"
					clipRule="evenodd"
					d="M4.5 4C4.22386 4 4 4.22386 4 4.5V11.5C4 11.7761 4.22386 12 4.5 12H11.5C11.7761 12 12 11.7761 12 11.5V4.5C12 4.22386 11.7761 4 11.5 4H4.5ZM6 6V10H10V6H6Z"
				/>
				<path d="M14.5 2C14.2239 2 14 2.22386 14 2.5V13.5C14 13.7761 14.2239 14 14.5 14H15.5C15.7761 14 16 13.7761 16 13.5V2.5C16 2.22386 15.7761 2 15.5 2H14.5Z" />
			</g>
		</svg>`],["minus-16x16",`<svg viewBox="0 0 16 16">
			<path
				d="M1.5 9C1.22386 9 1 8.77614 1 8.5L1 7.5C1 7.22386 1.22386 7 1.5 7L14.5 7C14.7761 7 15 7.22386 15 7.5V8.5C15 8.77614 14.7761 9 14.5 9L1.5 9Z"
				stroke="none"
			/>
		</svg>`],["logo-horizontal-206x48",`<svg viewBox="0 0 206 48">
			<path d="M27.2678 14.2261H22.3187C21.0695 14.2261 20.4695 14.7801 20.4695 15.9852V31.142L10.3966 15.5591C9.69665 14.4784 9.2475 14.2773 7.8475 14.2261H2.97462C1.67462 14.2261 1.07631 14.7801 1.07631 15.9852V44.7665C1.07631 45.9716 1.67462 46.5256 2.97462 46.5256H7.92377C9.22207 46.5256 9.82207 45.9716 9.82207 44.7665V29.6847L19.9441 45.1926C20.695 46.3244 21.095 46.5256 22.4933 46.5256H27.2933C28.5916 46.5256 29.1916 45.9716 29.1916 44.7665V15.9852C29.1407 14.7801 28.5424 14.2261 27.2678 14.2261Z" />
			<path d="M5.44915 10.9602C8.45863 10.9602 10.8983 8.50669 10.8983 5.48011C10.8983 2.45353 8.45863 0 5.44915 0C2.43967 0 0 2.45353 0 5.48011C0 8.50669 2.43967 10.9602 5.44915 10.9602Z" />
			<path d="M61.7899 25.0449C63.2306 23.1903 65.078 22.2051 67.556 22.2051C72.0526 22.2051 74.7611 25.3347 74.7611 29.4511V39.2489C74.8187 39.7125 74.5306 39.9443 74.0695 39.9443H72.5136C72.0526 39.9443 71.7645 39.7125 71.8221 39.2489V29.5091C71.8221 27.1909 69.9187 25.2187 67.4984 25.2187C65.1339 25.2187 63.2323 27.1329 63.2323 29.2773V39.2489C63.2899 39.7125 63.0018 39.9443 62.5407 39.9443H60.9831C60.5221 39.9443 60.2916 39.7125 60.2916 39.2489V29.4511C60.2916 27.1329 58.3899 25.2187 56.0255 25.2187C53.7204 25.2187 51.7594 27.075 51.7594 29.2773V39.3068C51.817 39.7705 51.5289 40.0023 51.0102 40.0023H49.5119C49.0509 40.0023 48.7628 39.7705 48.7628 39.3068V23.25C48.7051 22.7864 48.9933 22.4966 49.5119 22.4966H50.9526C51.356 22.4966 51.5289 22.6704 51.5289 23.0182V24.2352C52.7407 22.9602 54.239 22.2648 56.0255 22.2648C58.4475 22.2068 60.3492 23.192 61.7899 25.0466V25.0449ZM77.1255 31.2477C77.1255 26.3216 81.1018 22.2051 86.1187 22.2051C88.539 22.2051 90.6136 23.1903 92.3441 25.1608V23.1903C92.3441 22.7267 92.5746 22.5528 93.0357 22.5528H94.4187C94.8797 22.5528 95.1102 22.7847 95.1102 23.3062V39.3648C95.1102 39.8284 94.8797 40.0602 94.4187 40.0602H93.0357C92.5746 40.0602 92.3441 39.8284 92.3441 39.4227V37.4523C90.6712 39.3648 88.5967 40.35 86.1746 40.35C81.1018 40.2341 77.1238 36.1773 77.1238 31.2477H77.1255ZM92.1136 31.2477C92.1136 27.8284 89.4611 25.2187 86.0594 25.2187C82.7746 25.2187 80.1221 27.8864 80.1221 31.2477C80.1221 34.6687 82.7746 37.2784 86.1187 37.2784C86.9062 37.2789 87.6861 37.1232 88.4138 36.8202C89.1414 36.5173 89.8026 36.0731 90.3593 35.513C90.9161 34.9528 91.3577 34.2878 91.6587 33.556C91.9597 32.8241 92.1143 32.0397 92.1136 31.2477ZM100.992 37.3943V46.3807C101.049 46.8443 100.761 47.1341 100.298 47.1341H98.7424C98.2814 47.1341 97.9933 46.9023 97.9933 46.3807V23.1903C97.9933 22.7267 98.2238 22.4369 98.7424 22.4369H100.183C100.646 22.379 100.934 22.6687 100.934 23.0744V24.9869C102.605 23.0744 104.68 22.1472 107.044 22.1472C112.002 22.1472 116.037 26.2619 116.037 31.1898C116.037 36.1176 112.059 40.2341 107.044 40.2341C104.622 40.2341 102.603 39.3068 100.992 37.3943ZM106.987 25.2187C103.7 25.2187 101.049 27.8864 101.049 31.2477C101.049 34.6687 103.7 37.2784 107.044 37.2784C110.446 37.2784 113.039 34.6108 113.039 31.2477C113.039 27.8864 110.388 25.2187 106.987 25.2187ZM121.11 37.3943V46.3807C121.168 46.8443 120.88 47.1341 120.419 47.1341H118.861C118.4 47.1341 118.112 46.9023 118.112 46.3807V23.1903C118.112 22.7267 118.342 22.4369 118.861 22.4369H120.302C120.764 22.379 121.053 22.6687 121.053 23.0744V24.9869C122.724 23.0744 124.798 22.1472 127.163 22.1472C132.12 22.1472 136.156 26.2619 136.156 31.1898C136.156 36.1176 132.178 40.2341 127.163 40.2341C124.742 40.2341 122.781 39.3068 121.11 37.3943ZM127.105 25.2187C123.819 25.2187 121.168 27.8864 121.168 31.2477C121.168 34.6687 123.819 37.2784 127.163 37.2784C130.564 37.2784 133.158 34.6108 133.158 31.2477C133.158 27.8864 130.507 25.2187 127.107 25.2187H127.105ZM153.97 32.3506H141.054C141.342 35.2483 143.995 37.4523 147.164 37.4523C148.893 37.4523 150.393 37.0466 151.719 36.0597C152.007 35.8858 152.295 35.7699 152.353 35.7699C152.583 35.7699 152.756 35.8858 152.929 36.1773L153.505 37.1625C153.622 37.3364 153.68 37.4523 153.68 37.5682C153.68 37.8 153.507 38.0318 153.103 38.3216C151.258 39.5966 149.183 40.292 146.992 40.292C141.688 40.292 137.883 36.3511 137.883 31.2477C137.883 26.204 141.803 22.2051 146.703 22.2051C151.546 22.2051 154.717 25.7983 154.717 31.0176C154.717 31.5972 154.717 32.3506 153.968 32.3506H153.97ZM141.056 30.0324H151.72C151.432 26.8432 149.473 24.929 146.648 24.929C145.241 24.8904 143.875 25.3995 142.833 26.3501C141.791 27.3007 141.154 28.6194 141.056 30.0307V30.0324ZM156.332 31.2477C156.332 26.3216 160.31 22.2051 165.326 22.2051C167.748 22.2051 169.707 23.1324 171.32 25.0449V16.2324C171.263 15.7687 171.551 15.479 172.012 15.479H173.57C174.031 15.479 174.319 15.7108 174.319 16.2324V39.3068C174.319 39.7705 174.088 40.0023 173.57 40.0023H172.129C171.666 40.0602 171.378 39.7705 171.378 39.3648V37.3943C169.649 39.3068 167.632 40.292 165.268 40.292C160.31 40.2341 156.332 36.1773 156.332 31.2477ZM171.264 31.2477C171.264 27.8284 168.612 25.2187 165.21 25.2187C161.924 25.2187 159.273 27.8864 159.273 31.2477C159.273 34.6687 161.924 37.2784 165.268 37.2784C166.057 37.2838 166.839 37.1316 167.569 36.8304C168.299 36.5292 168.962 36.0852 169.52 35.5241C170.077 34.963 170.519 34.296 170.818 33.5619C171.117 32.8277 171.268 32.0411 171.263 31.2477H171.264ZM177.72 19.0739C177.715 18.8594 177.754 18.646 177.833 18.4468C177.912 18.2476 178.031 18.0667 178.182 17.915C178.333 17.7633 178.512 17.6439 178.71 17.5642C178.909 17.4845 179.121 17.446 179.334 17.4511C179.546 17.4507 179.756 17.4923 179.952 17.5737C180.148 17.6551 180.326 17.7746 180.476 17.9254C180.626 18.0762 180.745 18.2553 180.826 18.4523C180.907 18.6494 180.948 18.8606 180.948 19.0739C180.953 19.2884 180.914 19.5017 180.835 19.7009C180.756 19.9001 180.637 20.081 180.486 20.2327C180.335 20.3845 180.156 20.5038 179.957 20.5835C179.759 20.6633 179.547 20.7017 179.334 20.6966C178.412 20.7545 177.72 20.0591 177.72 19.0739ZM177.836 39.2489V23.1903C177.836 22.7267 178.066 22.4369 178.527 22.4369H180.083C180.544 22.4369 180.832 22.6687 180.775 23.1903V39.2489C180.832 39.7125 180.544 39.9443 180.083 39.9443H178.527C178.066 39.9443 177.836 39.7125 177.836 39.2489ZM186.944 23.0165V24.1756C188.212 22.8426 189.71 22.2051 191.497 22.2051C195.937 22.2051 198.646 25.2767 198.646 29.3932V39.2489C198.703 39.7125 198.415 39.9443 197.954 39.9443H196.398C195.936 39.9443 195.705 39.7125 195.705 39.2489V29.4511C195.705 27.1329 193.803 25.2187 191.439 25.2187C189.134 25.2187 187.175 27.075 187.175 29.2773V39.3068C187.232 39.7705 186.944 40.0023 186.424 40.0023H184.868C184.407 40.0023 184.119 39.7705 184.119 39.3068V23.1903C184.061 22.7267 184.349 22.4949 184.868 22.4949H186.309C186.712 22.4949 186.944 22.6687 186.944 23.0165Z" />
			<path d="M204 40C205.115 40 206 39.0857 206 38V37.9886C206 36.9029 205.126 36 204 36C202.885 36 202 36.9143 202 38V38.0114C202 39.0971 202.874 40 204 40ZM204 39.7829C202.989 39.7829 202.23 38.9829 202.23 38.0114V38C202.23 37.0286 203 36.2171 204 36.2171C205.011 36.2171 205.77 37.0171 205.77 37.9886V38C205.77 38.9714 205 39.7829 204 39.7829ZM203.218 38.9714H203.609V38.2743H204.034L204.517 38.9714H204.989L204.448 38.2057C204.724 38.1257 204.92 37.92 204.92 37.5886C204.92 37.1657 204.586 36.9486 204.138 36.9486H203.218V38.9714ZM203.609 37.9543V37.2914H204.103C204.368 37.2914 204.517 37.4057 204.517 37.6229C204.517 37.8171 204.368 37.9543 204.103 37.9543H203.609Z" />
		</svg>`],["share-16x16",`<svg viewBox="0 0 16 16">
			<path
				fillRule="evenodd"
				clipRule="evenodd"
				d="M13 6C14.6569 6 16 4.65685 16 3C16 1.34315 14.6569 0 13 0C11.3431 0 10 1.34315 10 3C10 3.13463 10.0089 3.26719 10.0261 3.39712L6.82972 5.17286C6.10576 4.44825 5.10523 4 4 4C1.79086 4 0 5.79086 0 8C0 10.2091 1.79086 12 4 12C5.10523 12 6.10576 11.5518 6.82972 10.8271L10.0261 12.6029C10.0089 12.7328 10 12.8654 10 13C10 14.6569 11.3431 16 13 16C14.6569 16 16 14.6569 16 13C16 11.3431 14.6569 10 13 10C12.2011 10 11.4752 10.3123 10.9376 10.8214L7.84579 9.1037C7.94622 8.75313 8 8.38284 8 8C8 7.61716 7.94622 7.24687 7.84579 6.8963L10.9376 5.17864C11.4752 5.68775 12.2011 6 13 6ZM13 4C13.5523 4 14 3.55228 14 3C14 2.44772 13.5523 2 13 2C12.4477 2 12 2.44772 12 3C12 3.55228 12.4477 4 13 4ZM4 10C5.10457 10 6 9.10457 6 8C6 6.89543 5.10457 6 4 6C2.89543 6 2 6.89543 2 8C2 9.10457 2.89543 10 4 10ZM14 13C14 13.5523 13.5523 14 13 14C12.4477 14 12 13.5523 12 13C12 12.4477 12.4477 12 13 12C13.5523 12 14 12.4477 14 13Z"
				stroke="none"
			/>
		</svg>`],["checkmark-16x16",`<svg viewBox="0 0 16 16">
			<path
				fillRule="evenodd"
				clipRule="evenodd"
				d="M15.387 3.31662C15.6008 3.49148 15.6323 3.80649 15.4574 4.02021L6.77402 14.6332C6.58509 14.8642 6.30292 14.9986 6.00457 15C5.70622 15.0013 5.42285 14.8694 5.23184 14.6402L0.551937 9.02429C0.375155 8.81215 0.403817 8.49687 0.615956 8.32009L1.38418 7.67991C1.59632 7.50312 1.9116 7.53179 2.08838 7.74392L5.99299 12.4295L13.9095 2.75374C14.0844 2.54002 14.3994 2.50852 14.6131 2.68338L15.387 3.31662Z"
				stroke="none"
			/>
		</svg>`],["arrow-right-16x16",`<svg viewBox="0 0 16 16">
			<path
				fillRule="evenodd"
				clipRule="evenodd"
				d="M8.35355 1.64645C8.54881 1.45118 8.8654 1.45118 9.06066 1.64645L14.7071 7.29289C15.0976 7.68342 15.0976 8.31658 14.7071 8.70711L9.06066 14.3536C8.8654 14.5488 8.54882 14.5488 8.35355 14.3536L7.64645 13.6464C7.45118 13.4512 7.45118 13.1346 7.64645 12.9393L11.5858 9H0.5C0.223858 9 0 8.77614 0 8.5V7.5C0 7.22386 0.223858 7 0.5 7H11.5858L7.64645 3.06066C7.45118 2.8654 7.45118 2.54882 7.64645 2.35355L8.35355 1.64645Z"
				stroke="none"
			/>
		</svg>`],["arrow-up-16x16",`<svg viewBox="0 0 16 16">
			<path
				fillRule="evenodd"
				clipRule="evenodd"
				d="M8.00015 0.5C8.34685 0.5 8.67835 0.642318 8.91714 0.893677L15.6517 7.98267C15.8441 8.18525 15.8359 8.50548 15.6333 8.69793L14.533 9.7433C14.3304 9.93575 14.0101 9.92754 13.8177 9.72496L9.26497 4.93262V15.4249C9.26497 15.7043 9.03846 15.9308 8.75904 15.9308H7.24125C6.96184 15.9308 6.73532 15.7043 6.73532 15.4249V4.93262L2.1826 9.72496C1.99015 9.92754 1.66992 9.93575 1.46734 9.7433L0.366945 8.69793C0.164367 8.50548 0.156156 8.18525 0.348604 7.98267L7.08315 0.893677C7.32194 0.642318 7.65344 0.5 8.00015 0.5Z"
				stroke="none"
			/>
		</svg>`],["connection-stairs-16x16",`<svg viewBox="0 0 16 16">
			<g stroke="none">
				<path d="M1 11.5C1 11.2239 1.22386 11 1.5 11H6V13.5C6 13.7761 5.77614 14 5.5 14H1.5C1.22386 14 1 13.7761 1 13.5V11.5Z" />
				<path d="M4 8.5C4 8.22386 4.22386 8 4.5 8H9V10.5C9 10.7761 8.77614 11 8.5 11H4V8.5Z" />
				<path d="M7 5.5C7 5.22386 7.22386 5 7.5 5H12V7.5C12 7.77614 11.7761 8 11.5 8H7V5.5Z" />
				<path d="M10 2.5C10 2.22386 10.2239 2 10.5 2H14.5C14.7761 2 15 2.22386 15 2.5V4.5C15 4.77614 14.7761 5 14.5 5H10V2.5Z" />
			</g>
		</svg>`],["connection-stairs-14x14",`<svg viewBox="0 0 14 14">
			<path
				d="M5.25 12H2.5C2.225 12 2 11.7429 2 11.4286C2 11.1143 2.225 10.8571 2.5 10.8571H4.25V7.91429H6.5V4.94286H8.75V2H11.5C11.775 2 12 2.25714 12 2.57143C12 2.88571 11.775 3.14286 11.5 3.14286H9.75V6.08571H7.5V9.02857H5.25V12Z"
				stroke="none"
			/>
		</svg>`],["connection-stairs-12x12",`<svg viewBox="0 0 12 12" stroke="none">
			<path d="M1.625 8.1875C1.625 8.01491 1.76491 7.875 1.9375 7.875H4.75V9.4375C4.75 9.61009 4.61009 9.75 4.4375 9.75H1.9375C1.76491 9.75 1.625 9.61009 1.625 9.4375V8.1875Z" />
			<path d="M3.5 6.3125C3.5 6.13991 3.63991 6 3.8125 6H6.625V7.5625C6.625 7.73509 6.48509 7.875 6.3125 7.875H3.5V6.3125Z" />
			<path d="M5.375 4.4375C5.375 4.26491 5.51491 4.125 5.6875 4.125H8.5V5.6875C8.5 5.86009 8.36009 6 8.1875 6H5.375V4.4375Z" />
			<path d="M7.25 2.5625C7.25 2.38991 7.38991 2.25 7.5625 2.25H10.0625C10.2351 2.25 10.375 2.38991 10.375 2.5625V3.8125C10.375 3.98509 10.2351 4.125 10.0625 4.125H7.25V2.5625Z" />
		</svg>`],["connection-escalator-16x16",`<svg viewBox="0 0 16 16">
			<g stroke="none">
				<path d="M3.63008 12H2C0.895431 12 0 12.8954 0 14C0 15.1046 0.89543 16 2 16H4.63008C4.86879 16 5.09962 15.9146 5.28087 15.7593L11.7191 10.2407C11.9004 10.0854 12.1312 10 12.3699 10H14C15.1046 10 16 9.10457 16 8C16 6.89543 15.1046 6 14 6H11.3699C11.1312 6 10.9004 6.08539 10.7191 6.24074L4.28087 11.7593C4.09962 11.9146 3.86879 12 3.63008 12Z" />
				<path d="M5 6C5 4.89543 5.89543 4 7 4C8.10457 4 9 4.89543 9 6L5 9.5V6Z" />
				<path d="M9 2C9 3.10457 8.10457 4 7 4C5.89543 4 5 3.10457 5 2C5 0.89543 5.89543 0 7 0C8.10457 0 9 0.89543 9 2Z" />
			</g>
		</svg>`],["connection-escalator-14x14",`<svg viewBox="0 0 14 14">
			<path
				d="M5.26686 2.98522C5.26686 2.44335 5.71573 2 6.26436 2C6.81299 2 7.26187 2.44335 7.26187 2.98522C7.26187 3.5271 6.81299 3.97045 6.26436 3.97045C5.71573 3.97045 5.26686 3.50246 5.26686 2.98522Z"
				stroke="none"
			/>
			<path
				d="M7.26188 5.48588V5.25125C7.26188 4.85716 6.91275 4.53696 6.48881 4.53696H6.03993C5.61599 4.53696 5.26687 4.88179 5.26687 5.25125V7.66458L4.3192 8.6995H3.67082C2.74813 8.6995 2 9.43842 2 10.3498C2 11.2611 2.74813 12 3.67082 12H4.61845C5.36658 12 6.11471 11.6798 6.61347 11.1133L9.6808 7.76354H10.3292C11.2519 7.76354 12 7.02463 12 6.11329C12 5.20196 11.2519 4.46305 10.3292 4.46305H9.38155C8.60848 4.46305 7.88529 4.78324 7.38653 5.34975L7.26188 5.48588ZM4.61846 11.0148H3.67083C3.29677 11.0148 2.99751 10.7192 2.99751 10.3498C2.99751 9.9803 3.29677 9.68473 3.67083 9.68473H4.61846C4.71821 9.68473 4.81796 9.63547 4.86784 9.56158L8.13467 5.99015C8.45886 5.64532 8.90774 5.44828 9.38155 5.44828H10.3292C10.7032 5.44828 11.0025 5.74384 11.0025 6.1133C11.0025 6.48276 10.7032 6.77833 10.3292 6.77833H9.38155C9.2818 6.77833 9.18205 6.82759 9.13218 6.87685L5.86534 10.4729C5.54115 10.8177 5.09228 11.0148 4.61846 11.0148Z"
				stroke="none"
			/>
		</svg>`],["connection-elevator-16x16",`<svg viewBox="0 0 16 16">
			<g stroke="none">
				<path d="M3 5.5C3 6.32843 2.32843 7 1.5 7C0.671573 7 0 6.32843 0 5.5C0 4.67157 0.671573 4 1.5 4C2.32843 4 3 4.67157 3 5.5Z" />
				<path d="M3 10.5C3 11.3284 2.32843 12 1.5 12C0.671573 12 0 11.3284 0 10.5C0 9.67157 0.671573 9 1.5 9C2.32843 9 3 9.67157 3 10.5Z" />
				<path d="M11 1H14C14.5523 1 15 1.44772 15 2V14C15 14.5523 14.5523 15 14 15H11V1Z" />
				<path d="M9 1H6C5.44772 1 5 1.44772 5 2V14C5 14.5523 5.44772 15 6 15H9V1Z" />
			</g>
		</svg>`],["connection-elevator-14x14",`<svg viewBox="0 0 14 14">
			<path
				d="M7.476 2H2.72693C1.77095 2 1 2.72464 1 3.62319V10.3768C1 11.2754 1.77095 12 2.72693 12H7.476C8.43198 12 9.20293 11.2754 9.20293 10.3768V3.62319C9.17209 2.72464 8.40114 2 7.476 2ZM7.476 3.15942C7.75354 3.15942 7.96941 3.36232 7.96941 3.62319V10.3768C7.96941 10.6377 7.75354 10.8406 7.476 10.8406H5.71824V3.15942H7.476ZM4.48472 3.15942V10.8406H2.72693C2.44939 10.8406 2.23352 10.6377 2.23352 10.3768V3.62319C2.23352 3.36232 2.44939 3.15942 2.72693 3.15942H4.48472Z"
				stroke="none"
			/>
			<path
				d="M12.4643 6.19064H10.6638C10.4456 6.19064 10.2546 6.06243 10.1728 5.88294C10.0909 5.70346 10.1455 5.47269 10.2819 5.31884L11.1821 4.47269C11.4004 4.26756 11.755 4.26756 11.946 4.47269L12.8462 5.31884C13.0099 5.47269 13.0371 5.67781 12.9553 5.88294C12.8735 6.08807 12.6825 6.19064 12.4643 6.19064Z"
				stroke="none"
			/>
			<path
				d="M11.564 9.65216C11.4276 9.65216 11.2912 9.60088 11.1821 9.49831L10.2819 8.65216C10.1182 8.49831 10.0909 8.29319 10.1728 8.08806C10.2546 7.90857 10.4456 7.78036 10.6638 7.78036H12.4643C12.6825 7.78036 12.8735 7.90857 12.9553 8.08806C13.0371 8.26754 12.9826 8.49831 12.8462 8.65216L11.9459 9.49831C11.8641 9.60088 11.7004 9.65216 11.564 9.65216Z"
				stroke="none"
			/>
		</svg>`],["connection-elevator-12x12",`<svg viewBox="0 0 12 12" stroke="none">
			<circle cx="1.9375" cy="4.4375" r="0.9375" />
			<circle cx="1.9375" cy="7.5625" r="0.9375" />
			<path
				fillRule="evenodd"
				clipRule="evenodd"
				d="M7.6 2H9.4C9.73137 2 10 2.26863 10 2.6V9.41328C10 9.74465 9.73137 10.0133 9.4 10.0133H7.6V2ZM6.4 2H4.6C4.26863 2 4 2.26863 4 2.6V9.41328C4 9.74465 4.26863 10.0133 4.6 10.0133H6.4V2Z"
			/>
		</svg>`],["new-tab-14x14",`<svg viewBox="0 0 14 14">
			<g stroke="none">
				<path d="M2.625 2.625H5.6875C5.92913 2.625 6.125 2.42912 6.125 2.1875V1.3125C6.125 1.07088 5.92913 0.875 5.6875 0.875H1.3125C1.07088 0.875 0.875 1.07088 0.875 1.3125V12.6875C0.875 12.9291 1.07088 13.125 1.3125 13.125H12.6875C12.9291 13.125 13.125 12.9291 13.125 12.6875V8.3125C13.125 8.07088 12.9291 7.875 12.6875 7.875H11.8125C11.5709 7.875 11.375 8.07088 11.375 8.3125V11.375H2.625V2.625Z" />
				<path d="M12.9063 0.875H8.40311C8.20822 0.875 8.11063 1.11062 8.24843 1.24843L9.88124 2.88124L5.8156 6.94688C5.64475 7.11774 5.64475 7.39475 5.8156 7.5656L6.43432 8.18432C6.60517 8.35517 6.88218 8.35517 7.05304 8.18432L11.1187 4.11868L12.7516 5.75157C12.8894 5.88938 13.125 5.79178 13.125 5.59689V1.09375C13.125 0.972938 13.0271 0.875 12.9063 0.875Z" />
			</g>
		</svg>`],["compress-16x16",`<svg viewBox="0 0 16 16">
			<g stroke="none">
				<path
					id="Vector"
					d="M4.67773 10.7154H0.713449C0.556306 10.7154 0.427734 10.844 0.427734 11.0011V11.8583C0.427734 12.0154 0.556306 12.144 0.713449 12.144H3.82059V15.2868C3.82059 15.444 3.94916 15.5725 4.10631 15.5725H4.96345C5.12059 15.5725 5.24916 15.444 5.24916 15.2868V11.2868C5.24916 10.9708 4.99381 10.7154 4.67773 10.7154ZM4.96345 0.429688H4.10631C3.94916 0.429688 3.82059 0.558259 3.82059 0.715402V3.85826H0.713449C0.556306 3.85826 0.427734 3.98683 0.427734 4.14397V5.00112C0.427734 5.15826 0.556306 5.28683 0.713449 5.28683H4.67773C4.99381 5.28683 5.24916 5.03147 5.24916 4.7154V0.715402C5.24916 0.558259 5.12059 0.429688 4.96345 0.429688ZM15.2849 10.7154H11.3206C11.0045 10.7154 10.7492 10.9708 10.7492 11.2868V15.2868C10.7492 15.444 10.8777 15.5725 11.0349 15.5725H11.892C12.0492 15.5725 12.1777 15.444 12.1777 15.2868V12.144H15.2849C15.442 12.144 15.5706 12.0154 15.5706 11.8583V11.0011C15.5706 10.844 15.442 10.7154 15.2849 10.7154ZM15.2849 3.85826H12.1777V0.715402C12.1777 0.558259 12.0492 0.429688 11.892 0.429688H11.0349C10.8777 0.429688 10.7492 0.558259 10.7492 0.715402V4.7154C10.7492 5.03147 11.0045 5.28683 11.3206 5.28683H15.2849C15.442 5.28683 15.5706 5.15826 15.5706 5.00112V4.14397C15.5706 3.98683 15.442 3.85826 15.2849 3.85826Z"
				/>
			</g>
		</svg>`],["washroom-14x14",`<svg viewBox="0 0 14 14" stroke="none">
			<path d="M4.55125 3.09062C4.55125 3.69326 4.07639 4.18176 3.49058 4.18176C2.90525 4.18176 2.43039 3.69326 2.43039 3.09062C2.43039 2.4885 2.90525 2 3.49058 2C4.07639 2 4.55125 2.4885 4.55125 3.09062Z" />
			<path d="M5.1193 5.48047C4.81653 4.83116 4.17252 4.41571 3.47822 4.41571C2.78392 4.41571 2.13986 4.83116 1.83714 5.48047L1.04175 7.22034C0.940664 7.441 1.02893 7.70073 1.24393 7.81791C1.47077 7.90871 1.72324 7.81791 1.82433 7.59725L2.49349 6.15554L2.21587 11.4407C2.20305 11.7263 2.41805 11.9734 2.69567 11.9993C2.97329 12.0124 3.21344 11.7913 3.23859 11.5057L3.4028 8.285H3.567L3.73121 11.5057C3.74403 11.7913 3.97086 11.9993 4.23616 11.9993H4.26131C4.53893 11.9861 4.75343 11.7395 4.74111 11.4407L4.46349 6.15554L5.13265 7.59725C5.20858 7.75298 5.35997 7.85697 5.52418 7.85697C5.5873 7.85697 5.65042 7.84379 5.71354 7.81792C5.92804 7.71393 6.0163 7.44153 5.91572 7.22035L5.1193 5.48047Z" />
			<path d="M12.9582 7.22034L12.1505 5.48047C11.8477 4.83116 11.2037 4.41571 10.5094 4.41571C9.81513 4.41571 9.17107 4.83116 8.86836 5.48047L8.06064 7.22034C7.95955 7.441 8.04782 7.70073 8.26282 7.81791C8.47732 7.9219 8.7298 7.8311 8.84371 7.60993L9.52519 6.12977L9.46207 7.2204L8.57842 8.92184C8.47733 9.11663 8.61638 9.36316 8.83089 9.36316H9.33584L9.22242 11.4668C9.2096 11.7397 9.41177 11.9862 9.68939 11.9994C9.95469 12.0126 10.1943 11.8046 10.2072 11.519L10.3581 9.33723H10.6737L10.7871 11.5058C10.7999 11.7787 11.0144 11.9862 11.2792 11.9862H11.3043C11.5696 11.973 11.7841 11.7396 11.7713 11.4535L11.6579 9.33718H12.1628C12.3773 9.33718 12.5287 9.09066 12.4153 8.89586L11.5317 7.19442L11.4685 6.1038L12.1757 7.5972C12.2516 7.75293 12.403 7.85692 12.5672 7.85692C12.6303 7.85692 12.6934 7.84373 12.7566 7.81786C12.9711 7.70068 13.0593 7.44102 12.9582 7.22034Z" />
			<path d="M11.5696 3.09062C11.5696 3.69326 11.0948 4.18176 10.5094 4.18176C9.92363 4.18176 9.44876 3.69326 9.44876 3.09062C9.44876 2.4885 9.92363 2 10.5094 2C11.0948 2 11.5696 2.4885 11.5696 3.09062Z" />
			<path d="M6.99996 2.00006C6.76031 2.00006 6.57095 2.19485 6.57095 2.44138V11.5575C6.57095 11.804 6.76031 11.9988 6.99996 11.9988C7.2396 11.9988 7.42896 11.804 7.42896 11.5575V2.44138C7.42896 2.19485 7.2396 2.00006 6.99996 2.00006Z" />
		</svg>`],["point-of-interest-12x12",`<svg viewBox="0 0 12 12" stroke="none">
			<path
				stroke="none"
				id="Subtract"
				// Do not change these to fillRule or clipRule, since they need to be rendered as actual SVGs in labels, not React SVGs
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M6.24724 10.7516C7.94597 9.0358 9.85962 6.89195 9.85962 4.85965C9.85962 2.72802 8.13159 1 5.99997 1C3.86834 1 2.14032 2.72802 2.14032 4.85965C2.14032 6.89195 4.05397 9.0358 5.7527 10.7516C5.88904 10.8893 6.1109 10.8893 6.24724 10.7516ZM5.99994 6.26317C6.77508 6.26317 7.40345 5.6348 7.40345 4.85967C7.40345 4.08453 6.77508 3.45616 5.99994 3.45616C5.22481 3.45616 4.59644 4.08453 4.59644 4.85967C4.59644 5.6348 5.22481 6.26317 5.99994 6.26317Z"
			/>
		</svg>`],["flag-20x20",`<svg viewBox="0 0 20 20" stroke="none">
			<path
				d="M16.9987 4.27111C16.936 5.06715 16.3836 5.93162 15.5238 6.57845C14.7549 7.15682 13.0885 8.04927 10.5434 7.55174C8.32167 7.1164 6.82156 8.02129 6.08085 10.2416L8.24615 17.3998C8.31833 17.6471 8.17711 17.9059 7.9292 17.9813C7.88527 17.9938 7.83976 18 7.79426 18C7.58634 18 7.40277 17.8647 7.34236 17.6673L5.1644 10.4686C5.13773 10.4173 5.12125 10.3613 5.11419 10.3038L3.41956 4.70042C3.38112 4.63512 3.35994 4.56127 3.3568 4.48587L3.02101 3.37886C2.98413 3.25992 2.9959 3.13165 3.05553 3.02203C3.11437 2.91242 3.21479 2.83079 3.33482 2.79504C3.45564 2.75928 3.5851 2.7725 3.69494 2.83235C3.80477 2.89144 3.88637 2.99172 3.92167 3.11143L3.9813 3.31355C4.38847 2.85956 4.90472 2.51439 5.48136 2.30915C6.97201 1.75566 8.95216 1.95467 10.6469 2.83156C11.6888 3.36951 14.3374 4.54493 16.3647 3.79553C16.5154 3.74111 16.684 3.76599 16.8127 3.86239C16.9406 3.95879 17.0105 4.11251 16.9987 4.27111Z"
				stroke="none"
			/>
		</svg>`],["link-16x16",`<svg viewBox="0 0 16 16" stroke="none">
			<path
				d="M9.10678 11.2433C9.07993 11.2167 9.04367 11.2018 9.00589 11.2018C8.9681 11.2018 8.93184 11.2167 8.90499 11.2433L6.82999 13.3183C5.86928 14.279 4.24785 14.3808 3.18714 13.3183C2.12464 12.2558 2.22642 10.6362 3.18714 9.67546L5.26214 7.60046C5.31749 7.5451 5.31749 7.45403 5.26214 7.39868L4.55142 6.68796C4.52457 6.66138 4.48832 6.64646 4.45053 6.64646C4.41274 6.64646 4.37649 6.66138 4.34964 6.68796L2.27464 8.76296C0.763923 10.2737 0.763923 12.7183 2.27464 14.2272C3.78535 15.7362 6.22999 15.738 7.73892 14.2272L9.81392 12.1522C9.86928 12.0969 9.86928 12.0058 9.81392 11.9505L9.10678 11.2433ZM13.7246 2.77903C12.2139 1.26832 9.76928 1.26832 8.26035 2.77903L6.18357 4.85403C6.15698 4.88088 6.14207 4.91714 6.14207 4.95493C6.14207 4.99271 6.15698 5.02897 6.18357 5.05582L6.89249 5.76475C6.94785 5.8201 7.03892 5.8201 7.09428 5.76475L9.16928 3.68975C10.13 2.72903 11.7514 2.62725 12.8121 3.68975C13.8746 4.75225 13.7729 6.37189 12.8121 7.3326L10.7371 9.4076C10.7106 9.43445 10.6956 9.47071 10.6956 9.5085C10.6956 9.54628 10.7106 9.58254 10.7371 9.60939L11.4479 10.3201C11.5032 10.3755 11.5943 10.3755 11.6496 10.3201L13.7246 8.2451C15.2336 6.73439 15.2336 4.28975 13.7246 2.77903ZM9.75142 6.00939C9.72457 5.9828 9.68832 5.96789 9.65053 5.96789C9.61275 5.96789 9.57649 5.9828 9.54964 6.00939L5.50499 10.0522C5.47841 10.0791 5.46349 10.1154 5.46349 10.1531C5.46349 10.1909 5.47841 10.2272 5.50499 10.254L6.21214 10.9612C6.26749 11.0165 6.35857 11.0165 6.41392 10.9612L10.4568 6.91832C10.5121 6.86296 10.5121 6.77189 10.4568 6.71653L9.75142 6.00939Z"
				stroke="none"
			/>
		</svg>`]]),DH=/<svg([^>]*)>/g;function oA(e,r,t){let n=SH.get(e);return n?n.replace(DH,`<svg$1 style="fill:${r}; width:${t}px; height:${t}px">`):""}var TH=e=>`
		<div class="pin-shadow" style="background: ${e}"></div>
		<svg width="${20*.9}px" height="${48*.9}px" viewBox="0 0 20 48">
			<path
				d="M1.37965 29.3246C1.5778 31.2167 2.27661 33.0694 3.83078 33.775C4.0998 37.1861 4.7451 40.2227 5.65918 42.4784C6.14556 43.6787 6.72883 44.71 7.41453 45.4578C8.10027 46.2056 8.97065 46.7527 9.99989 46.7527C11.0292 46.7527 11.8995 46.2055 12.585 45.4576C13.2706 44.7098 13.8536 43.6785 14.3398 42.4783C15.2536 40.2226 15.8988 37.186 16.1688 33.7752C17.7232 33.0697 18.422 31.2169 18.6201 29.3247C18.8386 27.2385 18.5165 24.6502 17.6475 22.0285L17.6473 22.0278C16.9657 19.9761 16.0319 18.1622 14.9848 16.7474C17.0884 15.1587 18.4471 12.5964 18.4471 9.7152C18.4471 4.93539 14.6967 1 9.99966 1C5.30272 1 1.54993 4.93527 1.54993 9.7152C1.54993 12.5961 2.90839 15.1583 5.01167 16.747C3.9635 18.1625 3.03185 19.977 2.3522 22.0286C1.48319 24.6503 1.16118 27.2385 1.37965 29.3246Z"
				fill="${e}"
				stroke="white"
				strokeWidth="2"
			/>
		</svg>
	`,wH=e=>`
		<div class="pin-shadow" style="background: ${e}"></div>
		<svg width="36" height="42" viewBox="-2 -2 40 46">
			<path
				d="M35.8372 5.86776C35.6765 7.92448 34.2625 10.158 32.0612 11.8292C30.0929 13.3235 25.8269 15.6292 19.3114 14.3438C13.6237 13.219 9.78333 15.5569 7.88708 21.2934L13.4303 39.7879C13.6151 40.4267 13.2536 41.0955 12.6189 41.2903C12.5064 41.3225 12.39 41.3385 12.2735 41.3385C11.7412 41.3385 11.2712 40.989 11.1166 40.4789L5.54093 21.88C5.47265 21.7474 5.43047 21.6028 5.41239 21.4542L1.07409 6.97696C0.975678 6.80825 0.921449 6.61744 0.913417 6.42263L0.053779 3.56251C-0.0406172 3.2552 -0.0104927 2.92379 0.142154 2.64058C0.29279 2.35738 0.549874 2.14649 0.857157 2.05411C1.16646 1.96172 1.49786 1.99587 1.77906 2.15052C2.06025 2.30317 2.26912 2.56226 2.35951 2.87155L2.51215 3.39375C3.55453 2.22081 4.87615 1.32902 6.35237 0.798742C10.1685 -0.631292 15.2377 -0.117113 19.5763 2.14846C22.2435 3.53834 29.0241 6.57524 34.2141 4.63904C34.5998 4.49845 35.0316 4.56272 35.361 4.81178C35.6884 5.06083 35.8673 5.45801 35.8372 5.86776Z"
				fill="none"
				stroke="white"
				strokeWidth="4"
			/>
			<path
				d="M35.8372 5.86776C35.6765 7.92448 34.2625 10.158 32.0612 11.8292C30.0929 13.3235 25.8269 15.6292 19.3114 14.3438C13.6237 13.219 9.78333 15.5569 7.88708 21.2934L13.4303 39.7879C13.6151 40.4267 13.2536 41.0955 12.6189 41.2903C12.5064 41.3225 12.39 41.3385 12.2735 41.3385C11.7412 41.3385 11.2712 40.989 11.1166 40.4789L5.54093 21.88C5.47265 21.7474 5.43047 21.6028 5.41239 21.4542L1.07409 6.97696C0.975678 6.80825 0.921449 6.61744 0.913417 6.42263L0.053779 3.56251C-0.0406172 3.2552 -0.0104927 2.92379 0.142154 2.64058C0.29279 2.35738 0.549874 2.14649 0.857157 2.05411C1.16646 1.96172 1.49786 1.99587 1.77906 2.15052C2.06025 2.30317 2.26912 2.56226 2.35951 2.87155L2.51215 3.39375C3.55453 2.22081 4.87615 1.32902 6.35237 0.798742C10.1685 -0.631292 15.2377 -0.117113 19.5763 2.14846C22.2435 3.53834 29.0241 6.57524 34.2141 4.63904C34.5998 4.49845 35.0316 4.56272 35.361 4.81178C35.6884 5.06083 35.8673 5.45801 35.8372 5.86776Z"
				fill="${e}"
			/>
		</svg>
    `,K2="#722ED1",q2="#1890FF",iA=({type:e="departure",color:r=q2})=>`<div class="dropped-pin-wrapper">
			${e==="departure"?TH(r):wH(r)}
		</div>`,FH=e=>{switch(e){case"default":return 28;case"selection":return 28;case"navigation":return 32}},aA=({type:e="stairs",color:r=K2,direction:t="up"})=>{let n=FH("default"),o=n/2+2,i=t&&t!=="none";return`<div class="mappedin-connection-marker">
			<div class="connection-circle"
				role="button"
                style="background:${r}; width:${n}px; height:${n}px;"
			>
                ${oA("connection-"+e+"-16x16","white",o)||""}
			</div>
			${i?`<div style="margin-left: -${n*.2}px;">
					<div class="bouncey">
						<div class="connection-circle"
							role="button"
							style="width: ${n}px; height: ${n}px;">
							<div class="${t==="up"?"":"arrow--down"}">
                                <svg viewBox="0 0 16 16" style="fill: white; width: ${o}px; height: ${o}px">
                                    <path
                                        fillRule="evenodd"
                                        clipRule="evenodd"
                                        d="M8.00015 0.5C8.34685 0.5 8.67835 0.642318 8.91714 0.893677L15.6517 7.98267C15.8441 8.18525 15.8359 8.50548 15.6333 8.69793L14.533 9.7433C14.3304 9.93575 14.0101 9.92754 13.8177 9.72496L9.26497 4.93262V15.4249C9.26497 15.7043 9.03846 15.9308 8.75904 15.9308H7.24125C6.96184 15.9308 6.73532 15.7043 6.73532 15.4249V4.93262L2.1826 9.72496C1.99015 9.92754 1.66992 9.93575 1.46734 9.7433L0.366945 8.69793C0.164367 8.50548 0.156156 8.18525 0.348604 7.98267L7.08315 0.893677C7.32194 0.642318 7.65344 0.5 8.00015 0.5Z"
                                        stroke="none"
                                    />
                                </svg>
							</div>
						</div>
					</div>
				</div>`:""}
		</div>`};p();var sA=63710088e-1,C4=new WeakMap,uA=async e=>new Promise(r=>setTimeout(r,e));function S4(e,r,t){let n=e.distance,o=OH(e,r,t);return o?(n-o?.distance)/n:0}function Q2(e,r){if(e.coordinates.length===0)return[];if(C4.has(e)&&C4.get(e).has(r))return C4.get(e).get(r);let t=e.coordinates.map(n=>D4(n,r));return C4.set(e,new Map([[r,t]])),t}function D4(e,r){let t=r.latitude,n=r.longitude,o=e.latitude-t,i=e.longitude-n,s=Math.PI*sA/180,u=s*Math.cos(t*Math.PI/180),l=i*u,c=o*s;return{x:l,y:c}}function MH(e,r){if(e.length===0)return;let t,n=1/0;for(let o=0;o<e.length;o++){let i=e[o],s=Q2(i,r);for(let u=0;u<s.length-1;u++){let l=s[u],c=s[u+1],d=T4(l,c,{x:0,y:0}),f=Math.sqrt(d.x*d.x+d.y*d.y);f<n&&(n=f,t=d)}}if(t)return AH(t,r)}function T4(e,r,t){let n=r.x-e.x,o=r.y-e.y,i=t.x-e.x,s=t.y-e.y,u=n*n+o*o;if(u===0)return{x:e.x,y:e.y};let l=(i*n+s*o)/u,c=Math.max(0,Math.min(1,l));return{x:e.x+c*n,y:e.y+c*o}}function AH(e,r){let n=Math.PI*sA/180,o=n*Math.cos(r.latitude*Math.PI/180),i=e.y/n,s=e.x/o,u=r.latitude+i,l=r.longitude+s;return new ge({latitude:u,longitude:l,floorId:r.floorId,verticalOffset:r.verticalOffset})}function OH(e,r,t){let n=MH([e],r);if(!n)return;let o=Q2(e,t),i=D4(n,t),s=-1,u=1/0;for(let c=0;c<o.length-1;c++){let d=o[c],f=o[c+1],h=T4(d,f,i),b=h.x-i.x,I=h.y-i.y,E=Math.sqrt(b*b+I*I);E<1&&E<u&&(u=E,s=c)}if(s===-1){let c=0,d=1/0;for(let f=0;f<o.length;f++){let h=o[f],b=h.x-i.x,I=h.y-i.y,E=Math.sqrt(b*b+I*I);E<d&&(d=E,c=f)}s=Math.max(0,c-1)}let l=[n];for(let c=s+1;c<e.coordinates.length;c++)l.push(e.coordinates[c]);return new Mu(`${e.id}_remaining`,l)}function w4(e,r,t,n){let o,i,s=1/0,u=1/0,l=D4(r,n),c=D4(t,n);for(let f of e)for(let h of f.segments){if(h.isConnectionSegment)continue;let b=h.coordinates[0]?.floorId,I=b===r.floorId,E=b===t.floorId;if(!I&&!E)continue;let v=Q2(h,n);if(I){let x=1/0;for(let D=0;D<v.length-1;D++){let w=v[D],S=v[D+1],F=T4(w,S,l),P=F.x-l.x,L=F.y-l.y,N=Math.sqrt(P*P+L*L);N<x&&(x=N)}x<s&&(s=x,o=h)}if(E){let x=1/0;for(let D=0;D<v.length-1;D++){let w=v[D],S=v[D+1],F=T4(w,S,c),P=F.x-c.x,L=F.y-c.y,N=Math.sqrt(P*P+L*L);N<x&&(x=N)}x<u&&(u=x,i=h)}}if(!o||!i)return;let d=[];if(o.id===i.id)return d.push({segment:o,startHighlightFraction:S4(o,r,n),endHighlightFraction:S4(i,t,n)}),d;for(let f of e)for(let h of f.segments)h.id===o.id?d.push({segment:h,startHighlightFraction:S4(h,r,n),endHighlightFraction:1}):h.id===i.id?d.push({segment:h,startHighlightFraction:0,endHighlightFraction:S4(h,t,n)}):d.push({segment:h,startHighlightFraction:0,endHighlightFraction:1});return d}var lA=.01,cA=.02,BH={drawDuration:1e3,color:"#40A9FF",interactive:!1,accentColor:"blue",width:{on:"zoom-level",input:[17,22],output:[2,.5]},displayArrowsOnPath:!1,animateArrowsOnPath:!1},PH={drawDuration:1e3,color:"#B3DDFF",interactive:!1,accentColor:"#40A9FF",width:{on:"zoom-level",input:[17,22],output:[2,.5]},displayArrowsOnPath:!1,animateArrowsOnPath:!1},Bu={setMapOnConnectionClick:!0,setMapToDeparture:!0,createMarkers:{departure:!0,destination:!0,connection:!0},pathOptions:BH,inactivePathOptions:PH,markerOptions:{departureColor:q2,destinationColor:K2},animatePathDrawing:!0},Fs,Sa,ot,it,Ms,sc,dr,Hn,Wo,Pu,Ne,pA,dA,eI,tI,rI,mA,nI,A0,F4,zd,oI,Vd,O0=class{constructor(r){C(this,Ne);C(this,Fs,new Map);C(this,Sa,new Map);C(this,ot);C(this,it,Bu);C(this,Ms);C(this,sc);C(this,dr,[]);C(this,Hn);C(this,Wo,new Map);C(this,Pu,new Map);C(this,Vd,r=>{if(a(this,it).createMarkers?.connection&&r.markers!=null&&r.markers.length>0){let{instruction:t}=a(this,Fs).get(r.markers[0].id);t?.action.toFloor&&(a(this,it).setMapOnConnectionClick&&a(this,ot).setFloor(t.action.toFloor.id,"navigation-connection-click"),a(this,ot).publish("navigation-connection-click",{instruction:t,fromFloor:t.action.fromFloor,toFloor:t.action.toFloor}))}});T(this,ot,r)}get isMultiFloor(){if(!a(this,dr).length)return!1;let r=new Set;for(let t of a(this,dr))for(let n of t.coordinates)if(n.floorId&&(r.add(n.floorId),r.size>1))return!0;return!1}getPathById(r){return a(this,ot).Paths.getById(r)}getMarkerById(r){return a(this,Fs).get(r)}get paths(){let r=new Set;return a(this,Sa).forEach(t=>r.add(t)),Array.from(r)}get activeDirections(){return a(this,Pu).get(a(this,Hn))}get activePath(){if(a(this,Hn))return a(this,Sa).get(a(this,Hn).id)}get floorStacks(){let r=a(this,ot).getMapData();if(!a(this,dr).length||!r)return[];let t=new Set;for(let n of a(this,dr))for(let o of n.coordinates)if(o.floorId){let i=r.getById("floor",o.floorId);i&&t.add(i.floorStack)}return Array.from(t)}get floors(){let r=a(this,ot).getMapData();if(!a(this,dr).length||!r)return[];let t=new Set;for(let n of a(this,dr))for(let o of n.coordinates)if(o.floorId){let i=r.getById("floor",o.floorId);i&&t.add(i)}return Array.from(t)}setActivePathByIndex(r){let t=a(this,dr)[r];if(!a(this,dr).length){R.warn("Cannot set an active path before drawing. Call Navigation.draw() first.");return}if(!a(this,dr)[r]){R.warn(`Direction #${r} does not exist`);return}let n=a(this,Wo).get(t);if(!n){R.warn("The direction is not a part of muli-direcional path");return}z(this,Ne,F4).call(this,n)}setActivePath(r){if(!a(this,dr).length){R.warn("Cannot set an active path before drawing. Call Navigation.draw() first.");return}if(!a(this,Pu).get(r)){R.warn(`Path "${r.id}" is not a part of muli-direcional path`);return}z(this,Ne,F4).call(this,r)}setActivePathByDirections(r){if(!a(this,dr).length){R.warn("[setActivePathByDirections] Cannot set an active path before drawing. Call Navigation.draw() first.");return}let t=a(this,Wo).get(r);if(!t){let n=a(this,dr).find(o=>o.id===r.id);if(!n){R.warn("[setActivePathByDirections] Cannot find directions for id");return}t=a(this,Wo).get(n)}if(!t){R.warn("[setActivePathByDirections] Cannot find path for directions");return}z(this,Ne,F4).call(this,t)}clearHighlightedPathSection(){for(let r of this.paths)for(let t of r.segments)a(this,ot).updateState(t,{highlightCompleteFraction:0})}highlightPathSection(r,t,n){let o=n?.animationDuration??1500,i=a(this,ot).getMapData().mapCenter,s=w4(this.paths,r,t,i);if(!s)return;this.clearHighlightedPathSection();let u=s.map(d=>(a(this,ot).updateState(d.segment,{highlightStartFraction:d.startHighlightFraction,highlightEndFraction:d.endHighlightFraction,highlightColor:n?.color??"red",highlightWidthMultiplier:n?.widthMultiplier??1}),new Ii({fraction:0}).to({fraction:1},o).onUpdate(f=>{a(this,ot).updateState(d.segment,{highlightCompleteFraction:f.fraction})}))),l=()=>{},c=new Promise(d=>{l=d});return u.length>0&&(u.forEach((d,f)=>{f<u.length-1&&d.chain(u[f+1]),a(this,ot).tweenGroup().add(u[f])}),u[0].start(),u[u.length-1].onComplete(()=>{a(this,ot).tweenGroup().remove(u[u.length-1]),l()})),{animation:c}}drawSync(r,t={}){a(this,sc)&&this.clear(),T(this,sc,!0),z(this,Ne,nI).call(this,t);let n=Array.isArray(r)?r:[r],o=n[0],i=n[n.length-1],s=o.coordinates[0];T(this,dr,n),s.floorId&&a(this,it).setMapToDeparture&&a(this,ot).setFloor(s.floorId),a(this,it).createMarkers?.departure&&z(this,Ne,zd).call(this,"departure",o.instructions[0]);for(let u=0;u<n.length;u++){let l=n[u],c=u?{...a(this,it).inactivePathOptions}:{...a(this,it).pathOptions};if(l.coordinates.length<2){R.warn("Directions must have at least 2 coordinates");return}let d=z(this,Ne,eI).call(this,l.coordinates,{...c,animateDrawing:a(this,it).animatePathDrawing,verticalOffset:z(this,Ne,rI).call(this,u===0?"active":"inactive")});a(this,Wo).set(l,d),a(this,Pu).set(d,l),a(this,it).createMarkers?.connection&&z(this,Ne,oI).call(this,l.instructions,"connection"),u===0&&(T(this,Hn,a(this,Wo).get(a(this,dr)[0])),a(this,ot).externalPubSub.on("click",a(this,Vd)))}a(this,it).createMarkers?.destination&&z(this,Ne,zd).call(this,"destination",i.instructions[i.instructions.length-1]),a(this,ot).mapObjects.forEach(u=>{u.processFloorChange(u.currentFloorId)}),z(this,Ne,A0).call(this)}async draw(r,t={}){a(this,Ms)&&this.clear(),z(this,Ne,nI).call(this,t);let n=Array.isArray(r)?r:[r],i=n[0].coordinates[0];return T(this,dr,n),i.floorId&&a(this,it).setMapToDeparture&&a(this,ot).setFloor(i.floorId),z(this,Ne,mA).call(this,n)}clear(){a(this,Fs).forEach(r=>{r?.marker&&a(this,ot).currentMap.Markers.remove(r.marker.id.toString())}),a(this,Fs).clear(),a(this,Sa).forEach(r=>{a(this,ot).currentMap.Paths.remove(r.segments.map(t=>t.id.toString()))}),a(this,Sa).clear(),a(this,Ms)&&(a(this,Ms).cancel(),T(this,Ms,void 0)),a(this,sc)&&T(this,sc,!1),T(this,dr,[]),a(this,Wo).clear(),a(this,Pu).clear(),T(this,Hn,void 0),a(this,ot).externalPubSub.off("click",a(this,Vd)),a(this,ot).mapObjects.forEach(r=>{r.processFloorChange(r.currentFloorId)}),z(this,Ne,A0).call(this)}};Fs=new WeakMap,Sa=new WeakMap,ot=new WeakMap,it=new WeakMap,Ms=new WeakMap,sc=new WeakMap,dr=new WeakMap,Hn=new WeakMap,Wo=new WeakMap,Pu=new WeakMap,Ne=new WeakSet,pA=function(r){return r!=null&&["TakeConnection","ExitConnection","TakeVortex","ExitVortex"].includes(r.type)},dA=function(){if(!a(this,Hn))return;let r=a(this,Sa).get(a(this,Hn).id);if(r){for(let t of a(this,Sa).values())if(t.id.includes("internal-"))if(t.id===a(this,Hn).id)for(let n of r.segments)a(this,ot).updateState(n,{verticalOffset:cA});else a(this,ot).updateState(t,{verticalOffset:lA})}},eI=function(r,t){let n=t.id?.toString()??It(),o=a(this,ot).currentMap.Paths.add(r,t),i=new Fi(n,o.animation,r,o.paths);return a(this,Sa).set(n,i),i},tI=function(r,t,n=!1){let o=a(this,ot).currentMap.Markers.add(r.coordinate,t,{interactive:n,placement:"top",rank:"always-visible"}),i=a(this,ot).currentMap.Markers.getContentEl(o.id.toString());if(!i)throw new Error("marker component should exist");return new Ca(o.id.toString(),i,r.coordinate)},rI=function(r){return r==="active"?cA+(a(this,it).pathOptions?.verticalOffset??0):lA+(a(this,it).inactivePathOptions?.verticalOffset??0)},mA=function(r){let t=r[0],n=r[r.length-1],o=!1;return T(this,Ms,{promise:new Promise(async i=>{if(y.env.NODE_ENV!=="test"&&await uA(500),o||!r.length){i();return}a(this,it).createMarkers?.departure&&z(this,Ne,zd).call(this,"departure",t.instructions[0]);for(let s=0;s<r.length;s++){let u=r[s],l=s===0?{...a(this,it).pathOptions}:{...a(this,it).inactivePathOptions};if(u.coordinates.length<2){R.warn("Directions must have at least 2 coordinates"),i();return}let c=z(this,Ne,eI).call(this,u.coordinates,{...l,animateDrawing:a(this,it).animatePathDrawing,verticalOffset:z(this,Ne,rI).call(this,s===0?"active":"inactive")});if(a(this,Wo).set(u,c),a(this,Pu).set(c,u),s===0&&(T(this,Hn,a(this,Wo).get(a(this,dr)[0])),a(this,ot).externalPubSub.on("click",a(this,Vd))),y.env.NODE_ENV!=="test"&&await c.animation,o){i();return}a(this,it).createMarkers?.connection&&z(this,Ne,oI).call(this,u.instructions,"connection")}if(a(this,it).createMarkers?.destination&&z(this,Ne,zd).call(this,"destination",n.instructions[n.instructions.length-1]),o){i();return}a(this,ot).mapObjects.forEach(s=>{s.processFloorChange(s.currentFloorId)}),z(this,Ne,A0).call(this),i()}),cancel:()=>{o=!0}}),a(this,Ms).promise},nI=function(r){T(this,it,{setMapOnConnectionClick:r.setMapOnConnectionClick??Bu.setMapOnConnectionClick,setMapToDeparture:r.setMapToDeparture??Bu.setMapToDeparture,pathOptions:{...Bu.pathOptions,...r.pathOptions},inactivePathOptions:{...Bu.inactivePathOptions,...r.inactivePathOptions},createMarkers:{...Bu.createMarkers,...r.createMarkers},markerOptions:{...Bu.markerOptions,...r.markerOptions},animatePathDrawing:r.animatePathDrawing??Bu.animatePathDrawing})},A0=function(){a(this,ot).publish("navigation-state-change",{isMultiFloor:this.isMultiFloor,floorStacks:this.floorStacks,floors:this.floors,activeDirections:this.activeDirections,activePath:this.activePath,paths:this.paths})},F4=function(r){T(this,Hn,r),a(this,dr).forEach(t=>{let n=a(this,Wo).get(t);if(n){let o=n.id===a(this,Hn).id?{...a(this,it).pathOptions}:{...a(this,it).inactivePathOptions};a(this,ot).updateState(n,o)}}),a(this,ot).publish("navigation-active-path-change",{directions:this.activeDirections,path:this.activePath}),z(this,Ne,dA).call(this),z(this,Ne,A0).call(this)},zd=function(r,t){if(r==="connection"&&t){let n=t.action.type==="ExitConnection"?a(this,it).markerOptions.departureColor:a(this,it).markerOptions.destinationColor,o;typeof a(this,it).createMarkers?.connection=="function"?(o=a(this,it).createMarkers.connection(t),a(this,ot).updateState(o,{interactive:!0})):o=z(this,Ne,tI).call(this,t,aA({type:t.action.connection?.type??t.action.connectionType,color:n,direction:t.action.direction}),!0),a(this,Fs).set(o.id,{instruction:t,marker:o})}else{let n=r==="departure"?a(this,it).markerOptions.departureColor:a(this,it).markerOptions.destinationColor,o;typeof a(this,it).createMarkers?.departure=="function"&&r==="departure"?o=a(this,it).createMarkers.departure(t):typeof a(this,it).createMarkers?.destination=="function"&&r==="destination"?o=a(this,it).createMarkers.destination(t):o=z(this,Ne,tI).call(this,t,iA({type:r,color:n})),a(this,Fs).set(o.id,{instruction:t,marker:o})}},oI=function(r,t){r.filter(o=>z(this,Ne,pA).call(this,o.action)).forEach(o=>{z(this,Ne,zd).call(this,t,o)})},Vd=new WeakMap;p();var Ie,P0,As,M4,iI,B0=class{constructor(r){C(this,As);C(this,Ie);C(this,P0);m(this,"interactions",{set:r=>{r?.pan!=null&&(a(this,Ie).getSystems().cameraSystem.enablePan=r.pan),r?.zoom!=null&&(a(this,Ie).getSystems().cameraSystem.enableZoom=r.zoom),r?.bearingAndPitch!=null&&(a(this,Ie).getSystems().cameraSystem.enableRotate=r.bearingAndPitch)},enable:()=>{a(this,Ie).getSystems().cameraSystem.enablePan=!0,a(this,Ie).getSystems().cameraSystem.enableZoom=!0,a(this,Ie).getSystems().cameraSystem.enableRotate=!0},disable:()=>{a(this,Ie).getSystems().cameraSystem.enablePan=!1,a(this,Ie).getSystems().cameraSystem.enableZoom=!1,a(this,Ie).getSystems().cameraSystem.enableRotate=!1}});m(this,"setMinPitch",r=>{a(this,Ie).camera.setMinPitch(r)});m(this,"setMaxPitch",r=>{a(this,Ie).camera.setMaxPitch(r)});m(this,"setMinZoomLevel",r=>{a(this,Ie).camera.setMinZoomLevel(r,!0)});m(this,"setMaxZoomLevel",r=>{a(this,Ie).camera.setMaxZoomLevel(r)});T(this,P0,r),T(this,Ie,r.core)}setScreenOffsets(r){a(this,Ie).camera.setInsetPadding(r)}get screenOffsets(){return a(this,Ie).camera.insetsPadding}get panMode(){return a(this,Ie).camera.panMode}setPanMode(r){if(r!=="default"&&r!=="elevation")throw new Error("Invalid pan mode");r!==this.panMode&&a(this,Ie).camera.setPanMode(r)}getFocusOnTransform(r,t){let n=a(this,Ie).camera.getCameraFrameForCoordinates(z(this,As,iI).call(this,r),{pitch:t?.pitch,bearing:t?.bearing,padding:t?.screenOffsets||this.screenOffsets,maxZoomLevel:t?.maxZoomLevel,verticalPadding:t?.axisAlignedPadding?.vertical,minZoomLevel:t?.minZoomLevel,duration:t?.duration,easing:t?.easing});return{center:new ge(n.center[1],n.center[0]),zoomLevel:n.zoomLevel,bearing:t?.bearing??this.bearing,pitch:t?.pitch??this.pitch}}focusOn(r,t){return a(this,Ie).camera.focusOn(z(this,As,iI).call(this,r),{pitch:t?.pitch,bearing:t?.bearing,padding:t?.screenOffsets||this.screenOffsets,maxZoomLevel:t?.maxZoomLevel,minZoomLevel:t?.minZoomLevel,duration:t?.duration,verticalPadding:t?.axisAlignedPadding?.vertical,easing:t?.easing})}animateTo(r,t){let{center:n,zoomLevel:o,bearing:i,pitch:s}=r,u=n??this.center;return a(this,Ie).camera.animateTo({center:n!=null?[u.longitude,u.latitude,a(this,Ie).camera.elevation]:void 0,zoomLevel:o,bearing:i,pitch:s,duration:t?.duration??600,easing:t?.easing})}set(r){let{center:t=this.center,zoomLevel:n=this.zoomLevel,bearing:o=this.bearing,pitch:i=this.pitch}=r,s=[t.longitude,t.latitude];a(this,Ie).camera.setCenter(s),a(this,Ie).camera.setZoomLevel(n),a(this,Ie).camera.setBearing(o),a(this,Ie).camera.setPitch(i)}get center(){let r=a(this,Ie).camera.center;return new ge(r[1],r[0],void 0)}setAutoMinZoomLevel(r){a(this,Ie).camera.setAutoMinZoomLevel(r)}get autoMinZoomLevel(){return a(this,Ie).camera.autoMinZoomLevel}get zoomLevel(){return a(this,Ie).camera.zoomLevel}get pitch(){return a(this,Ie).camera.pitch}get minPitch(){return a(this,Ie).camera.minPitch}get maxPitch(){return a(this,Ie).camera.maxPitch}get bearing(){let r=a(this,Ie).camera.bearing;return(r<0?r+360:r)%360}get minZoomLevel(){return a(this,Ie).camera.minZoomLevel}get maxZoomLevel(){return a(this,Ie).camera.maxZoomLevel}setElevation(r){a(this,Ie).camera.setElevation(r)}get elevation(){return a(this,Ie).camera.elevation}animateElevation(r,t){return a(this,Ie).camera.animateElevation(r,t)}get bounds(){return Hy(a(this,Ie).getSystems().cameraSystem.panBounds,a(this,Ie).convert3DMapPositionToCoordinate)}get isAnimating(){return a(this,Ie).camera.isAnimating}cancelAnimation(){a(this,Ie).camera.cancelAnimation()}updateFacadesInView(){a(this,Ie).getSystems().geometryInFocusSystem.raycast()}};Ie=new WeakMap,P0=new WeakMap,As=new WeakSet,M4=function(r){let t=a(this,Ie).camera.elevation;return ge.is(r)&&r.floorId!=null?a(this,Ie).getState(r.floorId)?.altitude??t:jn.is(r)?a(this,Ie).getState(r.id)?.altitude??t:"floor"in r&&jn.is(r.floor)?a(this,Ie).getState(r.floor.id)?.altitude??t:t},iI=function(r){let t=[],o=(Array.isArray(r)?r:[r]).flatMap(i=>i?.focusTarget??[i]);for(let i of o)if(i!=null)if(ge.is(i)){let s=z(this,As,M4).call(this,i);t.push([i.longitude,i.latitude,s])}else if(i?.id!=null){let s=z(this,As,M4).call(this,i);if(jn.is(i)&&a(this,P0).getMapDataInternal()?.enterpriseMode){t.push(i.id);continue}else if("geoJSON"in i&&i.geoJSON.geometry.coordinates.length>0){D6(i.geoJSON,l=>{t.push([l[0],l[1],s])});continue}let u=a(this,Ie).getBoundingArea(i.id);if(u)t.push(...u.map(l=>[l[0],l[1],s]));else if("geoJSONBoundingBox"in i){let l=z(this,As,M4).call(this,i);if(i.geoJSONBoundingBox!=null){let c=[[i.geoJSONBoundingBox[0],i.geoJSONBoundingBox[1],l],[i.geoJSONBoundingBox[2],i.geoJSONBoundingBox[3],l]];t.push(...c)}}}else wx(i)&&t.push(i);return t};p();var Hd,k0=class{constructor({currentMapGetter:r}){C(this,Hd);T(this,Hd,r)}get currentMap(){return a(this,Hd).call(this)}async getCurrentSceneGLTF(r){let t=a(this,Hd).call(this);return t?t?.Exporter.getCurrentSceneGLTF(r):(R.error("There is no map to export. Please load a map first."),new Blob)}};Hd=new WeakMap;p();var Mi,L0,_0=class{constructor({currentMapGetter:r}){C(this,Mi,new Map);C(this,L0);T(this,L0,r)}get currentMap(){return a(this,L0).call(this)}getAll(){return Array.from(a(this,Mi).values()).map(r=>r.label)}getById(r){return a(this,Mi).get(r)}add(r,t,n){let o=r.anchorTarget,i=this.currentMap;if(!i)throw new Error("currentMap should exist");let s=i.Labels.add(o,t,{...n,attachTo:ld(r),rank:n?.rank==null||n?.rank==="initial"?"medium":n.rank}),u=new Ts(s.id.toString(),t,r);return a(this,Mi).set(u.id,{label:u,entityId:u.id}),u}__EXPERIMENTAL__all(r){let t=[];return this.currentMap?.Labels.all({onCreate:(n,o,i)=>{let s=new Ts(n.toString(),o,i);a(this,Mi).set(s.id,{label:s,entityId:s.id}),t.push(s)},labelOptions:r}),t}remove(r){let t=a(this,Mi).get(r.id);t&&(this.currentMap?.Labels.remove(t),a(this,Mi).delete(r.id.toString()))}removeAll(){let r=[];return a(this,Mi).forEach(({label:t})=>{this.remove(t),r.push(t),a(this,Mi).delete(t.id.toString())}),r}};Mi=new WeakMap,L0=new WeakMap;p();p();var A4={altitude:0,height:1,color:"#ffffff",opacity:1,width:.15},fA={opacity:.25,color:"#a7d1ec",height:.8,width:.05,altitude:.1,cap:"square",visible:!1},hA={color:"red",opacity:.2,height:A4.height+.1,visible:!0,borderVisible:!1},gA=.5,Ai=class{constructor(r,t,n=new Map){m(this,"containerId");m(this,"layers");m(this,"renderer");this.containerId=t,this.layers=n,this.renderer=r}get visible(){return this.renderer.getState(this.containerId).visible}setVisible(r){this.renderer.setState(this.containerId,{visible:r})}},yA=0,uc,R0=class{constructor(r,t,n,o,i,s,u,l){m(this,"id");m(this,"name");m(this,"elevation");m(this,"maxHeight");m(this,"containerId");m(this,"externalId");m(this,"metadata");m(this,"shortName");m(this,"subtitle");m(this,"occluderId");m(this,"loaded",!1);m(this,"styleMap",{});m(this,"obstructions");m(this,"entrances");m(this,"spaces");m(this,"floorImages");m(this,"floorText");m(this,"areas");m(this,"renderer");m(this,"mapObject");m(this,"options");m(this,"layers",new Map);m(this,"footprint");m(this,"floorStackId");m(this,"multiFloorView");m(this,"mapDataInternal");m(this,"facadesByStyleId",new Map);C(this,uc);m(this,"load",()=>{if(this.loaded)return this;this.footprint?.geometry==null&&this.obstructions?.features.length===0&&this.spaces?.features.length===0&&R.warn(`Floor ${this.id} exists in the data but contains no geometry.`),this.loaded=!0;let r=this.renderer.addGroupContainer(`${fa}-${this.id}`,{},this.id);this.layers.set(fa,new Ai(this.renderer,r.id.toString()));let t=this.renderer.addGroupContainer(`${yi}-${this.id}`,{},this.id);this.layers.set(yi,new Ai(this.renderer,t.id.toString()));let n=this.renderer.addGroupContainer(`${or}-${this.id}`,{},this.id);this.layers.set(or,new Ai(this.renderer,n.id.toString()));let o=this.renderer.addGroupContainer(`${ha}-${this.id}`,{},this.id);this.layers.set(ha,new Ai(this.renderer,o.id.toString()));let i=this.mapObject.getFloorStackAltitudeData(this.floorStackId);if(this.footprint?.geometry!=null&&this.footprint?.geometry.coordinates.length!==0){let s=A4;if(this.obstructions!=null&&this.obstructions.features.length>0){let l=this.obstructions.features.filter(c=>c.geometry.type==="LineString"&&c.properties.kind?.toLowerCase()==="wall"&&c.properties.footprintComponent===!0);l!=null&&l.length>0&&(s=this.styleMap[l[0].properties?.id])}let u=this.renderer.addGeometryGroup(`Footprint-${this.id}`,{features:[{geometry:this.footprint.geometry,properties:{id:`Footprint-Floor-${this.id}`}}]},{...s,height:i.get(this.elevation)?.effectiveHeight??fs(this.multiFloorView?.floorGap,this.maxHeight),altitude:0,outline:this.options.style?.outlines??!0,visible:!1,opacity:this.elevation<0?1:.4,side:this.elevation<0?"back":"front",color:this.elevation<0?"#F0EEE8":s.color,renderOrder:2},this.id);this.layers.set(Zp,new Ai(this.renderer,u.id.toString()))}if(this.spaces!=null&&this.spaces.features.length>0){let s=[],u=new Map;this.spaces.features.filter(f=>f.geometry.type==="Polygon"&&f.properties.kind?.toLowerCase()!=="void").forEach(f=>{let h=this.mapDataInternal?.facadesBySpaceId[f.properties.id];if(h){let b=u.get(h.id)||[];u.set(h.id,[...b,f])}else s.push(f)});let l=zy(s,this.styleMap),c=this.renderer.addGroupContainer(`spaces-${this.id}`,{},n),d=0;for(let[f,h]of l){let b=this.renderer.addGeometryGroup(`Spaces-${this.id}-${d}`,{features:h},ud(f,this.options),c);d++;let I=c.id.toString();this.layers.get(or).layers.set(f.id||I,b.id.toString())}if(u.size>0){let f=this.renderer.addGroupContainer(`${El}-${this.id}`,{},this.id);this.layers.set(El,new Ai(this.renderer,f.id.toString()));for(let[h,b]of u){let I=this.renderer.addGroupContainer(h,{focusable:!0},f),E=this.renderer.addGroupContainer(`${h}-geometry`,{},I),v=zy(b,this.styleMap),x=0;for(let[D,w]of v){let S=this.renderer.addGeometryGroup(`Facades-${this.id}-${h}-${x}`,{features:w},{...ud(D,this.options),renderOrder:3},E);x++;let F=D.id||S.id.toString();this.layers.get(El).layers.set(`${h}-${F}`,S.id.toString()),this.facadesByStyleId.has(F)?this.facadesByStyleId.get(F)?.push(h):this.facadesByStyleId.set(F,[h])}}}}if(this.obstructions!=null&&this.obstructions.features.length>0){let s=this.obstructions.features.filter(E=>E.geometry.type==="Polygon"&&(E.properties.kind==="object"||E.properties.kind==="unknown")),u=zy(s,this.styleMap),l=this.renderer.addGroupContainer(`objects-${this.id}`,{},n),c=0;for(let[E,v]of u){let x=this.renderer.addGeometryGroup(`Objects-${this.id}-${c}`,{features:v},ud(E,this.options),l);c++;let D=l.id.toString();this.layers.get(or).layers.set(E.id||D,x.id.toString())}let d=this.obstructions.features.filter(E=>E.geometry.type==="LineString"&&E.properties.kind?.toLowerCase()==="wall"&&E.properties.footprintComponent===!1),f=this.obstructions.features.filter(E=>E.geometry.type==="LineString"&&E.properties.kind?.toLowerCase()==="wall"&&E.properties.footprintComponent===!0),h=this.entrances,b=A4,I=A4;if(d!=null&&d.length>0){let E=this.styleMap[d[0].properties?.id];E!=null&&(b={...E}),I=b;let{walls:v,entrances:x}=Jx(d,h?.features||[]),D=Math.max(b.height-.11,gA),w={...fA,height:D},S=this.renderer.addGeometryGroup(`InteriorDoors-${this.id}`,x,w,n);this.layers.get(or).layers.set(Vp,S.id.toString());let F=this.renderer.addGeometryGroup(`Walls-${this.id}`,{features:[v]},ud(b,this.options),n);this.layers.get(or).layers.set(lu,F.id.toString())}if(f!=null&&f.length>0){let E=this.styleMap[f[0].properties?.id];E!=null&&(I={...E,id:ma});let{walls:v,entrances:x}=Jx(f,h?.features||[]),D=Math.max(I.height-.11,gA),w={...fA,height:D},S=this.renderer.addGeometryGroup(`ExteriorDoors-${this.id}`,x,w,n);this.layers.get(or).layers.set(Hp,S.id.toString());let F=this.renderer.addGeometryGroup(`ExteriorWalls-${this.id}`,{features:[v]},ud(I,this.options),n);this.layers.get(or).layers.set(ma,F.id.toString())}}if(this.floorImages!=null){let s=this.renderer.addGroupContainer(`images-${this.id}`,{},this.id);for(let u of this.floorImages.features||[])if(!("anchorId"in u.properties||"anchorId"in u.properties&&u.properties?.anchorId==null)){let l=Jw(u,yA);this.mapObject.api.Image3D.add(new ge({latitude:u.geometry.coordinates[1],longitude:u.geometry.coordinates[0],floorId:this.id}),u.properties.path,{id:l,flipImageToFaceCamera:this.options.flipImagesToFaceCamera??!0,...u.properties}),yA++}this.layers.set(Wp,new Ai(this.renderer,s.id.toString()))}if(this.floorText!=null)for(let s of this.floorText.features||[]){let u=0;"geometryId"in s.properties?u=this.renderer.getState(s.properties.geometryId)?.height??0:u=s.properties.verticalOffset??0,this.renderer.addText3D(It(),{...s,properties:{...s.properties,verticalOffset:u}},{},this.id)}if(this.areas!=null){let s=this.renderer.addGroupContainer(`areas-${this.id}`,{},this.id);this.layers.set(Il,new Ai(this.renderer,s.id.toString()));let u=this.renderer.addGeometryGroup(`Areas-${this.id}`,{features:this.areas.features},{color:hA.color},s);for(let l of this.areas.features||[])this.renderer.setState(l.properties.id,{...hA,visible:!1});this.layers.get(Il).layers.set(u.id.toString(),u.id.toString())}return this.multiFloorView?.enabled&&this.renderer.setState(this.id,{altitude:i.get(this.elevation)?.altitude??this.elevation*fs(this.multiFloorView?.floorGap,this.maxHeight)}),this.renderer.render(),this});this.mapObject=n,this.renderer=n.renderer,this.id=t.id,this.options=i;let c=this.renderer.addGroupContainer(this.id,{visible:!1,interactive:!0,preloadGeometry:i.preloadFloors?.map(d=>d.id).includes(t.id)},r);this.containerId=c.id.toString(),this.externalId=t.externalId,this.metadata=t.metadata,this.shortName=t.shortName,this.subtitle=t.subtitle,this.name=t.name,this.maxHeight=t.maxHeight,this.elevation=t.elevation,s!=null&&u!=null&&(this.styleMap=u,this.spaces=s.space[this.id],this.entrances=s.entrance[this.id],this.areas=s.area?.[this.id],this.obstructions=s.obstruction[this.id],this.floorImages=s.floorImages?.[this.id],this.floorText=s.enterprise?.floorText?.[this.id],this.footprint=s["floor.geojson"]?.features.find(d=>d.properties.id===t.id)),this.floorStackId=r,this.multiFloorView=o,this.mapDataInternal=l}get geoJSONBoundingBox(){if(a(this,uc))return a(this,uc);if(!this.footprint){R.warn(`Attempting to get bounding box with no footprint for floor ${this.id}`);return}return T(this,uc,Vy(this.footprint)),a(this,uc)}addOccluder(){if(this.footprint?.geometry==null)return;let r=this.renderer.addGroupContainer(`${xl}-${this.id}`,{},this.id),t=new Ai(this.renderer,r.id.toString());this.layers.set(xl,t),this.occluderId=this.renderer.addOccluder(this.footprint,t.containerId)}get hasFacadeGeometry(){return this.facadesByStyleId.size>0}get visible(){return this.renderer.getState(this.containerId).visible}setVisible(r){this.renderer.setState(this.containerId,{visible:r})}};uc=new WeakMap;p();var Zd,N0=class{constructor(r,t,n,o){m(this,"id");m(this,"externalId");m(this,"name");m(this,"type");m(this,"floorIds");m(this,"defaultFloorId");m(this,"floorObjects",[]);m(this,"floorObjectsByElevation",new Map);m(this,"metadata");m(this,"containerId");m(this,"facade");m(this,"renderer");C(this,Zd);this.id=r.id,this.externalId=r.externalId,this.name=r.name,this.type=r.type,this.metadata=r.metadata,this.floorIds=r.floors??r.maps,this.defaultFloorId=r.defaultFloor,this.renderer=n;let i=n.addGroupContainer(this.id,{visible:!0,interactive:!0},t);this.containerId=i.id.toString(),this.facade=o}get defaultFloor(){if(a(this,Zd)==null){if(this.floorObjects.length===0)throw new Mr(`No floors in floor stack (${this.id}). Could not get default floor.`);let r;this.defaultFloorId&&(r=this.floorObjects.find(t=>t.id===this.defaultFloorId)),r||(r=this.floorObjects.reduce((t,n)=>Math.abs(n.elevation)<Math.abs(t.elevation)?n:t)),T(this,Zd,r)}return a(this,Zd)}get isOutdoors(){return this.type?.toLowerCase()==="outdoor"?!0:this.facade!=null?!1:this.floorObjects.some(t=>t.hasFacadeGeometry)}addFloor(r){if(this.floorObjectsByElevation.has(r.elevation)){R.error(`Floor with same elevation ${r.elevation} already exists in Stack (${this.id}). Floor (${r.id}) will not be added.`);return}this.floorObjects.push(r),this.floorObjectsByElevation.set(r.elevation,r),this.facade&&this.renderer.setState(r.containerId,{focusable:!0})}loadAllFloors(){for(let r of this.floorObjects)r.load(),!this.isOutdoors&&!r.hasFacadeGeometry&&r.footprint!=null&&r.addOccluder()}};Zd=new WeakMap;p();function aI(e,r,t="auto",n,o=new Map){let i={outdoorOpacity:1,floorStates:[]},s=e.sort((c,d)=>c.elevation-d.elevation),u=e.some(c=>c.elevation===0),l=!0;for(let c of s){let d=o.get(c.elevation)?.effectiveHeight??fs(t,c.maxHeight),f={floor:c,state:{type:"floor",visible:!1,geometry:{visible:!1},labels:{enabled:!1},markers:{enabled:!1},footprint:{visible:!1},occlusion:{enabled:!1},areas:{visible:!1}}};i.floorStates.push(f),c.id===r.id?(f.state.visible=!0,f.state.geometry.visible=!0,f.state.labels.enabled=!0,f.state.markers.enabled=!0,f.state.occlusion.enabled=!0,f.state.areas.visible=!0,c.elevation<0&&(f.state.footprint.height=d,f.state.footprint.visible=!0,i.outdoorOpacity=.2)):n.includes(c.id)&&c.elevation<r.elevation?(f.state.visible=!0,f.state.geometry.visible=!0,f.state.markers.enabled=!0,f.state.occlusion.enabled=!0,f.state.footprint.visible=!0,f.state.footprint.height=d,c.elevation<0&&(i.outdoorOpacity=.2)):r.elevation>0&&c.elevation<r.elevation&&c.elevation>=0&&(f.state.visible=!0,f.state.footprint.visible=!0,f.state.footprint.height=d),!u&&c.elevation>0&&l&&r.elevation===c.elevation&&(l=!1,f.state.footprint.visible=!1)}return i}var Oi,$0=class extends Oe{constructor(t,n,o,i){super();m(this,"floorStacksById",new Map);m(this,"floorsById",new Map);m(this,"startingFloorId","");m(this,"currentFloorId","");m(this,"currentFloorStackId","");m(this,"outdoorFloorStacks",new Set);m(this,"id");m(this,"renderer");m(this,"api");m(this,"mvf");m(this,"options",{});m(this,"styleMap");m(this,"animations",new Map);m(this,"floorStackAltitudeMap",new Map);m(this,"Models",{add:(t,n,o)=>{let{floorId:i,scale:s,...u}=o,l=i?this.floorsById.get(i):void 0,c={...u};s!=null&&(c.scale=Array.isArray(o.scale)?o.scale:[o.scale,o.scale,o.scale]);let d=this.renderer.addModelGroup(t,{type:"FeatureCollection",features:n.map(f=>({type:"Feature",properties:{id:It(),rotation:o.rotation,scale:c.scale,interactive:o.interactive},geometry:{type:"Point",coordinates:jo(f)}}))},c,{parent:l?.id});if(d==null)throw new Mr("error creating model");return this.renderer.getState(d).children},remove:(t,n)=>{this.renderer.remove(t),this.renderer.getState(n).children.length===0&&this.renderer.remove(n)}});m(this,"Image3D",{add:(t,n,o)=>{let{floorId:i,flipImageToFaceCamera:s,...u}=o,l=i?this.floorsById.get(i):this.currentFloor,c={type:"Feature",properties:u,geometry:{type:"Point",coordinates:t}};return this.renderer.addImage(o.id??It(),c,{url:n,flipImageToFaceCamera:s??!1},l.id)},remove:t=>{this.renderer.remove(t)},removeAll:()=>{}});m(this,"Markers",{add:(t,n,o)=>{let i=Ff(t,this.floorsById,this.api.mapObjects[0].floorsById.get("default-floor")),{attachTo:s,...u}=o,l=u;u.rank==="initial"&&(l.rank="medium");let c=i.layers.get(yi),d=this.renderer.addMarker2D(jo(t),n,{...l,occluderId:i?.occluderId,attachTo:s},c?.containerId);if(!d)throw new Mr("Failed to create Marker");return d},remove:t=>{this.renderer.remove(t)},getContentEl:t=>{let n=this.renderer.getState(t);if(n?.type==="marker")return n.element},removeAll:()=>{},setPosition:(t,n,o)=>{let i=this.renderer.getState(t),s=o?this.floorsById.get(o):this.currentFloor;if(!i){R.error(`Failed to retrieve state for Marker with id "${t}".`);return}if(i.type!=="marker"){R.error(`Geometry with id "${t}" is not of type "marker".`);return}this.renderer.setState(i,{position:n,parent:s?.layers.get(yi)?.containerId})},animateTo:(t,n,o,i)=>{let s=this.renderer.getState(t),u=o?this.floorsById.get(o):this.currentFloor;if(!s)return R.error(`Failed to retrieve state for Marker with id "${t}".`),Promise.resolve();if(s.type!=="marker")return R.error(`Geometry with id "${t}" is not of type "marker".`),Promise.resolve();let l={duration:1e3,easing:"ease-in-out",...i};this.cancelAnimation(t);let c=new Ii({lon:s.position[0],lat:s.position[1]}).to({lon:n[0],lat:n[1]},l.duration).easing(xa[l.easing]).onUpdate(({lon:d,lat:f})=>{if(!this.renderer.getState(t))this.cancelAnimation(t);else{let b=u?.layers.get(yi)?.containerId;b&&this.Markers.setPosition(t,[d,f],b)}}).start();return this.renderer.getInternalTweenGroup().add(c),this.renderer.render(),this.animations.set(t,c),Yx(c).then(()=>{this.animations.delete(t)})}});m(this,"Exporter",{getCurrentSceneGLTF:async t=>this.renderer.getCurrentSceneGLTF(t)});m(this,"Shapes",{add:(t,n,o)=>{let i=o?.floorId?this.floorsById.get(o?.floorId):this.currentFloor,s="shape-"+It();return this.renderer.addGeometryGroup(s,t,n,i.id),s},remove:t=>(this.renderer.remove(t.id),t.id)});m(this,"Text3D",{label:(t,n,o)=>{if(!this.api.getMapDataInternal()?.enterpriseMode){R.warn("Enterprise mode is not enabled, skipping label creation");return}let i=bA(this.renderer,t,n,o);if(i)return{textInfo:i,target:t}},labelAll:(t={})=>{if(!this.api.getMapDataInternal()?.enterpriseMode)return R.warn("Enterprise mode is not enabled, skipping label creation"),[];let n=this.api.getMapData();if(!n)return[];let o=[];return n.getByType("space").forEach(i=>{if(i.locations[0]){let s=bA(this.renderer,i,i.locations[0]?.name??i.name,t);s&&o.push({textInfo:s,target:i})}}),o},remove:t=>{if(!this.api.getMapDataInternal()?.enterpriseMode){R.warn("Remove text label only works in enterprise mode");return}return this.renderer.remove(t),t}});m(this,"Labels",{all:({onCreate:t,labelOptions:n={}})=>{for(let o of Object.entries(this.mvf.space)){let[i,s]=o;s&&s.features.forEach(u=>{let l=this.api.getMapData()?.getById("space",u.properties.id);if(!l)return;let c=this.styleMap[u.properties.id]?.showImage,d=u.properties.details?.images,h={icon:(c&&d?.[0]?.url?{icon:d[0].url}:{}).icon,...n.appearance},I=(i?this.floorsById.get(i):this.currentFloor).layers.get(fa);if(u.properties.center&&l.name!==""){let E=this.renderer.addLabel2D(u.properties.center,l.name,{id:u.properties.id+"-label",...n,appearance:h,rank:n.rank,attachTo:ld(l)},Cr.is(l)?l.id:I?.containerId);E&&t(E.id,l.name,l)}})}},add:(t,n,o={})=>{let{attachTo:i,...s}=o,u=Ff(t,this.floorsById,this.api.mapObjects[0].floorsById.get("default-floor")),l=u.layers.get(fa),c=this.renderer.addLabel2D(jo(t),n,{...s,occluderId:u.occluderId,attachTo:i},l?.containerId);if(!c)throw new Mr("label creating failed");return c},remove:({entityId:t})=>{this.renderer.remove(t)},removeAll:()=>{}});m(this,"Paths",{add:(t,n)=>{let o=n?.animateDrawing??!0,i=[],s=t[0].floorId||"root",u=0;for(let c of t){let{floorId:d="root",latitude:f,longitude:h}=c;d!==s&&(u++,s=d),i[u]==null&&i.push({floorId:d,coordinates:[]});let b=d===c.floorId?c:new ge({longitude:h,latitude:f,floorId:d});i[u].coordinates.push(b)}let l=i.reduce((c,{floorId:d,coordinates:f},h)=>{if(h!==0){let E=i[h-1],v=E.coordinates[E.coordinates.length-1],x=f[0],D=jo(v),w=jo(x),S=this.renderer.addPath({type:"FeatureCollection",features:[{type:"Feature",properties:{parentId:E.floorId},geometry:{type:"Point",coordinates:D}},{type:"Feature",properties:{parentId:d},geometry:{type:"Point",coordinates:w}}]},n,this.id);S&&(o&&this.renderer.setState(S.id,{completeFraction:0}),c.push({...S,coordinates:[v,x]}))}if(f.length<2)return c;let b=this.floorsById.get(d)?.layers.get(ha)?.containerId,I=this.renderer.addPath({type:"FeatureCollection",features:f.map(E=>({type:"Feature",properties:{},geometry:{type:"Point",coordinates:jo(E)}}))},n,b??d);return I&&(o&&this.renderer.setState(I.id,{completeFraction:0}),c.push({...I,coordinates:f})),c},[]);if(o){let c=[],d=this.api.getMapData();return l.forEach(f=>{let h=Xw(f,d,this.api);c.push(new Ii({fraction:0}).to({fraction:1},h?n?.drawDuration??1500:0).onUpdate(b=>{this.renderer.setState(f.id,{completeFraction:b.fraction})}))}),c.forEach((f,h)=>{h<c.length-1&&f.chain(c[h+1]),this.renderer.getInternalTweenGroup().add(f)}),c[0].start(),this.renderer.render(),this.animations.set(l[0].id.toString(),c[0]),{paths:l,animation:Yx(c[c.length-1]).then(()=>{this.animations.delete(l[0].id.toString())})}}else return{paths:l,animation:Promise.resolve()}},remove:t=>{t.forEach(n=>{this.cancelAnimation(n),this.renderer.remove(n)})}});C(this,Oi,{enabled:!1,floorGap:"auto",updateCameraElevationOnFloorChange:!0});this.renderer=i.core,this.api=i,this.id=t,this.renderer.addGroupContainer(t,{},"root"),this.options=o??{},this.mvf=n?.mvf??{};let s=Hw(this.mvf["styles.json"]||{});if(this.styleMap=s,T(this,Oi,{enabled:!1,floorGap:"auto",updateCameraElevationOnFloorChange:!0,...o?.multiFloorView}),!n){this.id!=="outdoors-container"&&R.warn(`Map (${this.id}) created with no data.`);let c=new N0({id:"default-stack",externalId:"default-stack",name:"Default Stack",maps:["default-floor"]},this.id,this.renderer);this.floorStacksById.set(c.id,c),this.currentFloorStackId=c.id;let d=new R0(c.id,{id:"default-floor",externalId:"default-floor",name:"Default Floor",elevation:0},this,a(this,Oi),o??{});this.floorsById.set(d.id,d),c.addFloor(d),this.setFloor(d.id);return}let u=n.getMVFFeatureByType("floor-stack");if(u==null||u.length===0)throw new Mr("MVF does not contain any Floor Stacks.");for(let c of u){let d=new N0(c,this.id,this.renderer,this.mvf.facade?.[c.id]);for(let f of d.floorIds){let h=n.getMVFFeatureById("floor",f);if(h!=null){let b=new R0(d.id,h,this,a(this,Oi),o??{},this.mvf,s,n);this.floorsById.set(b.id,b),d.addFloor(b)}}if(d.floorObjects.length<1){R.warn(`Floor stack ${c.id} has no floors. It will not be loaded.`);continue}this.floorStacksById.set(c.id,d),this.currentFloorStackId||(this.currentFloorStackId=c.id),this.floorStackAltitudeMap.set(c.id,Yw(d.floorObjects,a(this,Oi).floorGap))}for(let[c]of Object.entries(n.facadesBySpaceId)){let d=n.getById("space",c);d&&(this.outdoorFloorStacks.add(d.floor.floorStack.id),this.floorsById.get(d.floor.id)?.setVisible(!0))}let l=this.mvf.enterprise?.venue.defaultMap;if(o?.initialFloor){let c=yf(o.initialFloor);c&&this.floorsById.has(c)?l=c:R.error(`Invalid initial floor specified (${o.initialFloor}), using default behavior instead`)}l||(l=this.currentFloorStack.defaultFloor.id),this.startingFloorId=l}get currentFloorStack(){let t=this.floorStacksById.get(this.currentFloorStackId);if(!t)throw new Mr(`Current floor stack with id "${this.currentFloorStackId}" not found`);return t}setFloorStack(t,n){if(this.currentFloorStackId===t)return;let o=this.floorStacksById.get(t);if(o==null){R.error(`Invalid floor stack passed to setFloorStack (${t}), the floor stack was not changed. Current floor stack is still ${this.currentFloorStack.id}.`);return}if(o.floorObjects.length===0){R.error(`Floor stack (${t}) has no floors. The floor stack was not changed. Current floor stack is still ${this.currentFloorStack.id}.`);return}this.setFloor(o.defaultFloor.id,n)}get currentFloor(){let t=this.floorsById.get(this.currentFloorId);if(!t)throw new Mr(`Floor with id "${this.currentFloorId}" not found`);return t}get floors(){return Array.from(this.floorsById.values())}processFloorChange(t){if(this.api.manualFloorVisibility===!0)return;let n=this.api.getMapDataInternal()?.getById("floor",t),o=this.api.getMapDataInternal()?.getById("floor-stack",this.currentFloorStackId);if(n&&o)if(!a(this,Oi)?.enabled||n.floorStack.id!==o?.id)for(let i of this.floorStacksById.values())i.floorObjects.forEach(s=>{s.id!==t&&s.setVisible(!1)});else{let i=aI(o.floors,n,a(this,Oi).floorGap,this.api.Navigation?.floors?.map(s=>s.id)||[],this.getFloorStackAltitudeData(o.id));if(this.api?.Outdoor?.setOpacity(i.outdoorOpacity),i.floorStates.forEach(s=>{if(s.floor){let u=this.api.getMapData()?.getById("floor",s.floor.id);u&&this.api.updateState(u,s.state)}}),a(this,Oi).updateCameraElevationOnFloorChange){let s=this.floorStackAltitudeMap.get(o.id);this.api.Camera.setElevation(s.get(n.elevation)?.altitude??n.elevation*fs(a(this,Oi).floorGap,n.maxHeight))}}}setFloor(t,n){if(this.currentFloorId===t)return;if(!this.floorsById.get(t)){R.error(`Invalid floor passed to setFloor (${t}), the floor was not changed. Current floor is still ${this.currentFloor.id}`);return}let i=this.currentFloorId;this.publish("floor-change-start",{previousFloorId:i,floorId:t,reason:n}),this.currentFloorStack&&this.processFloorChange(t),this.currentFloorId=t,this.currentFloorStackId=this.currentFloor.floorStackId,this.currentFloor.setVisible(!0),this.updatePathLayersVisibility(),this.publish("floor-change",{reason:n,floorId:this.currentFloor.id,previousFloorId:i})}updatePathLayersVisibility(){let t=this.api.hidePathsNotOnCurrentFloor===!0&&!this.options.multiFloorView?.enabled;for(let n of this.floorsById.values()){let o=n.layers.get(ha);if(!o)continue;let i=!t||n.id===this.currentFloor.id;o.setVisible(i)}}getFloorStackAltitudeData(t){return this.floorStackAltitudeMap.get(t)}cancelAnimation(t){let n=this.animations.get(t);n&&(n.stop(),this.animations.delete(t),this.renderer.getInternalTweenGroup().remove(n))}loadAllFloors(){for(let t of this.floorStacksById.values()){t.loadAllFloors();let n=this.floorStackAltitudeMap.get(t.id);t.facade?.spaces.forEach(o=>{let i=this.styleMap[o.spaceId];if(i&&i.altitude>=0){let s=n?.get(i.altitude/2);s&&this.renderer.setState(o.spaceId,{altitude:s.altitude,height:s.effectiveHeight})}})}}};Oi=new WeakMap;function bA(e,r,t,n){return e.labelText3D(r.id,t??r.name,{...n,parentId:r.floor.id})}p();var Xo,U0,j0=class{constructor({currentMapGetter:r}){C(this,Xo,new Map);C(this,U0);T(this,U0,r)}get currentMap(){return a(this,U0).call(this)}getAll(){return Array.from(a(this,Xo).values()).map(({marker:r})=>r)}getById(r){return a(this,Xo).get(r)}add(r,t,n){let o=r.anchorTarget;if(!o)throw new Error("get coordinate failed");let i=this.currentMap;if(!i)throw new Error("currentMap should exist");let s=i.Markers.add(o,t,{...n,rank:n?.rank||"medium",dynamicResize:n?.dynamicResize??!0,attachTo:ld(r)});if(s==null)throw new Error("error creating marker");let u=i.Markers.getContentEl(s.id.toString());if(!u)throw new Error("marker component should exist");let l=new Ca(s.id.toString(),u,r);return a(this,Xo).set(l.id,{marker:l,entityId:s.id.toString()}),l}remove(r){let t=a(this,Xo).get(r.id);t&&(this.currentMap?.Markers.remove(t.entityId),a(this,Xo).delete(r.id.toString()))}removeAll(){let r=[];return a(this,Xo).forEach(({marker:t})=>{this.remove(t),r.push(t),a(this,Xo).delete(t.id.toString())}),r}setPosition(r,t){let n=t.anchorTarget;if(!n){R.error("Cannot determine coordinate from target.");return}let o=this.currentMap;if(!o){R.error("Cannot determine the current map.");return}let i=a(this,Xo).get(r.id);if(!i){R.error(`Cannot find the Marker with id "${r.id}".`);return}o.Markers.setPosition(i.entityId,jo(n),n.floorId??o.currentFloorId),i.marker.updateTarget(t)}animateTo(r,t,n){let o=t.anchorTarget;if(!o)return R.error("Cannot determine coordinate from target."),Promise.resolve();let i=this.currentMap;if(!i)return R.error("Cannot determine the current map."),Promise.resolve();let s=a(this,Xo).get(r.id);return s?(s.marker.updateTarget(t),i.Markers.animateTo(s.entityId,jo(o),o.floorId??i.currentFloorId,n)):(R.error(`Cannot find the Marker with id "${r.id}".`),Promise.resolve())}};Xo=new WeakMap,U0=new WeakMap;p();var Os,z0,G0=class{constructor({currentMapGetter:r}){C(this,Os,new Map);C(this,z0);T(this,z0,r)}get currentMap(){return a(this,z0).call(this)}getById(r){return a(this,Os).get(r)}add(r,t,n){let o=r.anchorTarget;if(!o)throw new Error("Target does not implement IAnchorable.");let i=this.currentMap;if(!i)throw new Error("currentMap should exist");let s=i.Image3D.add(jo(o),t,{...n,floorId:o.floorId,verticalOffset:o.verticalOffset+(n.verticalOffset??0)});if(!s)throw new Error("image component should exist");let u=new tc(s.id.toString(),t,r);return a(this,Os).set(u.id,{image:u,entityId:s.id.toString()}),u}remove(r){let t=a(this,Os).get(r.id);t&&(this.currentMap?.Image3D.remove(t.entityId),a(this,Os).delete(r.id.toString()))}removeAll(){let r=[];return a(this,Os).forEach(({image:t})=>{this.remove(t),r.push(t),a(this,Os).delete(t.id.toString())}),r}};Os=new WeakMap,z0=new WeakMap;p();var Da,H0,V0=class{constructor({currentMapGetter:r}){C(this,Da,new Map);C(this,H0);T(this,H0,r)}get currentMap(){return a(this,H0).call(this)}getById(r){return a(this,Da).get(r)}add(r,t,n){let o=[r],i=o.reduce((l,c)=>{if(!c)return R.error("Cannot determine coordinate from options."),l;let d=Ff(c,this.currentMap.floorsById,this.currentMap.floorsById.get("default-floor"))?.id;return l.has(d)||l.set(d,[]),l.get(d)?.push(c),l},new Map);if(!o.length)throw new Error("targets should not be empty when adding a model");let s=this.currentMap;if(!s)throw new Error("currentMap should exist");let u=[];return i.forEach((l,c)=>{let d=It();s.Models.add(d,l,{...n,url:t,floorId:c,verticalOffset:l[0].verticalOffset+(n?.verticalOffset??0)}).forEach(h=>{let b=new nc(h.toString(),d,l[0]);a(this,Da).set(b.id,{model:b,entityId:h.toString(),groupId:d}),u.push(b)})}),u[0]}remove(r){let t=a(this,Da).get(r.id);t&&(this.currentMap?.Models.remove(t.entityId,t.groupId),a(this,Da).delete(r.id.toString()))}removeAll(){let r=[];return a(this,Da).forEach(({model:t})=>{let n=a(this,Da).get(t.id);n&&(r.push(t),this.currentMap?.Models.remove(n.entityId,n.groupId),a(this,Da).delete(t.id.toString()))}),r}};Da=new WeakMap,H0=new WeakMap;p();var Bi,W0,Z0=class{constructor({currentMapGetter:r}){C(this,Bi,new Map);C(this,W0);T(this,W0,r)}get currentMap(){return a(this,W0).call(this)}getById(r){return a(this,Bi).get(r)?.path}add(r,t){let n=this.currentMap;if(!n)throw new Error("currentMap should exist");let o=n.Paths.add(r,t),i=o.paths.map(u=>u.id.toString()),s=new Fi(t?.id||It(),o.animation,r,o.paths);for(let u of i)a(this,Bi).set(u,{path:s,entityIds:i});return a(this,Bi).set(s.id,{path:s,entityIds:i}),s}highlightPathSection(r,t,n,o){let i=this.currentMap?.api.getMapData()?.mapCenter;if(!i)return;let s=w4([r],t,n,i);if(!s)return;let u=o?.animationDuration??1500,l=()=>{},c=new Promise(f=>{l=f}),d=new Ii({fraction:0}).to({fraction:1},u).onUpdate(f=>{for(let h of s)this.currentMap?.api.updateState(h.segment,{highlightCompleteFraction:f.fraction})}).onStart(()=>{for(let f of s)this.currentMap?.api.updateState(f.segment,{highlightStartFraction:f.startHighlightFraction,highlightEndFraction:f.endHighlightFraction,highlightColor:o?.color??"red",highlightWidthMultiplier:o?.widthMultiplier??1})}).onComplete(()=>{l(),this.currentMap?.api.removeTween(d)});return this.currentMap?.api.tweenGroup().add(d),d.start(),{animation:c}}clearHighlightedPathSection(r){this.currentMap?.api.updateState(r,{highlightCompleteFraction:0,highlightStartFraction:0,highlightEndFraction:0})}clearAllHighlightedPathSections(){for(let r of a(this,Bi).values())this.clearHighlightedPathSection(r.path)}remove(r){let t=a(this,Bi).get(r.id);t&&(this.currentMap?.Paths.remove(t.entityIds),a(this,Bi).delete(r.id),t.entityIds.forEach(n=>a(this,Bi).delete(n)))}removeAll(){let r=[];return a(this,Bi).forEach(({path:t})=>{this.remove(t),r.push(t)}),r}};Bi=new WeakMap,W0=new WeakMap;p();var Bs,J0,X0=class{constructor({currentMapGetter:r}){C(this,Bs,new Map);C(this,J0);T(this,J0,r)}get currentMap(){return a(this,J0).call(this)}getById(r){return a(this,Bs).get(r)}add(r,t,n){let o=this.currentMap;if(!o)throw new Error("currentMap should exist");let i=o.Shapes.add(r,t||{},{floorId:n?.id}),s=new ws(i);return a(this,Bs).set(s.id,s),s}remove(r){a(this,Bs).get(r.id)&&(this.currentMap?.Shapes.remove(r),a(this,Bs).delete(r.id.toString()))}removeAll(){let r=[];return a(this,Bs).forEach(t=>{this.remove(t),r.push(t.id),a(this,Bs).delete(t.id.toString())}),r}};Bs=new WeakMap,J0=new WeakMap;p();var K0,Y0=class{constructor({currentMapGetter:r}){C(this,K0);T(this,K0,r)}get currentMap(){return a(this,K0).call(this)}setFromStyleCollection(r){for(let t in r)for(let n of this.currentMap?.floors||[]){if(r[t]==null||!n.layers.has(or))continue;let o=n.layers.get(or);if(o?.layers.has(t)&&"color"in r[t]){let u=o.layers.get(t);u&&this.currentMap?.renderer.setState(u,{color:r[t].color})}if(o&&t===lu&&!(ma in r)){let u=o.layers.get(ma);u&&"color"in r[t]&&this.currentMap?.renderer.setState(u,{color:r[t].color})}if(!n.layers.has(El))continue;let i=n.layers.get(El),s=n.facadesByStyleId.get(t);if(s&&s.length>0)for(let u of s){let l=i.layers.get(`${u}-${t}`);l&&"color"in r[t]&&this.currentMap?.renderer.setState(l,{color:r[t].color})}}}};K0=new WeakMap;p();var sI={opacity:1},pn,q0,Q0,ku,Ps,lc,uI,vA,Wd=class{constructor(r,t){C(this,lc);C(this,pn);C(this,q0,[]);C(this,Q0,{opacity:"initial"});C(this,ku,{opacity:new Map});C(this,Ps,new Set);T(this,pn,r),T(this,q0,t||[]);let n=a(this,pn).map;n&&n.on("idle",()=>{a(this,ku).opacity.size||z(this,lc,uI).call(this,n)})}setStyle(r){if(a(this,pn).map){a(this,pn).map?.setStyle(r),a(this,Ps).size&&(a(this,Ps).clear(),this.hide()),z(this,lc,vA).call(this),z(this,lc,uI).call(this,a(this,pn).map),this.setOpacity(a(this,Q0).opacity),a(this,pn).map?.moveLayer(fb);for(let[t,n,o]of a(this,q0)||[])a(this,pn).hideOutdoorLayersIntersectingPolygons(t,n,o)}}get map(){return a(this,pn).map}get enabled(){return!!a(this,pn).map}get visible(){return a(this,Ps).size===0}show(){let r=a(this,pn).map;if(!r)return;let t=r.getStyle().layers;t&&(t.forEach(n=>{a(this,Ps).has(n.id)&&r.setLayoutProperty(n.id,"visibility","visible")}),a(this,Ps).clear())}hide(r=[]){let t=a(this,pn).map;if(!t)return;let n=t.getStyle().layers;n&&n.forEach(o=>{let i=t.getLayoutProperty(o.id,"visibility");!r.includes(o.id)&&i!=="none"&&(t.setLayoutProperty(o.id,"visibility","none"),a(this,Ps).add(o.id))})}setOpacity(r,t=[]){let n=a(this,pn).map;if(!n)return;let o=a(this,pn).map?.getStyle?.()?.layers;o&&n.once("idle",()=>{o.forEach(i=>{let s=n.getLayoutProperty(i.id,"visibility");if(!t.includes(i.id)&&s!=="none")try{let u=a(this,ku).opacity.get(i.id);u!==void 0&&(i.id==="background"||(i.type==="symbol"?(n.setPaintProperty(i.id,"icon-opacity",r==="initial"?u[0]:r),n.setPaintProperty(i.id,"text-opacity",r==="initial"?u[1]:r)):n.setPaintProperty(i.id,`${i.type}-opacity`,r==="initial"?u[0]:r)),a(this,Q0).opacity=r)}catch(u){R.warn("Error setting opacity:",u)}})})}};pn=new WeakMap,q0=new WeakMap,Q0=new WeakMap,ku=new WeakMap,Ps=new WeakMap,lc=new WeakSet,uI=function(r){let t=r.getStyle().layers;t&&t.forEach(n=>{r.getLayoutProperty(n.id,"visibility")!=="none"&&(n.id==="background"||(n.type==="symbol"?a(this,ku).opacity.set(n.id,[r.getPaintProperty(n.id,"icon-opacity")??sI.opacity,r.getPaintProperty(n.id,"text-opacity")??sI.opacity]):a(this,ku).opacity.set(n.id,[r.getPaintProperty(n.id,`${n.type}-opacity`)??sI.opacity,void 0])))})},vA=function(){Object.values(a(this,ku)).forEach(r=>r.clear())};p();function kH(){xb(!1)}var ks,_s,_u,eh=class{constructor({currentMapGetter:r}){C(this,ks);C(this,_s,new Map);C(this,_u,new Map);T(this,ks,r)}labelAll(r={}){let t=[],n=new Set;return a(this,ks).call(this)?.Text3D.labelAll(r)?.forEach(({textInfo:o,target:i})=>{let s=o.id.toString(),u=a(this,_u).get(s);if(u){n.has(s)||t.push(u.text3DView),n.add(s);return}n.add(s);let l=new Ou(s,i);a(this,_s).set(l.id,{targetId:i.id,text3d:s,text3DView:l}),a(this,_u).set(s,{text3DView:l}),t.push(l)}),t}label(r,t,n={}){if(a(this,ks).call(this))if(Cr.is(r)){let i=a(this,ks).call(this)?.Text3D.label(r,t,n);if(!i)return;let s=i.textInfo.id.toString(),u=a(this,_u).get(s);if(u)return u.text3DView;let l=new Ou(s,i.target);return a(this,_s).set(l.id,{targetId:i.target.id,text3d:s,text3DView:l}),a(this,_u).set(s,{text3DView:l}),l}else throw new Error("Non-space target is not supported")}remove(r){let t=typeof r=="string"?r:r.id,n=a(this,_s).get(t);n&&(a(this,ks).call(this)?.Text3D.remove(n.text3d),a(this,_s).delete(t),a(this,_u).delete(n.text3d))}removeAll(){a(this,_s).forEach(r=>{a(this,ks).call(this)?.Text3D.remove(r.text3d)}),a(this,_s).clear()}};ks=new WeakMap,_s=new WeakMap,_u=new WeakMap;p();p();import Pi from"zod";p();import{z as xA}from"zod";function IA(e){try{let r=e.shape;if("type"in r){let t=r.type;if(t instanceof xA.ZodOptional&&(t=t._def.innerType),"value"in t)return String(t.value);if(t instanceof xA.ZodDefault&&"value"in t._def.innerType)return String(t._def.innerType.value)}return"unknown"}catch{return"unknown"}}function EA(e){if(e.success)return{};let r={};for(let t of e.error.issues)if(t.path.length>0){let n=String(t.path[0]);r[n]||(r[n]=[]),r[n].push(t.message)}return r}function CA(e,r){let t=Object.entries(e);if(t.length>0){let n=t.map(([o,i])=>`${o}: ${i.join(", ")}`).join("; ");R.warn(`${t.length} invalid field(s) in ${r??"unknown"} state: [${n}]`)}}function wt(e,r,t){if(r==null||typeof r!="object")return{};let n=e.safeParse(r);if(n.success){let s={};for(let u of Object.keys(r))u in n.data&&(s[u]=n.data[u]);return s}let o=EA(n);t?.warn&&CA(o,IA(e));let i={};for(let s of Object.keys(r))!(s in o)&&s in e.shape&&(i[s]=r[s]);return i}function Ur(e,r,t){let n=e.safeParse(r);if(n.success)return n.data;if(t?.warn===!0){let o=EA(n);CA(o,IA(e))}return r}var SA="doors",lI=Pi.object({type:Pi.literal(SA).default(SA),color:Pi.string().default("#ffffff"),topColor:Pi.string().optional(),texture:Pi.object({url:Pi.string().optional()}).optional(),topTexture:Pi.object({url:Pi.string().optional()}).optional(),visible:Pi.boolean().default(!1),opacity:Pi.number().default(1)}),O4=lI.partial(),sPe=Pi.strictObject(lI.shape);function DA(e){let{color:r,topColor:t,texture:n,topTexture:o,visible:i,opacity:s}=e;return Ur(lI,{visible:i,color:r,topColor:t,opacity:s,texture:n?{url:n}:void 0,topTexture:o?{url:o}:void 0})}function B4(e,r){let t={};return r==null||(e.color&&(e.color==="initial"?t.color=r.initialColor:t.color=e.color),e.topColor&&(e.topColor==="initial"?t.topColor=r.initialTopColor:t.topColor=e.topColor),e.visible!==void 0&&(t.visible=e.visible),e.texture?.url!==void 0&&(t.texture=e.texture.url),e.topTexture?.url!==void 0&&(t.topTexture=e.topTexture.url),e.opacity!==void 0&&(t.opacity=e.opacity)),t}p();import{z as th}from"zod";var TA="facade",cI=th.object({type:th.literal(TA).default(TA),opacity:th.number().default(1),visible:th.boolean().default(!0)}),wA=cI.partial(),dPe=th.strictObject(cI.shape);function FA(e){return Ur(cI,{opacity:e.opacity,visible:e.visible})}p();import{z as Ae}from"zod";var Ta="floor",MA=`${Ta}.footprint`,AA=`${Ta}.geometry`,OA=`${Ta}.labels`,BA=`${Ta}.markers`,PA=`${Ta}.images`,kA=`${Ta}.occlusion`,_A=`${Ta}.paths`,LA=`${Ta}.areas`,P4=Ae.object({type:Ae.literal(MA).default(MA),altitude:Ae.number().default(0),visible:Ae.boolean().default(!1),height:Ae.number().default(0),opacity:Ae.number().default(1),side:Ae.enum(["double","front","back"]),color:Ae.string().default("#ffffff")}),RA=P4.partial(),k4=Ae.object({type:Ae.literal(AA).default(AA),opacity:Ae.number().default(1),visible:Ae.boolean().default(!0)}),NA=k4.partial(),_4=Ae.object({type:Ae.literal(OA).default(OA),enabled:Ae.boolean().default(!0)}),$A=_4.partial(),L4=Ae.object({type:Ae.literal(BA).default(BA),enabled:Ae.boolean().default(!0)}),jA=L4.partial(),R4=Ae.object({type:Ae.literal(PA).default(PA),visible:Ae.boolean().default(!0)}),UA=R4.partial(),N4=Ae.object({type:Ae.literal(kA).default(kA),enabled:Ae.boolean().default(!0)}),GA=N4.partial(),$4=Ae.object({type:Ae.literal(_A).default(_A),visible:Ae.boolean().default(!0)}),zA=$4.partial(),j4=Ae.object({type:Ae.literal(Ta).default(Ta),visible:Ae.boolean().default(!1),altitude:Ae.number().default(0)}),U4=Ae.object({type:Ae.literal(LA).default(LA),visible:Ae.boolean().default(!0)}),VA=U4.partial(),_H=Ae.object({...j4.shape,geometry:k4,labels:_4,markers:L4,images:R4,footprint:P4,occlusion:N4,paths:$4,areas:U4}),HA=j4.partial(),vPe=Ae.object({...j4.shape,geometry:k4.partial(),labels:_4.partial(),markers:L4.partial(),images:R4.partial(),footprint:P4.partial(),occlusion:N4.partial(),paths:$4.partial(),areas:U4.partial()}).partial(),xPe=Ae.strictObject({...j4.shape,geometry:Ae.strictObject(k4.shape),labels:Ae.strictObject(_4.shape),markers:Ae.strictObject(L4.shape),images:Ae.strictObject(R4.shape),footprint:Ae.strictObject(P4.shape),occlusion:Ae.strictObject(N4.shape),paths:Ae.strictObject($4.shape),areas:Ae.strictObject(U4.shape)});function ZA(e,r,t){if(!r){R.error("Floor is not defined. Cannot get floor state.");return}let n=r.layers.get(or),o=n?t?.getState(n.containerId):void 0,i=r.layers.get(fa),s=r.layers.get(yi),u=r.layers.get(Zp),l=u?t?.getState(u.containerId):void 0,c=r.layers.get(xl),d=c?t?.getState(c.containerId):void 0,f=r.layers.get(Wp),h=f?t?.getState(f.containerId):void 0,b=r.layers.get(ha),I=b?t?.getState(b.containerId):void 0,E=r.layers.get(Il),v=E?t?.getState(E.containerId):void 0;return Ur(_H,{geometry:{opacity:o?.opacity,visible:o?.visible},labels:{enabled:i?.visible},markers:{enabled:s?.visible},footprint:{altitude:l?.altitude,visible:l?.visible,height:l?.height,opacity:l?.opacity,side:l?.side,color:l?.color},images:{visible:h?.visible},occlusion:{enabled:d?.visible},paths:{visible:I?.visible},areas:{visible:v?.visible},visible:e.visible,altitude:e.altitude})}p();import{z as _t}from"zod";var WA="geometry",pI=_t.object({type:_t.literal(WA).default(WA),visible:_t.boolean().default(!0),color:_t.union([_t.string(),_t.literal("initial")]).default("#ffffff"),topColor:_t.union([_t.string(),_t.literal("initial")]).optional(),hoverColor:_t.union([_t.string(),_t.literal("initial")]).optional(),interactive:_t.boolean().default(!1),opacity:_t.number().default(1),height:_t.number().default(0),altitude:_t.number().default(0),texture:_t.object({url:_t.string()}).optional(),topTexture:_t.object({url:_t.string()}).optional(),flipImageToFaceCamera:_t.boolean().default(!1),enableImageCollisions:_t.boolean().default(!1),borderVisible:_t.boolean().default(!1),borderColor:_t.string().optional(),borderWidth:_t.number().optional()}),dI=pI.partial(),DPe=_t.strictObject(pI.shape);function XA(e){let{altitude:r,interactive:t,hoverColor:n,color:o,visible:i,opacity:s,height:u,texture:l,topTexture:c,flipImageToFaceCamera:d,enableImageCollisions:f,topColor:h,borderVisible:b,borderColor:I,borderWidth:E}=e;return Ur(pI,{interactive:t,hoverColor:n,color:o,visible:i,opacity:s,height:u,texture:l?{url:e.texture}:void 0,topTexture:c?{url:c}:void 0,flipImageToFaceCamera:d,enableImageCollisions:f,topColor:h,altitude:r,borderVisible:b,borderColor:I,borderWidth:E})}function JA(e,r){let t={};return r==null||(e.color&&(e.color==="initial"?t.color=r.initialColor:t.color=e.color),e.topColor&&(e.topColor==="initial"?t.topColor=r.initialTopColor:t.topColor=e.topColor),e.visible!==void 0&&(t.visible=e.visible),e.texture?.url!==void 0&&(t.texture=e.texture.url),e.topTexture?.url!==void 0&&(t.topTexture=e.topTexture.url),e.hoverColor!==void 0&&(t.hoverColor=e.hoverColor),e.interactive!==void 0&&(t.interactive=e.interactive),e.height!==void 0&&(t.height=e.height),e.opacity!==void 0&&(t.opacity=e.opacity),e.flipImageToFaceCamera!==void 0&&(t.flipImageToFaceCamera=e.flipImageToFaceCamera),e.enableImageCollisions!==void 0&&(t.enableImageCollisions=e.enableImageCollisions),e.altitude!==void 0&&(t.altitude=e.altitude),e.borderVisible!==void 0&&(t.borderVisible=e.borderVisible),e.borderColor!==void 0&&(t.borderColor=e.borderColor),e.borderWidth!==void 0&&(t.borderWidth=e.borderWidth)),t}p();import ki from"zod";var mI="label",LH=ki.object({type:ki.literal(mI).default(mI),text:ki.string(),rank:ki.custom(e=>kh.safeParse(e).success||e==="initial"),appearance:ki.custom(e=>F6.safeParse(e).success),interactive:ki.boolean().default(!1),enabled:ki.boolean().default(!0),textPlacement:ki.union([ki.enum(lb),ki.array(ki.enum(lb))]).default(cb)}),YA=LH.partial();function KA(e){let{text:r,enabled:t,options:n}=e;return{type:mI,text:r??"",appearance:M6(n?.appearance??{}),rank:n?.rank??"medium",enabled:t??!0,interactive:n?.interactive??!1,textPlacement:n?.textPlacement??cb}}function qA(e,r){let t={options:{}};if(!t.options)throw new Error("options should exist");return e.text&&(t.text=e.text),e.appearance&&(t.options.appearance=e.appearance),e.textPlacement&&(t.options.textPlacement=e.textPlacement),e.rank!=null&&(e.rank==="initial"?t.options.rank=r.initialRank||2:t.options.rank=e.rank),e.enabled!==void 0&&(t.enabled=e.enabled),e.interactive!==void 0&&(t.options.interactive=e.interactive),e.enabled!==void 0&&(t.enabled=e.enabled),t}p();import wr from"zod";var fI="marker",RH=wr.object({type:wr.literal(fI).default(fI),rank:wr.custom(e=>kh.safeParse(e).success||e==="initial"),placement:wr.union([wr.enum(pb),wr.array(wr.enum(pb))]).optional(),interactive:wr.union([wr.boolean(),wr.literal("pointer-events-auto")]).default(!1),dynamicResize:wr.boolean().default(!0),enabled:wr.boolean().default(!0),zIndex:wr.number().optional(),lowPriorityPin:wr.object({enabled:wr.boolean().optional(),size:wr.number().positive().optional(),color:wr.string().optional()}).optional(),element:wr.custom(e=>e instanceof HTMLElement,{error:"Must be an HTMLElement instance"}),contentHTML:wr.string()}),QA=RH.omit({element:!0}).partial();function eO(e,r){let t=r?.target?r.target.anchorTarget:void 0,{enabled:n,placement:o,element:i,dynamicResize:s,contentHTML:u,options:l,position:c,parent:d}=e,f=typeof d=="object"?d.id:d;return t==null&&(t=new ge({latitude:c?.[1]??0,longitude:c?.[0]??0,floorId:f?.toString()})),{type:fI,rank:l?.rank??"medium",interactive:l?.interactive??!1,enabled:n??!0,element:i,placement:o??[],zIndex:l?.zIndex,dynamicResize:s??!0,lowPriorityPin:l?.lowPriorityPin,contentHTML:u??""}}function tO(e,r){let t={};return t.options={},e.rank!=null&&(e.rank==="initial"?t.options.rank=r.initialRank||2:t.options.rank=e.rank),e.dynamicResize!=null&&(t.options.dynamicResize=e.dynamicResize),e.enabled!=null&&(t.enabled=e.enabled),e.interactive!=null&&(t.options.interactive=e.interactive),e.enabled!==null&&(t.enabled=e.enabled),e.contentHTML!==void 0&&(t.contentHTML=e.contentHTML),e.placement!=null&&(t.placement=e.placement),t}p();import Dn from"zod";var rO="path",G4={color:"#4b90e2",width:1,completeFraction:0,visible:!0,verticalOffset:.1},hI=Dn.object({type:Dn.literal(rO).default(rO),color:Dn.string().default(G4.color),width:Dn.union([Dn.number(),Dn.any()]),completeFraction:Dn.number().default(G4.completeFraction),visible:Dn.boolean().default(G4.visible),verticalOffset:Dn.number().default(G4.verticalOffset),highlightStartFraction:Dn.number().default(0),highlightEndFraction:Dn.number().default(0),highlightColor:Dn.string().default("red"),highlightWidthMultiplier:Dn.number().default(1.1),highlightCompleteFraction:Dn.number().default(1)}),gI=hI.partial(),UPe=Dn.strictObject(hI.shape);function nO(e){let{color:r,visible:t,width:n,verticalOffset:o,completeFraction:i,highlightStartFraction:s,highlightEndFraction:u,highlightColor:l,highlightWidthMultiplier:c,highlightCompleteFraction:d}=e;return Ur(hI,{color:r,visible:t,width:n,verticalOffset:o,completeFraction:i,highlightStartFraction:s,highlightEndFraction:u,highlightColor:l,highlightWidthMultiplier:c,highlightCompleteFraction:d})}p();import{z as Tn}from"zod";var oO="shape",yI=Tn.object({type:Tn.literal(oO).default(oO),visible:Tn.boolean().default(!0),altitude:Tn.number().default(0),color:Tn.string().default("#ffffff"),height:Tn.number().default(0),opacity:Tn.number().default(1),interactive:Tn.boolean().default(!1),bevel:Tn.object({enabled:Tn.boolean().optional(),thickness:Tn.number().optional(),size:Tn.number().optional(),offset:Tn.number().optional(),segments:Tn.number().optional()}).optional()}),bI=yI.partial(),WPe=Tn.strictObject(yI.shape);function iO(e){let{altitude:r,visible:t,color:n,opacity:o,interactive:i,height:s,children:u,bevel:l}=e;if(u==null||u.length<1){R.error(`Expected at least one child for Shape (${e.id}). Cannot get shape state.`);return}return Ur(yI,{altitude:r,visible:t,color:n,height:s,opacity:o,interactive:i,bevel:l})}function aO(e){let r=wt(bI,e,{warn:!0}),t={};if(r.visible!==void 0&&(t.visible=r.visible),r.color!==void 0&&(t.color=r.color),r.opacity!==void 0&&(t.opacity=r.opacity),r.altitude!==void 0&&(t.altitude=r.altitude),r.height!==void 0&&(t.height=r.height),r.interactive!==void 0&&(t.interactive=r.interactive),r.bevel!==void 0){let n={enabled:r.bevel.enabled||!1,thickness:r.bevel.thickness,size:r.bevel.size,offset:r.bevel.offset,segments:r.bevel.segments};t.bevel=n}return t}p();import z4 from"zod";var sO="text3d",uO=z4.object({type:z4.literal(sO).default(sO),position:z4.custom(e=>e instanceof ge,{error:"Must be a Coordinate instance"})}),lO=K6.extend({...uO.shape}),cO=q6.extend({...uO.shape}).partial(),eke=z4.strictObject(lO.shape);function pO(e){let{position:r,visible:t,color:n,flipToFaceCamera:o,font:i,fontSize:s,outlineColor:u,outlineOpacity:l,outlineBlur:c,outlineWidth:d,outlineOffsetX:f,outlineOffsetY:h,strokeWidth:b,strokeOpacity:I,strokeColor:E,fillOpacity:v,hoverColor:x}=e;return Ur(lO,{position:new ge({latitude:r?.[1]??0,longitude:r?.[0]??0}),visible:t,color:n,flipToFaceCamera:o,font:i,fontSize:s,outlineColor:u,outlineOpacity:l,outlineBlur:c,outlineWidth:d,outlineOffsetX:f,outlineOffsetY:h,strokeWidth:b,strokeOpacity:I,strokeColor:E,fillOpacity:v,hoverColor:x})}p();import Zn from"zod";var dO="walls",vI=Zn.object({type:Zn.literal(dO).default(dO),color:Zn.string().default("#ffffff"),topColor:Zn.string().optional(),texture:Zn.object({url:Zn.string()}).or(Zn.undefined()),topTexture:Zn.object({url:Zn.string()}).or(Zn.undefined()),visible:Zn.boolean().default(!0),height:Zn.number().default(0),opacity:Zn.number().default(1)}),xI=vI.partial(),ike=Zn.strictObject(vI.shape);function mO(e){let{color:r,topColor:t,texture:n,topTexture:o,visible:i,height:s,opacity:u}=e;return Ur(vI,{visible:i,color:r,topColor:t,texture:n?{url:n}:void 0,topTexture:o?{url:o}:void 0,height:s,opacity:u})}function II(e,r){let t={};return r==null||(e.color&&(e.color==="initial"?t.color=r.initialColor:t.color=e.color),e.topColor&&(e.topColor==="initial"?t.topColor=r.initialTopColor:t.topColor=e.topColor),e.visible!==void 0&&(t.visible=e.visible),e.texture?.url!==void 0&&(t.texture=e.texture.url),e.topTexture?.url!==void 0&&(t.topTexture=e.topTexture.url),e.height!==void 0&&(t.height=e.height),e.opacity!==void 0&&(t.opacity=e.opacity)),t}p();import{z as wa}from"zod";var EI="image3d",NH=wa.object({type:wa.literal(EI).default(EI),visible:wa.boolean().default(!0),opacity:wa.number().min(0).max(1).default(1),position:wa.custom(e=>e instanceof ge,{error:"Must be a Coordinate instance"}),width:wa.number().default(1),height:wa.number().default(1),rotation:wa.number().default(0),verticalOffset:wa.number().default(0),flipImagesToFaceCamera:wa.boolean().default(!1)}),fO=NH.partial();function hO(e){let{position:r}=e;return{type:EI,visible:e.visible??!0,opacity:e.opacity??1,position:new ge({latitude:r?.[1]??0,longitude:r?.[0]??0,verticalOffset:r?.[2]}),width:e.width??1,height:e.height??1,rotation:e.rotation??0,verticalOffset:e.verticalOffset??0,flipImagesToFaceCamera:e.flipImageToFaceCamera??!1}}p();import{z as ut}from"zod";var gO="model",CI=f2.extend({type:ut.literal(gO).default(gO),color:ut.string().optional(),position:ut.custom(e=>ge.is(e),{error:"Expected a Coordinate"}),visible:ut.boolean().default(!0),rotation:ut.tuple([ut.number(),ut.number(),ut.number()]).default([0,0,0]),scale:ut.tuple([ut.number(),ut.number(),ut.number()]).default([1,1,1]),verticalOffset:ut.number().default(0),opacity:ut.number().default(1),material:ut.record(ut.string(),h2).optional(),interactive:ut.boolean().default(!1),clippingPlaneZOffset:ut.number().default(1/0),clippingPlaneTopColor:ut.string().default("#E67B5B"),clippingPlaneTopVisible:ut.boolean().default(!0)}),yO=CI.extend({scale:ut.union([ut.number(),ut.tuple([ut.number(),ut.number(),ut.number()])]),rotation:ut.union([ut.number(),ut.tuple([ut.number(),ut.number(),ut.number()])])}).partial(),gke=ut.strictObject(CI.shape);function bO(e){let{color:r,position:t,rotation:n,scale:o,visible:i,interactive:s,opacity:u,material:l,verticalOffset:c,parent:d,clippingPlaneZOffset:f,clippingPlaneTopVisible:h}=e,b=typeof d=="object"?d?.id?.toString():d?.toString();return Ur(CI,{color:r,position:new ge({latitude:t?.[1]??0,longitude:t?.[0]??0,verticalOffset:t?.[2],floorId:b}),rotation:n,scale:o,visible:i,interactive:s,opacity:u,material:l,verticalOffset:c,clippingPlaneZOffset:f,clippingPlaneTopVisible:h})}p();p();function vO(e,r){[...e.getByType("space"),...e.getByType("object")].forEach(t=>{t.name==null||t.name===""||r.updateState(t,{interactive:!0})})}p();p();p();var{entries:MO,setPrototypeOf:xO,isFrozen:$H,getPrototypeOf:jH,getOwnPropertyDescriptor:UH}=Object,{freeze:Fn,seal:Jo,create:AO}=Object,{apply:MI,construct:AI}=typeof Reflect<"u"&&Reflect;Fn||(Fn=function(r){return r});Jo||(Jo=function(r){return r});MI||(MI=function(r,t,n){return r.apply(t,n)});AI||(AI=function(r,t){return new r(...t)});var V4=Mn(Array.prototype.forEach),GH=Mn(Array.prototype.lastIndexOf),IO=Mn(Array.prototype.pop),rh=Mn(Array.prototype.push),zH=Mn(Array.prototype.splice),Z4=Mn(String.prototype.toLowerCase),SI=Mn(String.prototype.toString),EO=Mn(String.prototype.match),nh=Mn(String.prototype.replace),VH=Mn(String.prototype.indexOf),HH=Mn(String.prototype.trim),_i=Mn(Object.prototype.hasOwnProperty),wn=Mn(RegExp.prototype.test),oh=ZH(TypeError);function Mn(e){return function(r){r instanceof RegExp&&(r.lastIndex=0);for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return MI(e,r,n)}}function ZH(e){return function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return AI(e,t)}}function Ge(e,r){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Z4;xO&&xO(e,null);let n=r.length;for(;n--;){let o=r[n];if(typeof o=="string"){let i=t(o);i!==o&&($H(r)||(r[n]=i),o=i)}e[o]=!0}return e}function WH(e){for(let r=0;r<e.length;r++)_i(e,r)||(e[r]=null);return e}function Ls(e){let r=AO(null);for(let[t,n]of MO(e))_i(e,t)&&(Array.isArray(n)?r[t]=WH(n):n&&typeof n=="object"&&n.constructor===Object?r[t]=Ls(n):r[t]=n);return r}function ih(e,r){for(;e!==null;){let n=UH(e,r);if(n){if(n.get)return Mn(n.get);if(typeof n.value=="function")return Mn(n.value)}e=jH(e)}function t(){return null}return t}var CO=Fn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),DI=Fn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),TI=Fn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),XH=Fn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wI=Fn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),JH=Fn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),SO=Fn(["#text"]),DO=Fn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),FI=Fn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),TO=Fn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),H4=Fn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),YH=Jo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),KH=Jo(/<%[\w\W]*|[\w\W]*%>/gm),qH=Jo(/\$\{[\w\W]*/gm),QH=Jo(/^data-[\-\w.\u00B7-\uFFFF]+$/),eZ=Jo(/^aria-[\-\w]+$/),OO=Jo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tZ=Jo(/^(?:\w+script|data):/i),rZ=Jo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),BO=Jo(/^html$/i),nZ=Jo(/^[a-z][.\w]*(-[.\w]+)+$/i),wO=Object.freeze({__proto__:null,ARIA_ATTR:eZ,ATTR_WHITESPACE:rZ,CUSTOM_ELEMENT:nZ,DATA_ATTR:QH,DOCTYPE_NAME:BO,ERB_EXPR:KH,IS_ALLOWED_URI:OO,IS_SCRIPT_OR_DATA:tZ,MUSTACHE_EXPR:YH,TMPLIT_EXPR:qH}),ah={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},oZ=function(){return typeof window>"u"?null:window},iZ=function(r,t){if(typeof r!="object"||typeof r.createPolicy!="function")return null;let n=null,o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));let i="dompurify"+(n?"#"+n:"");try{return r.createPolicy(i,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},FO=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function PO(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oZ(),r=be=>PO(be);if(r.version="3.2.6",r.removed=[],!e||!e.document||e.document.nodeType!==ah.document||!e.Element)return r.isSupported=!1,r;let{document:t}=e,n=t,o=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:s,Node:u,Element:l,NodeFilter:c,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:h,trustedTypes:b}=e,I=l.prototype,E=ih(I,"cloneNode"),v=ih(I,"remove"),x=ih(I,"nextSibling"),D=ih(I,"childNodes"),w=ih(I,"parentNode");if(typeof s=="function"){let be=t.createElement("template");be.content&&be.content.ownerDocument&&(t=be.content.ownerDocument)}let S,F="",{implementation:P,createNodeIterator:L,createDocumentFragment:N,getElementsByTagName:$}=t,{importNode:W}=n,V=FO();r.isSupported=typeof MO=="function"&&typeof w=="function"&&P&&P.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:q,ERB_EXPR:se,TMPLIT_EXPR:ue,DATA_ATTR:ce,ARIA_ATTR:de,IS_SCRIPT_OR_DATA:Ee,ATTR_WHITESPACE:he,CUSTOM_ELEMENT:ne}=wO,{IS_ALLOWED_URI:Ce}=wO,xe=null,Re=Ge({},[...CO,...DI,...TI,...wI,...SO]),we=null,Ve=Ge({},[...DO,...FI,...TO,...H4]),me=Object.seal(AO(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),at=null,xt=null,Ot=!0,A=!0,Z=!1,O=!0,Q=!1,X=!0,Y=!1,K=!1,ae=!1,$e=!1,Rt=!1,ir=!1,ho=!0,Ni=!1,em="user-content-",dc=!0,Ru=!1,Rs={},Aa=null,dh=Ge({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Y4=null,tm=Ge({},["audio","video","img","source","image","track"]),Ns=null,mh=Ge({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mc="http://www.w3.org/1998/Math/MathML",fc="http://www.w3.org/2000/svg",Oa="http://www.w3.org/1999/xhtml",hc=Oa,K4=!1,q4=null,r8=Ge({},[mc,fc,Oa],SI),fh=Ge({},["mi","mo","mn","ms","mtext"]),hh=Ge({},["annotation-xml"]),n8=Ge({},["title","style","font","a","script"]),rm=null,o8=["application/xhtml+xml","text/html"],i8="text/html",Fr=null,gc=null,a8=t.createElement("form"),_I=function(B){return B instanceof RegExp||B instanceof Function},Q4=function(){let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(gc&&gc===B)){if((!B||typeof B!="object")&&(B={}),B=Ls(B),rm=o8.indexOf(B.PARSER_MEDIA_TYPE)===-1?i8:B.PARSER_MEDIA_TYPE,Fr=rm==="application/xhtml+xml"?SI:Z4,xe=_i(B,"ALLOWED_TAGS")?Ge({},B.ALLOWED_TAGS,Fr):Re,we=_i(B,"ALLOWED_ATTR")?Ge({},B.ALLOWED_ATTR,Fr):Ve,q4=_i(B,"ALLOWED_NAMESPACES")?Ge({},B.ALLOWED_NAMESPACES,SI):r8,Ns=_i(B,"ADD_URI_SAFE_ATTR")?Ge(Ls(mh),B.ADD_URI_SAFE_ATTR,Fr):mh,Y4=_i(B,"ADD_DATA_URI_TAGS")?Ge(Ls(tm),B.ADD_DATA_URI_TAGS,Fr):tm,Aa=_i(B,"FORBID_CONTENTS")?Ge({},B.FORBID_CONTENTS,Fr):dh,at=_i(B,"FORBID_TAGS")?Ge({},B.FORBID_TAGS,Fr):Ls({}),xt=_i(B,"FORBID_ATTR")?Ge({},B.FORBID_ATTR,Fr):Ls({}),Rs=_i(B,"USE_PROFILES")?B.USE_PROFILES:!1,Ot=B.ALLOW_ARIA_ATTR!==!1,A=B.ALLOW_DATA_ATTR!==!1,Z=B.ALLOW_UNKNOWN_PROTOCOLS||!1,O=B.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Q=B.SAFE_FOR_TEMPLATES||!1,X=B.SAFE_FOR_XML!==!1,Y=B.WHOLE_DOCUMENT||!1,$e=B.RETURN_DOM||!1,Rt=B.RETURN_DOM_FRAGMENT||!1,ir=B.RETURN_TRUSTED_TYPE||!1,ae=B.FORCE_BODY||!1,ho=B.SANITIZE_DOM!==!1,Ni=B.SANITIZE_NAMED_PROPS||!1,dc=B.KEEP_CONTENT!==!1,Ru=B.IN_PLACE||!1,Ce=B.ALLOWED_URI_REGEXP||OO,hc=B.NAMESPACE||Oa,fh=B.MATHML_TEXT_INTEGRATION_POINTS||fh,hh=B.HTML_INTEGRATION_POINTS||hh,me=B.CUSTOM_ELEMENT_HANDLING||{},B.CUSTOM_ELEMENT_HANDLING&&_I(B.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(me.tagNameCheck=B.CUSTOM_ELEMENT_HANDLING.tagNameCheck),B.CUSTOM_ELEMENT_HANDLING&&_I(B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(me.attributeNameCheck=B.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),B.CUSTOM_ELEMENT_HANDLING&&typeof B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(me.allowCustomizedBuiltInElements=B.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q&&(A=!1),Rt&&($e=!0),Rs&&(xe=Ge({},SO),we=[],Rs.html===!0&&(Ge(xe,CO),Ge(we,DO)),Rs.svg===!0&&(Ge(xe,DI),Ge(we,FI),Ge(we,H4)),Rs.svgFilters===!0&&(Ge(xe,TI),Ge(we,FI),Ge(we,H4)),Rs.mathMl===!0&&(Ge(xe,wI),Ge(we,TO),Ge(we,H4))),B.ADD_TAGS&&(xe===Re&&(xe=Ls(xe)),Ge(xe,B.ADD_TAGS,Fr)),B.ADD_ATTR&&(we===Ve&&(we=Ls(we)),Ge(we,B.ADD_ATTR,Fr)),B.ADD_URI_SAFE_ATTR&&Ge(Ns,B.ADD_URI_SAFE_ATTR,Fr),B.FORBID_CONTENTS&&(Aa===dh&&(Aa=Ls(Aa)),Ge(Aa,B.FORBID_CONTENTS,Fr)),dc&&(xe["#text"]=!0),Y&&Ge(xe,["html","head","body"]),xe.table&&(Ge(xe,["tbody"]),delete at.tbody),B.TRUSTED_TYPES_POLICY){if(typeof B.TRUSTED_TYPES_POLICY.createHTML!="function")throw oh('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof B.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw oh('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=B.TRUSTED_TYPES_POLICY,F=S.createHTML("")}else S===void 0&&(S=iZ(b,o)),S!==null&&typeof F=="string"&&(F=S.createHTML(""));Fn&&Fn(B),gc=B}},LI=Ge({},[...DI,...TI,...XH]),RI=Ge({},[...wI,...JH]),s8=function(B){let J=w(B);(!J||!J.tagName)&&(J={namespaceURI:hc,tagName:"template"});let pe=Z4(B.tagName),zt=Z4(J.tagName);return q4[B.namespaceURI]?B.namespaceURI===fc?J.namespaceURI===Oa?pe==="svg":J.namespaceURI===mc?pe==="svg"&&(zt==="annotation-xml"||fh[zt]):!!LI[pe]:B.namespaceURI===mc?J.namespaceURI===Oa?pe==="math":J.namespaceURI===fc?pe==="math"&&hh[zt]:!!RI[pe]:B.namespaceURI===Oa?J.namespaceURI===fc&&!hh[zt]||J.namespaceURI===mc&&!fh[zt]?!1:!RI[pe]&&(n8[pe]||!LI[pe]):!!(rm==="application/xhtml+xml"&&q4[B.namespaceURI]):!1},$i=function(B){rh(r.removed,{element:B});try{w(B).removeChild(B)}catch{v(B)}},yc=function(B,J){try{rh(r.removed,{attribute:J.getAttributeNode(B),from:J})}catch{rh(r.removed,{attribute:null,from:J})}if(J.removeAttribute(B),B==="is")if($e||Rt)try{$i(J)}catch{}else try{J.setAttribute(B,"")}catch{}},NI=function(B){let J=null,pe=null;if(ae)B="<remove></remove>"+B;else{let gr=EO(B,/^[\r\n\t ]+/);pe=gr&&gr[0]}rm==="application/xhtml+xml"&&hc===Oa&&(B='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+B+"</body></html>");let zt=S?S.createHTML(B):B;if(hc===Oa)try{J=new h().parseFromString(zt,rm)}catch{}if(!J||!J.documentElement){J=P.createDocument(hc,"template",null);try{J.documentElement.innerHTML=K4?F:zt}catch{}}let en=J.body||J.documentElement;return B&&pe&&en.insertBefore(t.createTextNode(pe),en.childNodes[0]||null),hc===Oa?$.call(J,Y?"html":"body")[0]:Y?J.documentElement:en},$I=function(B){return L.call(B.ownerDocument||B,B,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},eb=function(B){return B instanceof f&&(typeof B.nodeName!="string"||typeof B.textContent!="string"||typeof B.removeChild!="function"||!(B.attributes instanceof d)||typeof B.removeAttribute!="function"||typeof B.setAttribute!="function"||typeof B.namespaceURI!="string"||typeof B.insertBefore!="function"||typeof B.hasChildNodes!="function")},jI=function(B){return typeof u=="function"&&B instanceof u};function Ba(be,B,J){V4(be,pe=>{pe.call(r,B,J,gc)})}let UI=function(B){let J=null;if(Ba(V.beforeSanitizeElements,B,null),eb(B))return $i(B),!0;let pe=Fr(B.nodeName);if(Ba(V.uponSanitizeElement,B,{tagName:pe,allowedTags:xe}),X&&B.hasChildNodes()&&!jI(B.firstElementChild)&&wn(/<[/\w!]/g,B.innerHTML)&&wn(/<[/\w!]/g,B.textContent)||B.nodeType===ah.progressingInstruction||X&&B.nodeType===ah.comment&&wn(/<[/\w]/g,B.data))return $i(B),!0;if(!xe[pe]||at[pe]){if(!at[pe]&&zI(pe)&&(me.tagNameCheck instanceof RegExp&&wn(me.tagNameCheck,pe)||me.tagNameCheck instanceof Function&&me.tagNameCheck(pe)))return!1;if(dc&&!Aa[pe]){let zt=w(B)||B.parentNode,en=D(B)||B.childNodes;if(en&&zt){let gr=en.length;for(let An=gr-1;An>=0;--An){let Pa=E(en[An],!0);Pa.__removalCount=(B.__removalCount||0)+1,zt.insertBefore(Pa,x(B))}}}return $i(B),!0}return B instanceof l&&!s8(B)||(pe==="noscript"||pe==="noembed"||pe==="noframes")&&wn(/<\/no(script|embed|frames)/i,B.innerHTML)?($i(B),!0):(Q&&B.nodeType===ah.text&&(J=B.textContent,V4([q,se,ue],zt=>{J=nh(J,zt," ")}),B.textContent!==J&&(rh(r.removed,{element:B.cloneNode()}),B.textContent=J)),Ba(V.afterSanitizeElements,B,null),!1)},GI=function(B,J,pe){if(ho&&(J==="id"||J==="name")&&(pe in t||pe in a8))return!1;if(!(A&&!xt[J]&&wn(ce,J))){if(!(Ot&&wn(de,J))){if(!we[J]||xt[J]){if(!(zI(B)&&(me.tagNameCheck instanceof RegExp&&wn(me.tagNameCheck,B)||me.tagNameCheck instanceof Function&&me.tagNameCheck(B))&&(me.attributeNameCheck instanceof RegExp&&wn(me.attributeNameCheck,J)||me.attributeNameCheck instanceof Function&&me.attributeNameCheck(J))||J==="is"&&me.allowCustomizedBuiltInElements&&(me.tagNameCheck instanceof RegExp&&wn(me.tagNameCheck,pe)||me.tagNameCheck instanceof Function&&me.tagNameCheck(pe))))return!1}else if(!Ns[J]){if(!wn(Ce,nh(pe,he,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&B!=="script"&&VH(pe,"data:")===0&&Y4[B])){if(!(Z&&!wn(Ee,nh(pe,he,"")))){if(pe)return!1}}}}}}return!0},zI=function(B){return B!=="annotation-xml"&&EO(B,ne)},VI=function(B){Ba(V.beforeSanitizeAttributes,B,null);let{attributes:J}=B;if(!J||eb(B))return;let pe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we,forceKeepAttr:void 0},zt=J.length;for(;zt--;){let en=J[zt],{name:gr,namespaceURI:An,value:Pa}=en,nm=Fr(gr),tb=Pa,tn=gr==="value"?tb:HH(tb);if(pe.attrName=nm,pe.attrValue=tn,pe.keepAttr=!0,pe.forceKeepAttr=void 0,Ba(V.uponSanitizeAttribute,B,pe),tn=pe.attrValue,Ni&&(nm==="id"||nm==="name")&&(yc(gr,B),tn=em+tn),X&&wn(/((--!?|])>)|<\/(style|title)/i,tn)){yc(gr,B);continue}if(pe.forceKeepAttr)continue;if(!pe.keepAttr){yc(gr,B);continue}if(!O&&wn(/\/>/i,tn)){yc(gr,B);continue}Q&&V4([q,se,ue],ZI=>{tn=nh(tn,ZI," ")});let HI=Fr(B.nodeName);if(!GI(HI,nm,tn)){yc(gr,B);continue}if(S&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!An)switch(b.getAttributeType(HI,nm)){case"TrustedHTML":{tn=S.createHTML(tn);break}case"TrustedScriptURL":{tn=S.createScriptURL(tn);break}}if(tn!==tb)try{An?B.setAttributeNS(An,gr,tn):B.setAttribute(gr,tn),eb(B)?$i(B):IO(r.removed)}catch{yc(gr,B)}}Ba(V.afterSanitizeAttributes,B,null)},u8=function be(B){let J=null,pe=$I(B);for(Ba(V.beforeSanitizeShadowDOM,B,null);J=pe.nextNode();)Ba(V.uponSanitizeShadowNode,J,null),UI(J),VI(J),J.content instanceof i&&be(J.content);Ba(V.afterSanitizeShadowDOM,B,null)};return r.sanitize=function(be){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,pe=null,zt=null,en=null;if(K4=!be,K4&&(be="<!-->"),typeof be!="string"&&!jI(be))if(typeof be.toString=="function"){if(be=be.toString(),typeof be!="string")throw oh("dirty is not a string, aborting")}else throw oh("toString is not a function");if(!r.isSupported)return be;if(K||Q4(B),r.removed=[],typeof be=="string"&&(Ru=!1),Ru){if(be.nodeName){let Pa=Fr(be.nodeName);if(!xe[Pa]||at[Pa])throw oh("root node is forbidden and cannot be sanitized in-place")}}else if(be instanceof u)J=NI("<!---->"),pe=J.ownerDocument.importNode(be,!0),pe.nodeType===ah.element&&pe.nodeName==="BODY"||pe.nodeName==="HTML"?J=pe:J.appendChild(pe);else{if(!$e&&!Q&&!Y&&be.indexOf("<")===-1)return S&&ir?S.createHTML(be):be;if(J=NI(be),!J)return $e?null:ir?F:""}J&&ae&&$i(J.firstChild);let gr=$I(Ru?be:J);for(;zt=gr.nextNode();)UI(zt),VI(zt),zt.content instanceof i&&u8(zt.content);if(Ru)return be;if($e){if(Rt)for(en=N.call(J.ownerDocument);J.firstChild;)en.appendChild(J.firstChild);else en=J;return(we.shadowroot||we.shadowrootmode)&&(en=W.call(n,en,!0)),en}let An=Y?J.outerHTML:J.innerHTML;return Y&&xe["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&wn(BO,J.ownerDocument.doctype.name)&&(An="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+An),Q&&V4([q,se,ue],Pa=>{An=nh(An,Pa," ")}),S&&ir?S.createHTML(An):An},r.setConfig=function(){let be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Q4(be),K=!0},r.clearConfig=function(){gc=null,K=!1},r.isValidAttribute=function(be,B,J){gc||Q4({});let pe=Fr(be),zt=Fr(B);return GI(pe,zt,J)},r.addHook=function(be,B){typeof B=="function"&&rh(V[be],B)},r.removeHook=function(be,B){if(B!==void 0){let J=GH(V[be],B);return J===-1?void 0:zH(V[be],J,1)[0]}return IO(V[be])},r.removeHooks=function(be){V[be]=[]},r.removeAllHooks=function(){V=FO()},r}var kO=PO();var aZ={"connection-stairs-12x12":`<svg viewBox="0 0 12 12" stroke="none">
		<path d="M1.625 8.1875C1.625 8.01491 1.76491 7.875 1.9375 7.875H4.75V9.4375C4.75 9.61009 4.61009 9.75 4.4375 9.75H1.9375C1.76491 9.75 1.625 9.61009 1.625 9.4375V8.1875Z" />
		<path d="M3.5 6.3125C3.5 6.13991 3.63991 6 3.8125 6H6.625V7.5625C6.625 7.73509 6.48509 7.875 6.3125 7.875H3.5V6.3125Z" />
		<path d="M5.375 4.4375C5.375 4.26491 5.51491 4.125 5.6875 4.125H8.5V5.6875C8.5 5.86009 8.36009 6 8.1875 6H5.375V4.4375Z" />
		<path d="M7.25 2.5625C7.25 2.38991 7.38991 2.25 7.5625 2.25H10.0625C10.2351 2.25 10.375 2.38991 10.375 2.5625V3.8125C10.375 3.98509 10.2351 4.125 10.0625 4.125H7.25V2.5625Z" />
	</svg>`,"connection-elevator-12x12":`<svg viewBox="0 0 12 12" stroke="none">
		<circle cx="1.9375" cy="4.4375" r="0.9375" />
		<circle cx="1.9375" cy="7.5625" r="0.9375" />
		<path
			fillRule="evenodd"
			clipRule="evenodd"
			d="M7.6 2H9.4C9.73137 2 10 2.26863 10 2.6V9.41328C10 9.74465 9.73137 10.0133 9.4 10.0133H7.6V2ZM6.4 2H4.6C4.26863 2 4 2.26863 4 2.6V9.41328C4 9.74465 4.26863 10.0133 4.6 10.0133H6.4V2Z"
		/>
	</svg>`,"point-of-interest-12x12":`<svg viewBox="0 0 12 12" stroke="none">
		<path
			stroke="none"
			id="Subtract"
			fill-rule="evenodd"
			clip-rule="evenodd"
			d="M6.24724 10.7516C7.94597 9.0358 9.85962 6.89195 9.85962 4.85965C9.85962 2.72802 8.13159 1 5.99997 1C3.86834 1 2.14032 2.72802 2.14032 4.85965C2.14032 6.89195 4.05397 9.0358 5.7527 10.7516C5.88904 10.8893 6.1109 10.8893 6.24724 10.7516ZM5.99994 6.26317C6.77508 6.26317 7.40345 5.6348 7.40345 4.85967C7.40345 4.08453 6.77508 3.45616 5.99994 3.45616C5.22481 3.45616 4.59644 4.08453 4.59644 4.85967C4.59644 5.6348 5.22481 6.26317 5.99994 6.26317Z"
		/>
	</svg>`,"door-12x12":`<svg viewBox="0 0 13 12">
			<path
				stroke="none"
				d="M4.02533 0.662341H9.61421C9.95171 0.662341 10.2264 0.937033 10.2264 1.27453V10.726C10.2264 11.0639 9.95218 11.3382 9.61421 11.3382H4.02533C3.69721 11.3382 3.42674 11.078 3.41408 10.7504V1.24696C3.4272 0.919297 3.69721 0.659149 4.02533 0.659149V0.662341ZM5.96969 5.22798H6.64563V6.7725H5.96969V5.22798ZM4.94219 1.39218L7.31267 2.6541C7.43501 2.71973 7.50533 2.84488 7.50533 2.97473C7.50721 4.99181 7.50674 7.00877 7.50674 9.02585C7.50674 9.17679 7.41487 9.30663 7.28361 9.36195L4.94217 10.6084H9.49653V1.39227L4.94219 1.39218Z"
			/>
		</svg>`,"building-12x12":`<svg viewBox="0 0 12 12" stroke="none">
			<path
				d="M11.2374 9.75H10.5V4.5C10.5 4.30109 10.421 4.11032 10.2804 3.96967C10.1397 3.82902 9.94894 3.75 9.75003 3.75H7.68753C7.6378 3.75 7.59011 3.76976 7.55495 3.80492C7.51978 3.84008 7.50003 3.88777 7.50003 3.9375V9.75H6.75003V1.51922C6.75127 1.4024 6.72592 1.28683 6.67589 1.18125C6.62587 1.07567 6.55248 0.982864 6.46128 0.909845C6.33697 0.812924 6.18528 0.757635 6.02776 0.751829C5.87024 0.746023 5.71489 0.789995 5.58378 0.877501L1.83378 3.375C1.73091 3.44364 1.6466 3.53664 1.58837 3.64574C1.53014 3.75484 1.4998 3.87665 1.50003 4.00031V9.75H0.762687C0.66578 9.74857 0.571927 9.78389 0.500006 9.84885C0.428085 9.91382 0.383432 10.0036 0.37503 10.1002C0.371625 10.1515 0.378802 10.2029 0.396116 10.2513C0.413431 10.2997 0.440513 10.344 0.47568 10.3815C0.510847 10.419 0.553349 10.4489 0.600545 10.4693C0.647741 10.4897 0.698623 10.5001 0.75003 10.5H11.25C11.3014 10.5001 11.3523 10.4897 11.3995 10.4693C11.4467 10.4489 11.4892 10.419 11.5244 10.3815C11.5595 10.344 11.5866 10.2997 11.6039 10.2513C11.6213 10.2029 11.6284 10.1515 11.625 10.1002C11.6166 10.0036 11.572 9.91382 11.5001 9.84885C11.4281 9.78389 11.3343 9.74857 11.2374 9.75ZM3.56253 8.625C3.56264 8.67641 3.55219 8.72729 3.53181 8.77449C3.51143 8.82168 3.48156 8.86418 3.44406 8.89935C3.40657 8.93452 3.36224 8.9616 3.31383 8.97892C3.26543 8.99623 3.21398 9.00341 3.16269 9C3.06605 8.99159 2.9762 8.94688 2.91122 8.87485C2.84624 8.80283 2.81098 8.70886 2.81253 8.61188V7.88766C2.81121 7.79078 2.84657 7.69699 2.91151 7.62509C2.97645 7.55319 3.06618 7.50851 3.16269 7.5C3.21398 7.4966 3.26543 7.50377 3.31383 7.52109C3.36224 7.5384 3.40657 7.56548 3.44406 7.60065C3.48156 7.63582 3.51143 7.67832 3.53181 7.72552C3.55219 7.77271 3.56264 7.82359 3.56253 7.875V8.625ZM3.56253 6C3.56264 6.05141 3.55219 6.10229 3.53181 6.14949C3.51143 6.19668 3.48156 6.23918 3.44406 6.27435C3.40657 6.30952 3.36224 6.3366 3.31383 6.35392C3.26543 6.37123 3.21398 6.37841 3.16269 6.375C3.06609 6.36649 2.9763 6.32174 2.91135 6.24974C2.84639 6.17774 2.81109 6.08383 2.81253 5.98688V5.26266C2.81121 5.16578 2.84657 5.07199 2.91151 5.00009C2.97645 4.92819 3.06618 4.88351 3.16269 4.875C3.21398 4.8716 3.26543 4.87877 3.31383 4.89609C3.36224 4.9134 3.40657 4.94048 3.44406 4.97565C3.48156 5.01082 3.51143 5.05332 3.53181 5.10052C3.55219 5.14771 3.56264 5.19859 3.56253 5.25V6ZM5.43753 8.625C5.43764 8.67641 5.42719 8.72729 5.40681 8.77449C5.38643 8.82168 5.35656 8.86418 5.31906 8.89935C5.28157 8.93452 5.23724 8.9616 5.18883 8.97892C5.14043 8.99623 5.08898 9.00341 5.03769 9C4.94122 8.9916 4.8515 8.94702 4.78654 8.8752C4.72159 8.80338 4.68622 8.70964 4.68753 8.61281V7.88766C4.68633 7.79086 4.72174 7.69718 4.78667 7.62539C4.8516 7.55359 4.94126 7.50897 5.03769 7.50047C5.08898 7.49706 5.14043 7.50424 5.18883 7.52156C5.23724 7.53887 5.28157 7.56595 5.31906 7.60112C5.35656 7.63629 5.38643 7.67879 5.40681 7.72598C5.42719 7.77318 5.43764 7.82406 5.43753 7.87547V8.625ZM5.43753 6C5.43764 6.05141 5.42719 6.10229 5.40681 6.14949C5.38643 6.19668 5.35656 6.23918 5.31906 6.27435C5.28157 6.30952 5.23724 6.3366 5.18883 6.35392C5.14043 6.37123 5.08898 6.37841 5.03769 6.375C4.94126 6.3665 4.8516 6.32188 4.78667 6.25008C4.72174 6.17829 4.68633 6.08461 4.68753 5.98781V5.26266C4.68633 5.16586 4.72174 5.07218 4.78667 5.00039C4.8516 4.92859 4.94126 4.88397 5.03769 4.87547C5.08898 4.87206 5.14043 4.87924 5.18883 4.89656C5.23724 4.91387 5.28157 4.94095 5.31906 4.97612C5.35656 5.01129 5.38643 5.05379 5.40681 5.10098C5.42719 5.14818 5.43764 5.19906 5.43753 5.25047V6Z"
				stroke="none"
			/>
		</svg>`,"ladder-12x12":`<svg viewBox="0 0 12 12">
			<g id="surface1">
				<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.117647%,94.117647%,94.117647%);fill-opacity:1;" d="M 2.34375 0.375 L 2.53125 0.375 L 2.625 11.53125 L 2.34375 11.625 L 2.25 0.46875 Z M 2.34375 0.375 "/>
				<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.117647%,94.117647%,94.117647%);fill-opacity:1;" d="M 9.46875 0.375 L 9.65625 0.375 L 9.75 11.53125 L 9.46875 11.625 L 9.375 0.46875 Z M 9.46875 0.375 "/>
				<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.117647%,94.117647%,94.117647%);fill-opacity:1;" d="M 2.25 2.25 L 2.25 1.875 L 9.75 1.875 L 9.75 2.25 Z M 2.25 2.25 "/>
				<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.117647%,94.117647%,94.117647%);fill-opacity:1;" d="M 2.25 4.875 L 2.25 4.5 L 9.75 4.5 L 9.75 4.875 Z M 2.25 4.875 "/>
				<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.117647%,94.117647%,94.117647%);fill-opacity:1;" d="M 2.25 7.5 L 2.25 7.125 L 9.75 7.125 L 9.75 7.5 Z M 2.25 7.5 "/>
				<path style=" stroke:none;fill-rule:nonzero;fill:rgb(94.117647%,94.117647%,94.117647%);fill-opacity:1;" d="M 2.25 10.125 L 2.25 9.75 L 9.75 9.75 L 9.75 10.125 Z M 2.25 10.125 "/>
			</g>
		</svg>`},sZ=/<svg([^>]*)>/g;function _O(e,r,t){let n=aZ[e];return n?n.replace(sZ,`<svg$1 xmlns="http://www.w3.org/2000/svg" style="fill:${r}; width:${t}px; height:${t}px">`):null}function uZ(e){return kO.sanitize(e,{USE_PROFILES:{svg:!0}})}function lZ(e,r){let o=new DOMParser().parseFromString(e,"image/svg+xml").documentElement;return o==null||o.tagName==="parsererror"||o.tagName.toLowerCase()!=="svg"?(R.error("Failed to parse SVG",{svg:e,tagName:o?.tagName}),e):(r!=null&&(o.setAttribute("color",r),o.querySelectorAll("*").forEach(u=>{(u.getAttribute("fill")!=null||u.tagName==="path")&&u.getAttribute("fill")!=="none"&&u.setAttribute("fill","currentColor"),u.getAttribute("stroke")!=null&&u.getAttribute("stroke")!=="none"&&u.setAttribute("stroke","currentColor")})),new XMLSerializer().serializeToString(o))}async function LO(e,r){let t="";try{if(e.trim()==="")throw new Error("URL is empty!");r?.style==="fill"&&(e=e.replace(".svg","-fill.svg"));let n=await oo()(e),o=n.headers.get("content-type");if(o?.includes("image/svg+xml")){let i=await n.text();return t=uZ(i),r?.color!=null&&(t=lZ(t,r.color)),{icon:t,type:"svg"}}else{if(o?.includes("image"))return{icon:e,type:"image"};throw new Error(`Expected SVG or Image content, but received: ${o}`)}}catch(n){return R.error(`Failed to fetch icon from ${e}.`,n),null}}p();function RO(e){return e.locationProfiles.some(r=>r.categories.some(t=>t.name.includes("Restroom")))}function NO(e){return e.locationProfiles.some(r=>r.categories.some(t=>t.name.includes("Parking")))}var cc={default:"#3D5676",connection:"#128387",washroom:"#3161B4",point:"#AD468F",parking:"#418425",door:"#A0552C"},Xd={elevator:"connection-elevator-12x12",escalator:"connection-stairs-12x12",stairs:"connection-stairs-12x12",point:"point-of-interest-12x12",door:"door-12x12",building:"building-12x12",ladder:"ladder-12x12"};function cZ(e){let r=null;if(lo.is(e))switch(e.type){case"elevator":r=Xd.elevator;break;case"ladder":r=Xd.ladder;break;case"escalator":case"stairs":default:r=Xd.stairs}else uo.is(e)?r=Xd.point:yn.is(e)?r=Xd.door:Rr.is(e)&&(r=Xd.building);return r!=null?_O(r,"#FFFFFF",12):null}function $O(e){return lo.is(e)?cc.connection:Rr.is(e)?cc.default:RO(e)?cc.washroom:NO(e)?cc.parking:uo.is(e)?cc.point:yn.is(e)?cc.door:cc.default}async function pZ(e,r){let t=null,n="locationProfiles"in e?e.locationProfiles.find(o=>o.icon!=null)?.icon:null;if(n?.url!=null&&(t=await LO(n.url,{color:r.color,style:"fill"})),t==null){let o=cZ(e);o!=null&&(t={icon:o,type:"svg"})}return t}async function dZ(e){return lo.is(e)||yn.is(e)?"low":uo.is(e)||Rr.is(e)?"high":"medium"}async function mZ(e){let r={appearance:{color:$O(e),pinOutlineColor:$O(e),iconPadding:8,iconSize:24,textSize:12.5,iconScale:{on:"zoom-level",input:[18,20],output:[.7,1]}},rank:await dZ(e),interactive:!0},t=await pZ(e,{color:"#FFFFFF"});return t!=null&&(r.appearance.icon=t.icon,t.type==="svg"?Rr.is(e)&&(r.appearance.iconSize=30,r.appearance.iconPadding=10):t.type==="image"&&(r.appearance.iconSize=48,r.appearance.iconPadding=2,r.appearance.pinOutlineColor="#FFFFFF",r.rank="high")),r}function jO(e,r){let t=[...e.getByType("connection"),...e.getByType("point-of-interest"),...e.getByType("space"),...e.getByType("object"),...e.getByType("door"),...e.getByType("facade")].flatMap(async n=>{let o=[],i=await mZ(n);return lo.is(n)?o=n.coordinates.map(s=>r.Labels.add(s,n.name,i)):Rr.is(n)?n.spaces.length>0&&n.floorStack.name!=null&&n.floorStack.name!==""&&o.push(r.Labels.add(n.spaces[0],n.floorStack.name,i)):"name"in n&&n.name!=null&&n.name!==""&&o.push(r.Labels.add(n,n.name,i)),o});return Promise.all(t).then(n=>n.flat())}async function UO(e,r){let t=[jO(e,r),vO(e,r)],[n]=await Promise.all(t);return{labels:n}}var W4=.05,uh,lh,sh=class extends Oe{constructor(t,n,o){super();m(this,"core");m(this,"mapObjects",[]);m(this,"id");m(this,"mapDataExternal",{});m(this,"mapsByFloorId",{});m(this,"mapData");m(this,"currentMap");m(this,"hiddenOutdoorGeometries",[]);m(this,"lastFacadeIntersected");C(this,uh,!1);C(this,lh,!1);m(this,"mapView");m(this,"externalPubSub");m(this,"Camera");m(this,"Labels");m(this,"Text3D");m(this,"Markers");m(this,"Models");m(this,"Paths");m(this,"Exporter");m(this,"Navigation");m(this,"Outdoor");m(this,"Shapes");m(this,"Style");m(this,"Image3D");m(this,"update",()=>{this.core.render()});this.core=t,this.mapView=n,this.externalPubSub=o,this.Camera=new B0(this),this.id=this.core.addGroupContainer("root").id.toString();let i=new $0("outdoors-container",void 0,void 0,this);this.mapObjects.push(i),this.currentMap=i,this.core.on("pre-render",()=>{o.publish("pre-render")}),this.core.on("post-render",()=>{o.publish("post-render")}),this.core.on("resize",()=>{o.publish("resize")}),this.core.on("render-error",({error:d})=>{o.publish("render-error",{error:new WI(d instanceof Error?d.message:"Unknown error")})});let s=d=>{let f=this.getMapDataObject(d);switch(f?.__type){case"facade":return f;case"floor":return f.floorStack.facade;default:return null}};this.core.on("geometry-in-focus",d=>{let f=new Set;for(let h of d){let b=s(h);b&&f.add(b)}o.publish("facades-in-view-change",{facades:Array.from(f)})}),this.core.getSystems().renderSystem.on("camera-state-change",()=>{o.publish("state-change-internal",{Camera:this.getCameraState()})});let u=new w0(this.Camera,{precision:7});this.core.on("camera-change",()=>{o.publish("camera-change",u)}),this.core.on("pan-bounds-change",d=>{o.publish("camera-bounds-change",Hy(d,this.core.convert3DMapPositionToCoordinate))});let l=d=>f=>{let h=[],b=[],I=[],E=[];f.labels.forEach(L=>{let N=this.Labels.getById(L.toString());N&&h.push(N.label)}),f.markers.forEach(L=>{let N=this.Markers.getById(L.toString())||this.Navigation.getMarkerById(L.toString());N&&b.push(N.marker)}),f.models.forEach(L=>{let N=this.Models.getById(L.toString());N&&I.push(N.model)}),f.paths.forEach(L=>{let N=this.Paths.getById(L.toString());N&&E.push(N)});let v=f.geometry,x;v.length>0&&(x=v.map(L=>this.getMapDataInternal()?.getById("space",L)).filter(Boolean)[0],x||(x=v.map(L=>this.getMapDataInternal()?.getById("object",L)).filter(Boolean)[0]),x||(x=v.map(L=>this.getMapDataInternal()?.getById("area",L)).filter(Boolean)[0]),x||(x=v.map(L=>this.Shapes.getById(L)).filter(Boolean)[0]));let D=f.containers.reduce((L,N)=>{let $=this.getMapDataInternal()?.getById("floor",N);return $&&jn.is($)&&L.push($),L},[]),w,S=0;if(D.length>0){w=D[0].id;let L=this.core.getState(w);S=f.coordinate[2]?f.coordinate[2]-L.altitude:S}let F;this.lastFacadeIntersected&&this.lastFacadeIntersected.spaces.forEach(L=>{this.core.setState(L.id,{hovered:!1})}),x&&Cr.is(x)&&(F=v.map(L=>this.getMapDataInternal()?.facadesBySpaceId[L]).filter(Boolean)[0],F&&F.spaces.forEach(L=>{this.core.setState(L.id,{hovered:!0})})),this.lastFacadeIntersected=F;let P={coordinate:new ge({latitude:f.coordinate[1],longitude:f.coordinate[0],floorId:w,verticalOffset:S}),spaces:x&&Cr.is(x)?[x]:[],objects:x&&Un.is(x)?[x]:[],areas:x&&Lo.is(x)?[x]:[],shapes:x&&ws.is(x)?[x]:[],markers:b,labels:h,models:I,paths:E,floors:D,facades:F?[F]:[]};"pointerEvent"in f&&(P.pointerEvent=f.pointerEvent),o.publish(d,P)};this.core.on("hover",l("hover")),this.core.on("click",l("click")),this.core.on("user-interaction-start",()=>{o.publish("user-interaction-start")}),this.core.on("user-interaction-end",()=>{o.publish("user-interaction-end")});let c={currentMapGetter:()=>this.currentMap};this.Markers=new j0(c),this.Models=new V0(c),this.Labels=new _0(c),this.Text3D=new eh(c),this.Exporter=new k0(c),this.Paths=new Z0(c),this.Navigation=new O0(this),this.on("navigation-state-change",d=>{this.externalPubSub.publish("state-change-internal",{Navigation:d})}),this.on("navigation-connection-click",d=>{this.externalPubSub.publish("navigation-connection-click",d)}),this.on("navigation-active-path-change",d=>{this.externalPubSub.publish("navigation-active-path-change",d)}),this.Outdoor=new Wd(this.core,this.hiddenOutdoorGeometries),this.Outdoor.enabled&&(this.core.on("outdoor-view-loaded",()=>{o.publish("outdoor-view-loaded")}),this.core.on("outdoor-style-loaded",()=>{o.publish("outdoor-style-loaded")})),this.Image3D=new G0(c),this.Shapes=new X0(c),this.Style=new Y0(c)}get manualFloorVisibility(){return a(this,uh)}set manualFloorVisibility(t){T(this,uh,t),this.externalPubSub.publish("state-change-internal",{manualFloorVisibility:t})}get hidePathsNotOnCurrentFloor(){return a(this,lh)}set hidePathsNotOnCurrentFloor(t){T(this,lh,t),this.currentMap?.updatePathLayersVisibility()}preloadFloors(t){t.forEach(n=>{n instanceof jn&&this.core.setState(n.id,{preloadGeometry:!0})})}updateState(t,n){if(n==null||typeof n!="object")return;if(t==="interior-walls"){this.currentMap.floors.forEach(i=>{let s=i.layers.get(or);if(s){let u=s.layers.get(lu);u&&this.core.hasState(u)&&this.core.setState(u,II(wt(xI,n,{warn:!0}),this.core.getState(u)))}});return}if(t==="exterior-walls"){this.currentMap.floors.forEach(i=>{let s=i.layers.get(or);if(s){let u=s.layers.get(ma);u&&this.core.hasState(u)&&this.core.setState(u,II(wt(xI,n,{warn:!0}),this.core.getState(u)))}});return}if(t==="interior-doors"){this.currentMap.floors.forEach(i=>{let s=i.layers.get(or);if(s){let u=s.layers.get(Vp);u&&this.core.hasState(u)&&this.core.setState(u,B4(wt(O4,n,{warn:!0}),this.core.getState(u)))}});return}if(t==="exterior-doors"){this.currentMap.floors.forEach(i=>{let s=i.layers.get(or);if(s){let u=s.layers.get(Hp);u&&this.core.hasState(u)&&this.core.setState(u,B4(wt(O4,n,{warn:!0}),this.core.getState(u)))}});return}let o=typeof t=="string"?this.getMapDataObject(t):t;if(o){if(o.__type!==Fi.__type&&!this.core.hasState(o.id)){R.warn(`Failed to update state for "${o.id}". No ${o.__type} found with that ID.`);return}if(Ts.is(o))return this.core.setState(o.id,qA(wt(YA,n,{warn:!0}),this.core.getState(o.id)));if(Ca.is(o))return this.core.setState(o.id,tO(wt(QA,n,{warn:!0}),this.core.getState(o.id)));if(Cr.is(o)||Un.is(o)){let i=this.core.getState(o.id);i!=null&&this.core.setState(o.id,JA(wt(dI,n,{warn:!0}),i))}if(Lo.is(o)&&this.core.setState(o.id,wt(dI,n,{warn:!0})),tc.is(o)&&this.core.setState(o.id,wt(fO,n,{warn:!0})),yn.is(o)&&this.core.setState(o.id,B4(wt(O4,n,{warn:!0}),this.core.getState(o.id))),ws.is(o)&&this.core.setState(o.id,aO(wt(bI,n,{warn:!0}))),nc.is(o)){let{position:i,scale:s,rotation:u,...l}=wt(yO,n,{warn:!0}),c=l;i&&(c.position=[i.longitude,i.latitude,i.verticalOffset]),s!=null&&(Array.isArray(s)?c.scale=s:c.scale=[s,s,s]),u!=null&&(Array.isArray(u)?c.rotation=u:c.rotation=[u,u,u]),i&&o.updateTarget(i),this.core.setState(o.id,c)}if(jn.is(o)){let i=this.currentMap.floorsById.get(o.id);if(i==null)return;let s=wt(HA,n,{warn:!0});this.core.setState(o.id,s);let u=i.layers.get(or);u!=null&&"geometry"in n&&n.geometry&&this.core.setState(u.containerId,wt(NA,n.geometry,{warn:!0}));let l=i.layers.get(fa);if(l!=null&&"labels"in n&&n.labels){let E=wt($A,n.labels,{warn:!0});"enabled"in E&&typeof E.enabled=="boolean"&&l.setVisible(E.enabled)}let c=i.layers.get(yi);if(c!=null&&"markers"in n&&n.markers){let E=wt(jA,n.markers,{warn:!0});"enabled"in E&&typeof E.enabled=="boolean"&&c.setVisible(E.enabled)}let d=i.layers.get(Zp);d!=null&&"footprint"in n&&n.footprint&&this.core.setState(d.containerId,wt(RA,n.footprint,{warn:!0}));let f=i.layers.get(xl);if(f!=null&&"occlusion"in n&&n.occlusion){let E=wt(GA,n.occlusion,{warn:!0});"enabled"in E&&typeof E.enabled=="boolean"&&f.setVisible(E.enabled)}let h=i.layers.get(Wp);if(h!=null&&"images"in n&&n.images){let E=wt(UA,n.images,{warn:!0});"visible"in E&&typeof E.visible=="boolean"&&h.setVisible(E.visible)}let b=i.layers.get(ha);if(b!=null&&"paths"in n&&n.paths!=null){let E=wt(zA,n.paths,{warn:!0});E.visible!=null&&typeof E.visible=="boolean"&&b.setVisible(E.visible)}let I=i.layers.get(Il);if(I!=null&&"areas"in n&&n.areas!=null){let E=wt(VA,n.areas,{warn:!0});E.visible!=null&&typeof E.visible=="boolean"&&I.setVisible(E.visible)}}if(Rr.is(o)){let i=this.core.getState(o.id);for(let s of i.children)s.type==="group-container"&&this.core.setState(s.id,wt(wA,n,{warn:!0}))}if(Ou.is(o)&&this.core.setState(o.id,wt(cO,n,{warn:!0})),Fi.is(o))for(let i of o.segments)this.core.setState(i.id,wt(gI,n,{warn:!0}));Mu.is(o)&&this.core.setState(o.id,wt(gI,n,{warn:!0}))}}getMapDataObject(t){return this.getMapDataInternal()?.getMapDataById(t)}getMapDataInternal(){if(this.mapData)return Sm(this.mapData)}getMapData(){return this.mapData}addMap(t,n){return new Promise(o=>{let i;try{i=Sm(t)}catch(h){R.error("Error adding map",h),o(t);return}this.mapDataExternal[t.mapName]=t,this.mapData=t;let{mvf:s}=i,u=s["manifest.geojson"].features[0].geometry.coordinates;this.core.mode!=="outdoors-overlay"&&this.Camera.set({center:new ge(u[1],u[0])});let l=s["manifest.geojson"].features[0].properties.name,c=new $0(`mapObject-${l}`,i,n,this);this.currentMap=c,this.currentMap.loadAllFloors(),this.currentMap.setFloor(this.currentMap.startingFloorId);let d=this.core.getBoundingArea(c.currentFloor.id);d==null&&R.error("Could not determine bounding box for map:",c.currentFloor.id);let f=n?.outdoorView?.layersHiddenByGeometry??[];if(f.length>0){let h,b=[];for(let I of c.floorStacksById.values())if(I.defaultFloor.footprint&&I.defaultFloor.footprint.geometry!=null&&I.defaultFloor.footprint.geometry?.coordinates.length>0){let E=I.defaultFloor.footprint,v=Vy(E);h==null?h=v:Ww(h,v),b.push(E)}b.length>0&&h!=null&&(this.core.hideOutdoorLayersIntersectingPolygons(h,b,f),this.hiddenOutdoorGeometries.push([h,b,f]))}if(this.mapObjects.push(c),i.getMVFFeatureByType("floor").forEach(h=>{this.mapsByFloorId[h.id]=c}),c.on("floor-change-start",h=>{this.externalPubSub.publish("floor-change-start",{reason:h.reason,floor:this.getMapDataInternal()?.getById("floor",h.floorId)??this.currentFloor,previousFloor:this.getMapDataInternal()?.getById("floor",h.previousFloorId)??this.currentFloor})}),c.on("floor-change",h=>{this.externalPubSub.publish("floor-change",{reason:h.reason,floor:this.currentFloor,previousFloor:this.getMapDataInternal()?.getById("floor",h.previousFloorId)??this.currentFloor}),this.externalPubSub.publish("state-change-internal",{currentFloor:this.currentFloor,currentFloorStack:this.currentFloorStack})}),n?.zoomLevel!=null)this.core.camera.setZoomLevel(n.zoomLevel),o(t);else if(this.core.mode!=="outdoors-overlay"&&d){let h=n?.screenOffsets??{top:W4*this.core.canvasHeight,left:W4*this.core.canvasWidth,right:W4*this.core.canvasWidth,bottom:W4*this.core.canvasHeight};this.core.camera.focusOn(d,{duration:kw,padding:h}).then(()=>{this.Camera.setElevation(this.currentFloor.elevation),o(t)})}else o(t)})}setFloor(t,n){return this.currentMap.setFloor(yf(t),n)}setFloorStack(t,n){return this.currentMap.setFloorStack(yf(t),n)}updateWatermark(t){this.core.updateWatermark(t)}get currentFloorStack(){let t=this.currentMap.currentFloorStack.id;if(!t)throw new Mr("Missing currentFloorStack.");let n=this.mapData?.getById("floor-stack",t);if(!n)throw new Mr("FloorStack was not found in map data.");return n}get currentFloor(){let t=this.currentMap.currentFloor.id;if(!t)throw new Mr("Missing currentFloor object from GeoJsonApi");let n=this.mapData?.getById("floor",t);if(!n)throw new Mr("Missing currentFloor");return n}getState(t){typeof t=="object"&&Fi.is(t)&&R.warn("Cannot get state of a Path directly. Use getState() on individual segments within Path.segments[] instead.");let n=Zw(t,this),o=this.core.getState(n);if(o){if(["interior-walls","exterior-walls"].includes(t)&&o.type==="geometry-group")return mO(o);if(["interior-doors","exterior-doors"].includes(t)&&o.type==="geometry-group")return DA(o);if(o.type==="geometry")return XA(o);if(o.type==="label"&&o.options.appearance&&o.options.rank!==void 0&&o.options.interactive!==void 0)return KA(o);if(o.type==="marker"&&o.options?.rank!==void 0&&o.options.interactive!==void 0)return eO(o,this.Markers.getById(o.id.toString())?.marker);if(o.type==="model")return bO(o);if(o.type==="image")return hO(o);if(o.type==="text3d")return pO(o);if(o.type==="geometry-group"&&t&&typeof t!="string"&&ws.is(t))return iO(o);if(o.type==="path")return nO(o);if(o.type==="group-container"&&typeof t!="string"&&jn.is(t))return ZA(o,this.currentMap.floorsById.get(t.id),this.core);if(o.type==="group-container"&&o.children.length>0&&typeof t!="string"&&Rr.is(t)){let i=this.core.getState(o.children[0].id);return FA(i)}}}setHoverColor(t){this.core.setState({hoverColor:t})}getHoverColor(){let t=this.core.getState();return t?.type==="map-view"?t.hoverColor:void 0}createCoordinateFromScreenCoordinate(t,n,o){if(o!=null){let c=this.core.projectScreenXYToCoordinate(t,n,!0);return c?new ge(c.coordinate[1],c.coordinate[0],o.id):void 0}let i=this.core.projectScreenXYToCoordinate(t,n);if(i==null||i.coordinate==null)return;let{coordinate:s,groupContainers:u}=i,l=u?.find(c=>{let d=c.userData.entityId.toString();return d.includes("f_")||d.includes("m_")})?.userData.entityId.toString();return new ge(s[1],s[0],l)}getScreenCoordinateFromCoordinate(t){let n=0;if(t.floorId!=null){let o=this.mapData?.getById("floor",t.floorId);o!=null&&(n=this.getState(o)?.altitude??0)}return this.core.projectCoordinateToScreenXY([t.longitude,t.latitude,n])}isInView(t){return this.core.isInView(typeof t=="string"?t:t.id)}getInView(t,n){let o=this.core.queryGeometry2DInView({screenOffsets:n?.screenOffsets,fullyContains:n?.fullyContains});if(o.length===0)return[];let i=[];switch(t){case Ts.__type:i=o.map(s=>this.Labels.getById(s)).filter(s=>s!=null).map(s=>s.label);break;case Ca.__type:i=o.map(s=>this.Markers.getById(s)).filter(s=>s!=null).map(s=>s.marker)}return i}async __EXPERIMENTAL__auto(){let t=this.getMapDataInternal();if(!t)throw new Error("Map data not found");return await UO(t,this)}tween(t){let n=new Ii(t);return this.core.getExternalTweenGroup().add(n),this.core.render(),n}removeTween(t){this.core.getExternalTweenGroup().remove(t)}tweenGroup(){return this.core.getExternalTweenGroup()}get __core(){return this.core}getCameraState(){return this.core.camera.getState()}getNavigationState(){return{isMultiFloor:this.Navigation.isMultiFloor,floorStacks:this.Navigation.floorStacks,floors:this.Navigation.floors,activeDirections:this.Navigation.activeDirections,activePath:this.Navigation.activePath,paths:this.Navigation.paths}}getAllState(){return{currentFloor:this.currentFloor,currentFloorStack:this.currentFloorStack,Camera:this.getCameraState(),Navigation:this.getNavigationState(),manualFloorVisibility:this.manualFloorVisibility}}publishAllState(){this.externalPubSub.publish("state-change-internal",this.getAllState())}clear(){this.Navigation.clear(),this.Shapes.removeAll(),this.Paths.removeAll(),this.Models.removeAll(),this.Markers.removeAll(),this.Image3D.removeAll(),this.Labels.removeAll()}destroy(){this.clear(),this.core.destroy()}getOptimalVisualDistanceBetweenFloors(t,n=!1){let o=this.currentMap;if(!o){R.error("Cannot compute optimal visual distance between floors. Missing current map.");return}if(t.length<2){R.warn("Cannot compute optimal visual distance between floors. Must provide at least 2 floors.");return}let i=o.renderer.getInternalState().geometry3DMap.get(t[0].id),s=o.renderer.getInternalState().geometry3DMap.get(t[1].id);if(!i||!s){R.warn("Cannot compute optimal visual distance between floors. Floors not found in current map.");return}if(Ec(i,"group-container"),Ec(s,"group-container"),n){let l=new mr;l.setFromObject(i);let c=new mr;if(c.setFromObject(s),i.children.forEach(v=>{v instanceof Pe&&v.userData.debugBox&&Ht(v)}),s.children.forEach(v=>{v instanceof Pe&&v.userData.debugBox&&Ht(v)}),!Uu(l)||!Uu(c))return;let d=new qo(l.max.x-l.min.x,l.max.y-l.min.y,l.max.z-l.min.z),f=new yr({color:255,transparent:!0,opacity:.5}),h=new Pe(d,f);h.position.set((l.min.x+l.max.x)/2,(l.min.y+l.max.y)/2,(l.min.z+l.max.z)/2),h.userData.debugBox=!0;let b=new qo(c.max.x-c.min.x,c.max.y-c.min.y,c.max.z-c.min.z),I=new yr({color:"cyan",transparent:!0,opacity:.5}),E=new Pe(b,I);E.position.set((c.min.x+c.max.x)/2,(c.min.y+c.max.y)/2,(c.min.z+c.max.z)/2),E.userData.debugBox=!0,i.add(h),s.add(E)}let u=o.renderer.computeMinZOffsetBetweenContainers(i,s);if(u!==-1)return u}};uh=new WeakMap,lh=new WeakMap;function fZ(e){if(e===""){Y2(""),J2("");return}J2(`${e}/${yb}`),Y2(`${e}/${gb}`)}p();var X4=class{constructor(r){m(this,"state");m(this,"update");this.update=r.Debug.update.bind(r.Debug),this.state=r.Debug.state}};p();import Fa from"zod";var GO=Fa.strictObject({environment:Fa.union([Fa.literal("basic"),Fa.literal(!1)]).optional(),text3d:Fa.object({hoverColor:Fa.string().optional()}).optional(),geometry:Fa.object({hoverColor:Fa.string().optional()}).optional(),backgroundColor:Fa.string().optional(),backgroundAlpha:Fa.number().optional()});p();var OI=rb(l8(),1);var hZ=(e,r)=>{let t={},n=(o,i,s)=>{for(let u in i){let l=o[u],c=i[u];typeof c=="object"&&!Array.isArray(c)&&c!==null&&typeof l=="object"&&!Array.isArray(l)&&l!==null?(s[u]={},n(l,c,s[u])):s[u]=l}};return n(e,r,t),t},zO=(e,r)=>{let t=hZ(e,r),n=(0,OI.default)({},t,r),o=(0,OI.default)({},t),i=(s,u,l,c=o)=>{for(let d in u){let f=s[d],h=u[d];if(typeof h=="number"&&typeof f=="number")c[d]=f+(h-f)*l;else if(typeof h=="string"&&typeof f=="string"){if(cm(f)&&cm(h)){let b=ab(f),I=ab(h);b&&I?c[d]=g6([b[0]+(I[0]-b[0])*l,b[1]+(I[1]-b[1])*l,b[2]+(I[2]-b[2])*l]):R.warn(`Color "${d}" could not be animated!`)}}else typeof h=="object"&&h!==null&&typeof f=="object"&&f!==null?i(f,h,l,c[d]):R.warn(`Value "${d}" could not be animated!`)}};return s=>(s=Math.min(Math.max(s,0),1),s===0?e:s===1?n:(i(t,r,s),o))};var pc,re,Yo,ch=class{constructor(r){C(this,pc);C(this,re);C(this,Yo);m(this,"Camera");m(this,"Labels");m(this,"Text3D");m(this,"Markers");m(this,"Image3D");m(this,"Models");m(this,"Paths");m(this,"Exporter");m(this,"Navigation");m(this,"Style");m(this,"Shapes");m(this,"Outdoor");m(this,"update",()=>{a(this,re).core.render()});m(this,"__LEGACY_GET_DIRECTIONS_SYNC",(r,t,n)=>a(this,re).getMapData()?.__LEGACY_GET_DIRECTIONS_SYNC(r,t,n)??void 0);m(this,"getDirections",(r,t,n)=>a(this,re).getMapData()?.getDirections(r,t,n)??Promise.resolve(void 0));m(this,"__LEGACY_GET_DIRECTIONS_MULTI_DESTINATION_SYNC",(r,t,n)=>a(this,re).getMapData()?.__LEGACY_GET_DIRECTIONS_MULTI_DESTINATION_SYNC(r,t,n)??void 0);m(this,"getDirectionsMultiDestination",(r,t,n)=>a(this,re).getMapData()?.getDirectionsMultiDestination(r,t,n)??Promise.resolve(void 0));m(this,"on",(r,t)=>{a(this,pc).on(r,t)});m(this,"off",(r,t)=>{a(this,pc).off(r,t)});m(this,"Debug");T(this,pc,new Oe),T(this,Yo,r);let t=new sh(r,this,a(this,pc));T(this,re,t),this.Camera=a(this,re).Camera,this.Markers=a(this,re).Markers,this.Models=a(this,re).Models,this.Labels=a(this,re).Labels,this.Text3D=a(this,re).Text3D,this.Exporter=a(this,re).Exporter,this.Paths=a(this,re).Paths,this.Navigation=a(this,re).Navigation,this.Shapes=a(this,re).Shapes,this.Style=a(this,re).Style,this.Outdoor=a(this,re).Outdoor,this.Image3D=a(this,re).Image3D,a(this,Yo).container.dataset.version=y.env.npm_package_version,this.Debug=new X4(a(this,re).core)}updateState(r,t){return a(this,re).updateState(r,t)}animateState(r,t,n){let o=a(this,re).getState(r);if(o==null)return R.warn(`Cannot animate state of ${r}.`),new Promise(c=>c({result:"completed"}));let i=zO(o,t),s=a(this,re).tween({percent:0}).to({percent:1},n?.duration??1e3).onUpdate(({percent:l})=>{a(this,re).updateState(r,i(l))});n?.easing&&n.easing in xa&&s.easing(xa[n.easing]);let u=new Promise(l=>{s.onComplete(()=>{a(this,re).removeTween(s),l({result:"completed"})}).onStop(()=>{a(this,re).removeTween(s),l({result:"cancelled"})}),s.start()});return u.cancel=()=>{s.stop(),a(this,re).updateState(r,i(0))},u}updateGlobalState(r){try{GO.parse(r)}catch(t){R.error("updateGlobalState",t);return}if(typeof r=="object"){let t={};if(r.text3d?.hoverColor&&(t.text3dHoverColor=r.text3d.hoverColor),r.geometry?.hoverColor&&(t.hoverColor=r.geometry.hoverColor),r.backgroundColor||r.backgroundAlpha!==void 0){let n=r.backgroundColor??a(this,re).core.backgroundColor,o=r.backgroundAlpha??a(this,re).core.backgroundAlpha;a(this,re).core.setBackgroundColor(n,o)}r.environment!=null&&a(this,re).core.setEnvironment(r.environment),a(this,re).core.setState(t)}}get options(){return Rw(a(this,re).currentMap.options)}getGlobalState(){let r=a(this,re).core.getState();return{backgroundColor:a(this,re).core.backgroundColor,backgroundAlpha:a(this,re).core.backgroundAlpha,environment:a(this,re).core.getEnvironment(),geometry:{hoverColor:r.hoverColor},text3d:{hoverColor:r.text3dHoverColor}}}getMapData(){if(a(this,re).mapData==null)throw new Mr("MapData not found.");return a(this,re).mapData}getDimensions(){return{width:a(this,Yo).canvasWidth,height:a(this,Yo).canvasHeight}}addMap(r,t){return a(this,re).addMap(r,t)}setFloor(r,t){return a(this,re).setFloor(r,t?.context)}setFloorStack(r,t){return a(this,re).setFloorStack(r,t?.context)}preloadFloors(r){a(this,re).preloadFloors(r)}tween(r){return a(this,re).tween(r)}removeTween(r){a(this,re).removeTween(r)}get tweenGroup(){return a(this,re).tweenGroup()}get currentFloorStack(){return a(this,re).currentFloorStack}get currentFloor(){return a(this,re).currentFloor}updateWatermark(r){a(this,re).updateWatermark(r)}getState(r){return a(this,re).getState(r)}setHoverColor(r){a(this,re).setHoverColor(r)}getHoverColor(){return a(this,re).getHoverColor()}convertAltitudeToMercatorZoomLevel(r){return a(this,re).core.getSystems().cameraSystem.convertAltitudeToZoomLevel(r)}convertMercatorZoomLevelToAltitude(r){return a(this,re).core.getSystems().cameraSystem.convertZoomLevelToAltitude(r)}isInView(r){return a(this,re).isInView(r)}getInView(r,t){return a(this,re).getInView(r,t)}getMetersPerPixel(){return a(this,re).core.getMetersPerPixel()}getDistance(r,t){return a(this,re).getMapData()?.getDistance(r,t)}createCoordinate(r,t,n){return typeof r=="object"?new ge(r):new ge(r,t,n?.id)}createCoordinateFromScreenCoordinate(r,t,n){return a(this,re).createCoordinateFromScreenCoordinate(r,t,n)}getScreenCoordinateFromCoordinate(r){return a(this,re).getScreenCoordinateFromCoordinate(r)}__EXPERIMENTAL__auto(){return a(this,re).__EXPERIMENTAL__auto()}get __core(){if(y.env.INTERNAL==="true")return a(this,re).core;throw new Error("__core is not available.")}get container(){return a(this,Yo).container}publishAllState(){a(this,re).publishAllState()}clear(){a(this,re).clear()}destroy(){a(this,re).destroy()}async enableDebug(r={}){let{Inspector:t}=await import("./inspector-66PSYVJU.js");await new t(this,a(this,re)).enable(r)}async takeScreenshot(r){let t={withOutdoorContext:r?.withOutdoorContext??!1},n=a(this,Yo).rendererDomElement;if(t.withOutdoorContext){let o=a(this,Yo).map;if(!o)return await a(this,Yo).renderSync(),n.toDataURL("image/png");o.loaded()||await new Promise(l=>{o.once("idle",l)});let i=o.getCanvas(),s=document.createElement("canvas"),u=s.getContext("2d");if(s.width=n.width,s.height=n.height,!u)throw new Error("Failed to get 2D context for composite canvas");return u.drawImage(i,0,0,s.width,s.height),u.drawImage(n,0,0,s.width,s.height),s.toDataURL("image/png")}return await a(this,Yo).renderSync(),n.toDataURL("image/png")}get manualFloorVisibility(){return a(this,re).manualFloorVisibility}set manualFloorVisibility(r){a(this,re).manualFloorVisibility=r}getOptimalVisualDistanceBetweenFloors(r){return a(this,re).getOptimalVisualDistanceBetweenFloors(r)}get __INTERNAL__hidePathsNotOnCurrentFloor(){return a(this,re).hidePathsNotOnCurrentFloor}set __INTERNAL__hidePathsNotOnCurrentFloor(r){a(this,re).hidePathsNotOnCurrentFloor=!!r}};pc=new WeakMap,re=new WeakMap,Yo=new WeakMap;p();var gZ=1e3*60*60*2,Lu,Yd,Lt,Ma,Li,Ko,Ri,Kd,qd,ph,Gt,VO,HO,Jd,J4,BI,PI,kI,Qd=class{constructor(r,t){C(this,Gt);C(this,Lu,new Oe);C(this,Yd);C(this,Lt);C(this,Ma);C(this,Li);C(this,Ko);C(this,Ri);C(this,Kd);C(this,qd);C(this,ph,()=>{"key"in a(this,Lt)&&"secret"in a(this,Lt)&&z(this,Gt,Jd).call(this),z(this,Gt,J4).call(this)});m(this,"on",(r,t)=>a(this,Lu).on(r,t));m(this,"off",(r,t)=>a(this,Lu).off(r,t));T(this,Yd,r),T(this,Lt,t)}setMapIds(r){T(this,Yd,r)}setEnterprise(r){a(this,Lt).enterprise=r}async readySync(){if((!("key"in a(this,Lt))||!("secret"in a(this,Lt)))&&!("accessToken"in a(this,Lt))){R.error("No API keys or access token provided! Cannot preload tokens.");return}let r=[z(this,Gt,Jd).call(this),null];a(this,Lt).enterprise||(r[1]=this.getSasTokensAsync());let[t,n]=await Promise.all(r);z(this,Gt,kI).call(this),z(this,Gt,BI).call(this,t),n!=null&&z(this,Gt,PI).call(this,n),lm()&&globalThis.addEventListener?.("focus",a(this,ph))}async refreshing(){let r=[];return a(this,Ma)!=null&&r.push(a(this,Ma)),a(this,Li)!=null&&r.push(a(this,Li)),Promise.all(r)}getAccessTokenAsync(){return z(this,Gt,Jd).call(this)}getSasTokensAsync(){return z(this,Gt,J4).call(this)}getAccessToken(){return a(this,Ko)==null?(R.error("Tokens must be loaded before reading synchronously! Try awaiting readySync() first."),{token:""}):a(this,Ko)}getSasToken(r){return this.isEnterpriseMode()?(R.error("SAS tokens are not available in the enterprise mode!"),{token:""}):a(this,Ri)==null?(R.error("Tokens must be loaded before reading synchronously! Try awaiting readySync() first."),{token:""}):r in a(this,Ri).tokens?a(this,Ri).tokens[r]:(R.error(`SAS token for map ${r} not found!`),{token:""})}isEnterpriseMode(){return a(this,Lt).enterprise??!1}destroy(){z(this,Gt,kI).call(this),a(this,Lu).destroy(),lm()&&globalThis.removeEventListener("focus",a(this,ph))}};Lu=new WeakMap,Yd=new WeakMap,Lt=new WeakMap,Ma=new WeakMap,Li=new WeakMap,Ko=new WeakMap,Ri=new WeakMap,Kd=new WeakMap,qd=new WeakMap,ph=new WeakMap,Gt=new WeakSet,VO=function(r){let t=r.token!==a(this,Ko)?.token;T(this,Ko,r),t&&a(this,Lu).publish("access-token-refreshed",{accessToken:r})},HO=function(r){let t=JSON.stringify(r.tokens)!==JSON.stringify(a(this,Ri)?.tokens);T(this,Ri,r),t&&a(this,Lu).publish("sas-tokens-refreshed",{sasTokens:r.tokens})},Jd=async function(r=!1){if("accessToken"in a(this,Lt)&&typeof a(this,Lt).accessToken=="string"){let t={token:a(this,Lt).accessToken,expires:Date.now()+72e5};return T(this,Ko,t),t}if(!("key"in a(this,Lt))||!("secret"in a(this,Lt))||typeof a(this,Lt).key!="string"||typeof a(this,Lt).secret!="string")throw new Error("No API keys or access token provided!");return a(this,Ma)!=null?a(this,Ma):a(this,Ko)!=null&&a(this,Ko).expires!=null&&a(this,Ko).expires>Date.now()&&!r?a(this,Ko):(T(this,Ma,pf({...a(this,Lt),key:a(this,Lt).key,secret:a(this,Lt).secret},a(this,Lt).enterprise??!1).then(t=>{let n={token:t.accessToken,expires:t.expiresTimestamp*1e3};return z(this,Gt,VO).call(this,n),n}).catch(t=>{throw t}).finally(()=>{T(this,Ma,void 0)})),a(this,Ma))},J4=async function(r=!1){return this.isEnterpriseMode()?{tokens:{},expires:1/0}:a(this,Li)!=null?a(this,Li):a(this,Ri)!=null&&a(this,Ri).expires>Date.now()&&!r?a(this,Ri):(T(this,Li,new Promise((t,n)=>{z(this,Gt,Jd).call(this).then(o=>{let i={},s=a(this,Yd).map(u=>Z3({...a(this,Lt),mapId:u},o.token).then(l=>{i[u]={token:l.token,expires:l.expires}}).catch(l=>{R.error(`Error getting SAS token for map ${u}:`,l)}));Promise.all(s).then(()=>{let u={tokens:i,expires:Math.min(...Object.values(i).map(l=>l.expires??1/0))};z(this,Gt,HO).call(this,u),t(u)})}).catch(o=>{n(o)})})),a(this,Li).catch(t=>{throw t}).finally(()=>{T(this,Li,void 0)}),a(this,Li))},BI=function(r){if(!("key"in a(this,Lt))||!("secret"in a(this,Lt)))return;let t=r.expires!=null?r.expires-Date.now():gZ;isFinite(t)&&T(this,Kd,setTimeout(()=>{z(this,Gt,Jd).call(this,!0).then(n=>{z(this,Gt,BI).call(this,n)})},t-XT))},PI=function(r){let t=r.expires-Date.now();isFinite(t)&&T(this,qd,setTimeout(()=>{z(this,Gt,J4).call(this,!0).then(n=>{z(this,Gt,PI).call(this,n)})},t-KT))},kI=function(){a(this,Kd)!=null&&clearTimeout(a(this,Kd)),a(this,qd)!=null&&clearTimeout(a(this,qd))};p();var yZ=async(e,r)=>{let t=("mvfVersion"in(r??{})?r?.mvfVersion:void 0)??("options"in e&&"version"in(e.options??{})?e.options?.version:void 0),n={prefetchTokens:!0,...r||{},mvfVersion:t},o,i=ou();i.updateByUserOption(n);let s={};if("type"in e&&typeof e.type=="string"){if(s.enterprise=e.options?.enterprise,e.type==="binary"&&e.main instanceof Uint8Array){o=await Ay(e.main,n.mvfVersion),s.languagePacks=[];for(let I of e.languagePacks??[])I.localePack instanceof Uint8Array&&s.languagePacks.push({language:I.language,localePack:await Tp(I.localePack)})}else if(e.type==="json")o=e.main,s.languagePacks=e.languagePacks??[];else throw new Error("Invalid backup type");e.type==="binary"&&e.main instanceof Uint8Array&&(s.binaryBundle=e.main)}else o=e,s.enterprise=o.enterprise!=null;i.setEnterprise(s.enterprise??!1);let u=My(o),l=u.length>0?u:[n.mapId];n.baseAuthUri=i.getBaseAuthUri();let c=new Qd(l,{...n,enterprise:s.enterprise}),d;if("accessToken"in n&&n.accessToken)d=n.accessToken;else if("key"in n&&"secret"in n){let I;try{I=await c.getAccessTokenAsync()}catch(E){R.error("Failed getting token during hydrateMapData",E)}d=I?.token||""}if(s.outdoorViewToken=d,s.env=i,s.getMapDataOptions=n,n.prefetchTokens)try{await c.readySync()}catch(I){R.error("Failed to ready token manager!",I)}_f()&&(s.enterprise&&R.warn("forceEnterpriseLocations is enabled, but the map is already an enterprise map!"),n.mvfVersion!=="3.0.0"&&R.warn("mvfVersion must be '3.0.0' when forceEnterpriseLocations is enabled!"));let f=new Nl(o,s);d&&f.Analytics.init({accessToken:d,mapId:n.mapId,key:"key"in n?n.key:void 0,secret:"secret"in n?n.secret:void 0,...n.analytics,baseUri:i.getAnalyticsBaseUri(),context:n.analytics?.context});let h=new Cm(f),b=f.findPreferredLanguage({languageCode:n.language,fallbackToNavigatorLanguage:!1});if(b)try{await h.changeLanguage(b.code)}catch{}return typeof r?.onMVFParsed=="function"&&r.onMVFParsed(o),h};p();var ZO=(e,{id:r}={})=>{let t=Array.isArray(e)?e:[e];if(!t.every(i=>typeof i=="string"))return;let n=t.join(""),o=null;if(r){let i=document.getElementById(r);i instanceof HTMLStyleElement&&(o=i)}o==null&&(o=document.createElement("style")),r&&r!==""&&(o.id=r),o.textContent=n,document.head.appendChild(o)};var WO=`:root {
	--pin-shadow-hover-scale: 0.9;
	--pin-shadow-width: 12px;
	--pin-shadow-height: 5px;
	--pin-shadow-opacity: 0.35;
	--pin-drop-animation-duration-ms: 250ms;
}

@keyframes drop-pin {
	0% {
		transform: translateY(-200%);
	}

	100% {
		transform: translateY(0);
	}
}

@keyframes pin-shadow {
	0% {
		transform: scale(var(--pin-shadow-hover-scale));
	}

	100% {
		transform: scale(1);
	}
}

.mappedin-dropped-pin-wrapper {
	position: relative;

	width: fit-content;
	height: fit-content;
	width: 36px;
	height: 42px;

	& svg {
		position: absolute;
		left: calc(50% - var(--pin-shadow-width));
		animation: drop-pin var(--pin-drop-animation-duration-ms) ease-in;
	}

	& > .pin-shadow {
		position: absolute;
		left: calc(50% - (var(--pin-shadow-width) / 2));
		bottom: 0;

		height: var(--pin-shadow-height);
		width: var(--pin-shadow-width);
		border-radius: 100%;

		opacity: var(--pin-shadow-opacity);

		animation: pin-shadow 250ms ease-in;
	}
}

@keyframes bounce {
	0% {
		transform: translateY(-10px);
		opacity: 0;
	}
	12.5% {
		transform: translateY(0);
		opacity: 1;
	}
	25% {
		transform: translateY(0);
	}
	37.5% {
		transform: translateY(-10px);
	}
	50% {
		transform: translateY(0);
	}
	62.5% {
		transform: translateY(-10px);
	}
	75% {
		transform: translateY(0);
	}
	87.5% {
		transform: translateY(-10px);
	}
	100% {
		transform: translateY(0);
	}
}

.mappedin-connection-marker {
	position: relative;
	display: flex;

	.bouncey {
		animation: bounce 2.5s linear;
	}

	.arrow--down {
		transform: rotate(180deg);
	}

	.connection-circle {
		display: flex;
		box-sizing: border-box;
		justify-content: center;
		align-items: center;
		border-radius: 50%;
		border: 2px solid white;
		box-shadow: 0px 2px 8px 0px rgba(0, 0, 0, 0.15);
		background: #595959;
	}
}
`;var XO=`.mappedin-marker {
	font-family: 'InterUI-Regular', Helvetica, Arial, sans-serif;
	font-weight: normal;
	top: 0;
	position: absolute;
	font-weight: bold;
	color: black;
	display: flex;
	flex-direction: row;
	will-change: transform, opacity;
	transition: opacity 150ms ease-in-out;
	justify-content: center;
	opacity: 0;
}

/* Low priority pin strategy styles */

/* Hide child elements as well */
.mappedin-marker[data-placement='hidden'] > .mappedin-marker-content {
	visibility: hidden;
}

/* Create the pin using ::before pseudo-element */
.mappedin-marker::before {
	content: '';
	display: none;
	border-radius: 50%;
	position: relative;
	/* Default values - will be overridden by inline styles */
	width: var(--mappedin-pin-size, 2px);
	height: var(--mappedin-pin-size, 2px);
	background-color: var(--pin-color, #666);
}

.mappedin-marker[data-placement='hidden']::before {
	display: block;
}
`;var JO=`.mappedin__smart-collision-engine__container {
	position: absolute;
	left: 0px;
	top: 0px;
	bottom: 0px;
	right: 0px;
	pointer-events: none;
	/* Enables colliders to use translate3D */
	transform-style: preserve-3d;
	font-family: 'InterUI-Regular', Helvetica, Arial, sans-serif;
}

.mappedin__smart-collision-engine-debug__container {
	position: absolute;
	left: 0px;
	top: 0px;
	bottom: 0px;
	right: 0px;
	transition: opacity 300ms ease-in-out;
	pointer-events: none;
	will-change: opacity;
	&.interacting {
		opacity: 0.2;
	}
}
`;var YO=`.mappedin-map {
	.mappedin-interactive {
		cursor: grab;

		&:active {
			cursor: grabbing;
		}

		&.mappedin-interaction-hover {
			cursor: pointer;
		}
	}
}
`;var KO=`.mappedin-map {
	.mappedin-control-container {
		position: absolute;
		left: 0px;
		top: 0px;
		bottom: 0px;
		right: 0px;
		pointer-events: none;
		font-family: 'InterUI-Regular', Helvetica, Arial, sans-serif;

		.mappedin-ctrl-top-left,
		.mappedin-ctrl-top-right,
		.mappedin-ctrl-bottom-left,
		.mappedin-ctrl-bottom-right {
			position: absolute;
			pointer-events: none;
		}

		.mappedin-ctrl-top-left {
			top: 0;
			left: 0;
		}

		.mappedin-ctrl-top-right {
			top: 0;
			right: 0;
		}

		.mappedin-ctrl-bottom-left {
			bottom: 0;
			left: 0;
		}

		.mappedin-ctrl-bottom-right {
			bottom: 0;
			right: 0;
		}

		.mappedin-ctrl-attrib {
			display: block;
			position: relative;
			pointer-events: auto;
			font: 9px/11px 'InterUI-Regular', Helvetica, Arial, sans-serif;
			padding: 3px 5px 1px 5px;
			background-color: rgba(255, 255, 255, 0.5);
			margin: 0;
			min-width: 11px;
			min-height: 11px;
			user-select: none;

			summary.mappedin-ctrl-attrib-button {
				appearance: none;
				list-style: none;
			}

			summary.mappedin-ctrl-attrib-button::-webkit-details-marker {
				display: none;
			}

			&.mappedin-compact .mappedin-ctrl-attrib-button,
			&.mappedin-compact-show .mappedin-ctrl-attrib-inner {
				display: inline-block;
			}

			&.mappedin-compact {
				background-color: transparent;
			}

			&.mappedin-compact-show {
				min-width: 15px;
				min-height: 15px;
				box-sizing: border-box;
				background-color: rgba(255, 255, 255, 0.5);
			}
		}

		.mappedin-ctrl-attrib-top-left {
			float: left;
			border-bottom-right-radius: 4px;
		}

		.mappedin-ctrl-attrib-top-right {
			float: right;
			border-bottom-left-radius: 4px;
		}

		.mappedin-ctrl-attrib-bottom-left {
			float: left;
			border-top-right-radius: 4px;
		}

		.mappedin-ctrl-attrib-bottom-right {
			float: right;
			border-top-left-radius: 4px;
		}
		.mappedin-ctrl-attrib-top-left,
		.mappedin-ctrl-attrib-bottom-left {
			padding: 3px 5px 1px 20px;
		}

		.mappedin-ctrl-attrib-inner {
			display: inline-block;
			margin-right: 12px;
		}

		.mappedin-ctrl-attrib-inner,
		.mappedin-ctrl-attrib-inner a {
			color: rgba(0, 0, 0, 0.75);
			text-decoration: none;
		}

		.mappedin-ctrl-attrib-inner-bold,
		.mappedin-ctrl-attrib-inner-bold a {
			font-weight: bold;
		}

		.mappedin-ctrl-attrib-inner a:hover {
			color: #017ef1;
			text-decoration: underline;
			cursor: pointer;
		}

		.mappedin-ctrl-attrib-button {
			display: none;
			cursor: pointer;
			position: absolute;
			width: 15px;
			height: 15px;
			box-sizing: border-box;
			border-radius: 50%;
			top: 0;
			right: 2px;
			border: 1px;
		}
		.mappedin-ctrl-attrib-top-left .mappedin-ctrl-attrib-button,
		.mappedin-ctrl-attrib-bottom-left .mappedin-ctrl-attrib-button {
			left: 2px;
		}
	}
}
`;var qO=`.maplibregl-map {
    font: 12px/20px "Helvetica Neue", Arial, Helvetica, sans-serif;
    overflow: hidden;
    position: relative;
    -webkit-tap-highlight-color: rgb(0 0 0 / 0%);
}

.maplibregl-canvas {
    position: absolute;
    left: 0;
    top: 0;
}

.maplibregl-map:fullscreen {
    width: 100%;
    height: 100%;
}

.maplibregl-ctrl-group button.maplibregl-ctrl-compass {
    touch-action: none;
}

.maplibregl-canvas-container.maplibregl-interactive,
.maplibregl-ctrl-group button.maplibregl-ctrl-compass {
    cursor: grab;
    user-select: none;
}

.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer {
    cursor: pointer;
}

.maplibregl-canvas-container.maplibregl-interactive:active,
.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active {
    cursor: grabbing;
}

.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,
.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas {
    touch-action: pan-x pan-y;
}

.maplibregl-canvas-container.maplibregl-touch-drag-pan,
.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas {
    touch-action: pinch-zoom;
}

.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,
.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas {
    touch-action: none;
}

.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,
.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas {
    touch-action: pan-x pan-y;
}

.maplibregl-ctrl-top-left,
.maplibregl-ctrl-top-right,
.maplibregl-ctrl-bottom-left,
.maplibregl-ctrl-bottom-right {
    position: absolute;
    pointer-events: none;
    z-index: 2;
}

.maplibregl-ctrl-top-left {
    top: 0;
    left: 0;
}

.maplibregl-ctrl-top-right {
     top: 0;
     right: 0;
    }

.maplibregl-ctrl-bottom-left {
    bottom: 0;
    left: 0;
}

.maplibregl-ctrl-bottom-right {
     right: 0;
     bottom: 0;
}

.maplibregl-ctrl {
    clear: both;
    pointer-events: auto;

    /* workaround for a Safari bug https://github.com/mapbox/mapbox-gl-js/issues/8185 */
    transform: translate(0, 0);
}

.maplibregl-ctrl-top-left .maplibregl-ctrl {
    margin: 10px 0 0 10px;
     float: left;
}

.maplibregl-ctrl-top-right .maplibregl-ctrl {
    margin: 10px 10px 0 0;
    float: right;
}

.maplibregl-ctrl-bottom-left .maplibregl-ctrl {
    margin: 0 0 10px 10px;
    float: left;
}

.maplibregl-ctrl-bottom-right .maplibregl-ctrl {
    margin: 0 10px 10px 0;
    float: right;
}

.maplibregl-ctrl-group {
    border-radius: 4px;
    background: #fff;
}

.maplibregl-ctrl-group:not(:empty) {
    box-shadow: 0 0 0 2px rgb(0 0 0 / 10%);
}

@media (forced-colors: active) {
    .maplibregl-ctrl-group:not(:empty) {
        box-shadow: 0 0 0 2px ButtonText;
    }
}

.maplibregl-ctrl-group button {
    width: 29px;
    height: 29px;
    display: block;
    padding: 0;
    outline: none;
    border: 0;
    box-sizing: border-box;
    background-color: transparent;
    cursor: pointer;
}

.maplibregl-ctrl-group button + button {
    border-top: 1px solid #ddd;
}

.maplibregl-ctrl button .maplibregl-ctrl-icon {
    display: block;
    width: 100%;
    height: 100%;
    background-repeat: no-repeat;
    background-position: center center;
}

@media (forced-colors: active) {
    .maplibregl-ctrl-icon {
        background-color: transparent;
    }

    .maplibregl-ctrl-group button + button {
        border-top: 1px solid ButtonText;
    }
}

/* https://bugzilla.mozilla.org/show_bug.cgi?id=140562 */
.maplibregl-ctrl button::-moz-focus-inner {
    border: 0;
    padding: 0;
}

.maplibregl-ctrl-attrib-button:focus,
.maplibregl-ctrl-group button:focus {
    box-shadow: 0 0 2px 2px rgb(0 150 255 / 100%);
}

.maplibregl-ctrl button:disabled {
    cursor: not-allowed;
}

.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon {
    opacity: 0.25;
}

@media (hover: hover) {
    .maplibregl-ctrl button:not(:disabled):hover {
        background-color: rgb(0 0 0/5%);
    }
}

.maplibregl-ctrl button:not(:disabled):active {
    background-color: rgb(0 0 0/5%);
}

.maplibregl-ctrl-group button:focus:focus-visible {
    box-shadow: 0 0 2px 2px rgb(0 150 255 / 100%);
}

.maplibregl-ctrl-group button:focus:not(:focus-visible) {
    box-shadow: none;
}

.maplibregl-ctrl-group button:focus:first-child {
    border-radius: 4px 4px 0 0;
}

.maplibregl-ctrl-group button:focus:last-child {
    border-radius: 0 0 4px 4px;
}

.maplibregl-ctrl-group button:focus:only-child {
    border-radius: inherit;
}

.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon {
    background-image: svg-load("svg/maplibregl-ctrl-zoom-out.svg", fill: #333);
}

.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon {
    background-image: svg-load("svg/maplibregl-ctrl-zoom-in.svg", fill: #333);
}

@media (forced-colors: active) {
    .maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-zoom-out.svg", fill: #fff);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-zoom-in.svg", fill: #fff);
    }
}

@media (forced-colors: active) and (prefers-color-scheme: light) {
    .maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-zoom-out.svg", fill: #000);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-zoom-in.svg", fill: #000);
    }
}

.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon {
    background-image: svg-load("svg/maplibregl-ctrl-fullscreen.svg", fill: #333);
}

.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon {
    background-image: svg-load("svg/maplibregl-ctrl-shrink.svg");
}

@media (forced-colors: active) {
    .maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-fullscreen.svg", fill: #fff);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-shrink.svg", fill: #fff);
    }
}

@media (forced-colors: active) and (prefers-color-scheme: light) {
    .maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-fullscreen.svg", fill: #000);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-shrink.svg", fill: #000);
    }
}

.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
    background-image: svg-load("svg/maplibregl-ctrl-compass.svg", fill: #333);
}

@media (forced-colors: active) {
    .maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
        @svg-load ctrl-compass-white url("svg/maplibregl-ctrl-compass.svg") {
            fill: #fff;
            #south { fill: #999; }
        }

        background-image: svg-inline(ctrl-compass-white);
    }
}

@media (forced-colors: active) and (prefers-color-scheme: light) {
    .maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
        background-image: svg-load("svg/maplibregl-ctrl-compass.svg", fill: #000);
    }
}

@svg-load ctrl-globe url("svg/maplibregl-ctrl-globe.svg") {
    stroke: #333;
}

@svg-load ctrl-globe-enabled url("svg/maplibregl-ctrl-globe.svg") {
    stroke: #33b5e5;
}

.maplibregl-ctrl button.maplibregl-ctrl-globe .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-globe);
}

.maplibregl-ctrl button.maplibregl-ctrl-globe-enabled .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-globe-enabled);
}

@svg-load ctrl-terrain url("svg/maplibregl-ctrl-terrain.svg") {
    fill: #333;
    
}

@svg-load ctrl-terrain-enabled url("svg/maplibregl-ctrl-terrain.svg") {
    fill: #33b5e5;
    
}

.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-terrain);
}

.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-terrain-enabled);
}

@svg-load ctrl-geolocate url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #333;
    #stroke { display: none; }
}

@svg-load ctrl-geolocate-white url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #fff;
    #stroke { display: none; }
}

@svg-load ctrl-geolocate-black url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #000;
    #stroke { display: none; }
}

@svg-load ctrl-geolocate-disabled url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #aaa;
    #stroke { fill: #f00; }
}

@svg-load ctrl-geolocate-disabled-white url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #999;
    #stroke { fill: #f00; }
}

@svg-load ctrl-geolocate-disabled-black url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #666;
    #stroke { fill: #f00; }
}

@svg-load ctrl-geolocate-active url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #33b5e5;
    #stroke { display: none; }
}

@svg-load ctrl-geolocate-active-error url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #e58978;
    #stroke { display: none; }
}

@svg-load ctrl-geolocate-background url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #33b5e5;
    #stroke { display: none; }
    #dot { display: none; }
}

@svg-load ctrl-geolocate-background-error url("svg/maplibregl-ctrl-geolocate.svg") {
    fill: #e54e33;
    #stroke { display: none; }
    #dot { display: none; }
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-geolocate);
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-geolocate-disabled);
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-geolocate-active);
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-geolocate-active-error);
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-geolocate-background);
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon {
    background-image: svg-inline(ctrl-geolocate-background-error);
}

.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon {
    animation: maplibregl-spin 2s infinite linear;
}

@media (forced-colors: active) {
    .maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-white);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-disabled-white);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-active);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-active-error);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-background);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-background-error);
    }
}

@media (forced-colors: active) and (prefers-color-scheme: light) {
    .maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-black);
    }

    .maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon {
        background-image: svg-inline(ctrl-geolocate-disabled-black);
    }
}

@keyframes maplibregl-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

a.maplibregl-ctrl-logo {
    width: 88px;
    height: 23px;
    margin: 0 0 -4px -4px;
    display: block;
    background-repeat: no-repeat;
    cursor: pointer;
    overflow: hidden;
    background-image: svg-load("svg/maplibregl-ctrl-logo.svg");
}

a.maplibregl-ctrl-logo.maplibregl-compact {
    width: 14px;
}

@media (forced-colors: active) {
    a.maplibregl-ctrl-logo {
        @svg-load ctrl-logo-white url("svg/maplibregl-ctrl-logo.svg") {
            #outline { opacity: 1; }
            #fill { opacity: 1; }
        }

        background-color: transparent;
        background-image: svg-inline(ctrl-logo-white);
    }
}

@media (forced-colors: active) and (prefers-color-scheme: light) {
    a.maplibregl-ctrl-logo {
        @svg-load ctrl-logo-black url("svg/maplibregl-ctrl-logo.svg") {
            #outline { opacity: 1; fill: #fff; stroke: #fff; }
            #fill { opacity: 1; fill: #000; }
        }

        background-image: svg-inline(ctrl-logo-black);
    }
}

.maplibregl-ctrl.maplibregl-ctrl-attrib {
    padding: 0 5px;
    background-color: rgb(255 255 255 / 50%);
    margin: 0;
}

@media screen {
    .maplibregl-ctrl-attrib.maplibregl-compact {
        min-height: 20px;
        padding: 2px 24px 2px 0;
        margin: 10px;
        position: relative;
        background-color: #fff;
        color: #000;
        border-radius: 12px;
        box-sizing: content-box;
    }

    .maplibregl-ctrl-attrib.maplibregl-compact-show {
        padding: 2px 28px 2px 8px;
        visibility: visible;
    }

    .maplibregl-ctrl-top-left > .maplibregl-ctrl-attrib.maplibregl-compact-show,
    .maplibregl-ctrl-bottom-left > .maplibregl-ctrl-attrib.maplibregl-compact-show {
        padding: 2px 8px 2px 28px;
        border-radius: 12px;
    }

    .maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner {
        display: none;
    }

    .maplibregl-ctrl-attrib-button {
        display: none;
        cursor: pointer;
        position: absolute;
        background-image: svg-load("svg/maplibregl-ctrl-attrib.svg");
        background-color: rgb(255 255 255 / 50%);
        width: 24px;
        height: 24px;
        box-sizing: border-box;
        border-radius: 12px;
        outline: none;
        top: 0;
        right: 0;
        border: 0;
    }

    .maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button {
        appearance: none;
        list-style: none;
    }

    .maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker {
        display: none;
    }

    .maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button,
    .maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button {
        left: 0;
    }

    .maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,
    .maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner {
        display: block;
    }

    .maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button {
        background-color: rgb(0 0 0 / 5%);
    }

    .maplibregl-ctrl-bottom-right > .maplibregl-ctrl-attrib.maplibregl-compact::after {
        bottom: 0;
        right: 0;
    }

    .maplibregl-ctrl-top-right > .maplibregl-ctrl-attrib.maplibregl-compact::after {
        top: 0;
        right: 0;
    }

    .maplibregl-ctrl-top-left > .maplibregl-ctrl-attrib.maplibregl-compact::after {
        top: 0;
        left: 0;
    }

    .maplibregl-ctrl-bottom-left > .maplibregl-ctrl-attrib.maplibregl-compact::after {
        bottom: 0;
        left: 0;
    }
}

@media screen and (forced-colors: active) {
    .maplibregl-ctrl-attrib.maplibregl-compact::after {
        background-image: svg-load("svg/maplibregl-ctrl-attrib.svg", fill=#fff);
    }
}

@media screen and (forced-colors: active) and (prefers-color-scheme: light) {
    .maplibregl-ctrl-attrib.maplibregl-compact::after {
        background-image: svg-load("svg/maplibregl-ctrl-attrib.svg");
    }
}

.maplibregl-ctrl-attrib a {
    color: rgb(0 0 0 / 75%);
    text-decoration: none;
}

.maplibregl-ctrl-attrib a:hover {
    color: inherit;
    text-decoration: underline;
}

.maplibregl-attrib-empty {
    display: none;
}

.maplibregl-ctrl-scale {
    background-color: rgb(255 255 255 / 75%);
    font-size: 10px;
    border-width: medium 2px 2px;
    border-style: none solid solid;
    border-color: #333;
    padding: 0 5px;
    color: #333;
    box-sizing: border-box;
}

.maplibregl-popup {
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    will-change: transform;
    pointer-events: none;
}

.maplibregl-popup-anchor-top,
.maplibregl-popup-anchor-top-left,
.maplibregl-popup-anchor-top-right {
    flex-direction: column;
}

.maplibregl-popup-anchor-bottom,
.maplibregl-popup-anchor-bottom-left,
.maplibregl-popup-anchor-bottom-right {
    flex-direction: column-reverse;
}

.maplibregl-popup-anchor-left {
    flex-direction: row;
}

.maplibregl-popup-anchor-right {
    flex-direction: row-reverse;
}

.maplibregl-popup-tip {
    width: 0;
    height: 0;
    border: 10px solid transparent;
    z-index: 1;
}

.maplibregl-popup-anchor-top .maplibregl-popup-tip {
    align-self: center;
    border-top: none;
    border-bottom-color: #fff;
}

.maplibregl-popup-anchor-top-left .maplibregl-popup-tip {
    align-self: flex-start;
    border-top: none;
    border-left: none;
    border-bottom-color: #fff;
}

.maplibregl-popup-anchor-top-right .maplibregl-popup-tip {
    align-self: flex-end;
    border-top: none;
    border-right: none;
    border-bottom-color: #fff;
}

.maplibregl-popup-anchor-bottom .maplibregl-popup-tip {
    align-self: center;
    border-bottom: none;
    border-top-color: #fff;
}

.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip {
    align-self: flex-start;
    border-bottom: none;
    border-left: none;
    border-top-color: #fff;
}

.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip {
    align-self: flex-end;
    border-bottom: none;
    border-right: none;
    border-top-color: #fff;
}

.maplibregl-popup-anchor-left .maplibregl-popup-tip {
    align-self: center;
    border-left: none;
    border-right-color: #fff;
}

.maplibregl-popup-anchor-right .maplibregl-popup-tip {
    align-self: center;
    border-right: none;
    border-left-color: #fff;
}

.maplibregl-popup-close-button {
    position: absolute;
    right: 0;
    top: 0;
    border: 0;
    border-radius: 0 3px 0 0;
    cursor: pointer;
    background-color: transparent;
}

.maplibregl-popup-close-button:hover {
    background-color: rgb(0 0 0 / 5%);
}

.maplibregl-popup-content {
    position: relative;
    background: #fff;
    border-radius: 3px;
    box-shadow: 0 1px 2px rgb(0 0 0 / 10%);
    padding: 15px 10px;
    pointer-events: auto;
}

.maplibregl-popup-anchor-top-left .maplibregl-popup-content {
    border-top-left-radius: 0;
}

.maplibregl-popup-anchor-top-right .maplibregl-popup-content {
    border-top-right-radius: 0;
}

.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content {
    border-bottom-left-radius: 0;
}

.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content {
    border-bottom-right-radius: 0;
}

.maplibregl-popup-track-pointer {
    display: none;
}

.maplibregl-popup-track-pointer * {
    pointer-events: none;
    user-select: none;
}

.maplibregl-map:hover .maplibregl-popup-track-pointer {
    display: flex;
}

.maplibregl-map:active .maplibregl-popup-track-pointer {
    display: none;
}

.maplibregl-marker {
    position: absolute;
    top: 0;
    left: 0;
    will-change: transform;
    transition: opacity 0.2s;
}

.maplibregl-user-location-dot {
    background-color: #1da1f2;
    width: 15px;
    height: 15px;
    border-radius: 50%;
}

.maplibregl-user-location-dot::before {
    background-color: #1da1f2;
    content: "";
    width: 15px;
    height: 15px;
    border-radius: 50%;
    position: absolute;
    animation: maplibregl-user-location-dot-pulse 2s infinite;
}

.maplibregl-user-location-dot::after {
    border-radius: 50%;
    border: 2px solid #fff;
    content: "";
    height: 19px;
    left: -2px;
    position: absolute;
    top: -2px;
    width: 19px;
    box-sizing: border-box;
    box-shadow: 0 0 3px rgb(0 0 0 / 35%);
}

@keyframes maplibregl-user-location-dot-pulse {
    0%   { transform: scale(1); opacity: 1; }
    70%  { transform: scale(3); opacity: 0; }
    100% { transform: scale(1); opacity: 0; }
}

.maplibregl-user-location-dot-stale {
    background-color: #aaa;
}

.maplibregl-user-location-dot-stale::after {
    display: none;
}

.maplibregl-user-location-accuracy-circle {
    background-color: #1da1f233;
    width: 1px;
    height: 1px;
    border-radius: 100%;
}

.maplibregl-crosshair,
.maplibregl-crosshair .maplibregl-interactive,
.maplibregl-crosshair .maplibregl-interactive:active {
    cursor: crosshair;
}

.maplibregl-boxzoom {
    position: absolute;
    top: 0;
    left: 0;
    width: 0;
    height: 0;
    background: #fff;
    border: 2px dotted #202020;
    opacity: 0.5;
}

.maplibregl-cooperative-gesture-screen {
    background: rgba(0 0 0 / 40%);
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    padding: 1rem;
    font-size: 1.4em;
    line-height: 1.2;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease 1s;
    z-index: 99999;
}

.maplibregl-cooperative-gesture-screen.maplibregl-show {
    opacity: 1;
    transition: opacity 0.05s;
}

.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message {
    display: none;
}

@media (hover: none), (pointer: coarse) {
    .maplibregl-cooperative-gesture-screen .maplibregl-desktop-message {
        display: none;
    }

    .maplibregl-cooperative-gesture-screen .maplibregl-mobile-message {
        display: block;
    }
}

.maplibregl-pseudo-fullscreen {
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 99999;
}
`;p();function SZ(e){if(!(!e.languages||!lm()||!globalThis.navigator?.languages?.length))for(let r=0;r<globalThis.navigator.languages.length;r++){let t=e.languages.find(n=>n.code.toLowerCase()===globalThis.navigator.languages[r].toLowerCase());if(t)return{code:t.code,name:t.name}}}function l2(e,r){let t=r?.languageCode??"",n=r?.fallbackToNavigatorLanguage??!0,o=e?.languages?.find(s=>s.code.toLowerCase()===t.toLowerCase()),i;if(o)i=o;else if(n??!0)try{let s=SZ(e);s&&(i=s)}catch(s){R.error("fallbackToNavigatorLanguage is set, however, there was an error getting the navigator language",s)}return i??e.defaultLanguage}var DZ=[WO,XO,JO,YO,KO,qO],QO;function aRe(e){QO=e}var sRe=async(e,r)=>{let t,n=ou();r&&n.updateByUserOption(r);try{r&&(t=(await pf({...r,baseAuthUri:n.getBaseAuthUri()})).accessToken)}catch(s){R.warn("Getting access token failed. Outdoor map disabled.",s)}let o=new Nl(e,{outdoorViewToken:t,languagePacks:r?.languagePacks,env:n});return new Cm(o)},e8=!1;function uRe(e){e8=e}var t8=!1;function lRe(e){t8=e}function _f(){return t8}var TZ=async e=>{let r=e8,t,n=ou();n.updateByUserOption(e);let o={prefetchTokens:!0,...e,fallbackToNavigatorLanguage:e.fallbackToNavigatorLanguage??!0},i=new Qd([o.mapId],o);if("accessToken"in o&&o.accessToken){t=o.accessToken;let{aud:v,sub:x}=Oh(t);(_w.some(D=>v.includes(D))||x&&x.startsWith("client"))&&(r=!0,n.setEnterprise(r),i.setEnterprise(r))}else if("key"in o&&"secret"in o){if(o.key.startsWith("mipk_"))throw new Error(`Partner API keys detected! 

Partner API keys should not be passed directly to the SDK. See https://developer.mappedin.com/docs/rest-apis/partner for more details.`);o.key.startsWith("mik_")||(r=!0,n.setEnterprise(r),i.setEnterprise(r)),o.baseAuthUri=n.getBaseAuthUri();let v;try{v=await i.getAccessTokenAsync(),t=v?.token}catch(x){throw R.warn("Get access token failed",x.message),new Error("Get access token failed: "+x.message)}}else throw new Error("Missing key or secret.");o.layoutId!=null&&(r?o.layoutId!=="draft"&&R.warn('Invalid layoutId! Use "draft" to load draft data or leave unspecified to load live data.'):R.warn("layoutId is currently unsupported!")),o.baseUri=n.getBaseUri();let s=performance.now(),u,l;if(r){let v={...o,venue:o.mapId,clientId:o.key,clientSecret:o.secret,version:"1.0.0",perspective:o.viewId,useDraftData:o.layoutId==="draft"},x=await rx(v);u=x.compressed,l=x.localePacks}else u=await nx(o,t);let c=performance.now(),d=await Ay(u,o.mvfVersion),f=performance.now();typeof e.onMVFParsed=="function"&&e.onMVFParsed(d);let h=My(d);if(h.length>0?i.setMapIds(h):i.setMapIds([o.mapId]),o.prefetchTokens)try{await i.readySync()}catch(v){R.error("Failed to ready token manager!",v)}_f()&&(r&&R.warn("forceEnterpriseLocations is enabled, but the map is already an enterprise map!"),o.mvfVersion!=="3.0.0"&&R.warn("mvfVersion must be '3.0.0' when forceEnterpriseLocations is enabled!"));let b=new Nl(d,{env:n,outdoorViewToken:t,tokenManager:i,enterprise:r,localePacksUrls:l,binaryBundle:u,getMapDataOptions:o}),I=new Cm(b,{search:e.search});b.Analytics.init({accessToken:t,mapId:o.mapId,key:"key"in o?o.key:void 0,secret:"secret"in o?o.secret:void 0,...o.analytics,baseUri:n.getAnalyticsBaseUri(),context:o.analytics?.context}),b.Analytics.sendGetMapDataEvent({parseDuration:f-c,downloadDuration:c-s,viewId:o.viewId});let E=b.findPreferredLanguage({languageCode:o.language,fallbackToNavigatorLanguage:o.fallbackToNavigatorLanguage});if(E)try{await I.changeLanguage(E.code)}catch{}return I},cRe=TZ,wZ=async()=>{if($l===""||E4==="")return!1;let e=[fetch($l,{mode:"same-origin"}),fetch(E4,{mode:"same-origin"})],[r,t]=[{ok:!1},{ok:!1}];try{[r,t]=await Promise.all(e)}catch{}return{collision:r.ok,maplibre:t.ok}},FZ=async(e,r,t)=>{let n=performance.now(),o=_x(t,r);o&&kx(o),(o.injectStyles??!0)&&ZO(DZ,{id:"mappedin__styles"});let i=Lw(r.outdoorViewToken??""),s=Sm(r);o.outdoorView?.style&&s.envControl.updateTileServerBaseUrl(o.outdoorView?.style);let u=!1,l=!1,c=await wZ();c&&(c.collision||(u=!0),c.maplibre||(l=!0));let d=await nA(e,{center:[r.mapCenter.longitude,r.mapCenter.latitude],bearing:o.bearing,pitch:o.pitch,zoomLevel:o.zoomLevel,backgroundAlpha:o.style?.backgroundAlpha,backgroundColor:o.style?.backgroundColor,outdoorView:!l&&o.outdoorView?.token?{headers:{"x-mappedin-tiles-key":o.outdoorView?.token},style:r.getEnv().tileServerUri,enabled:!!o.outdoorView?.enabled,lowDpi:o.outdoorView?.lowDpi}:void 0,watermark:{...o.watermark,visible:o.watermark?.visible??(!s.enterpriseMode&&!i.remove_watermark),onClick:QO||void 0},attribution:o.attribution,antialias:typeof o.antialiasing=="boolean"?o.antialiasing:!!o.antialiasing?.enabled,accessToken:r.outdoorViewToken,occlusionEnabled:!0,transformImageRequest:s.enterpriseMode?void 0:s.transformImageRequest,naturalBearing:r.naturalBearing,imagePlacementOptions:o.imagePlacementOptions,onWebGLContextCreationError:o.onWebGLContextCreationError,onWebGLContextLost:o.onWebGLContextLost,onWebGLContextRestored:o.onWebGLContextRestored,onWebGLRendererError:o.onWebGLRendererError,useStandaloneCamera:o.useStandaloneCamera??!1,useWorkers:!(o.disableWorkers??!1),useCollisionWorker:!u}),f=new ch(d);return await f.addMap(r,o),s.Analytics.sendMapViewLoadedEvent({firstRenderDuration:performance.now()-n,dimension:f.getDimensions(),collisionWorkerDisabled:u,outdoorsWorkerDisabled:l}),f},pRe=()=>y.env.npm_package_version,dRe=FZ;export{ge as a,_o as b,pl as c,ml as d,Lo as e,yn as f,Cr as g,jn as h,ez as i,lo as j,Un as k,uo as l,ds as m,Ny as n,Rr as o,da as p,$y as q,Wx as r,ox as s,ix as t,Ay as u,Uw as v,Xx as w,Gw as x,Uy as y,Gy as z,hu as A,Ml as B,jy as C,VF as D,xa as E,bH as F,aI as G,kH as H,mI as I,fI as J,fZ as K,ch as L,yZ as M,l2 as N,aRe as O,sRe as P,uRe as Q,lRe as R,_f as S,TZ as T,cRe as U,wZ as V,FZ as W,pRe as X,dRe as Y};
//# sourceMappingURL=chunk-3PM6GKGK.js.map
